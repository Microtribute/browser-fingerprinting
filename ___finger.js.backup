var fpjsDemo = function(t) {
    var e = {};

    function r(n) {
        if (e[n]) return e[n].exports;
        var i = e[n] = {
            i: n,
            l: !1,
            exports: {}
        };
        return t[n].call(i.exports, i, i.exports, r), i.l = !0, i.exports
    }
    return r.m = t, r.c = e, r.d = function(t, e, n) {
        r.o(t, e) || Object.defineProperty(t, e, {
            enumerable: !0,
            get: n
        })
    }, r.r = function(t) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(t, "__esModule", {
            value: !0
        })
    }, r.t = function(t, e) {
        if (1 & e && (t = r(t)), 8 & e) return t;
        if (4 & e && "object" == typeof t && t && t.__esModule) return t;
        var n = Object.create(null);
        if (r.r(n), Object.defineProperty(n, "default", {
                enumerable: !0,
                value: t
            }), 2 & e && "string" != typeof t)
            for (var i in t) r.d(n, i, function(e) {
                return t[e]
            }.bind(null, i));
        return n
    }, r.n = function(t) {
        var e = t && t.__esModule ? function() {
            return t.default
        } : function() {
            return t
        };
        return r.d(e, "a", e), e
    }, r.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }, r.p = "/dist/", r(r.s = 13)
}([function(t, e) {
    var r;
    r = function() {
        return this
    }();
    try {
        r = r || new Function("return this")()
    } catch (t) {
        "object" == typeof window && (r = window)
    }
    t.exports = r
}, function(t, e, r) {
    var n;
    /*!
     * jQuery JavaScript Library v3.5.1
     * https://jquery.com/
     *
     * Includes Sizzle.js
     * https://sizzlejs.com/
     *
     * Copyright JS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2020-05-04T22:49Z
     */
    ! function(e, r) {
        "use strict";
        "object" == typeof t.exports ? t.exports = e.document ? r(e, !0) : function(t) {
            if (!t.document) throw new Error("jQuery requires a window with a document");
            return r(t)
        } : r(e)
    }("undefined" != typeof window ? window : this, (function(r, i) {
        "use strict";
        var o = [],
            a = Object.getPrototypeOf,
            s = o.slice,
            u = o.flat ? function(t) {
                return o.flat.call(t)
            } : function(t) {
                return o.concat.apply([], t)
            },
            l = o.push,
            c = o.indexOf,
            p = {},
            h = p.toString,
            f = p.hasOwnProperty,
            d = f.toString,
            m = d.call(Object),
            y = {},
            v = function(t) {
                return "function" == typeof t && "number" != typeof t.nodeType
            },
            g = function(t) {
                return null != t && t === t.window
            },
            _ = r.document,
            x = {
                type: !0,
                src: !0,
                nonce: !0,
                noModule: !0
            };

        function b(t, e, r) {
            var n, i, o = (r = r || _).createElement("script");
            if (o.text = t, e)
                for (n in x)(i = e[n] || e.getAttribute && e.getAttribute(n)) && o.setAttribute(n, i);
            r.head.appendChild(o).parentNode.removeChild(o)
        }

        function w(t) {
            return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? p[h.call(t)] || "object" : typeof t
        }
        var S = function(t, e) {
            return new S.fn.init(t, e)
        };

        function T(t) {
            var e = !!t && "length" in t && t.length,
                r = w(t);
            return !v(t) && !g(t) && ("array" === r || 0 === e || "number" == typeof e && e > 0 && e - 1 in t)
        }
        S.fn = S.prototype = {
            jquery: "3.5.1",
            constructor: S,
            length: 0,
            toArray: function() {
                return s.call(this)
            },
            get: function(t) {
                return null == t ? s.call(this) : t < 0 ? this[t + this.length] : this[t]
            },
            pushStack: function(t) {
                var e = S.merge(this.constructor(), t);
                return e.prevObject = this, e
            },
            each: function(t) {
                return S.each(this, t)
            },
            map: function(t) {
                return this.pushStack(S.map(this, (function(e, r) {
                    return t.call(e, r, e)
                })))
            },
            slice: function() {
                return this.pushStack(s.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            even: function() {
                return this.pushStack(S.grep(this, (function(t, e) {
                    return (e + 1) % 2
                })))
            },
            odd: function() {
                return this.pushStack(S.grep(this, (function(t, e) {
                    return e % 2
                })))
            },
            eq: function(t) {
                var e = this.length,
                    r = +t + (t < 0 ? e : 0);
                return this.pushStack(r >= 0 && r < e ? [this[r]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor()
            },
            push: l,
            sort: o.sort,
            splice: o.splice
        }, S.extend = S.fn.extend = function() {
            var t, e, r, n, i, o, a = arguments[0] || {},
                s = 1,
                u = arguments.length,
                l = !1;
            for ("boolean" == typeof a && (l = a, a = arguments[s] || {}, s++), "object" == typeof a || v(a) || (a = {}), s === u && (a = this, s--); s < u; s++)
                if (null != (t = arguments[s]))
                    for (e in t) n = t[e], "__proto__" !== e && a !== n && (l && n && (S.isPlainObject(n) || (i = Array.isArray(n))) ? (r = a[e], o = i && !Array.isArray(r) ? [] : i || S.isPlainObject(r) ? r : {}, i = !1, a[e] = S.extend(l, o, n)) : void 0 !== n && (a[e] = n));
            return a
        }, S.extend({
            expando: "jQuery" + ("3.5.1" + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(t) {
                throw new Error(t)
            },
            noop: function() {},
            isPlainObject: function(t) {
                var e, r;
                return !(!t || "[object Object]" !== h.call(t)) && (!(e = a(t)) || "function" == typeof(r = f.call(e, "constructor") && e.constructor) && d.call(r) === m)
            },
            isEmptyObject: function(t) {
                var e;
                for (e in t) return !1;
                return !0
            },
            globalEval: function(t, e, r) {
                b(t, {
                    nonce: e && e.nonce
                }, r)
            },
            each: function(t, e) {
                var r, n = 0;
                if (T(t))
                    for (r = t.length; n < r && !1 !== e.call(t[n], n, t[n]); n++);
                else
                    for (n in t)
                        if (!1 === e.call(t[n], n, t[n])) break;
                return t
            },
            makeArray: function(t, e) {
                var r = e || [];
                return null != t && (T(Object(t)) ? S.merge(r, "string" == typeof t ? [t] : t) : l.call(r, t)), r
            },
            inArray: function(t, e, r) {
                return null == e ? -1 : c.call(e, t, r)
            },
            merge: function(t, e) {
                for (var r = +e.length, n = 0, i = t.length; n < r; n++) t[i++] = e[n];
                return t.length = i, t
            },
            grep: function(t, e, r) {
                for (var n = [], i = 0, o = t.length, a = !r; i < o; i++) !e(t[i], i) !== a && n.push(t[i]);
                return n
            },
            map: function(t, e, r) {
                var n, i, o = 0,
                    a = [];
                if (T(t))
                    for (n = t.length; o < n; o++) null != (i = e(t[o], o, r)) && a.push(i);
                else
                    for (o in t) null != (i = e(t[o], o, r)) && a.push(i);
                return u(a)
            },
            guid: 1,
            support: y
        }), "function" == typeof Symbol && (S.fn[Symbol.iterator] = o[Symbol.iterator]), S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), (function(t, e) {
            p["[object " + e + "]"] = e.toLowerCase()
        }));
        var E =
            /*!
             * Sizzle CSS Selector Engine v2.3.5
             * https://sizzlejs.com/
             *
             * Copyright JS Foundation and other contributors
             * Released under the MIT license
             * https://js.foundation/
             *
             * Date: 2020-03-14
             */
            function(t) {
                var e, r, n, i, o, a, s, u, l, c, p, h, f, d, m, y, v, g, _, x = "sizzle" + 1 * new Date,
                    b = t.document,
                    w = 0,
                    S = 0,
                    T = ut(),
                    E = ut(),
                    A = ut(),
                    C = ut(),
                    I = function(t, e) {
                        return t === e && (p = !0), 0
                    },
                    k = {}.hasOwnProperty,
                    P = [],
                    z = P.pop,
                    M = P.push,
                    D = P.push,
                    L = P.slice,
                    O = function(t, e) {
                        for (var r = 0, n = t.length; r < n; r++)
                            if (t[r] === e) return r;
                        return -1
                    },
                    R = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                    B = "[\\x20\\t\\r\\n\\f]",
                    F = "(?:\\\\[\\da-fA-F]{1,6}" + B + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",
                    N = "\\[" + B + "*(" + F + ")(?:" + B + "*([*^$|!~]?=)" + B + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + F + "))|)" + B + "*\\]",
                    U = ":(" + F + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + N + ")*)|.*)\\)|)",
                    j = new RegExp(B + "+", "g"),
                    V = new RegExp("^" + B + "+|((?:^|[^\\\\])(?:\\\\.)*)" + B + "+$", "g"),
                    q = new RegExp("^" + B + "*," + B + "*"),
                    Z = new RegExp("^" + B + "*([>+~]|" + B + ")" + B + "*"),
                    $ = new RegExp(B + "|>"),
                    G = new RegExp(U),
                    H = new RegExp("^" + F + "$"),
                    W = {
                        ID: new RegExp("^#(" + F + ")"),
                        CLASS: new RegExp("^\\.(" + F + ")"),
                        TAG: new RegExp("^(" + F + "|[*])"),
                        ATTR: new RegExp("^" + N),
                        PSEUDO: new RegExp("^" + U),
                        CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + B + "*(even|odd|(([+-]|)(\\d*)n|)" + B + "*(?:([+-]|)" + B + "*(\\d+)|))" + B + "*\\)|)", "i"),
                        bool: new RegExp("^(?:" + R + ")$", "i"),
                        needsContext: new RegExp("^" + B + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + B + "*((?:-\\d)?\\d*)" + B + "*\\)|)(?=[^-]|$)", "i")
                    },
                    X = /HTML$/i,
                    K = /^(?:input|select|textarea|button)$/i,
                    J = /^h\d$/i,
                    Y = /^[^{]+\{\s*\[native \w/,
                    Q = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                    tt = /[+~]/,
                    et = new RegExp("\\\\[\\da-fA-F]{1,6}" + B + "?|\\\\([^\\r\\n\\f])", "g"),
                    rt = function(t, e) {
                        var r = "0x" + t.slice(1) - 65536;
                        return e || (r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320))
                    },
                    nt = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
                    it = function(t, e) {
                        return e ? "\0" === t ? "ï¿½" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t
                    },
                    ot = function() {
                        h()
                    },
                    at = xt((function(t) {
                        return !0 === t.disabled && "fieldset" === t.nodeName.toLowerCase()
                    }), {
                        dir: "parentNode",
                        next: "legend"
                    });
                try {
                    D.apply(P = L.call(b.childNodes), b.childNodes), P[b.childNodes.length].nodeType
                } catch (t) {
                    D = {
                        apply: P.length ? function(t, e) {
                            M.apply(t, L.call(e))
                        } : function(t, e) {
                            for (var r = t.length, n = 0; t[r++] = e[n++];);
                            t.length = r - 1
                        }
                    }
                }

                function st(t, e, n, i) {
                    var o, s, l, c, p, d, v, g = e && e.ownerDocument,
                        b = e ? e.nodeType : 9;
                    if (n = n || [], "string" != typeof t || !t || 1 !== b && 9 !== b && 11 !== b) return n;
                    if (!i && (h(e), e = e || f, m)) {
                        if (11 !== b && (p = Q.exec(t)))
                            if (o = p[1]) {
                                if (9 === b) {
                                    if (!(l = e.getElementById(o))) return n;
                                    if (l.id === o) return n.push(l), n
                                } else if (g && (l = g.getElementById(o)) && _(e, l) && l.id === o) return n.push(l), n
                            } else {
                                if (p[2]) return D.apply(n, e.getElementsByTagName(t)), n;
                                if ((o = p[3]) && r.getElementsByClassName && e.getElementsByClassName) return D.apply(n, e.getElementsByClassName(o)), n
                            } if (r.qsa && !C[t + " "] && (!y || !y.test(t)) && (1 !== b || "object" !== e.nodeName.toLowerCase())) {
                            if (v = t, g = e, 1 === b && ($.test(t) || Z.test(t))) {
                                for ((g = tt.test(t) && vt(e.parentNode) || e) === e && r.scope || ((c = e.getAttribute("id")) ? c = c.replace(nt, it) : e.setAttribute("id", c = x)), s = (d = a(t)).length; s--;) d[s] = (c ? "#" + c : ":scope") + " " + _t(d[s]);
                                v = d.join(",")
                            }
                            try {
                                return D.apply(n, g.querySelectorAll(v)), n
                            } catch (e) {
                                C(t, !0)
                            } finally {
                                c === x && e.removeAttribute("id")
                            }
                        }
                    }
                    return u(t.replace(V, "$1"), e, n, i)
                }

                function ut() {
                    var t = [];
                    return function e(r, i) {
                        return t.push(r + " ") > n.cacheLength && delete e[t.shift()], e[r + " "] = i
                    }
                }

                function lt(t) {
                    return t[x] = !0, t
                }

                function ct(t) {
                    var e = f.createElement("fieldset");
                    try {
                        return !!t(e)
                    } catch (t) {
                        return !1
                    } finally {
                        e.parentNode && e.parentNode.removeChild(e), e = null
                    }
                }

                function pt(t, e) {
                    for (var r = t.split("|"), i = r.length; i--;) n.attrHandle[r[i]] = e
                }

                function ht(t, e) {
                    var r = e && t,
                        n = r && 1 === t.nodeType && 1 === e.nodeType && t.sourceIndex - e.sourceIndex;
                    if (n) return n;
                    if (r)
                        for (; r = r.nextSibling;)
                            if (r === e) return -1;
                    return t ? 1 : -1
                }

                function ft(t) {
                    return function(e) {
                        return "input" === e.nodeName.toLowerCase() && e.type === t
                    }
                }

                function dt(t) {
                    return function(e) {
                        var r = e.nodeName.toLowerCase();
                        return ("input" === r || "button" === r) && e.type === t
                    }
                }

                function mt(t) {
                    return function(e) {
                        return "form" in e ? e.parentNode && !1 === e.disabled ? "label" in e ? "label" in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && at(e) === t : e.disabled === t : "label" in e && e.disabled === t
                    }
                }

                function yt(t) {
                    return lt((function(e) {
                        return e = +e, lt((function(r, n) {
                            for (var i, o = t([], r.length, e), a = o.length; a--;) r[i = o[a]] && (r[i] = !(n[i] = r[i]))
                        }))
                    }))
                }

                function vt(t) {
                    return t && void 0 !== t.getElementsByTagName && t
                }
                for (e in r = st.support = {}, o = st.isXML = function(t) {
                        var e = t.namespaceURI,
                            r = (t.ownerDocument || t).documentElement;
                        return !X.test(e || r && r.nodeName || "HTML")
                    }, h = st.setDocument = function(t) {
                        var e, i, a = t ? t.ownerDocument || t : b;
                        return a != f && 9 === a.nodeType && a.documentElement ? (d = (f = a).documentElement, m = !o(f), b != f && (i = f.defaultView) && i.top !== i && (i.addEventListener ? i.addEventListener("unload", ot, !1) : i.attachEvent && i.attachEvent("onunload", ot)), r.scope = ct((function(t) {
                            return d.appendChild(t).appendChild(f.createElement("div")), void 0 !== t.querySelectorAll && !t.querySelectorAll(":scope fieldset div").length
                        })), r.attributes = ct((function(t) {
                            return t.className = "i", !t.getAttribute("className")
                        })), r.getElementsByTagName = ct((function(t) {
                            return t.appendChild(f.createComment("")), !t.getElementsByTagName("*").length
                        })), r.getElementsByClassName = Y.test(f.getElementsByClassName), r.getById = ct((function(t) {
                            return d.appendChild(t).id = x, !f.getElementsByName || !f.getElementsByName(x).length
                        })), r.getById ? (n.filter.ID = function(t) {
                            var e = t.replace(et, rt);
                            return function(t) {
                                return t.getAttribute("id") === e
                            }
                        }, n.find.ID = function(t, e) {
                            if (void 0 !== e.getElementById && m) {
                                var r = e.getElementById(t);
                                return r ? [r] : []
                            }
                        }) : (n.filter.ID = function(t) {
                            var e = t.replace(et, rt);
                            return function(t) {
                                var r = void 0 !== t.getAttributeNode && t.getAttributeNode("id");
                                return r && r.value === e
                            }
                        }, n.find.ID = function(t, e) {
                            if (void 0 !== e.getElementById && m) {
                                var r, n, i, o = e.getElementById(t);
                                if (o) {
                                    if ((r = o.getAttributeNode("id")) && r.value === t) return [o];
                                    for (i = e.getElementsByName(t), n = 0; o = i[n++];)
                                        if ((r = o.getAttributeNode("id")) && r.value === t) return [o]
                                }
                                return []
                            }
                        }), n.find.TAG = r.getElementsByTagName ? function(t, e) {
                            return void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t) : r.qsa ? e.querySelectorAll(t) : void 0
                        } : function(t, e) {
                            var r, n = [],
                                i = 0,
                                o = e.getElementsByTagName(t);
                            if ("*" === t) {
                                for (; r = o[i++];) 1 === r.nodeType && n.push(r);
                                return n
                            }
                            return o
                        }, n.find.CLASS = r.getElementsByClassName && function(t, e) {
                            if (void 0 !== e.getElementsByClassName && m) return e.getElementsByClassName(t)
                        }, v = [], y = [], (r.qsa = Y.test(f.querySelectorAll)) && (ct((function(t) {
                            var e;
                            d.appendChild(t).innerHTML = "<a id='" + x + "'></a><select id='" + x + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && y.push("[*^$]=" + B + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || y.push("\\[" + B + "*(?:value|" + R + ")"), t.querySelectorAll("[id~=" + x + "-]").length || y.push("~="), (e = f.createElement("input")).setAttribute("name", ""), t.appendChild(e), t.querySelectorAll("[name='']").length || y.push("\\[" + B + "*name" + B + "*=" + B + "*(?:''|\"\")"), t.querySelectorAll(":checked").length || y.push(":checked"), t.querySelectorAll("a#" + x + "+*").length || y.push(".#.+[+~]"), t.querySelectorAll("\\\f"), y.push("[\\r\\n\\f]")
                        })), ct((function(t) {
                            t.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                            var e = f.createElement("input");
                            e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && y.push("name" + B + "*[*^$|!~]?="), 2 !== t.querySelectorAll(":enabled").length && y.push(":enabled", ":disabled"), d.appendChild(t).disabled = !0, 2 !== t.querySelectorAll(":disabled").length && y.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), y.push(",.*:")
                        }))), (r.matchesSelector = Y.test(g = d.matches || d.webkitMatchesSelector || d.mozMatchesSelector || d.oMatchesSelector || d.msMatchesSelector)) && ct((function(t) {
                            r.disconnectedMatch = g.call(t, "*"), g.call(t, "[s!='']:x"), v.push("!=", U)
                        })), y = y.length && new RegExp(y.join("|")), v = v.length && new RegExp(v.join("|")), e = Y.test(d.compareDocumentPosition), _ = e || Y.test(d.contains) ? function(t, e) {
                            var r = 9 === t.nodeType ? t.documentElement : t,
                                n = e && e.parentNode;
                            return t === n || !(!n || 1 !== n.nodeType || !(r.contains ? r.contains(n) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(n)))
                        } : function(t, e) {
                            if (e)
                                for (; e = e.parentNode;)
                                    if (e === t) return !0;
                            return !1
                        }, I = e ? function(t, e) {
                            if (t === e) return p = !0, 0;
                            var n = !t.compareDocumentPosition - !e.compareDocumentPosition;
                            return n || (1 & (n = (t.ownerDocument || t) == (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || !r.sortDetached && e.compareDocumentPosition(t) === n ? t == f || t.ownerDocument == b && _(b, t) ? -1 : e == f || e.ownerDocument == b && _(b, e) ? 1 : c ? O(c, t) - O(c, e) : 0 : 4 & n ? -1 : 1)
                        } : function(t, e) {
                            if (t === e) return p = !0, 0;
                            var r, n = 0,
                                i = t.parentNode,
                                o = e.parentNode,
                                a = [t],
                                s = [e];
                            if (!i || !o) return t == f ? -1 : e == f ? 1 : i ? -1 : o ? 1 : c ? O(c, t) - O(c, e) : 0;
                            if (i === o) return ht(t, e);
                            for (r = t; r = r.parentNode;) a.unshift(r);
                            for (r = e; r = r.parentNode;) s.unshift(r);
                            for (; a[n] === s[n];) n++;
                            return n ? ht(a[n], s[n]) : a[n] == b ? -1 : s[n] == b ? 1 : 0
                        }, f) : f
                    }, st.matches = function(t, e) {
                        return st(t, null, null, e)
                    }, st.matchesSelector = function(t, e) {
                        if (h(t), r.matchesSelector && m && !C[e + " "] && (!v || !v.test(e)) && (!y || !y.test(e))) try {
                            var n = g.call(t, e);
                            if (n || r.disconnectedMatch || t.document && 11 !== t.document.nodeType) return n
                        } catch (t) {
                            C(e, !0)
                        }
                        return st(e, f, null, [t]).length > 0
                    }, st.contains = function(t, e) {
                        return (t.ownerDocument || t) != f && h(t), _(t, e)
                    }, st.attr = function(t, e) {
                        (t.ownerDocument || t) != f && h(t);
                        var i = n.attrHandle[e.toLowerCase()],
                            o = i && k.call(n.attrHandle, e.toLowerCase()) ? i(t, e, !m) : void 0;
                        return void 0 !== o ? o : r.attributes || !m ? t.getAttribute(e) : (o = t.getAttributeNode(e)) && o.specified ? o.value : null
                    }, st.escape = function(t) {
                        return (t + "").replace(nt, it)
                    }, st.error = function(t) {
                        throw new Error("Syntax error, unrecognized expression: " + t)
                    }, st.uniqueSort = function(t) {
                        var e, n = [],
                            i = 0,
                            o = 0;
                        if (p = !r.detectDuplicates, c = !r.sortStable && t.slice(0), t.sort(I), p) {
                            for (; e = t[o++];) e === t[o] && (i = n.push(o));
                            for (; i--;) t.splice(n[i], 1)
                        }
                        return c = null, t
                    }, i = st.getText = function(t) {
                        var e, r = "",
                            n = 0,
                            o = t.nodeType;
                        if (o) {
                            if (1 === o || 9 === o || 11 === o) {
                                if ("string" == typeof t.textContent) return t.textContent;
                                for (t = t.firstChild; t; t = t.nextSibling) r += i(t)
                            } else if (3 === o || 4 === o) return t.nodeValue
                        } else
                            for (; e = t[n++];) r += i(e);
                        return r
                    }, (n = st.selectors = {
                        cacheLength: 50,
                        createPseudo: lt,
                        match: W,
                        attrHandle: {},
                        find: {},
                        relative: {
                            ">": {
                                dir: "parentNode",
                                first: !0
                            },
                            " ": {
                                dir: "parentNode"
                            },
                            "+": {
                                dir: "previousSibling",
                                first: !0
                            },
                            "~": {
                                dir: "previousSibling"
                            }
                        },
                        preFilter: {
                            ATTR: function(t) {
                                return t[1] = t[1].replace(et, rt), t[3] = (t[3] || t[4] || t[5] || "").replace(et, rt), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4)
                            },
                            CHILD: function(t) {
                                return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || st.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && st.error(t[0]), t
                            },
                            PSEUDO: function(t) {
                                var e, r = !t[6] && t[2];
                                return W.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : r && G.test(r) && (e = a(r, !0)) && (e = r.indexOf(")", r.length - e) - r.length) && (t[0] = t[0].slice(0, e), t[2] = r.slice(0, e)), t.slice(0, 3))
                            }
                        },
                        filter: {
                            TAG: function(t) {
                                var e = t.replace(et, rt).toLowerCase();
                                return "*" === t ? function() {
                                    return !0
                                } : function(t) {
                                    return t.nodeName && t.nodeName.toLowerCase() === e
                                }
                            },
                            CLASS: function(t) {
                                var e = T[t + " "];
                                return e || (e = new RegExp("(^|" + B + ")" + t + "(" + B + "|$)")) && T(t, (function(t) {
                                    return e.test("string" == typeof t.className && t.className || void 0 !== t.getAttribute && t.getAttribute("class") || "")
                                }))
                            },
                            ATTR: function(t, e, r) {
                                return function(n) {
                                    var i = st.attr(n, t);
                                    return null == i ? "!=" === e : !e || (i += "", "=" === e ? i === r : "!=" === e ? i !== r : "^=" === e ? r && 0 === i.indexOf(r) : "*=" === e ? r && i.indexOf(r) > -1 : "$=" === e ? r && i.slice(-r.length) === r : "~=" === e ? (" " + i.replace(j, " ") + " ").indexOf(r) > -1 : "|=" === e && (i === r || i.slice(0, r.length + 1) === r + "-"))
                                }
                            },
                            CHILD: function(t, e, r, n, i) {
                                var o = "nth" !== t.slice(0, 3),
                                    a = "last" !== t.slice(-4),
                                    s = "of-type" === e;
                                return 1 === n && 0 === i ? function(t) {
                                    return !!t.parentNode
                                } : function(e, r, u) {
                                    var l, c, p, h, f, d, m = o !== a ? "nextSibling" : "previousSibling",
                                        y = e.parentNode,
                                        v = s && e.nodeName.toLowerCase(),
                                        g = !u && !s,
                                        _ = !1;
                                    if (y) {
                                        if (o) {
                                            for (; m;) {
                                                for (h = e; h = h[m];)
                                                    if (s ? h.nodeName.toLowerCase() === v : 1 === h.nodeType) return !1;
                                                d = m = "only" === t && !d && "nextSibling"
                                            }
                                            return !0
                                        }
                                        if (d = [a ? y.firstChild : y.lastChild], a && g) {
                                            for (_ = (f = (l = (c = (p = (h = y)[x] || (h[x] = {}))[h.uniqueID] || (p[h.uniqueID] = {}))[t] || [])[0] === w && l[1]) && l[2], h = f && y.childNodes[f]; h = ++f && h && h[m] || (_ = f = 0) || d.pop();)
                                                if (1 === h.nodeType && ++_ && h === e) {
                                                    c[t] = [w, f, _];
                                                    break
                                                }
                                        } else if (g && (_ = f = (l = (c = (p = (h = e)[x] || (h[x] = {}))[h.uniqueID] || (p[h.uniqueID] = {}))[t] || [])[0] === w && l[1]), !1 === _)
                                            for (;
                                                (h = ++f && h && h[m] || (_ = f = 0) || d.pop()) && ((s ? h.nodeName.toLowerCase() !== v : 1 !== h.nodeType) || !++_ || (g && ((c = (p = h[x] || (h[x] = {}))[h.uniqueID] || (p[h.uniqueID] = {}))[t] = [w, _]), h !== e)););
                                        return (_ -= i) === n || _ % n == 0 && _ / n >= 0
                                    }
                                }
                            },
                            PSEUDO: function(t, e) {
                                var r, i = n.pseudos[t] || n.setFilters[t.toLowerCase()] || st.error("unsupported pseudo: " + t);
                                return i[x] ? i(e) : i.length > 1 ? (r = [t, t, "", e], n.setFilters.hasOwnProperty(t.toLowerCase()) ? lt((function(t, r) {
                                    for (var n, o = i(t, e), a = o.length; a--;) t[n = O(t, o[a])] = !(r[n] = o[a])
                                })) : function(t) {
                                    return i(t, 0, r)
                                }) : i
                            }
                        },
                        pseudos: {
                            not: lt((function(t) {
                                var e = [],
                                    r = [],
                                    n = s(t.replace(V, "$1"));
                                return n[x] ? lt((function(t, e, r, i) {
                                    for (var o, a = n(t, null, i, []), s = t.length; s--;)(o = a[s]) && (t[s] = !(e[s] = o))
                                })) : function(t, i, o) {
                                    return e[0] = t, n(e, null, o, r), e[0] = null, !r.pop()
                                }
                            })),
                            has: lt((function(t) {
                                return function(e) {
                                    return st(t, e).length > 0
                                }
                            })),
                            contains: lt((function(t) {
                                return t = t.replace(et, rt),
                                    function(e) {
                                        return (e.textContent || i(e)).indexOf(t) > -1
                                    }
                            })),
                            lang: lt((function(t) {
                                return H.test(t || "") || st.error("unsupported lang: " + t), t = t.replace(et, rt).toLowerCase(),
                                    function(e) {
                                        var r;
                                        do {
                                            if (r = m ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (r = r.toLowerCase()) === t || 0 === r.indexOf(t + "-")
                                        } while ((e = e.parentNode) && 1 === e.nodeType);
                                        return !1
                                    }
                            })),
                            target: function(e) {
                                var r = t.location && t.location.hash;
                                return r && r.slice(1) === e.id
                            },
                            root: function(t) {
                                return t === d
                            },
                            focus: function(t) {
                                return t === f.activeElement && (!f.hasFocus || f.hasFocus()) && !!(t.type || t.href || ~t.tabIndex)
                            },
                            enabled: mt(!1),
                            disabled: mt(!0),
                            checked: function(t) {
                                var e = t.nodeName.toLowerCase();
                                return "input" === e && !!t.checked || "option" === e && !!t.selected
                            },
                            selected: function(t) {
                                return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected
                            },
                            empty: function(t) {
                                for (t = t.firstChild; t; t = t.nextSibling)
                                    if (t.nodeType < 6) return !1;
                                return !0
                            },
                            parent: function(t) {
                                return !n.pseudos.empty(t)
                            },
                            header: function(t) {
                                return J.test(t.nodeName)
                            },
                            input: function(t) {
                                return K.test(t.nodeName)
                            },
                            button: function(t) {
                                var e = t.nodeName.toLowerCase();
                                return "input" === e && "button" === t.type || "button" === e
                            },
                            text: function(t) {
                                var e;
                                return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase())
                            },
                            first: yt((function() {
                                return [0]
                            })),
                            last: yt((function(t, e) {
                                return [e - 1]
                            })),
                            eq: yt((function(t, e, r) {
                                return [r < 0 ? r + e : r]
                            })),
                            even: yt((function(t, e) {
                                for (var r = 0; r < e; r += 2) t.push(r);
                                return t
                            })),
                            odd: yt((function(t, e) {
                                for (var r = 1; r < e; r += 2) t.push(r);
                                return t
                            })),
                            lt: yt((function(t, e, r) {
                                for (var n = r < 0 ? r + e : r > e ? e : r; --n >= 0;) t.push(n);
                                return t
                            })),
                            gt: yt((function(t, e, r) {
                                for (var n = r < 0 ? r + e : r; ++n < e;) t.push(n);
                                return t
                            }))
                        }
                    }).pseudos.nth = n.pseudos.eq, {
                        radio: !0,
                        checkbox: !0,
                        file: !0,
                        password: !0,
                        image: !0
                    }) n.pseudos[e] = ft(e);
                for (e in {
                        submit: !0,
                        reset: !0
                    }) n.pseudos[e] = dt(e);

                function gt() {}

                function _t(t) {
                    for (var e = 0, r = t.length, n = ""; e < r; e++) n += t[e].value;
                    return n
                }

                function xt(t, e, r) {
                    var n = e.dir,
                        i = e.next,
                        o = i || n,
                        a = r && "parentNode" === o,
                        s = S++;
                    return e.first ? function(e, r, i) {
                        for (; e = e[n];)
                            if (1 === e.nodeType || a) return t(e, r, i);
                        return !1
                    } : function(e, r, u) {
                        var l, c, p, h = [w, s];
                        if (u) {
                            for (; e = e[n];)
                                if ((1 === e.nodeType || a) && t(e, r, u)) return !0
                        } else
                            for (; e = e[n];)
                                if (1 === e.nodeType || a)
                                    if (c = (p = e[x] || (e[x] = {}))[e.uniqueID] || (p[e.uniqueID] = {}), i && i === e.nodeName.toLowerCase()) e = e[n] || e;
                                    else {
                                        if ((l = c[o]) && l[0] === w && l[1] === s) return h[2] = l[2];
                                        if (c[o] = h, h[2] = t(e, r, u)) return !0
                                    } return !1
                    }
                }

                function bt(t) {
                    return t.length > 1 ? function(e, r, n) {
                        for (var i = t.length; i--;)
                            if (!t[i](e, r, n)) return !1;
                        return !0
                    } : t[0]
                }

                function wt(t, e, r, n, i) {
                    for (var o, a = [], s = 0, u = t.length, l = null != e; s < u; s++)(o = t[s]) && (r && !r(o, n, i) || (a.push(o), l && e.push(s)));
                    return a
                }

                function St(t, e, r, n, i, o) {
                    return n && !n[x] && (n = St(n)), i && !i[x] && (i = St(i, o)), lt((function(o, a, s, u) {
                        var l, c, p, h = [],
                            f = [],
                            d = a.length,
                            m = o || function(t, e, r) {
                                for (var n = 0, i = e.length; n < i; n++) st(t, e[n], r);
                                return r
                            }(e || "*", s.nodeType ? [s] : s, []),
                            y = !t || !o && e ? m : wt(m, h, t, s, u),
                            v = r ? i || (o ? t : d || n) ? [] : a : y;
                        if (r && r(y, v, s, u), n)
                            for (l = wt(v, f), n(l, [], s, u), c = l.length; c--;)(p = l[c]) && (v[f[c]] = !(y[f[c]] = p));
                        if (o) {
                            if (i || t) {
                                if (i) {
                                    for (l = [], c = v.length; c--;)(p = v[c]) && l.push(y[c] = p);
                                    i(null, v = [], l, u)
                                }
                                for (c = v.length; c--;)(p = v[c]) && (l = i ? O(o, p) : h[c]) > -1 && (o[l] = !(a[l] = p))
                            }
                        } else v = wt(v === a ? v.splice(d, v.length) : v), i ? i(null, a, v, u) : D.apply(a, v)
                    }))
                }

                function Tt(t) {
                    for (var e, r, i, o = t.length, a = n.relative[t[0].type], s = a || n.relative[" "], u = a ? 1 : 0, c = xt((function(t) {
                            return t === e
                        }), s, !0), p = xt((function(t) {
                            return O(e, t) > -1
                        }), s, !0), h = [function(t, r, n) {
                            var i = !a && (n || r !== l) || ((e = r).nodeType ? c(t, r, n) : p(t, r, n));
                            return e = null, i
                        }]; u < o; u++)
                        if (r = n.relative[t[u].type]) h = [xt(bt(h), r)];
                        else {
                            if ((r = n.filter[t[u].type].apply(null, t[u].matches))[x]) {
                                for (i = ++u; i < o && !n.relative[t[i].type]; i++);
                                return St(u > 1 && bt(h), u > 1 && _t(t.slice(0, u - 1).concat({
                                    value: " " === t[u - 2].type ? "*" : ""
                                })).replace(V, "$1"), r, u < i && Tt(t.slice(u, i)), i < o && Tt(t = t.slice(i)), i < o && _t(t))
                            }
                            h.push(r)
                        } return bt(h)
                }
                return gt.prototype = n.filters = n.pseudos, n.setFilters = new gt, a = st.tokenize = function(t, e) {
                    var r, i, o, a, s, u, l, c = E[t + " "];
                    if (c) return e ? 0 : c.slice(0);
                    for (s = t, u = [], l = n.preFilter; s;) {
                        for (a in r && !(i = q.exec(s)) || (i && (s = s.slice(i[0].length) || s), u.push(o = [])), r = !1, (i = Z.exec(s)) && (r = i.shift(), o.push({
                                value: r,
                                type: i[0].replace(V, " ")
                            }), s = s.slice(r.length)), n.filter) !(i = W[a].exec(s)) || l[a] && !(i = l[a](i)) || (r = i.shift(), o.push({
                            value: r,
                            type: a,
                            matches: i
                        }), s = s.slice(r.length));
                        if (!r) break
                    }
                    return e ? s.length : s ? st.error(t) : E(t, u).slice(0)
                }, s = st.compile = function(t, e) {
                    var r, i = [],
                        o = [],
                        s = A[t + " "];
                    if (!s) {
                        for (e || (e = a(t)), r = e.length; r--;)(s = Tt(e[r]))[x] ? i.push(s) : o.push(s);
                        (s = A(t, function(t, e) {
                            var r = e.length > 0,
                                i = t.length > 0,
                                o = function(o, a, s, u, c) {
                                    var p, d, y, v = 0,
                                        g = "0",
                                        _ = o && [],
                                        x = [],
                                        b = l,
                                        S = o || i && n.find.TAG("*", c),
                                        T = w += null == b ? 1 : Math.random() || .1,
                                        E = S.length;
                                    for (c && (l = a == f || a || c); g !== E && null != (p = S[g]); g++) {
                                        if (i && p) {
                                            for (d = 0, a || p.ownerDocument == f || (h(p), s = !m); y = t[d++];)
                                                if (y(p, a || f, s)) {
                                                    u.push(p);
                                                    break
                                                } c && (w = T)
                                        }
                                        r && ((p = !y && p) && v--, o && _.push(p))
                                    }
                                    if (v += g, r && g !== v) {
                                        for (d = 0; y = e[d++];) y(_, x, a, s);
                                        if (o) {
                                            if (v > 0)
                                                for (; g--;) _[g] || x[g] || (x[g] = z.call(u));
                                            x = wt(x)
                                        }
                                        D.apply(u, x), c && !o && x.length > 0 && v + e.length > 1 && st.uniqueSort(u)
                                    }
                                    return c && (w = T, l = b), _
                                };
                            return r ? lt(o) : o
                        }(o, i))).selector = t
                    }
                    return s
                }, u = st.select = function(t, e, r, i) {
                    var o, u, l, c, p, h = "function" == typeof t && t,
                        f = !i && a(t = h.selector || t);
                    if (r = r || [], 1 === f.length) {
                        if ((u = f[0] = f[0].slice(0)).length > 2 && "ID" === (l = u[0]).type && 9 === e.nodeType && m && n.relative[u[1].type]) {
                            if (!(e = (n.find.ID(l.matches[0].replace(et, rt), e) || [])[0])) return r;
                            h && (e = e.parentNode), t = t.slice(u.shift().value.length)
                        }
                        for (o = W.needsContext.test(t) ? 0 : u.length; o-- && (l = u[o], !n.relative[c = l.type]);)
                            if ((p = n.find[c]) && (i = p(l.matches[0].replace(et, rt), tt.test(u[0].type) && vt(e.parentNode) || e))) {
                                if (u.splice(o, 1), !(t = i.length && _t(u))) return D.apply(r, i), r;
                                break
                            }
                    }
                    return (h || s(t, f))(i, e, !m, r, !e || tt.test(t) && vt(e.parentNode) || e), r
                }, r.sortStable = x.split("").sort(I).join("") === x, r.detectDuplicates = !!p, h(), r.sortDetached = ct((function(t) {
                    return 1 & t.compareDocumentPosition(f.createElement("fieldset"))
                })), ct((function(t) {
                    return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href")
                })) || pt("type|href|height|width", (function(t, e, r) {
                    if (!r) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2)
                })), r.attributes && ct((function(t) {
                    return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value")
                })) || pt("value", (function(t, e, r) {
                    if (!r && "input" === t.nodeName.toLowerCase()) return t.defaultValue
                })), ct((function(t) {
                    return null == t.getAttribute("disabled")
                })) || pt(R, (function(t, e, r) {
                    var n;
                    if (!r) return !0 === t[e] ? e.toLowerCase() : (n = t.getAttributeNode(e)) && n.specified ? n.value : null
                })), st
            }(r);
        S.find = E, S.expr = E.selectors, S.expr[":"] = S.expr.pseudos, S.uniqueSort = S.unique = E.uniqueSort, S.text = E.getText, S.isXMLDoc = E.isXML, S.contains = E.contains, S.escapeSelector = E.escape;
        var A = function(t, e, r) {
                for (var n = [], i = void 0 !== r;
                    (t = t[e]) && 9 !== t.nodeType;)
                    if (1 === t.nodeType) {
                        if (i && S(t).is(r)) break;
                        n.push(t)
                    } return n
            },
            C = function(t, e) {
                for (var r = []; t; t = t.nextSibling) 1 === t.nodeType && t !== e && r.push(t);
                return r
            },
            I = S.expr.match.needsContext;

        function k(t, e) {
            return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase()
        }
        var P = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

        function z(t, e, r) {
            return v(e) ? S.grep(t, (function(t, n) {
                return !!e.call(t, n, t) !== r
            })) : e.nodeType ? S.grep(t, (function(t) {
                return t === e !== r
            })) : "string" != typeof e ? S.grep(t, (function(t) {
                return c.call(e, t) > -1 !== r
            })) : S.filter(e, t, r)
        }
        S.filter = function(t, e, r) {
            var n = e[0];
            return r && (t = ":not(" + t + ")"), 1 === e.length && 1 === n.nodeType ? S.find.matchesSelector(n, t) ? [n] : [] : S.find.matches(t, S.grep(e, (function(t) {
                return 1 === t.nodeType
            })))
        }, S.fn.extend({
            find: function(t) {
                var e, r, n = this.length,
                    i = this;
                if ("string" != typeof t) return this.pushStack(S(t).filter((function() {
                    for (e = 0; e < n; e++)
                        if (S.contains(i[e], this)) return !0
                })));
                for (r = this.pushStack([]), e = 0; e < n; e++) S.find(t, i[e], r);
                return n > 1 ? S.uniqueSort(r) : r
            },
            filter: function(t) {
                return this.pushStack(z(this, t || [], !1))
            },
            not: function(t) {
                return this.pushStack(z(this, t || [], !0))
            },
            is: function(t) {
                return !!z(this, "string" == typeof t && I.test(t) ? S(t) : t || [], !1).length
            }
        });
        var M, D = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
        (S.fn.init = function(t, e, r) {
            var n, i;
            if (!t) return this;
            if (r = r || M, "string" == typeof t) {
                if (!(n = "<" === t[0] && ">" === t[t.length - 1] && t.length >= 3 ? [null, t, null] : D.exec(t)) || !n[1] && e) return !e || e.jquery ? (e || r).find(t) : this.constructor(e).find(t);
                if (n[1]) {
                    if (e = e instanceof S ? e[0] : e, S.merge(this, S.parseHTML(n[1], e && e.nodeType ? e.ownerDocument || e : _, !0)), P.test(n[1]) && S.isPlainObject(e))
                        for (n in e) v(this[n]) ? this[n](e[n]) : this.attr(n, e[n]);
                    return this
                }
                return (i = _.getElementById(n[2])) && (this[0] = i, this.length = 1), this
            }
            return t.nodeType ? (this[0] = t, this.length = 1, this) : v(t) ? void 0 !== r.ready ? r.ready(t) : t(S) : S.makeArray(t, this)
        }).prototype = S.fn, M = S(_);
        var L = /^(?:parents|prev(?:Until|All))/,
            O = {
                children: !0,
                contents: !0,
                next: !0,
                prev: !0
            };

        function R(t, e) {
            for (;
                (t = t[e]) && 1 !== t.nodeType;);
            return t
        }
        S.fn.extend({
            has: function(t) {
                var e = S(t, this),
                    r = e.length;
                return this.filter((function() {
                    for (var t = 0; t < r; t++)
                        if (S.contains(this, e[t])) return !0
                }))
            },
            closest: function(t, e) {
                var r, n = 0,
                    i = this.length,
                    o = [],
                    a = "string" != typeof t && S(t);
                if (!I.test(t))
                    for (; n < i; n++)
                        for (r = this[n]; r && r !== e; r = r.parentNode)
                            if (r.nodeType < 11 && (a ? a.index(r) > -1 : 1 === r.nodeType && S.find.matchesSelector(r, t))) {
                                o.push(r);
                                break
                            } return this.pushStack(o.length > 1 ? S.uniqueSort(o) : o)
            },
            index: function(t) {
                return t ? "string" == typeof t ? c.call(S(t), this[0]) : c.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function(t, e) {
                return this.pushStack(S.uniqueSort(S.merge(this.get(), S(t, e))))
            },
            addBack: function(t) {
                return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
            }
        }), S.each({
            parent: function(t) {
                var e = t.parentNode;
                return e && 11 !== e.nodeType ? e : null
            },
            parents: function(t) {
                return A(t, "parentNode")
            },
            parentsUntil: function(t, e, r) {
                return A(t, "parentNode", r)
            },
            next: function(t) {
                return R(t, "nextSibling")
            },
            prev: function(t) {
                return R(t, "previousSibling")
            },
            nextAll: function(t) {
                return A(t, "nextSibling")
            },
            prevAll: function(t) {
                return A(t, "previousSibling")
            },
            nextUntil: function(t, e, r) {
                return A(t, "nextSibling", r)
            },
            prevUntil: function(t, e, r) {
                return A(t, "previousSibling", r)
            },
            siblings: function(t) {
                return C((t.parentNode || {}).firstChild, t)
            },
            children: function(t) {
                return C(t.firstChild)
            },
            contents: function(t) {
                return null != t.contentDocument && a(t.contentDocument) ? t.contentDocument : (k(t, "template") && (t = t.content || t), S.merge([], t.childNodes))
            }
        }, (function(t, e) {
            S.fn[t] = function(r, n) {
                var i = S.map(this, e, r);
                return "Until" !== t.slice(-5) && (n = r), n && "string" == typeof n && (i = S.filter(n, i)), this.length > 1 && (O[t] || S.uniqueSort(i), L.test(t) && i.reverse()), this.pushStack(i)
            }
        }));
        var B = /[^\x20\t\r\n\f]+/g;

        function F(t) {
            return t
        }

        function N(t) {
            throw t
        }

        function U(t, e, r, n) {
            var i;
            try {
                t && v(i = t.promise) ? i.call(t).done(e).fail(r) : t && v(i = t.then) ? i.call(t, e, r) : e.apply(void 0, [t].slice(n))
            } catch (t) {
                r.apply(void 0, [t])
            }
        }
        S.Callbacks = function(t) {
            t = "string" == typeof t ? function(t) {
                var e = {};
                return S.each(t.match(B) || [], (function(t, r) {
                    e[r] = !0
                })), e
            }(t) : S.extend({}, t);
            var e, r, n, i, o = [],
                a = [],
                s = -1,
                u = function() {
                    for (i = i || t.once, n = e = !0; a.length; s = -1)
                        for (r = a.shift(); ++s < o.length;) !1 === o[s].apply(r[0], r[1]) && t.stopOnFalse && (s = o.length, r = !1);
                    t.memory || (r = !1), e = !1, i && (o = r ? [] : "")
                },
                l = {
                    add: function() {
                        return o && (r && !e && (s = o.length - 1, a.push(r)), function e(r) {
                            S.each(r, (function(r, n) {
                                v(n) ? t.unique && l.has(n) || o.push(n) : n && n.length && "string" !== w(n) && e(n)
                            }))
                        }(arguments), r && !e && u()), this
                    },
                    remove: function() {
                        return S.each(arguments, (function(t, e) {
                            for (var r;
                                (r = S.inArray(e, o, r)) > -1;) o.splice(r, 1), r <= s && s--
                        })), this
                    },
                    has: function(t) {
                        return t ? S.inArray(t, o) > -1 : o.length > 0
                    },
                    empty: function() {
                        return o && (o = []), this
                    },
                    disable: function() {
                        return i = a = [], o = r = "", this
                    },
                    disabled: function() {
                        return !o
                    },
                    lock: function() {
                        return i = a = [], r || e || (o = r = ""), this
                    },
                    locked: function() {
                        return !!i
                    },
                    fireWith: function(t, r) {
                        return i || (r = [t, (r = r || []).slice ? r.slice() : r], a.push(r), e || u()), this
                    },
                    fire: function() {
                        return l.fireWith(this, arguments), this
                    },
                    fired: function() {
                        return !!n
                    }
                };
            return l
        }, S.extend({
            Deferred: function(t) {
                var e = [
                        ["notify", "progress", S.Callbacks("memory"), S.Callbacks("memory"), 2],
                        ["resolve", "done", S.Callbacks("once memory"), S.Callbacks("once memory"), 0, "resolved"],
                        ["reject", "fail", S.Callbacks("once memory"), S.Callbacks("once memory"), 1, "rejected"]
                    ],
                    n = "pending",
                    i = {
                        state: function() {
                            return n
                        },
                        always: function() {
                            return o.done(arguments).fail(arguments), this
                        },
                        catch: function(t) {
                            return i.then(null, t)
                        },
                        pipe: function() {
                            var t = arguments;
                            return S.Deferred((function(r) {
                                S.each(e, (function(e, n) {
                                    var i = v(t[n[4]]) && t[n[4]];
                                    o[n[1]]((function() {
                                        var t = i && i.apply(this, arguments);
                                        t && v(t.promise) ? t.promise().progress(r.notify).done(r.resolve).fail(r.reject) : r[n[0] + "With"](this, i ? [t] : arguments)
                                    }))
                                })), t = null
                            })).promise()
                        },
                        then: function(t, n, i) {
                            var o = 0;

                            function a(t, e, n, i) {
                                return function() {
                                    var s = this,
                                        u = arguments,
                                        l = function() {
                                            var r, l;
                                            if (!(t < o)) {
                                                if ((r = n.apply(s, u)) === e.promise()) throw new TypeError("Thenable self-resolution");
                                                l = r && ("object" == typeof r || "function" == typeof r) && r.then, v(l) ? i ? l.call(r, a(o, e, F, i), a(o, e, N, i)) : (o++, l.call(r, a(o, e, F, i), a(o, e, N, i), a(o, e, F, e.notifyWith))) : (n !== F && (s = void 0, u = [r]), (i || e.resolveWith)(s, u))
                                            }
                                        },
                                        c = i ? l : function() {
                                            try {
                                                l()
                                            } catch (r) {
                                                S.Deferred.exceptionHook && S.Deferred.exceptionHook(r, c.stackTrace), t + 1 >= o && (n !== N && (s = void 0, u = [r]), e.rejectWith(s, u))
                                            }
                                        };
                                    t ? c() : (S.Deferred.getStackHook && (c.stackTrace = S.Deferred.getStackHook()), r.setTimeout(c))
                                }
                            }
                            return S.Deferred((function(r) {
                                e[0][3].add(a(0, r, v(i) ? i : F, r.notifyWith)), e[1][3].add(a(0, r, v(t) ? t : F)), e[2][3].add(a(0, r, v(n) ? n : N))
                            })).promise()
                        },
                        promise: function(t) {
                            return null != t ? S.extend(t, i) : i
                        }
                    },
                    o = {};
                return S.each(e, (function(t, r) {
                    var a = r[2],
                        s = r[5];
                    i[r[1]] = a.add, s && a.add((function() {
                        n = s
                    }), e[3 - t][2].disable, e[3 - t][3].disable, e[0][2].lock, e[0][3].lock), a.add(r[3].fire), o[r[0]] = function() {
                        return o[r[0] + "With"](this === o ? void 0 : this, arguments), this
                    }, o[r[0] + "With"] = a.fireWith
                })), i.promise(o), t && t.call(o, o), o
            },
            when: function(t) {
                var e = arguments.length,
                    r = e,
                    n = Array(r),
                    i = s.call(arguments),
                    o = S.Deferred(),
                    a = function(t) {
                        return function(r) {
                            n[t] = this, i[t] = arguments.length > 1 ? s.call(arguments) : r, --e || o.resolveWith(n, i)
                        }
                    };
                if (e <= 1 && (U(t, o.done(a(r)).resolve, o.reject, !e), "pending" === o.state() || v(i[r] && i[r].then))) return o.then();
                for (; r--;) U(i[r], a(r), o.reject);
                return o.promise()
            }
        });
        var j = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
        S.Deferred.exceptionHook = function(t, e) {
            r.console && r.console.warn && t && j.test(t.name) && r.console.warn("jQuery.Deferred exception: " + t.message, t.stack, e)
        }, S.readyException = function(t) {
            r.setTimeout((function() {
                throw t
            }))
        };
        var V = S.Deferred();

        function q() {
            _.removeEventListener("DOMContentLoaded", q), r.removeEventListener("load", q), S.ready()
        }
        S.fn.ready = function(t) {
            return V.then(t).catch((function(t) {
                S.readyException(t)
            })), this
        }, S.extend({
            isReady: !1,
            readyWait: 1,
            ready: function(t) {
                (!0 === t ? --S.readyWait : S.isReady) || (S.isReady = !0, !0 !== t && --S.readyWait > 0 || V.resolveWith(_, [S]))
            }
        }), S.ready.then = V.then, "complete" === _.readyState || "loading" !== _.readyState && !_.documentElement.doScroll ? r.setTimeout(S.ready) : (_.addEventListener("DOMContentLoaded", q), r.addEventListener("load", q));
        var Z = function(t, e, r, n, i, o, a) {
                var s = 0,
                    u = t.length,
                    l = null == r;
                if ("object" === w(r))
                    for (s in i = !0, r) Z(t, e, s, r[s], !0, o, a);
                else if (void 0 !== n && (i = !0, v(n) || (a = !0), l && (a ? (e.call(t, n), e = null) : (l = e, e = function(t, e, r) {
                        return l.call(S(t), r)
                    })), e))
                    for (; s < u; s++) e(t[s], r, a ? n : n.call(t[s], s, e(t[s], r)));
                return i ? t : l ? e.call(t) : u ? e(t[0], r) : o
            },
            $ = /^-ms-/,
            G = /-([a-z])/g;

        function H(t, e) {
            return e.toUpperCase()
        }

        function W(t) {
            return t.replace($, "ms-").replace(G, H)
        }
        var X = function(t) {
            return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType
        };

        function K() {
            this.expando = S.expando + K.uid++
        }
        K.uid = 1, K.prototype = {
            cache: function(t) {
                var e = t[this.expando];
                return e || (e = {}, X(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, {
                    value: e,
                    configurable: !0
                }))), e
            },
            set: function(t, e, r) {
                var n, i = this.cache(t);
                if ("string" == typeof e) i[W(e)] = r;
                else
                    for (n in e) i[W(n)] = e[n];
                return i
            },
            get: function(t, e) {
                return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][W(e)]
            },
            access: function(t, e, r) {
                return void 0 === e || e && "string" == typeof e && void 0 === r ? this.get(t, e) : (this.set(t, e, r), void 0 !== r ? r : e)
            },
            remove: function(t, e) {
                var r, n = t[this.expando];
                if (void 0 !== n) {
                    if (void 0 !== e) {
                        r = (e = Array.isArray(e) ? e.map(W) : (e = W(e)) in n ? [e] : e.match(B) || []).length;
                        for (; r--;) delete n[e[r]]
                    }(void 0 === e || S.isEmptyObject(n)) && (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando])
                }
            },
            hasData: function(t) {
                var e = t[this.expando];
                return void 0 !== e && !S.isEmptyObject(e)
            }
        };
        var J = new K,
            Y = new K,
            Q = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
            tt = /[A-Z]/g;

        function et(t, e, r) {
            var n;
            if (void 0 === r && 1 === t.nodeType)
                if (n = "data-" + e.replace(tt, "-$&").toLowerCase(), "string" == typeof(r = t.getAttribute(n))) {
                    try {
                        r = function(t) {
                            return "true" === t || "false" !== t && ("null" === t ? null : t === +t + "" ? +t : Q.test(t) ? JSON.parse(t) : t)
                        }(r)
                    } catch (t) {}
                    Y.set(t, e, r)
                } else r = void 0;
            return r
        }
        S.extend({
            hasData: function(t) {
                return Y.hasData(t) || J.hasData(t)
            },
            data: function(t, e, r) {
                return Y.access(t, e, r)
            },
            removeData: function(t, e) {
                Y.remove(t, e)
            },
            _data: function(t, e, r) {
                return J.access(t, e, r)
            },
            _removeData: function(t, e) {
                J.remove(t, e)
            }
        }), S.fn.extend({
            data: function(t, e) {
                var r, n, i, o = this[0],
                    a = o && o.attributes;
                if (void 0 === t) {
                    if (this.length && (i = Y.get(o), 1 === o.nodeType && !J.get(o, "hasDataAttrs"))) {
                        for (r = a.length; r--;) a[r] && 0 === (n = a[r].name).indexOf("data-") && (n = W(n.slice(5)), et(o, n, i[n]));
                        J.set(o, "hasDataAttrs", !0)
                    }
                    return i
                }
                return "object" == typeof t ? this.each((function() {
                    Y.set(this, t)
                })) : Z(this, (function(e) {
                    var r;
                    if (o && void 0 === e) return void 0 !== (r = Y.get(o, t)) || void 0 !== (r = et(o, t)) ? r : void 0;
                    this.each((function() {
                        Y.set(this, t, e)
                    }))
                }), null, e, arguments.length > 1, null, !0)
            },
            removeData: function(t) {
                return this.each((function() {
                    Y.remove(this, t)
                }))
            }
        }), S.extend({
            queue: function(t, e, r) {
                var n;
                if (t) return e = (e || "fx") + "queue", n = J.get(t, e), r && (!n || Array.isArray(r) ? n = J.access(t, e, S.makeArray(r)) : n.push(r)), n || []
            },
            dequeue: function(t, e) {
                e = e || "fx";
                var r = S.queue(t, e),
                    n = r.length,
                    i = r.shift(),
                    o = S._queueHooks(t, e);
                "inprogress" === i && (i = r.shift(), n--), i && ("fx" === e && r.unshift("inprogress"), delete o.stop, i.call(t, (function() {
                    S.dequeue(t, e)
                }), o)), !n && o && o.empty.fire()
            },
            _queueHooks: function(t, e) {
                var r = e + "queueHooks";
                return J.get(t, r) || J.access(t, r, {
                    empty: S.Callbacks("once memory").add((function() {
                        J.remove(t, [e + "queue", r])
                    }))
                })
            }
        }), S.fn.extend({
            queue: function(t, e) {
                var r = 2;
                return "string" != typeof t && (e = t, t = "fx", r--), arguments.length < r ? S.queue(this[0], t) : void 0 === e ? this : this.each((function() {
                    var r = S.queue(this, t, e);
                    S._queueHooks(this, t), "fx" === t && "inprogress" !== r[0] && S.dequeue(this, t)
                }))
            },
            dequeue: function(t) {
                return this.each((function() {
                    S.dequeue(this, t)
                }))
            },
            clearQueue: function(t) {
                return this.queue(t || "fx", [])
            },
            promise: function(t, e) {
                var r, n = 1,
                    i = S.Deferred(),
                    o = this,
                    a = this.length,
                    s = function() {
                        --n || i.resolveWith(o, [o])
                    };
                for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; a--;)(r = J.get(o[a], t + "queueHooks")) && r.empty && (n++, r.empty.add(s));
                return s(), i.promise(e)
            }
        });
        var rt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
            nt = new RegExp("^(?:([+-])=|)(" + rt + ")([a-z%]*)$", "i"),
            it = ["Top", "Right", "Bottom", "Left"],
            ot = _.documentElement,
            at = function(t) {
                return S.contains(t.ownerDocument, t)
            },
            st = {
                composed: !0
            };
        ot.getRootNode && (at = function(t) {
            return S.contains(t.ownerDocument, t) || t.getRootNode(st) === t.ownerDocument
        });
        var ut = function(t, e) {
            return "none" === (t = e || t).style.display || "" === t.style.display && at(t) && "none" === S.css(t, "display")
        };

        function lt(t, e, r, n) {
            var i, o, a = 20,
                s = n ? function() {
                    return n.cur()
                } : function() {
                    return S.css(t, e, "")
                },
                u = s(),
                l = r && r[3] || (S.cssNumber[e] ? "" : "px"),
                c = t.nodeType && (S.cssNumber[e] || "px" !== l && +u) && nt.exec(S.css(t, e));
            if (c && c[3] !== l) {
                for (u /= 2, l = l || c[3], c = +u || 1; a--;) S.style(t, e, c + l), (1 - o) * (1 - (o = s() / u || .5)) <= 0 && (a = 0), c /= o;
                c *= 2, S.style(t, e, c + l), r = r || []
            }
            return r && (c = +c || +u || 0, i = r[1] ? c + (r[1] + 1) * r[2] : +r[2], n && (n.unit = l, n.start = c, n.end = i)), i
        }
        var ct = {};

        function pt(t) {
            var e, r = t.ownerDocument,
                n = t.nodeName,
                i = ct[n];
            return i || (e = r.body.appendChild(r.createElement(n)), i = S.css(e, "display"), e.parentNode.removeChild(e), "none" === i && (i = "block"), ct[n] = i, i)
        }

        function ht(t, e) {
            for (var r, n, i = [], o = 0, a = t.length; o < a; o++)(n = t[o]).style && (r = n.style.display, e ? ("none" === r && (i[o] = J.get(n, "display") || null, i[o] || (n.style.display = "")), "" === n.style.display && ut(n) && (i[o] = pt(n))) : "none" !== r && (i[o] = "none", J.set(n, "display", r)));
            for (o = 0; o < a; o++) null != i[o] && (t[o].style.display = i[o]);
            return t
        }
        S.fn.extend({
            show: function() {
                return ht(this, !0)
            },
            hide: function() {
                return ht(this)
            },
            toggle: function(t) {
                return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each((function() {
                    ut(this) ? S(this).show() : S(this).hide()
                }))
            }
        });
        var ft, dt, mt = /^(?:checkbox|radio)$/i,
            yt = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
            vt = /^$|^module$|\/(?:java|ecma)script/i;
        ft = _.createDocumentFragment().appendChild(_.createElement("div")), (dt = _.createElement("input")).setAttribute("type", "radio"), dt.setAttribute("checked", "checked"), dt.setAttribute("name", "t"), ft.appendChild(dt), y.checkClone = ft.cloneNode(!0).cloneNode(!0).lastChild.checked, ft.innerHTML = "<textarea>x</textarea>", y.noCloneChecked = !!ft.cloneNode(!0).lastChild.defaultValue, ft.innerHTML = "<option></option>", y.option = !!ft.lastChild;
        var gt = {
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };

        function _t(t, e) {
            var r;
            return r = void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e || "*") : void 0 !== t.querySelectorAll ? t.querySelectorAll(e || "*") : [], void 0 === e || e && k(t, e) ? S.merge([t], r) : r
        }

        function xt(t, e) {
            for (var r = 0, n = t.length; r < n; r++) J.set(t[r], "globalEval", !e || J.get(e[r], "globalEval"))
        }
        gt.tbody = gt.tfoot = gt.colgroup = gt.caption = gt.thead, gt.th = gt.td, y.option || (gt.optgroup = gt.option = [1, "<select multiple='multiple'>", "</select>"]);
        var bt = /<|&#?\w+;/;

        function wt(t, e, r, n, i) {
            for (var o, a, s, u, l, c, p = e.createDocumentFragment(), h = [], f = 0, d = t.length; f < d; f++)
                if ((o = t[f]) || 0 === o)
                    if ("object" === w(o)) S.merge(h, o.nodeType ? [o] : o);
                    else if (bt.test(o)) {
                for (a = a || p.appendChild(e.createElement("div")), s = (yt.exec(o) || ["", ""])[1].toLowerCase(), u = gt[s] || gt._default, a.innerHTML = u[1] + S.htmlPrefilter(o) + u[2], c = u[0]; c--;) a = a.lastChild;
                S.merge(h, a.childNodes), (a = p.firstChild).textContent = ""
            } else h.push(e.createTextNode(o));
            for (p.textContent = "", f = 0; o = h[f++];)
                if (n && S.inArray(o, n) > -1) i && i.push(o);
                else if (l = at(o), a = _t(p.appendChild(o), "script"), l && xt(a), r)
                for (c = 0; o = a[c++];) vt.test(o.type || "") && r.push(o);
            return p
        }
        var St = /^key/,
            Tt = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
            Et = /^([^.]*)(?:\.(.+)|)/;

        function At() {
            return !0
        }

        function Ct() {
            return !1
        }

        function It(t, e) {
            return t === function() {
                try {
                    return _.activeElement
                } catch (t) {}
            }() == ("focus" === e)
        }

        function kt(t, e, r, n, i, o) {
            var a, s;
            if ("object" == typeof e) {
                for (s in "string" != typeof r && (n = n || r, r = void 0), e) kt(t, s, r, n, e[s], o);
                return t
            }
            if (null == n && null == i ? (i = r, n = r = void 0) : null == i && ("string" == typeof r ? (i = n, n = void 0) : (i = n, n = r, r = void 0)), !1 === i) i = Ct;
            else if (!i) return t;
            return 1 === o && (a = i, (i = function(t) {
                return S().off(t), a.apply(this, arguments)
            }).guid = a.guid || (a.guid = S.guid++)), t.each((function() {
                S.event.add(this, e, i, n, r)
            }))
        }

        function Pt(t, e, r) {
            r ? (J.set(t, e, !1), S.event.add(t, e, {
                namespace: !1,
                handler: function(t) {
                    var n, i, o = J.get(this, e);
                    if (1 & t.isTrigger && this[e]) {
                        if (o.length)(S.event.special[e] || {}).delegateType && t.stopPropagation();
                        else if (o = s.call(arguments), J.set(this, e, o), n = r(this, e), this[e](), o !== (i = J.get(this, e)) || n ? J.set(this, e, !1) : i = {}, o !== i) return t.stopImmediatePropagation(), t.preventDefault(), i.value
                    } else o.length && (J.set(this, e, {
                        value: S.event.trigger(S.extend(o[0], S.Event.prototype), o.slice(1), this)
                    }), t.stopImmediatePropagation())
                }
            })) : void 0 === J.get(t, e) && S.event.add(t, e, At)
        }
        S.event = {
            global: {},
            add: function(t, e, r, n, i) {
                var o, a, s, u, l, c, p, h, f, d, m, y = J.get(t);
                if (X(t))
                    for (r.handler && (r = (o = r).handler, i = o.selector), i && S.find.matchesSelector(ot, i), r.guid || (r.guid = S.guid++), (u = y.events) || (u = y.events = Object.create(null)), (a = y.handle) || (a = y.handle = function(e) {
                            return void 0 !== S && S.event.triggered !== e.type ? S.event.dispatch.apply(t, arguments) : void 0
                        }), l = (e = (e || "").match(B) || [""]).length; l--;) f = m = (s = Et.exec(e[l]) || [])[1], d = (s[2] || "").split(".").sort(), f && (p = S.event.special[f] || {}, f = (i ? p.delegateType : p.bindType) || f, p = S.event.special[f] || {}, c = S.extend({
                        type: f,
                        origType: m,
                        data: n,
                        handler: r,
                        guid: r.guid,
                        selector: i,
                        needsContext: i && S.expr.match.needsContext.test(i),
                        namespace: d.join(".")
                    }, o), (h = u[f]) || ((h = u[f] = []).delegateCount = 0, p.setup && !1 !== p.setup.call(t, n, d, a) || t.addEventListener && t.addEventListener(f, a)), p.add && (p.add.call(t, c), c.handler.guid || (c.handler.guid = r.guid)), i ? h.splice(h.delegateCount++, 0, c) : h.push(c), S.event.global[f] = !0)
            },
            remove: function(t, e, r, n, i) {
                var o, a, s, u, l, c, p, h, f, d, m, y = J.hasData(t) && J.get(t);
                if (y && (u = y.events)) {
                    for (l = (e = (e || "").match(B) || [""]).length; l--;)
                        if (f = m = (s = Et.exec(e[l]) || [])[1], d = (s[2] || "").split(".").sort(), f) {
                            for (p = S.event.special[f] || {}, h = u[f = (n ? p.delegateType : p.bindType) || f] || [], s = s[2] && new RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)"), a = o = h.length; o--;) c = h[o], !i && m !== c.origType || r && r.guid !== c.guid || s && !s.test(c.namespace) || n && n !== c.selector && ("**" !== n || !c.selector) || (h.splice(o, 1), c.selector && h.delegateCount--, p.remove && p.remove.call(t, c));
                            a && !h.length && (p.teardown && !1 !== p.teardown.call(t, d, y.handle) || S.removeEvent(t, f, y.handle), delete u[f])
                        } else
                            for (f in u) S.event.remove(t, f + e[l], r, n, !0);
                    S.isEmptyObject(u) && J.remove(t, "handle events")
                }
            },
            dispatch: function(t) {
                var e, r, n, i, o, a, s = new Array(arguments.length),
                    u = S.event.fix(t),
                    l = (J.get(this, "events") || Object.create(null))[u.type] || [],
                    c = S.event.special[u.type] || {};
                for (s[0] = u, e = 1; e < arguments.length; e++) s[e] = arguments[e];
                if (u.delegateTarget = this, !c.preDispatch || !1 !== c.preDispatch.call(this, u)) {
                    for (a = S.event.handlers.call(this, u, l), e = 0;
                        (i = a[e++]) && !u.isPropagationStopped();)
                        for (u.currentTarget = i.elem, r = 0;
                            (o = i.handlers[r++]) && !u.isImmediatePropagationStopped();) u.rnamespace && !1 !== o.namespace && !u.rnamespace.test(o.namespace) || (u.handleObj = o, u.data = o.data, void 0 !== (n = ((S.event.special[o.origType] || {}).handle || o.handler).apply(i.elem, s)) && !1 === (u.result = n) && (u.preventDefault(), u.stopPropagation()));
                    return c.postDispatch && c.postDispatch.call(this, u), u.result
                }
            },
            handlers: function(t, e) {
                var r, n, i, o, a, s = [],
                    u = e.delegateCount,
                    l = t.target;
                if (u && l.nodeType && !("click" === t.type && t.button >= 1))
                    for (; l !== this; l = l.parentNode || this)
                        if (1 === l.nodeType && ("click" !== t.type || !0 !== l.disabled)) {
                            for (o = [], a = {}, r = 0; r < u; r++) void 0 === a[i = (n = e[r]).selector + " "] && (a[i] = n.needsContext ? S(i, this).index(l) > -1 : S.find(i, this, null, [l]).length), a[i] && o.push(n);
                            o.length && s.push({
                                elem: l,
                                handlers: o
                            })
                        } return l = this, u < e.length && s.push({
                    elem: l,
                    handlers: e.slice(u)
                }), s
            },
            addProp: function(t, e) {
                Object.defineProperty(S.Event.prototype, t, {
                    enumerable: !0,
                    configurable: !0,
                    get: v(e) ? function() {
                        if (this.originalEvent) return e(this.originalEvent)
                    } : function() {
                        if (this.originalEvent) return this.originalEvent[t]
                    },
                    set: function(e) {
                        Object.defineProperty(this, t, {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0,
                            value: e
                        })
                    }
                })
            },
            fix: function(t) {
                return t[S.expando] ? t : new S.Event(t)
            },
            special: {
                load: {
                    noBubble: !0
                },
                click: {
                    setup: function(t) {
                        var e = this || t;
                        return mt.test(e.type) && e.click && k(e, "input") && Pt(e, "click", At), !1
                    },
                    trigger: function(t) {
                        var e = this || t;
                        return mt.test(e.type) && e.click && k(e, "input") && Pt(e, "click"), !0
                    },
                    _default: function(t) {
                        var e = t.target;
                        return mt.test(e.type) && e.click && k(e, "input") && J.get(e, "click") || k(e, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(t) {
                        void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result)
                    }
                }
            }
        }, S.removeEvent = function(t, e, r) {
            t.removeEventListener && t.removeEventListener(e, r)
        }, S.Event = function(t, e) {
            if (!(this instanceof S.Event)) return new S.Event(t, e);
            t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && !1 === t.returnValue ? At : Ct, this.target = t.target && 3 === t.target.nodeType ? t.target.parentNode : t.target, this.currentTarget = t.currentTarget, this.relatedTarget = t.relatedTarget) : this.type = t, e && S.extend(this, e), this.timeStamp = t && t.timeStamp || Date.now(), this[S.expando] = !0
        }, S.Event.prototype = {
            constructor: S.Event,
            isDefaultPrevented: Ct,
            isPropagationStopped: Ct,
            isImmediatePropagationStopped: Ct,
            isSimulated: !1,
            preventDefault: function() {
                var t = this.originalEvent;
                this.isDefaultPrevented = At, t && !this.isSimulated && t.preventDefault()
            },
            stopPropagation: function() {
                var t = this.originalEvent;
                this.isPropagationStopped = At, t && !this.isSimulated && t.stopPropagation()
            },
            stopImmediatePropagation: function() {
                var t = this.originalEvent;
                this.isImmediatePropagationStopped = At, t && !this.isSimulated && t.stopImmediatePropagation(), this.stopPropagation()
            }
        }, S.each({
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            code: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: function(t) {
                var e = t.button;
                return null == t.which && St.test(t.type) ? null != t.charCode ? t.charCode : t.keyCode : !t.which && void 0 !== e && Tt.test(t.type) ? 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 : t.which
            }
        }, S.event.addProp), S.each({
            focus: "focusin",
            blur: "focusout"
        }, (function(t, e) {
            S.event.special[t] = {
                setup: function() {
                    return Pt(this, t, It), !1
                },
                trigger: function() {
                    return Pt(this, t), !0
                },
                delegateType: e
            }
        })), S.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, (function(t, e) {
            S.event.special[t] = {
                delegateType: e,
                bindType: e,
                handle: function(t) {
                    var r, n = this,
                        i = t.relatedTarget,
                        o = t.handleObj;
                    return i && (i === n || S.contains(n, i)) || (t.type = o.origType, r = o.handler.apply(this, arguments), t.type = e), r
                }
            }
        })), S.fn.extend({
            on: function(t, e, r, n) {
                return kt(this, t, e, r, n)
            },
            one: function(t, e, r, n) {
                return kt(this, t, e, r, n, 1)
            },
            off: function(t, e, r) {
                var n, i;
                if (t && t.preventDefault && t.handleObj) return n = t.handleObj, S(t.delegateTarget).off(n.namespace ? n.origType + "." + n.namespace : n.origType, n.selector, n.handler), this;
                if ("object" == typeof t) {
                    for (i in t) this.off(i, e, t[i]);
                    return this
                }
                return !1 !== e && "function" != typeof e || (r = e, e = void 0), !1 === r && (r = Ct), this.each((function() {
                    S.event.remove(this, t, r, e)
                }))
            }
        });
        var zt = /<script|<style|<link/i,
            Mt = /checked\s*(?:[^=]|=\s*.checked.)/i,
            Dt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

        function Lt(t, e) {
            return k(t, "table") && k(11 !== e.nodeType ? e : e.firstChild, "tr") && S(t).children("tbody")[0] || t
        }

        function Ot(t) {
            return t.type = (null !== t.getAttribute("type")) + "/" + t.type, t
        }

        function Rt(t) {
            return "true/" === (t.type || "").slice(0, 5) ? t.type = t.type.slice(5) : t.removeAttribute("type"), t
        }

        function Bt(t, e) {
            var r, n, i, o, a, s;
            if (1 === e.nodeType) {
                if (J.hasData(t) && (s = J.get(t).events))
                    for (i in J.remove(e, "handle events"), s)
                        for (r = 0, n = s[i].length; r < n; r++) S.event.add(e, i, s[i][r]);
                Y.hasData(t) && (o = Y.access(t), a = S.extend({}, o), Y.set(e, a))
            }
        }

        function Ft(t, e) {
            var r = e.nodeName.toLowerCase();
            "input" === r && mt.test(t.type) ? e.checked = t.checked : "input" !== r && "textarea" !== r || (e.defaultValue = t.defaultValue)
        }

        function Nt(t, e, r, n) {
            e = u(e);
            var i, o, a, s, l, c, p = 0,
                h = t.length,
                f = h - 1,
                d = e[0],
                m = v(d);
            if (m || h > 1 && "string" == typeof d && !y.checkClone && Mt.test(d)) return t.each((function(i) {
                var o = t.eq(i);
                m && (e[0] = d.call(this, i, o.html())), Nt(o, e, r, n)
            }));
            if (h && (o = (i = wt(e, t[0].ownerDocument, !1, t, n)).firstChild, 1 === i.childNodes.length && (i = o), o || n)) {
                for (s = (a = S.map(_t(i, "script"), Ot)).length; p < h; p++) l = i, p !== f && (l = S.clone(l, !0, !0), s && S.merge(a, _t(l, "script"))), r.call(t[p], l, p);
                if (s)
                    for (c = a[a.length - 1].ownerDocument, S.map(a, Rt), p = 0; p < s; p++) l = a[p], vt.test(l.type || "") && !J.access(l, "globalEval") && S.contains(c, l) && (l.src && "module" !== (l.type || "").toLowerCase() ? S._evalUrl && !l.noModule && S._evalUrl(l.src, {
                        nonce: l.nonce || l.getAttribute("nonce")
                    }, c) : b(l.textContent.replace(Dt, ""), l, c))
            }
            return t
        }

        function Ut(t, e, r) {
            for (var n, i = e ? S.filter(e, t) : t, o = 0; null != (n = i[o]); o++) r || 1 !== n.nodeType || S.cleanData(_t(n)), n.parentNode && (r && at(n) && xt(_t(n, "script")), n.parentNode.removeChild(n));
            return t
        }
        S.extend({
            htmlPrefilter: function(t) {
                return t
            },
            clone: function(t, e, r) {
                var n, i, o, a, s = t.cloneNode(!0),
                    u = at(t);
                if (!(y.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || S.isXMLDoc(t)))
                    for (a = _t(s), n = 0, i = (o = _t(t)).length; n < i; n++) Ft(o[n], a[n]);
                if (e)
                    if (r)
                        for (o = o || _t(t), a = a || _t(s), n = 0, i = o.length; n < i; n++) Bt(o[n], a[n]);
                    else Bt(t, s);
                return (a = _t(s, "script")).length > 0 && xt(a, !u && _t(t, "script")), s
            },
            cleanData: function(t) {
                for (var e, r, n, i = S.event.special, o = 0; void 0 !== (r = t[o]); o++)
                    if (X(r)) {
                        if (e = r[J.expando]) {
                            if (e.events)
                                for (n in e.events) i[n] ? S.event.remove(r, n) : S.removeEvent(r, n, e.handle);
                            r[J.expando] = void 0
                        }
                        r[Y.expando] && (r[Y.expando] = void 0)
                    }
            }
        }), S.fn.extend({
            detach: function(t) {
                return Ut(this, t, !0)
            },
            remove: function(t) {
                return Ut(this, t)
            },
            text: function(t) {
                return Z(this, (function(t) {
                    return void 0 === t ? S.text(this) : this.empty().each((function() {
                        1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t)
                    }))
                }), null, t, arguments.length)
            },
            append: function() {
                return Nt(this, arguments, (function(t) {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Lt(this, t).appendChild(t)
                }))
            },
            prepend: function() {
                return Nt(this, arguments, (function(t) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var e = Lt(this, t);
                        e.insertBefore(t, e.firstChild)
                    }
                }))
            },
            before: function() {
                return Nt(this, arguments, (function(t) {
                    this.parentNode && this.parentNode.insertBefore(t, this)
                }))
            },
            after: function() {
                return Nt(this, arguments, (function(t) {
                    this.parentNode && this.parentNode.insertBefore(t, this.nextSibling)
                }))
            },
            empty: function() {
                for (var t, e = 0; null != (t = this[e]); e++) 1 === t.nodeType && (S.cleanData(_t(t, !1)), t.textContent = "");
                return this
            },
            clone: function(t, e) {
                return t = null != t && t, e = null == e ? t : e, this.map((function() {
                    return S.clone(this, t, e)
                }))
            },
            html: function(t) {
                return Z(this, (function(t) {
                    var e = this[0] || {},
                        r = 0,
                        n = this.length;
                    if (void 0 === t && 1 === e.nodeType) return e.innerHTML;
                    if ("string" == typeof t && !zt.test(t) && !gt[(yt.exec(t) || ["", ""])[1].toLowerCase()]) {
                        t = S.htmlPrefilter(t);
                        try {
                            for (; r < n; r++) 1 === (e = this[r] || {}).nodeType && (S.cleanData(_t(e, !1)), e.innerHTML = t);
                            e = 0
                        } catch (t) {}
                    }
                    e && this.empty().append(t)
                }), null, t, arguments.length)
            },
            replaceWith: function() {
                var t = [];
                return Nt(this, arguments, (function(e) {
                    var r = this.parentNode;
                    S.inArray(this, t) < 0 && (S.cleanData(_t(this)), r && r.replaceChild(e, this))
                }), t)
            }
        }), S.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, (function(t, e) {
            S.fn[t] = function(t) {
                for (var r, n = [], i = S(t), o = i.length - 1, a = 0; a <= o; a++) r = a === o ? this : this.clone(!0), S(i[a])[e](r), l.apply(n, r.get());
                return this.pushStack(n)
            }
        }));
        var jt = new RegExp("^(" + rt + ")(?!px)[a-z%]+$", "i"),
            Vt = function(t) {
                var e = t.ownerDocument.defaultView;
                return e && e.opener || (e = r), e.getComputedStyle(t)
            },
            qt = function(t, e, r) {
                var n, i, o = {};
                for (i in e) o[i] = t.style[i], t.style[i] = e[i];
                for (i in n = r.call(t), e) t.style[i] = o[i];
                return n
            },
            Zt = new RegExp(it.join("|"), "i");

        function $t(t, e, r) {
            var n, i, o, a, s = t.style;
            return (r = r || Vt(t)) && ("" !== (a = r.getPropertyValue(e) || r[e]) || at(t) || (a = S.style(t, e)), !y.pixelBoxStyles() && jt.test(a) && Zt.test(e) && (n = s.width, i = s.minWidth, o = s.maxWidth, s.minWidth = s.maxWidth = s.width = a, a = r.width, s.width = n, s.minWidth = i, s.maxWidth = o)), void 0 !== a ? a + "" : a
        }

        function Gt(t, e) {
            return {
                get: function() {
                    if (!t()) return (this.get = e).apply(this, arguments);
                    delete this.get
                }
            }
        }! function() {
            function t() {
                if (c) {
                    l.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", c.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", ot.appendChild(l).appendChild(c);
                    var t = r.getComputedStyle(c);
                    n = "1%" !== t.top, u = 12 === e(t.marginLeft), c.style.right = "60%", a = 36 === e(t.right), i = 36 === e(t.width), c.style.position = "absolute", o = 12 === e(c.offsetWidth / 3), ot.removeChild(l), c = null
                }
            }

            function e(t) {
                return Math.round(parseFloat(t))
            }
            var n, i, o, a, s, u, l = _.createElement("div"),
                c = _.createElement("div");
            c.style && (c.style.backgroundClip = "content-box", c.cloneNode(!0).style.backgroundClip = "", y.clearCloneStyle = "content-box" === c.style.backgroundClip, S.extend(y, {
                boxSizingReliable: function() {
                    return t(), i
                },
                pixelBoxStyles: function() {
                    return t(), a
                },
                pixelPosition: function() {
                    return t(), n
                },
                reliableMarginLeft: function() {
                    return t(), u
                },
                scrollboxSize: function() {
                    return t(), o
                },
                reliableTrDimensions: function() {
                    var t, e, n, i;
                    return null == s && (t = _.createElement("table"), e = _.createElement("tr"), n = _.createElement("div"), t.style.cssText = "position:absolute;left:-11111px", e.style.height = "1px", n.style.height = "9px", ot.appendChild(t).appendChild(e).appendChild(n), i = r.getComputedStyle(e), s = parseInt(i.height) > 3, ot.removeChild(t)), s
                }
            }))
        }();
        var Ht = ["Webkit", "Moz", "ms"],
            Wt = _.createElement("div").style,
            Xt = {};

        function Kt(t) {
            var e = S.cssProps[t] || Xt[t];
            return e || (t in Wt ? t : Xt[t] = function(t) {
                for (var e = t[0].toUpperCase() + t.slice(1), r = Ht.length; r--;)
                    if ((t = Ht[r] + e) in Wt) return t
            }(t) || t)
        }
        var Jt = /^(none|table(?!-c[ea]).+)/,
            Yt = /^--/,
            Qt = {
                position: "absolute",
                visibility: "hidden",
                display: "block"
            },
            te = {
                letterSpacing: "0",
                fontWeight: "400"
            };

        function ee(t, e, r) {
            var n = nt.exec(e);
            return n ? Math.max(0, n[2] - (r || 0)) + (n[3] || "px") : e
        }

        function re(t, e, r, n, i, o) {
            var a = "width" === e ? 1 : 0,
                s = 0,
                u = 0;
            if (r === (n ? "border" : "content")) return 0;
            for (; a < 4; a += 2) "margin" === r && (u += S.css(t, r + it[a], !0, i)), n ? ("content" === r && (u -= S.css(t, "padding" + it[a], !0, i)), "margin" !== r && (u -= S.css(t, "border" + it[a] + "Width", !0, i))) : (u += S.css(t, "padding" + it[a], !0, i), "padding" !== r ? u += S.css(t, "border" + it[a] + "Width", !0, i) : s += S.css(t, "border" + it[a] + "Width", !0, i));
            return !n && o >= 0 && (u += Math.max(0, Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - o - u - s - .5)) || 0), u
        }

        function ne(t, e, r) {
            var n = Vt(t),
                i = (!y.boxSizingReliable() || r) && "border-box" === S.css(t, "boxSizing", !1, n),
                o = i,
                a = $t(t, e, n),
                s = "offset" + e[0].toUpperCase() + e.slice(1);
            if (jt.test(a)) {
                if (!r) return a;
                a = "auto"
            }
            return (!y.boxSizingReliable() && i || !y.reliableTrDimensions() && k(t, "tr") || "auto" === a || !parseFloat(a) && "inline" === S.css(t, "display", !1, n)) && t.getClientRects().length && (i = "border-box" === S.css(t, "boxSizing", !1, n), (o = s in t) && (a = t[s])), (a = parseFloat(a) || 0) + re(t, e, r || (i ? "border" : "content"), o, n, a) + "px"
        }

        function ie(t, e, r, n, i) {
            return new ie.prototype.init(t, e, r, n, i)
        }
        S.extend({
            cssHooks: {
                opacity: {
                    get: function(t, e) {
                        if (e) {
                            var r = $t(t, "opacity");
                            return "" === r ? "1" : r
                        }
                    }
                }
            },
            cssNumber: {
                animationIterationCount: !0,
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                gridArea: !0,
                gridColumn: !0,
                gridColumnEnd: !0,
                gridColumnStart: !0,
                gridRow: !0,
                gridRowEnd: !0,
                gridRowStart: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {},
            style: function(t, e, r, n) {
                if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
                    var i, o, a, s = W(e),
                        u = Yt.test(e),
                        l = t.style;
                    if (u || (e = Kt(s)), a = S.cssHooks[e] || S.cssHooks[s], void 0 === r) return a && "get" in a && void 0 !== (i = a.get(t, !1, n)) ? i : l[e];
                    "string" === (o = typeof r) && (i = nt.exec(r)) && i[1] && (r = lt(t, e, i), o = "number"), null != r && r == r && ("number" !== o || u || (r += i && i[3] || (S.cssNumber[s] ? "" : "px")), y.clearCloneStyle || "" !== r || 0 !== e.indexOf("background") || (l[e] = "inherit"), a && "set" in a && void 0 === (r = a.set(t, r, n)) || (u ? l.setProperty(e, r) : l[e] = r))
                }
            },
            css: function(t, e, r, n) {
                var i, o, a, s = W(e);
                return Yt.test(e) || (e = Kt(s)), (a = S.cssHooks[e] || S.cssHooks[s]) && "get" in a && (i = a.get(t, !0, r)), void 0 === i && (i = $t(t, e, n)), "normal" === i && e in te && (i = te[e]), "" === r || r ? (o = parseFloat(i), !0 === r || isFinite(o) ? o || 0 : i) : i
            }
        }), S.each(["height", "width"], (function(t, e) {
            S.cssHooks[e] = {
                get: function(t, r, n) {
                    if (r) return !Jt.test(S.css(t, "display")) || t.getClientRects().length && t.getBoundingClientRect().width ? ne(t, e, n) : qt(t, Qt, (function() {
                        return ne(t, e, n)
                    }))
                },
                set: function(t, r, n) {
                    var i, o = Vt(t),
                        a = !y.scrollboxSize() && "absolute" === o.position,
                        s = (a || n) && "border-box" === S.css(t, "boxSizing", !1, o),
                        u = n ? re(t, e, n, s, o) : 0;
                    return s && a && (u -= Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - parseFloat(o[e]) - re(t, e, "border", !1, o) - .5)), u && (i = nt.exec(r)) && "px" !== (i[3] || "px") && (t.style[e] = r, r = S.css(t, e)), ee(0, r, u)
                }
            }
        })), S.cssHooks.marginLeft = Gt(y.reliableMarginLeft, (function(t, e) {
            if (e) return (parseFloat($t(t, "marginLeft")) || t.getBoundingClientRect().left - qt(t, {
                marginLeft: 0
            }, (function() {
                return t.getBoundingClientRect().left
            }))) + "px"
        })), S.each({
            margin: "",
            padding: "",
            border: "Width"
        }, (function(t, e) {
            S.cssHooks[t + e] = {
                expand: function(r) {
                    for (var n = 0, i = {}, o = "string" == typeof r ? r.split(" ") : [r]; n < 4; n++) i[t + it[n] + e] = o[n] || o[n - 2] || o[0];
                    return i
                }
            }, "margin" !== t && (S.cssHooks[t + e].set = ee)
        })), S.fn.extend({
            css: function(t, e) {
                return Z(this, (function(t, e, r) {
                    var n, i, o = {},
                        a = 0;
                    if (Array.isArray(e)) {
                        for (n = Vt(t), i = e.length; a < i; a++) o[e[a]] = S.css(t, e[a], !1, n);
                        return o
                    }
                    return void 0 !== r ? S.style(t, e, r) : S.css(t, e)
                }), t, e, arguments.length > 1)
            }
        }), S.Tween = ie, ie.prototype = {
            constructor: ie,
            init: function(t, e, r, n, i, o) {
                this.elem = t, this.prop = r, this.easing = i || S.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = n, this.unit = o || (S.cssNumber[r] ? "" : "px")
            },
            cur: function() {
                var t = ie.propHooks[this.prop];
                return t && t.get ? t.get(this) : ie.propHooks._default.get(this)
            },
            run: function(t) {
                var e, r = ie.propHooks[this.prop];
                return this.options.duration ? this.pos = e = S.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), r && r.set ? r.set(this) : ie.propHooks._default.set(this), this
            }
        }, ie.prototype.init.prototype = ie.prototype, ie.propHooks = {
            _default: {
                get: function(t) {
                    var e;
                    return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = S.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0
                },
                set: function(t) {
                    S.fx.step[t.prop] ? S.fx.step[t.prop](t) : 1 !== t.elem.nodeType || !S.cssHooks[t.prop] && null == t.elem.style[Kt(t.prop)] ? t.elem[t.prop] = t.now : S.style(t.elem, t.prop, t.now + t.unit)
                }
            }
        }, ie.propHooks.scrollTop = ie.propHooks.scrollLeft = {
            set: function(t) {
                t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now)
            }
        }, S.easing = {
            linear: function(t) {
                return t
            },
            swing: function(t) {
                return .5 - Math.cos(t * Math.PI) / 2
            },
            _default: "swing"
        }, S.fx = ie.prototype.init, S.fx.step = {};
        var oe, ae, se = /^(?:toggle|show|hide)$/,
            ue = /queueHooks$/;

        function le() {
            ae && (!1 === _.hidden && r.requestAnimationFrame ? r.requestAnimationFrame(le) : r.setTimeout(le, S.fx.interval), S.fx.tick())
        }

        function ce() {
            return r.setTimeout((function() {
                oe = void 0
            })), oe = Date.now()
        }

        function pe(t, e) {
            var r, n = 0,
                i = {
                    height: t
                };
            for (e = e ? 1 : 0; n < 4; n += 2 - e) i["margin" + (r = it[n])] = i["padding" + r] = t;
            return e && (i.opacity = i.width = t), i
        }

        function he(t, e, r) {
            for (var n, i = (fe.tweeners[e] || []).concat(fe.tweeners["*"]), o = 0, a = i.length; o < a; o++)
                if (n = i[o].call(r, e, t)) return n
        }

        function fe(t, e, r) {
            var n, i, o = 0,
                a = fe.prefilters.length,
                s = S.Deferred().always((function() {
                    delete u.elem
                })),
                u = function() {
                    if (i) return !1;
                    for (var e = oe || ce(), r = Math.max(0, l.startTime + l.duration - e), n = 1 - (r / l.duration || 0), o = 0, a = l.tweens.length; o < a; o++) l.tweens[o].run(n);
                    return s.notifyWith(t, [l, n, r]), n < 1 && a ? r : (a || s.notifyWith(t, [l, 1, 0]), s.resolveWith(t, [l]), !1)
                },
                l = s.promise({
                    elem: t,
                    props: S.extend({}, e),
                    opts: S.extend(!0, {
                        specialEasing: {},
                        easing: S.easing._default
                    }, r),
                    originalProperties: e,
                    originalOptions: r,
                    startTime: oe || ce(),
                    duration: r.duration,
                    tweens: [],
                    createTween: function(e, r) {
                        var n = S.Tween(t, l.opts, e, r, l.opts.specialEasing[e] || l.opts.easing);
                        return l.tweens.push(n), n
                    },
                    stop: function(e) {
                        var r = 0,
                            n = e ? l.tweens.length : 0;
                        if (i) return this;
                        for (i = !0; r < n; r++) l.tweens[r].run(1);
                        return e ? (s.notifyWith(t, [l, 1, 0]), s.resolveWith(t, [l, e])) : s.rejectWith(t, [l, e]), this
                    }
                }),
                c = l.props;
            for (! function(t, e) {
                    var r, n, i, o, a;
                    for (r in t)
                        if (i = e[n = W(r)], o = t[r], Array.isArray(o) && (i = o[1], o = t[r] = o[0]), r !== n && (t[n] = o, delete t[r]), (a = S.cssHooks[n]) && "expand" in a)
                            for (r in o = a.expand(o), delete t[n], o) r in t || (t[r] = o[r], e[r] = i);
                        else e[n] = i
                }(c, l.opts.specialEasing); o < a; o++)
                if (n = fe.prefilters[o].call(l, t, c, l.opts)) return v(n.stop) && (S._queueHooks(l.elem, l.opts.queue).stop = n.stop.bind(n)), n;
            return S.map(c, he, l), v(l.opts.start) && l.opts.start.call(t, l), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always), S.fx.timer(S.extend(u, {
                elem: t,
                anim: l,
                queue: l.opts.queue
            })), l
        }
        S.Animation = S.extend(fe, {
                tweeners: {
                    "*": [function(t, e) {
                        var r = this.createTween(t, e);
                        return lt(r.elem, t, nt.exec(e), r), r
                    }]
                },
                tweener: function(t, e) {
                    v(t) ? (e = t, t = ["*"]) : t = t.match(B);
                    for (var r, n = 0, i = t.length; n < i; n++) r = t[n], fe.tweeners[r] = fe.tweeners[r] || [], fe.tweeners[r].unshift(e)
                },
                prefilters: [function(t, e, r) {
                    var n, i, o, a, s, u, l, c, p = "width" in e || "height" in e,
                        h = this,
                        f = {},
                        d = t.style,
                        m = t.nodeType && ut(t),
                        y = J.get(t, "fxshow");
                    for (n in r.queue || (null == (a = S._queueHooks(t, "fx")).unqueued && (a.unqueued = 0, s = a.empty.fire, a.empty.fire = function() {
                            a.unqueued || s()
                        }), a.unqueued++, h.always((function() {
                            h.always((function() {
                                a.unqueued--, S.queue(t, "fx").length || a.empty.fire()
                            }))
                        }))), e)
                        if (i = e[n], se.test(i)) {
                            if (delete e[n], o = o || "toggle" === i, i === (m ? "hide" : "show")) {
                                if ("show" !== i || !y || void 0 === y[n]) continue;
                                m = !0
                            }
                            f[n] = y && y[n] || S.style(t, n)
                        } if ((u = !S.isEmptyObject(e)) || !S.isEmptyObject(f))
                        for (n in p && 1 === t.nodeType && (r.overflow = [d.overflow, d.overflowX, d.overflowY], null == (l = y && y.display) && (l = J.get(t, "display")), "none" === (c = S.css(t, "display")) && (l ? c = l : (ht([t], !0), l = t.style.display || l, c = S.css(t, "display"), ht([t]))), ("inline" === c || "inline-block" === c && null != l) && "none" === S.css(t, "float") && (u || (h.done((function() {
                                d.display = l
                            })), null == l && (c = d.display, l = "none" === c ? "" : c)), d.display = "inline-block")), r.overflow && (d.overflow = "hidden", h.always((function() {
                                d.overflow = r.overflow[0], d.overflowX = r.overflow[1], d.overflowY = r.overflow[2]
                            }))), u = !1, f) u || (y ? "hidden" in y && (m = y.hidden) : y = J.access(t, "fxshow", {
                            display: l
                        }), o && (y.hidden = !m), m && ht([t], !0), h.done((function() {
                            for (n in m || ht([t]), J.remove(t, "fxshow"), f) S.style(t, n, f[n])
                        }))), u = he(m ? y[n] : 0, n, h), n in y || (y[n] = u.start, m && (u.end = u.start, u.start = 0))
                }],
                prefilter: function(t, e) {
                    e ? fe.prefilters.unshift(t) : fe.prefilters.push(t)
                }
            }), S.speed = function(t, e, r) {
                var n = t && "object" == typeof t ? S.extend({}, t) : {
                    complete: r || !r && e || v(t) && t,
                    duration: t,
                    easing: r && e || e && !v(e) && e
                };
                return S.fx.off ? n.duration = 0 : "number" != typeof n.duration && (n.duration in S.fx.speeds ? n.duration = S.fx.speeds[n.duration] : n.duration = S.fx.speeds._default), null != n.queue && !0 !== n.queue || (n.queue = "fx"), n.old = n.complete, n.complete = function() {
                    v(n.old) && n.old.call(this), n.queue && S.dequeue(this, n.queue)
                }, n
            }, S.fn.extend({
                fadeTo: function(t, e, r, n) {
                    return this.filter(ut).css("opacity", 0).show().end().animate({
                        opacity: e
                    }, t, r, n)
                },
                animate: function(t, e, r, n) {
                    var i = S.isEmptyObject(t),
                        o = S.speed(e, r, n),
                        a = function() {
                            var e = fe(this, S.extend({}, t), o);
                            (i || J.get(this, "finish")) && e.stop(!0)
                        };
                    return a.finish = a, i || !1 === o.queue ? this.each(a) : this.queue(o.queue, a)
                },
                stop: function(t, e, r) {
                    var n = function(t) {
                        var e = t.stop;
                        delete t.stop, e(r)
                    };
                    return "string" != typeof t && (r = e, e = t, t = void 0), e && this.queue(t || "fx", []), this.each((function() {
                        var e = !0,
                            i = null != t && t + "queueHooks",
                            o = S.timers,
                            a = J.get(this);
                        if (i) a[i] && a[i].stop && n(a[i]);
                        else
                            for (i in a) a[i] && a[i].stop && ue.test(i) && n(a[i]);
                        for (i = o.length; i--;) o[i].elem !== this || null != t && o[i].queue !== t || (o[i].anim.stop(r), e = !1, o.splice(i, 1));
                        !e && r || S.dequeue(this, t)
                    }))
                },
                finish: function(t) {
                    return !1 !== t && (t = t || "fx"), this.each((function() {
                        var e, r = J.get(this),
                            n = r[t + "queue"],
                            i = r[t + "queueHooks"],
                            o = S.timers,
                            a = n ? n.length : 0;
                        for (r.finish = !0, S.queue(this, t, []), i && i.stop && i.stop.call(this, !0), e = o.length; e--;) o[e].elem === this && o[e].queue === t && (o[e].anim.stop(!0), o.splice(e, 1));
                        for (e = 0; e < a; e++) n[e] && n[e].finish && n[e].finish.call(this);
                        delete r.finish
                    }))
                }
            }), S.each(["toggle", "show", "hide"], (function(t, e) {
                var r = S.fn[e];
                S.fn[e] = function(t, n, i) {
                    return null == t || "boolean" == typeof t ? r.apply(this, arguments) : this.animate(pe(e, !0), t, n, i)
                }
            })), S.each({
                slideDown: pe("show"),
                slideUp: pe("hide"),
                slideToggle: pe("toggle"),
                fadeIn: {
                    opacity: "show"
                },
                fadeOut: {
                    opacity: "hide"
                },
                fadeToggle: {
                    opacity: "toggle"
                }
            }, (function(t, e) {
                S.fn[t] = function(t, r, n) {
                    return this.animate(e, t, r, n)
                }
            })), S.timers = [], S.fx.tick = function() {
                var t, e = 0,
                    r = S.timers;
                for (oe = Date.now(); e < r.length; e++)(t = r[e])() || r[e] !== t || r.splice(e--, 1);
                r.length || S.fx.stop(), oe = void 0
            }, S.fx.timer = function(t) {
                S.timers.push(t), S.fx.start()
            }, S.fx.interval = 13, S.fx.start = function() {
                ae || (ae = !0, le())
            }, S.fx.stop = function() {
                ae = null
            }, S.fx.speeds = {
                slow: 600,
                fast: 200,
                _default: 400
            }, S.fn.delay = function(t, e) {
                return t = S.fx && S.fx.speeds[t] || t, e = e || "fx", this.queue(e, (function(e, n) {
                    var i = r.setTimeout(e, t);
                    n.stop = function() {
                        r.clearTimeout(i)
                    }
                }))
            },
            function() {
                var t = _.createElement("input"),
                    e = _.createElement("select").appendChild(_.createElement("option"));
                t.type = "checkbox", y.checkOn = "" !== t.value, y.optSelected = e.selected, (t = _.createElement("input")).value = "t", t.type = "radio", y.radioValue = "t" === t.value
            }();
        var de, me = S.expr.attrHandle;
        S.fn.extend({
            attr: function(t, e) {
                return Z(this, S.attr, t, e, arguments.length > 1)
            },
            removeAttr: function(t) {
                return this.each((function() {
                    S.removeAttr(this, t)
                }))
            }
        }), S.extend({
            attr: function(t, e, r) {
                var n, i, o = t.nodeType;
                if (3 !== o && 8 !== o && 2 !== o) return void 0 === t.getAttribute ? S.prop(t, e, r) : (1 === o && S.isXMLDoc(t) || (i = S.attrHooks[e.toLowerCase()] || (S.expr.match.bool.test(e) ? de : void 0)), void 0 !== r ? null === r ? void S.removeAttr(t, e) : i && "set" in i && void 0 !== (n = i.set(t, r, e)) ? n : (t.setAttribute(e, r + ""), r) : i && "get" in i && null !== (n = i.get(t, e)) ? n : null == (n = S.find.attr(t, e)) ? void 0 : n)
            },
            attrHooks: {
                type: {
                    set: function(t, e) {
                        if (!y.radioValue && "radio" === e && k(t, "input")) {
                            var r = t.value;
                            return t.setAttribute("type", e), r && (t.value = r), e
                        }
                    }
                }
            },
            removeAttr: function(t, e) {
                var r, n = 0,
                    i = e && e.match(B);
                if (i && 1 === t.nodeType)
                    for (; r = i[n++];) t.removeAttribute(r)
            }
        }), de = {
            set: function(t, e, r) {
                return !1 === e ? S.removeAttr(t, r) : t.setAttribute(r, r), r
            }
        }, S.each(S.expr.match.bool.source.match(/\w+/g), (function(t, e) {
            var r = me[e] || S.find.attr;
            me[e] = function(t, e, n) {
                var i, o, a = e.toLowerCase();
                return n || (o = me[a], me[a] = i, i = null != r(t, e, n) ? a : null, me[a] = o), i
            }
        }));
        var ye = /^(?:input|select|textarea|button)$/i,
            ve = /^(?:a|area)$/i;

        function ge(t) {
            return (t.match(B) || []).join(" ")
        }

        function _e(t) {
            return t.getAttribute && t.getAttribute("class") || ""
        }

        function xe(t) {
            return Array.isArray(t) ? t : "string" == typeof t && t.match(B) || []
        }
        S.fn.extend({
            prop: function(t, e) {
                return Z(this, S.prop, t, e, arguments.length > 1)
            },
            removeProp: function(t) {
                return this.each((function() {
                    delete this[S.propFix[t] || t]
                }))
            }
        }), S.extend({
            prop: function(t, e, r) {
                var n, i, o = t.nodeType;
                if (3 !== o && 8 !== o && 2 !== o) return 1 === o && S.isXMLDoc(t) || (e = S.propFix[e] || e, i = S.propHooks[e]), void 0 !== r ? i && "set" in i && void 0 !== (n = i.set(t, r, e)) ? n : t[e] = r : i && "get" in i && null !== (n = i.get(t, e)) ? n : t[e]
            },
            propHooks: {
                tabIndex: {
                    get: function(t) {
                        var e = S.find.attr(t, "tabindex");
                        return e ? parseInt(e, 10) : ye.test(t.nodeName) || ve.test(t.nodeName) && t.href ? 0 : -1
                    }
                }
            },
            propFix: {
                for: "htmlFor",
                class: "className"
            }
        }), y.optSelected || (S.propHooks.selected = {
            get: function(t) {
                var e = t.parentNode;
                return e && e.parentNode && e.parentNode.selectedIndex, null
            },
            set: function(t) {
                var e = t.parentNode;
                e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex)
            }
        }), S.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], (function() {
            S.propFix[this.toLowerCase()] = this
        })), S.fn.extend({
            addClass: function(t) {
                var e, r, n, i, o, a, s, u = 0;
                if (v(t)) return this.each((function(e) {
                    S(this).addClass(t.call(this, e, _e(this)))
                }));
                if ((e = xe(t)).length)
                    for (; r = this[u++];)
                        if (i = _e(r), n = 1 === r.nodeType && " " + ge(i) + " ") {
                            for (a = 0; o = e[a++];) n.indexOf(" " + o + " ") < 0 && (n += o + " ");
                            i !== (s = ge(n)) && r.setAttribute("class", s)
                        } return this
            },
            removeClass: function(t) {
                var e, r, n, i, o, a, s, u = 0;
                if (v(t)) return this.each((function(e) {
                    S(this).removeClass(t.call(this, e, _e(this)))
                }));
                if (!arguments.length) return this.attr("class", "");
                if ((e = xe(t)).length)
                    for (; r = this[u++];)
                        if (i = _e(r), n = 1 === r.nodeType && " " + ge(i) + " ") {
                            for (a = 0; o = e[a++];)
                                for (; n.indexOf(" " + o + " ") > -1;) n = n.replace(" " + o + " ", " ");
                            i !== (s = ge(n)) && r.setAttribute("class", s)
                        } return this
            },
            toggleClass: function(t, e) {
                var r = typeof t,
                    n = "string" === r || Array.isArray(t);
                return "boolean" == typeof e && n ? e ? this.addClass(t) : this.removeClass(t) : v(t) ? this.each((function(r) {
                    S(this).toggleClass(t.call(this, r, _e(this), e), e)
                })) : this.each((function() {
                    var e, i, o, a;
                    if (n)
                        for (i = 0, o = S(this), a = xe(t); e = a[i++];) o.hasClass(e) ? o.removeClass(e) : o.addClass(e);
                    else void 0 !== t && "boolean" !== r || ((e = _e(this)) && J.set(this, "__className__", e), this.setAttribute && this.setAttribute("class", e || !1 === t ? "" : J.get(this, "__className__") || ""))
                }))
            },
            hasClass: function(t) {
                var e, r, n = 0;
                for (e = " " + t + " "; r = this[n++];)
                    if (1 === r.nodeType && (" " + ge(_e(r)) + " ").indexOf(e) > -1) return !0;
                return !1
            }
        });
        var be = /\r/g;
        S.fn.extend({
            val: function(t) {
                var e, r, n, i = this[0];
                return arguments.length ? (n = v(t), this.each((function(r) {
                    var i;
                    1 === this.nodeType && (null == (i = n ? t.call(this, r, S(this).val()) : t) ? i = "" : "number" == typeof i ? i += "" : Array.isArray(i) && (i = S.map(i, (function(t) {
                        return null == t ? "" : t + ""
                    }))), (e = S.valHooks[this.type] || S.valHooks[this.nodeName.toLowerCase()]) && "set" in e && void 0 !== e.set(this, i, "value") || (this.value = i))
                }))) : i ? (e = S.valHooks[i.type] || S.valHooks[i.nodeName.toLowerCase()]) && "get" in e && void 0 !== (r = e.get(i, "value")) ? r : "string" == typeof(r = i.value) ? r.replace(be, "") : null == r ? "" : r : void 0
            }
        }), S.extend({
            valHooks: {
                option: {
                    get: function(t) {
                        var e = S.find.attr(t, "value");
                        return null != e ? e : ge(S.text(t))
                    }
                },
                select: {
                    get: function(t) {
                        var e, r, n, i = t.options,
                            o = t.selectedIndex,
                            a = "select-one" === t.type,
                            s = a ? null : [],
                            u = a ? o + 1 : i.length;
                        for (n = o < 0 ? u : a ? o : 0; n < u; n++)
                            if (((r = i[n]).selected || n === o) && !r.disabled && (!r.parentNode.disabled || !k(r.parentNode, "optgroup"))) {
                                if (e = S(r).val(), a) return e;
                                s.push(e)
                            } return s
                    },
                    set: function(t, e) {
                        for (var r, n, i = t.options, o = S.makeArray(e), a = i.length; a--;)((n = i[a]).selected = S.inArray(S.valHooks.option.get(n), o) > -1) && (r = !0);
                        return r || (t.selectedIndex = -1), o
                    }
                }
            }
        }), S.each(["radio", "checkbox"], (function() {
            S.valHooks[this] = {
                set: function(t, e) {
                    if (Array.isArray(e)) return t.checked = S.inArray(S(t).val(), e) > -1
                }
            }, y.checkOn || (S.valHooks[this].get = function(t) {
                return null === t.getAttribute("value") ? "on" : t.value
            })
        })), y.focusin = "onfocusin" in r;
        var we = /^(?:focusinfocus|focusoutblur)$/,
            Se = function(t) {
                t.stopPropagation()
            };
        S.extend(S.event, {
            trigger: function(t, e, n, i) {
                var o, a, s, u, l, c, p, h, d = [n || _],
                    m = f.call(t, "type") ? t.type : t,
                    y = f.call(t, "namespace") ? t.namespace.split(".") : [];
                if (a = h = s = n = n || _, 3 !== n.nodeType && 8 !== n.nodeType && !we.test(m + S.event.triggered) && (m.indexOf(".") > -1 && (y = m.split("."), m = y.shift(), y.sort()), l = m.indexOf(":") < 0 && "on" + m, (t = t[S.expando] ? t : new S.Event(m, "object" == typeof t && t)).isTrigger = i ? 2 : 3, t.namespace = y.join("."), t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + y.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = n), e = null == e ? [t] : S.makeArray(e, [t]), p = S.event.special[m] || {}, i || !p.trigger || !1 !== p.trigger.apply(n, e))) {
                    if (!i && !p.noBubble && !g(n)) {
                        for (u = p.delegateType || m, we.test(u + m) || (a = a.parentNode); a; a = a.parentNode) d.push(a), s = a;
                        s === (n.ownerDocument || _) && d.push(s.defaultView || s.parentWindow || r)
                    }
                    for (o = 0;
                        (a = d[o++]) && !t.isPropagationStopped();) h = a, t.type = o > 1 ? u : p.bindType || m, (c = (J.get(a, "events") || Object.create(null))[t.type] && J.get(a, "handle")) && c.apply(a, e), (c = l && a[l]) && c.apply && X(a) && (t.result = c.apply(a, e), !1 === t.result && t.preventDefault());
                    return t.type = m, i || t.isDefaultPrevented() || p._default && !1 !== p._default.apply(d.pop(), e) || !X(n) || l && v(n[m]) && !g(n) && ((s = n[l]) && (n[l] = null), S.event.triggered = m, t.isPropagationStopped() && h.addEventListener(m, Se), n[m](), t.isPropagationStopped() && h.removeEventListener(m, Se), S.event.triggered = void 0, s && (n[l] = s)), t.result
                }
            },
            simulate: function(t, e, r) {
                var n = S.extend(new S.Event, r, {
                    type: t,
                    isSimulated: !0
                });
                S.event.trigger(n, null, e)
            }
        }), S.fn.extend({
            trigger: function(t, e) {
                return this.each((function() {
                    S.event.trigger(t, e, this)
                }))
            },
            triggerHandler: function(t, e) {
                var r = this[0];
                if (r) return S.event.trigger(t, e, r, !0)
            }
        }), y.focusin || S.each({
            focus: "focusin",
            blur: "focusout"
        }, (function(t, e) {
            var r = function(t) {
                S.event.simulate(e, t.target, S.event.fix(t))
            };
            S.event.special[e] = {
                setup: function() {
                    var n = this.ownerDocument || this.document || this,
                        i = J.access(n, e);
                    i || n.addEventListener(t, r, !0), J.access(n, e, (i || 0) + 1)
                },
                teardown: function() {
                    var n = this.ownerDocument || this.document || this,
                        i = J.access(n, e) - 1;
                    i ? J.access(n, e, i) : (n.removeEventListener(t, r, !0), J.remove(n, e))
                }
            }
        }));
        var Te = r.location,
            Ee = {
                guid: Date.now()
            },
            Ae = /\?/;
        S.parseXML = function(t) {
            var e;
            if (!t || "string" != typeof t) return null;
            try {
                e = (new r.DOMParser).parseFromString(t, "text/xml")
            } catch (t) {
                e = void 0
            }
            return e && !e.getElementsByTagName("parsererror").length || S.error("Invalid XML: " + t), e
        };
        var Ce = /\[\]$/,
            Ie = /\r?\n/g,
            ke = /^(?:submit|button|image|reset|file)$/i,
            Pe = /^(?:input|select|textarea|keygen)/i;

        function ze(t, e, r, n) {
            var i;
            if (Array.isArray(e)) S.each(e, (function(e, i) {
                r || Ce.test(t) ? n(t, i) : ze(t + "[" + ("object" == typeof i && null != i ? e : "") + "]", i, r, n)
            }));
            else if (r || "object" !== w(e)) n(t, e);
            else
                for (i in e) ze(t + "[" + i + "]", e[i], r, n)
        }
        S.param = function(t, e) {
            var r, n = [],
                i = function(t, e) {
                    var r = v(e) ? e() : e;
                    n[n.length] = encodeURIComponent(t) + "=" + encodeURIComponent(null == r ? "" : r)
                };
            if (null == t) return "";
            if (Array.isArray(t) || t.jquery && !S.isPlainObject(t)) S.each(t, (function() {
                i(this.name, this.value)
            }));
            else
                for (r in t) ze(r, t[r], e, i);
            return n.join("&")
        }, S.fn.extend({
            serialize: function() {
                return S.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map((function() {
                    var t = S.prop(this, "elements");
                    return t ? S.makeArray(t) : this
                })).filter((function() {
                    var t = this.type;
                    return this.name && !S(this).is(":disabled") && Pe.test(this.nodeName) && !ke.test(t) && (this.checked || !mt.test(t))
                })).map((function(t, e) {
                    var r = S(this).val();
                    return null == r ? null : Array.isArray(r) ? S.map(r, (function(t) {
                        return {
                            name: e.name,
                            value: t.replace(Ie, "\r\n")
                        }
                    })) : {
                        name: e.name,
                        value: r.replace(Ie, "\r\n")
                    }
                })).get()
            }
        });
        var Me = /%20/g,
            De = /#.*$/,
            Le = /([?&])_=[^&]*/,
            Oe = /^(.*?):[ \t]*([^\r\n]*)$/gm,
            Re = /^(?:GET|HEAD)$/,
            Be = /^\/\//,
            Fe = {},
            Ne = {},
            Ue = "*/".concat("*"),
            je = _.createElement("a");

        function Ve(t) {
            return function(e, r) {
                "string" != typeof e && (r = e, e = "*");
                var n, i = 0,
                    o = e.toLowerCase().match(B) || [];
                if (v(r))
                    for (; n = o[i++];) "+" === n[0] ? (n = n.slice(1) || "*", (t[n] = t[n] || []).unshift(r)) : (t[n] = t[n] || []).push(r)
            }
        }

        function qe(t, e, r, n) {
            var i = {},
                o = t === Ne;

            function a(s) {
                var u;
                return i[s] = !0, S.each(t[s] || [], (function(t, s) {
                    var l = s(e, r, n);
                    return "string" != typeof l || o || i[l] ? o ? !(u = l) : void 0 : (e.dataTypes.unshift(l), a(l), !1)
                })), u
            }
            return a(e.dataTypes[0]) || !i["*"] && a("*")
        }

        function Ze(t, e) {
            var r, n, i = S.ajaxSettings.flatOptions || {};
            for (r in e) void 0 !== e[r] && ((i[r] ? t : n || (n = {}))[r] = e[r]);
            return n && S.extend(!0, t, n), t
        }
        je.href = Te.href, S.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: Te.href,
                type: "GET",
                isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Te.protocol),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": Ue,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /\bxml\b/,
                    html: /\bhtml/,
                    json: /\bjson\b/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": JSON.parse,
                    "text xml": S.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(t, e) {
                return e ? Ze(Ze(t, S.ajaxSettings), e) : Ze(S.ajaxSettings, t)
            },
            ajaxPrefilter: Ve(Fe),
            ajaxTransport: Ve(Ne),
            ajax: function(t, e) {
                "object" == typeof t && (e = t, t = void 0), e = e || {};
                var n, i, o, a, s, u, l, c, p, h, f = S.ajaxSetup({}, e),
                    d = f.context || f,
                    m = f.context && (d.nodeType || d.jquery) ? S(d) : S.event,
                    y = S.Deferred(),
                    v = S.Callbacks("once memory"),
                    g = f.statusCode || {},
                    x = {},
                    b = {},
                    w = "canceled",
                    T = {
                        readyState: 0,
                        getResponseHeader: function(t) {
                            var e;
                            if (l) {
                                if (!a)
                                    for (a = {}; e = Oe.exec(o);) a[e[1].toLowerCase() + " "] = (a[e[1].toLowerCase() + " "] || []).concat(e[2]);
                                e = a[t.toLowerCase() + " "]
                            }
                            return null == e ? null : e.join(", ")
                        },
                        getAllResponseHeaders: function() {
                            return l ? o : null
                        },
                        setRequestHeader: function(t, e) {
                            return null == l && (t = b[t.toLowerCase()] = b[t.toLowerCase()] || t, x[t] = e), this
                        },
                        overrideMimeType: function(t) {
                            return null == l && (f.mimeType = t), this
                        },
                        statusCode: function(t) {
                            var e;
                            if (t)
                                if (l) T.always(t[T.status]);
                                else
                                    for (e in t) g[e] = [g[e], t[e]];
                            return this
                        },
                        abort: function(t) {
                            var e = t || w;
                            return n && n.abort(e), E(0, e), this
                        }
                    };
                if (y.promise(T), f.url = ((t || f.url || Te.href) + "").replace(Be, Te.protocol + "//"), f.type = e.method || e.type || f.method || f.type, f.dataTypes = (f.dataType || "*").toLowerCase().match(B) || [""], null == f.crossDomain) {
                    u = _.createElement("a");
                    try {
                        u.href = f.url, u.href = u.href, f.crossDomain = je.protocol + "//" + je.host != u.protocol + "//" + u.host
                    } catch (t) {
                        f.crossDomain = !0
                    }
                }
                if (f.data && f.processData && "string" != typeof f.data && (f.data = S.param(f.data, f.traditional)), qe(Fe, f, e, T), l) return T;
                for (p in (c = S.event && f.global) && 0 == S.active++ && S.event.trigger("ajaxStart"), f.type = f.type.toUpperCase(), f.hasContent = !Re.test(f.type), i = f.url.replace(De, ""), f.hasContent ? f.data && f.processData && 0 === (f.contentType || "").indexOf("application/x-www-form-urlencoded") && (f.data = f.data.replace(Me, "+")) : (h = f.url.slice(i.length), f.data && (f.processData || "string" == typeof f.data) && (i += (Ae.test(i) ? "&" : "?") + f.data, delete f.data), !1 === f.cache && (i = i.replace(Le, "$1"), h = (Ae.test(i) ? "&" : "?") + "_=" + Ee.guid++ + h), f.url = i + h), f.ifModified && (S.lastModified[i] && T.setRequestHeader("If-Modified-Since", S.lastModified[i]), S.etag[i] && T.setRequestHeader("If-None-Match", S.etag[i])), (f.data && f.hasContent && !1 !== f.contentType || e.contentType) && T.setRequestHeader("Content-Type", f.contentType), T.setRequestHeader("Accept", f.dataTypes[0] && f.accepts[f.dataTypes[0]] ? f.accepts[f.dataTypes[0]] + ("*" !== f.dataTypes[0] ? ", " + Ue + "; q=0.01" : "") : f.accepts["*"]), f.headers) T.setRequestHeader(p, f.headers[p]);
                if (f.beforeSend && (!1 === f.beforeSend.call(d, T, f) || l)) return T.abort();
                if (w = "abort", v.add(f.complete), T.done(f.success), T.fail(f.error), n = qe(Ne, f, e, T)) {
                    if (T.readyState = 1, c && m.trigger("ajaxSend", [T, f]), l) return T;
                    f.async && f.timeout > 0 && (s = r.setTimeout((function() {
                        T.abort("timeout")
                    }), f.timeout));
                    try {
                        l = !1, n.send(x, E)
                    } catch (t) {
                        if (l) throw t;
                        E(-1, t)
                    }
                } else E(-1, "No Transport");

                function E(t, e, a, u) {
                    var p, h, _, x, b, w = e;
                    l || (l = !0, s && r.clearTimeout(s), n = void 0, o = u || "", T.readyState = t > 0 ? 4 : 0, p = t >= 200 && t < 300 || 304 === t, a && (x = function(t, e, r) {
                        for (var n, i, o, a, s = t.contents, u = t.dataTypes;
                            "*" === u[0];) u.shift(), void 0 === n && (n = t.mimeType || e.getResponseHeader("Content-Type"));
                        if (n)
                            for (i in s)
                                if (s[i] && s[i].test(n)) {
                                    u.unshift(i);
                                    break
                                } if (u[0] in r) o = u[0];
                        else {
                            for (i in r) {
                                if (!u[0] || t.converters[i + " " + u[0]]) {
                                    o = i;
                                    break
                                }
                                a || (a = i)
                            }
                            o = o || a
                        }
                        if (o) return o !== u[0] && u.unshift(o), r[o]
                    }(f, T, a)), !p && S.inArray("script", f.dataTypes) > -1 && (f.converters["text script"] = function() {}), x = function(t, e, r, n) {
                        var i, o, a, s, u, l = {},
                            c = t.dataTypes.slice();
                        if (c[1])
                            for (a in t.converters) l[a.toLowerCase()] = t.converters[a];
                        for (o = c.shift(); o;)
                            if (t.responseFields[o] && (r[t.responseFields[o]] = e), !u && n && t.dataFilter && (e = t.dataFilter(e, t.dataType)), u = o, o = c.shift())
                                if ("*" === o) o = u;
                                else if ("*" !== u && u !== o) {
                            if (!(a = l[u + " " + o] || l["* " + o]))
                                for (i in l)
                                    if ((s = i.split(" "))[1] === o && (a = l[u + " " + s[0]] || l["* " + s[0]])) {
                                        !0 === a ? a = l[i] : !0 !== l[i] && (o = s[0], c.unshift(s[1]));
                                        break
                                    } if (!0 !== a)
                                if (a && t.throws) e = a(e);
                                else try {
                                    e = a(e)
                                } catch (t) {
                                    return {
                                        state: "parsererror",
                                        error: a ? t : "No conversion from " + u + " to " + o
                                    }
                                }
                        }
                        return {
                            state: "success",
                            data: e
                        }
                    }(f, x, T, p), p ? (f.ifModified && ((b = T.getResponseHeader("Last-Modified")) && (S.lastModified[i] = b), (b = T.getResponseHeader("etag")) && (S.etag[i] = b)), 204 === t || "HEAD" === f.type ? w = "nocontent" : 304 === t ? w = "notmodified" : (w = x.state, h = x.data, p = !(_ = x.error))) : (_ = w, !t && w || (w = "error", t < 0 && (t = 0))), T.status = t, T.statusText = (e || w) + "", p ? y.resolveWith(d, [h, w, T]) : y.rejectWith(d, [T, w, _]), T.statusCode(g), g = void 0, c && m.trigger(p ? "ajaxSuccess" : "ajaxError", [T, f, p ? h : _]), v.fireWith(d, [T, w]), c && (m.trigger("ajaxComplete", [T, f]), --S.active || S.event.trigger("ajaxStop")))
                }
                return T
            },
            getJSON: function(t, e, r) {
                return S.get(t, e, r, "json")
            },
            getScript: function(t, e) {
                return S.get(t, void 0, e, "script")
            }
        }), S.each(["get", "post"], (function(t, e) {
            S[e] = function(t, r, n, i) {
                return v(r) && (i = i || n, n = r, r = void 0), S.ajax(S.extend({
                    url: t,
                    type: e,
                    dataType: i,
                    data: r,
                    success: n
                }, S.isPlainObject(t) && t))
            }
        })), S.ajaxPrefilter((function(t) {
            var e;
            for (e in t.headers) "content-type" === e.toLowerCase() && (t.contentType = t.headers[e] || "")
        })), S._evalUrl = function(t, e, r) {
            return S.ajax({
                url: t,
                type: "GET",
                dataType: "script",
                cache: !0,
                async: !1,
                global: !1,
                converters: {
                    "text script": function() {}
                },
                dataFilter: function(t) {
                    S.globalEval(t, e, r)
                }
            })
        }, S.fn.extend({
            wrapAll: function(t) {
                var e;
                return this[0] && (v(t) && (t = t.call(this[0])), e = S(t, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && e.insertBefore(this[0]), e.map((function() {
                    for (var t = this; t.firstElementChild;) t = t.firstElementChild;
                    return t
                })).append(this)), this
            },
            wrapInner: function(t) {
                return v(t) ? this.each((function(e) {
                    S(this).wrapInner(t.call(this, e))
                })) : this.each((function() {
                    var e = S(this),
                        r = e.contents();
                    r.length ? r.wrapAll(t) : e.append(t)
                }))
            },
            wrap: function(t) {
                var e = v(t);
                return this.each((function(r) {
                    S(this).wrapAll(e ? t.call(this, r) : t)
                }))
            },
            unwrap: function(t) {
                return this.parent(t).not("body").each((function() {
                    S(this).replaceWith(this.childNodes)
                })), this
            }
        }), S.expr.pseudos.hidden = function(t) {
            return !S.expr.pseudos.visible(t)
        }, S.expr.pseudos.visible = function(t) {
            return !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length)
        }, S.ajaxSettings.xhr = function() {
            try {
                return new r.XMLHttpRequest
            } catch (t) {}
        };
        var $e = {
                0: 200,
                1223: 204
            },
            Ge = S.ajaxSettings.xhr();
        y.cors = !!Ge && "withCredentials" in Ge, y.ajax = Ge = !!Ge, S.ajaxTransport((function(t) {
            var e, n;
            if (y.cors || Ge && !t.crossDomain) return {
                send: function(i, o) {
                    var a, s = t.xhr();
                    if (s.open(t.type, t.url, t.async, t.username, t.password), t.xhrFields)
                        for (a in t.xhrFields) s[a] = t.xhrFields[a];
                    for (a in t.mimeType && s.overrideMimeType && s.overrideMimeType(t.mimeType), t.crossDomain || i["X-Requested-With"] || (i["X-Requested-With"] = "XMLHttpRequest"), i) s.setRequestHeader(a, i[a]);
                    e = function(t) {
                        return function() {
                            e && (e = n = s.onload = s.onerror = s.onabort = s.ontimeout = s.onreadystatechange = null, "abort" === t ? s.abort() : "error" === t ? "number" != typeof s.status ? o(0, "error") : o(s.status, s.statusText) : o($e[s.status] || s.status, s.statusText, "text" !== (s.responseType || "text") || "string" != typeof s.responseText ? {
                                binary: s.response
                            } : {
                                text: s.responseText
                            }, s.getAllResponseHeaders()))
                        }
                    }, s.onload = e(), n = s.onerror = s.ontimeout = e("error"), void 0 !== s.onabort ? s.onabort = n : s.onreadystatechange = function() {
                        4 === s.readyState && r.setTimeout((function() {
                            e && n()
                        }))
                    }, e = e("abort");
                    try {
                        s.send(t.hasContent && t.data || null)
                    } catch (t) {
                        if (e) throw t
                    }
                },
                abort: function() {
                    e && e()
                }
            }
        })), S.ajaxPrefilter((function(t) {
            t.crossDomain && (t.contents.script = !1)
        })), S.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /\b(?:java|ecma)script\b/
            },
            converters: {
                "text script": function(t) {
                    return S.globalEval(t), t
                }
            }
        }), S.ajaxPrefilter("script", (function(t) {
            void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET")
        })), S.ajaxTransport("script", (function(t) {
            var e, r;
            if (t.crossDomain || t.scriptAttrs) return {
                send: function(n, i) {
                    e = S("<script>").attr(t.scriptAttrs || {}).prop({
                        charset: t.scriptCharset,
                        src: t.url
                    }).on("load error", r = function(t) {
                        e.remove(), r = null, t && i("error" === t.type ? 404 : 200, t.type)
                    }), _.head.appendChild(e[0])
                },
                abort: function() {
                    r && r()
                }
            }
        }));
        var He, We = [],
            Xe = /(=)\?(?=&|$)|\?\?/;
        S.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var t = We.pop() || S.expando + "_" + Ee.guid++;
                return this[t] = !0, t
            }
        }), S.ajaxPrefilter("json jsonp", (function(t, e, n) {
            var i, o, a, s = !1 !== t.jsonp && (Xe.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && Xe.test(t.data) && "data");
            if (s || "jsonp" === t.dataTypes[0]) return i = t.jsonpCallback = v(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, s ? t[s] = t[s].replace(Xe, "$1" + i) : !1 !== t.jsonp && (t.url += (Ae.test(t.url) ? "&" : "?") + t.jsonp + "=" + i), t.converters["script json"] = function() {
                return a || S.error(i + " was not called"), a[0]
            }, t.dataTypes[0] = "json", o = r[i], r[i] = function() {
                a = arguments
            }, n.always((function() {
                void 0 === o ? S(r).removeProp(i) : r[i] = o, t[i] && (t.jsonpCallback = e.jsonpCallback, We.push(i)), a && v(o) && o(a[0]), a = o = void 0
            })), "script"
        })), y.createHTMLDocument = ((He = _.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>", 2 === He.childNodes.length), S.parseHTML = function(t, e, r) {
            return "string" != typeof t ? [] : ("boolean" == typeof e && (r = e, e = !1), e || (y.createHTMLDocument ? ((n = (e = _.implementation.createHTMLDocument("")).createElement("base")).href = _.location.href, e.head.appendChild(n)) : e = _), o = !r && [], (i = P.exec(t)) ? [e.createElement(i[1])] : (i = wt([t], e, o), o && o.length && S(o).remove(), S.merge([], i.childNodes)));
            var n, i, o
        }, S.fn.load = function(t, e, r) {
            var n, i, o, a = this,
                s = t.indexOf(" ");
            return s > -1 && (n = ge(t.slice(s)), t = t.slice(0, s)), v(e) ? (r = e, e = void 0) : e && "object" == typeof e && (i = "POST"), a.length > 0 && S.ajax({
                url: t,
                type: i || "GET",
                dataType: "html",
                data: e
            }).done((function(t) {
                o = arguments, a.html(n ? S("<div>").append(S.parseHTML(t)).find(n) : t)
            })).always(r && function(t, e) {
                a.each((function() {
                    r.apply(this, o || [t.responseText, e, t])
                }))
            }), this
        }, S.expr.pseudos.animated = function(t) {
            return S.grep(S.timers, (function(e) {
                return t === e.elem
            })).length
        }, S.offset = {
            setOffset: function(t, e, r) {
                var n, i, o, a, s, u, l = S.css(t, "position"),
                    c = S(t),
                    p = {};
                "static" === l && (t.style.position = "relative"), s = c.offset(), o = S.css(t, "top"), u = S.css(t, "left"), ("absolute" === l || "fixed" === l) && (o + u).indexOf("auto") > -1 ? (a = (n = c.position()).top, i = n.left) : (a = parseFloat(o) || 0, i = parseFloat(u) || 0), v(e) && (e = e.call(t, r, S.extend({}, s))), null != e.top && (p.top = e.top - s.top + a), null != e.left && (p.left = e.left - s.left + i), "using" in e ? e.using.call(t, p) : ("number" == typeof p.top && (p.top += "px"), "number" == typeof p.left && (p.left += "px"), c.css(p))
            }
        }, S.fn.extend({
            offset: function(t) {
                if (arguments.length) return void 0 === t ? this : this.each((function(e) {
                    S.offset.setOffset(this, t, e)
                }));
                var e, r, n = this[0];
                return n ? n.getClientRects().length ? (e = n.getBoundingClientRect(), r = n.ownerDocument.defaultView, {
                    top: e.top + r.pageYOffset,
                    left: e.left + r.pageXOffset
                }) : {
                    top: 0,
                    left: 0
                } : void 0
            },
            position: function() {
                if (this[0]) {
                    var t, e, r, n = this[0],
                        i = {
                            top: 0,
                            left: 0
                        };
                    if ("fixed" === S.css(n, "position")) e = n.getBoundingClientRect();
                    else {
                        for (e = this.offset(), r = n.ownerDocument, t = n.offsetParent || r.documentElement; t && (t === r.body || t === r.documentElement) && "static" === S.css(t, "position");) t = t.parentNode;
                        t && t !== n && 1 === t.nodeType && ((i = S(t).offset()).top += S.css(t, "borderTopWidth", !0), i.left += S.css(t, "borderLeftWidth", !0))
                    }
                    return {
                        top: e.top - i.top - S.css(n, "marginTop", !0),
                        left: e.left - i.left - S.css(n, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function() {
                return this.map((function() {
                    for (var t = this.offsetParent; t && "static" === S.css(t, "position");) t = t.offsetParent;
                    return t || ot
                }))
            }
        }), S.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, (function(t, e) {
            var r = "pageYOffset" === e;
            S.fn[t] = function(n) {
                return Z(this, (function(t, n, i) {
                    var o;
                    if (g(t) ? o = t : 9 === t.nodeType && (o = t.defaultView), void 0 === i) return o ? o[e] : t[n];
                    o ? o.scrollTo(r ? o.pageXOffset : i, r ? i : o.pageYOffset) : t[n] = i
                }), t, n, arguments.length)
            }
        })), S.each(["top", "left"], (function(t, e) {
            S.cssHooks[e] = Gt(y.pixelPosition, (function(t, r) {
                if (r) return r = $t(t, e), jt.test(r) ? S(t).position()[e] + "px" : r
            }))
        })), S.each({
            Height: "height",
            Width: "width"
        }, (function(t, e) {
            S.each({
                padding: "inner" + t,
                content: e,
                "": "outer" + t
            }, (function(r, n) {
                S.fn[n] = function(i, o) {
                    var a = arguments.length && (r || "boolean" != typeof i),
                        s = r || (!0 === i || !0 === o ? "margin" : "border");
                    return Z(this, (function(e, r, i) {
                        var o;
                        return g(e) ? 0 === n.indexOf("outer") ? e["inner" + t] : e.document.documentElement["client" + t] : 9 === e.nodeType ? (o = e.documentElement, Math.max(e.body["scroll" + t], o["scroll" + t], e.body["offset" + t], o["offset" + t], o["client" + t])) : void 0 === i ? S.css(e, r, s) : S.style(e, r, i, s)
                    }), e, a ? i : void 0, a)
                }
            }))
        })), S.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], (function(t, e) {
            S.fn[e] = function(t) {
                return this.on(e, t)
            }
        })), S.fn.extend({
            bind: function(t, e, r) {
                return this.on(t, null, e, r)
            },
            unbind: function(t, e) {
                return this.off(t, null, e)
            },
            delegate: function(t, e, r, n) {
                return this.on(e, t, r, n)
            },
            undelegate: function(t, e, r) {
                return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", r)
            },
            hover: function(t, e) {
                return this.mouseenter(t).mouseleave(e || t)
            }
        }), S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), (function(t, e) {
            S.fn[e] = function(t, r) {
                return arguments.length > 0 ? this.on(e, null, t, r) : this.trigger(e)
            }
        }));
        var Ke = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
        S.proxy = function(t, e) {
            var r, n, i;
            if ("string" == typeof e && (r = t[e], e = t, t = r), v(t)) return n = s.call(arguments, 2), (i = function() {
                return t.apply(e || this, n.concat(s.call(arguments)))
            }).guid = t.guid = t.guid || S.guid++, i
        }, S.holdReady = function(t) {
            t ? S.readyWait++ : S.ready(!0)
        }, S.isArray = Array.isArray, S.parseJSON = JSON.parse, S.nodeName = k, S.isFunction = v, S.isWindow = g, S.camelCase = W, S.type = w, S.now = Date.now, S.isNumeric = function(t) {
            var e = S.type(t);
            return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t))
        }, S.trim = function(t) {
            return null == t ? "" : (t + "").replace(Ke, "")
        }, void 0 === (n = function() {
            return S
        }.apply(e, [])) || (t.exports = n);
        var Je = r.jQuery,
            Ye = r.$;
        return S.noConflict = function(t) {
            return r.$ === S && (r.$ = Ye), t && r.jQuery === S && (r.jQuery = Je), S
        }, void 0 === i && (r.jQuery = r.$ = S), S
    }))
}, function(t, e, r) {
    "use strict";
    (function(t, r) {
        /*!
         * Vue.js v2.6.11
         * (c) 2014-2019 Evan You
         * Released under the MIT License.
         */
        var n = Object.freeze({});

        function i(t) {
            return null == t
        }

        function o(t) {
            return null != t
        }

        function a(t) {
            return !0 === t
        }

        function s(t) {
            return "string" == typeof t || "number" == typeof t || "symbol" == typeof t || "boolean" == typeof t
        }

        function u(t) {
            return null !== t && "object" == typeof t
        }
        var l = Object.prototype.toString;

        function c(t) {
            return "[object Object]" === l.call(t)
        }

        function p(t) {
            return "[object RegExp]" === l.call(t)
        }

        function h(t) {
            var e = parseFloat(String(t));
            return e >= 0 && Math.floor(e) === e && isFinite(t)
        }

        function f(t) {
            return o(t) && "function" == typeof t.then && "function" == typeof t.catch
        }

        function d(t) {
            return null == t ? "" : Array.isArray(t) || c(t) && t.toString === l ? JSON.stringify(t, null, 2) : String(t)
        }

        function m(t) {
            var e = parseFloat(t);
            return isNaN(e) ? t : e
        }

        function y(t, e) {
            for (var r = Object.create(null), n = t.split(","), i = 0; i < n.length; i++) r[n[i]] = !0;
            return e ? function(t) {
                return r[t.toLowerCase()]
            } : function(t) {
                return r[t]
            }
        }
        var v = y("slot,component", !0),
            g = y("key,ref,slot,slot-scope,is");

        function _(t, e) {
            if (t.length) {
                var r = t.indexOf(e);
                if (r > -1) return t.splice(r, 1)
            }
        }
        var x = Object.prototype.hasOwnProperty;

        function b(t, e) {
            return x.call(t, e)
        }

        function w(t) {
            var e = Object.create(null);
            return function(r) {
                return e[r] || (e[r] = t(r))
            }
        }
        var S = /-(\w)/g,
            T = w((function(t) {
                return t.replace(S, (function(t, e) {
                    return e ? e.toUpperCase() : ""
                }))
            })),
            E = w((function(t) {
                return t.charAt(0).toUpperCase() + t.slice(1)
            })),
            A = /\B([A-Z])/g,
            C = w((function(t) {
                return t.replace(A, "-$1").toLowerCase()
            }));
        var I = Function.prototype.bind ? function(t, e) {
            return t.bind(e)
        } : function(t, e) {
            function r(r) {
                var n = arguments.length;
                return n ? n > 1 ? t.apply(e, arguments) : t.call(e, r) : t.call(e)
            }
            return r._length = t.length, r
        };

        function k(t, e) {
            e = e || 0;
            for (var r = t.length - e, n = new Array(r); r--;) n[r] = t[r + e];
            return n
        }

        function P(t, e) {
            for (var r in e) t[r] = e[r];
            return t
        }

        function z(t) {
            for (var e = {}, r = 0; r < t.length; r++) t[r] && P(e, t[r]);
            return e
        }

        function M(t, e, r) {}
        var D = function(t, e, r) {
                return !1
            },
            L = function(t) {
                return t
            };

        function O(t, e) {
            if (t === e) return !0;
            var r = u(t),
                n = u(e);
            if (!r || !n) return !r && !n && String(t) === String(e);
            try {
                var i = Array.isArray(t),
                    o = Array.isArray(e);
                if (i && o) return t.length === e.length && t.every((function(t, r) {
                    return O(t, e[r])
                }));
                if (t instanceof Date && e instanceof Date) return t.getTime() === e.getTime();
                if (i || o) return !1;
                var a = Object.keys(t),
                    s = Object.keys(e);
                return a.length === s.length && a.every((function(r) {
                    return O(t[r], e[r])
                }))
            } catch (t) {
                return !1
            }
        }

        function R(t, e) {
            for (var r = 0; r < t.length; r++)
                if (O(t[r], e)) return r;
            return -1
        }

        function B(t) {
            var e = !1;
            return function() {
                e || (e = !0, t.apply(this, arguments))
            }
        }
        var F = ["component", "directive", "filter"],
            N = ["beforeCreate", "created", "beforeMount", "mounted", "beforeUpdate", "updated", "beforeDestroy", "destroyed", "activated", "deactivated", "errorCaptured", "serverPrefetch"],
            U = {
                optionMergeStrategies: Object.create(null),
                silent: !1,
                productionTip: !1,
                devtools: !1,
                performance: !1,
                errorHandler: null,
                warnHandler: null,
                ignoredElements: [],
                keyCodes: Object.create(null),
                isReservedTag: D,
                isReservedAttr: D,
                isUnknownElement: D,
                getTagNamespace: M,
                parsePlatformTagName: L,
                mustUseProp: D,
                async: !0,
                _lifecycleHooks: N
            },
            j = /a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;

        function V(t) {
            var e = (t + "").charCodeAt(0);
            return 36 === e || 95 === e
        }

        function q(t, e, r, n) {
            Object.defineProperty(t, e, {
                value: r,
                enumerable: !!n,
                writable: !0,
                configurable: !0
            })
        }
        var Z = new RegExp("[^" + j.source + ".$_\\d]");
        var $, G = "__proto__" in {},
            H = "undefined" != typeof window,
            W = "undefined" != typeof WXEnvironment && !!WXEnvironment.platform,
            X = W && WXEnvironment.platform.toLowerCase(),
            K = H && window.navigator.userAgent.toLowerCase(),
            J = K && /msie|trident/.test(K),
            Y = K && K.indexOf("msie 9.0") > 0,
            Q = K && K.indexOf("edge/") > 0,
            tt = (K && K.indexOf("android"), K && /iphone|ipad|ipod|ios/.test(K) || "ios" === X),
            et = (K && /chrome\/\d+/.test(K), K && /phantomjs/.test(K), K && K.match(/firefox\/(\d+)/)),
            rt = {}.watch,
            nt = !1;
        if (H) try {
            var it = {};
            Object.defineProperty(it, "passive", {
                get: function() {
                    nt = !0
                }
            }), window.addEventListener("test-passive", null, it)
        } catch (t) {}
        var ot = function() {
                return void 0 === $ && ($ = !H && !W && void 0 !== t && (t.process && "server" === t.process.env.VUE_ENV)), $
            },
            at = H && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;

        function st(t) {
            return "function" == typeof t && /native code/.test(t.toString())
        }
        var ut, lt = "undefined" != typeof Symbol && st(Symbol) && "undefined" != typeof Reflect && st(Reflect.ownKeys);
        ut = "undefined" != typeof Set && st(Set) ? Set : function() {
            function t() {
                this.set = Object.create(null)
            }
            return t.prototype.has = function(t) {
                return !0 === this.set[t]
            }, t.prototype.add = function(t) {
                this.set[t] = !0
            }, t.prototype.clear = function() {
                this.set = Object.create(null)
            }, t
        }();
        var ct = M,
            pt = 0,
            ht = function() {
                this.id = pt++, this.subs = []
            };
        ht.prototype.addSub = function(t) {
            this.subs.push(t)
        }, ht.prototype.removeSub = function(t) {
            _(this.subs, t)
        }, ht.prototype.depend = function() {
            ht.target && ht.target.addDep(this)
        }, ht.prototype.notify = function() {
            var t = this.subs.slice();
            for (var e = 0, r = t.length; e < r; e++) t[e].update()
        }, ht.target = null;
        var ft = [];

        function dt(t) {
            ft.push(t), ht.target = t
        }

        function mt() {
            ft.pop(), ht.target = ft[ft.length - 1]
        }
        var yt = function(t, e, r, n, i, o, a, s) {
                this.tag = t, this.data = e, this.children = r, this.text = n, this.elm = i, this.ns = void 0, this.context = o, this.fnContext = void 0, this.fnOptions = void 0, this.fnScopeId = void 0, this.key = e && e.key, this.componentOptions = a, this.componentInstance = void 0, this.parent = void 0, this.raw = !1, this.isStatic = !1, this.isRootInsert = !0, this.isComment = !1, this.isCloned = !1, this.isOnce = !1, this.asyncFactory = s, this.asyncMeta = void 0, this.isAsyncPlaceholder = !1
            },
            vt = {
                child: {
                    configurable: !0
                }
            };
        vt.child.get = function() {
            return this.componentInstance
        }, Object.defineProperties(yt.prototype, vt);
        var gt = function(t) {
            void 0 === t && (t = "");
            var e = new yt;
            return e.text = t, e.isComment = !0, e
        };

        function _t(t) {
            return new yt(void 0, void 0, void 0, String(t))
        }

        function xt(t) {
            var e = new yt(t.tag, t.data, t.children && t.children.slice(), t.text, t.elm, t.context, t.componentOptions, t.asyncFactory);
            return e.ns = t.ns, e.isStatic = t.isStatic, e.key = t.key, e.isComment = t.isComment, e.fnContext = t.fnContext, e.fnOptions = t.fnOptions, e.fnScopeId = t.fnScopeId, e.asyncMeta = t.asyncMeta, e.isCloned = !0, e
        }
        var bt = Array.prototype,
            wt = Object.create(bt);
        ["push", "pop", "shift", "unshift", "splice", "sort", "reverse"].forEach((function(t) {
            var e = bt[t];
            q(wt, t, (function() {
                for (var r = [], n = arguments.length; n--;) r[n] = arguments[n];
                var i, o = e.apply(this, r),
                    a = this.__ob__;
                switch (t) {
                    case "push":
                    case "unshift":
                        i = r;
                        break;
                    case "splice":
                        i = r.slice(2)
                }
                return i && a.observeArray(i), a.dep.notify(), o
            }))
        }));
        var St = Object.getOwnPropertyNames(wt),
            Tt = !0;

        function Et(t) {
            Tt = t
        }
        var At = function(t) {
            this.value = t, this.dep = new ht, this.vmCount = 0, q(t, "__ob__", this), Array.isArray(t) ? (G ? function(t, e) {
                t.__proto__ = e
            }(t, wt) : function(t, e, r) {
                for (var n = 0, i = r.length; n < i; n++) {
                    var o = r[n];
                    q(t, o, e[o])
                }
            }(t, wt, St), this.observeArray(t)) : this.walk(t)
        };

        function Ct(t, e) {
            var r;
            if (u(t) && !(t instanceof yt)) return b(t, "__ob__") && t.__ob__ instanceof At ? r = t.__ob__ : Tt && !ot() && (Array.isArray(t) || c(t)) && Object.isExtensible(t) && !t._isVue && (r = new At(t)), e && r && r.vmCount++, r
        }

        function It(t, e, r, n, i) {
            var o = new ht,
                a = Object.getOwnPropertyDescriptor(t, e);
            if (!a || !1 !== a.configurable) {
                var s = a && a.get,
                    u = a && a.set;
                s && !u || 2 !== arguments.length || (r = t[e]);
                var l = !i && Ct(r);
                Object.defineProperty(t, e, {
                    enumerable: !0,
                    configurable: !0,
                    get: function() {
                        var e = s ? s.call(t) : r;
                        return ht.target && (o.depend(), l && (l.dep.depend(), Array.isArray(e) && zt(e))), e
                    },
                    set: function(e) {
                        var n = s ? s.call(t) : r;
                        e === n || e != e && n != n || s && !u || (u ? u.call(t, e) : r = e, l = !i && Ct(e), o.notify())
                    }
                })
            }
        }

        function kt(t, e, r) {
            if (Array.isArray(t) && h(e)) return t.length = Math.max(t.length, e), t.splice(e, 1, r), r;
            if (e in t && !(e in Object.prototype)) return t[e] = r, r;
            var n = t.__ob__;
            return t._isVue || n && n.vmCount ? r : n ? (It(n.value, e, r), n.dep.notify(), r) : (t[e] = r, r)
        }

        function Pt(t, e) {
            if (Array.isArray(t) && h(e)) t.splice(e, 1);
            else {
                var r = t.__ob__;
                t._isVue || r && r.vmCount || b(t, e) && (delete t[e], r && r.dep.notify())
            }
        }

        function zt(t) {
            for (var e = void 0, r = 0, n = t.length; r < n; r++)(e = t[r]) && e.__ob__ && e.__ob__.dep.depend(), Array.isArray(e) && zt(e)
        }
        At.prototype.walk = function(t) {
            for (var e = Object.keys(t), r = 0; r < e.length; r++) It(t, e[r])
        }, At.prototype.observeArray = function(t) {
            for (var e = 0, r = t.length; e < r; e++) Ct(t[e])
        };
        var Mt = U.optionMergeStrategies;

        function Dt(t, e) {
            if (!e) return t;
            for (var r, n, i, o = lt ? Reflect.ownKeys(e) : Object.keys(e), a = 0; a < o.length; a++) "__ob__" !== (r = o[a]) && (n = t[r], i = e[r], b(t, r) ? n !== i && c(n) && c(i) && Dt(n, i) : kt(t, r, i));
            return t
        }

        function Lt(t, e, r) {
            return r ? function() {
                var n = "function" == typeof e ? e.call(r, r) : e,
                    i = "function" == typeof t ? t.call(r, r) : t;
                return n ? Dt(n, i) : i
            } : e ? t ? function() {
                return Dt("function" == typeof e ? e.call(this, this) : e, "function" == typeof t ? t.call(this, this) : t)
            } : e : t
        }

        function Ot(t, e) {
            var r = e ? t ? t.concat(e) : Array.isArray(e) ? e : [e] : t;
            return r ? function(t) {
                for (var e = [], r = 0; r < t.length; r++) - 1 === e.indexOf(t[r]) && e.push(t[r]);
                return e
            }(r) : r
        }

        function Rt(t, e, r, n) {
            var i = Object.create(t || null);
            return e ? P(i, e) : i
        }
        Mt.data = function(t, e, r) {
            return r ? Lt(t, e, r) : e && "function" != typeof e ? t : Lt(t, e)
        }, N.forEach((function(t) {
            Mt[t] = Ot
        })), F.forEach((function(t) {
            Mt[t + "s"] = Rt
        })), Mt.watch = function(t, e, r, n) {
            if (t === rt && (t = void 0), e === rt && (e = void 0), !e) return Object.create(t || null);
            if (!t) return e;
            var i = {};
            for (var o in P(i, t), e) {
                var a = i[o],
                    s = e[o];
                a && !Array.isArray(a) && (a = [a]), i[o] = a ? a.concat(s) : Array.isArray(s) ? s : [s]
            }
            return i
        }, Mt.props = Mt.methods = Mt.inject = Mt.computed = function(t, e, r, n) {
            if (!t) return e;
            var i = Object.create(null);
            return P(i, t), e && P(i, e), i
        }, Mt.provide = Lt;
        var Bt = function(t, e) {
            return void 0 === e ? t : e
        };

        function Ft(t, e, r) {
            if ("function" == typeof e && (e = e.options), function(t, e) {
                    var r = t.props;
                    if (r) {
                        var n, i, o = {};
                        if (Array.isArray(r))
                            for (n = r.length; n--;) "string" == typeof(i = r[n]) && (o[T(i)] = {
                                type: null
                            });
                        else if (c(r))
                            for (var a in r) i = r[a], o[T(a)] = c(i) ? i : {
                                type: i
                            };
                        else 0;
                        t.props = o
                    }
                }(e), function(t, e) {
                    var r = t.inject;
                    if (r) {
                        var n = t.inject = {};
                        if (Array.isArray(r))
                            for (var i = 0; i < r.length; i++) n[r[i]] = {
                                from: r[i]
                            };
                        else if (c(r))
                            for (var o in r) {
                                var a = r[o];
                                n[o] = c(a) ? P({
                                    from: o
                                }, a) : {
                                    from: a
                                }
                            } else 0
                    }
                }(e), function(t) {
                    var e = t.directives;
                    if (e)
                        for (var r in e) {
                            var n = e[r];
                            "function" == typeof n && (e[r] = {
                                bind: n,
                                update: n
                            })
                        }
                }(e), !e._base && (e.extends && (t = Ft(t, e.extends, r)), e.mixins))
                for (var n = 0, i = e.mixins.length; n < i; n++) t = Ft(t, e.mixins[n], r);
            var o, a = {};
            for (o in t) s(o);
            for (o in e) b(t, o) || s(o);

            function s(n) {
                var i = Mt[n] || Bt;
                a[n] = i(t[n], e[n], r, n)
            }
            return a
        }

        function Nt(t, e, r, n) {
            if ("string" == typeof r) {
                var i = t[e];
                if (b(i, r)) return i[r];
                var o = T(r);
                if (b(i, o)) return i[o];
                var a = E(o);
                return b(i, a) ? i[a] : i[r] || i[o] || i[a]
            }
        }

        function Ut(t, e, r, n) {
            var i = e[t],
                o = !b(r, t),
                a = r[t],
                s = qt(Boolean, i.type);
            if (s > -1)
                if (o && !b(i, "default")) a = !1;
                else if ("" === a || a === C(t)) {
                var u = qt(String, i.type);
                (u < 0 || s < u) && (a = !0)
            }
            if (void 0 === a) {
                a = function(t, e, r) {
                    if (!b(e, "default")) return;
                    var n = e.default;
                    0;
                    if (t && t.$options.propsData && void 0 === t.$options.propsData[r] && void 0 !== t._props[r]) return t._props[r];
                    return "function" == typeof n && "Function" !== jt(e.type) ? n.call(t) : n
                }(n, i, t);
                var l = Tt;
                Et(!0), Ct(a), Et(l)
            }
            return a
        }

        function jt(t) {
            var e = t && t.toString().match(/^\s*function (\w+)/);
            return e ? e[1] : ""
        }

        function Vt(t, e) {
            return jt(t) === jt(e)
        }

        function qt(t, e) {
            if (!Array.isArray(e)) return Vt(e, t) ? 0 : -1;
            for (var r = 0, n = e.length; r < n; r++)
                if (Vt(e[r], t)) return r;
            return -1
        }

        function Zt(t, e, r) {
            dt();
            try {
                if (e)
                    for (var n = e; n = n.$parent;) {
                        var i = n.$options.errorCaptured;
                        if (i)
                            for (var o = 0; o < i.length; o++) try {
                                if (!1 === i[o].call(n, t, e, r)) return
                            } catch (t) {
                                Gt(t, n, "errorCaptured hook")
                            }
                    }
                Gt(t, e, r)
            } finally {
                mt()
            }
        }

        function $t(t, e, r, n, i) {
            var o;
            try {
                (o = r ? t.apply(e, r) : t.call(e)) && !o._isVue && f(o) && !o._handled && (o.catch((function(t) {
                    return Zt(t, n, i + " (Promise/async)")
                })), o._handled = !0)
            } catch (t) {
                Zt(t, n, i)
            }
            return o
        }

        function Gt(t, e, r) {
            if (U.errorHandler) try {
                return U.errorHandler.call(null, t, e, r)
            } catch (e) {
                e !== t && Ht(e, null, "config.errorHandler")
            }
            Ht(t, e, r)
        }

        function Ht(t, e, r) {
            if (!H && !W || "undefined" == typeof console) throw t;
            console.error(t)
        }
        var Wt, Xt = !1,
            Kt = [],
            Jt = !1;

        function Yt() {
            Jt = !1;
            var t = Kt.slice(0);
            Kt.length = 0;
            for (var e = 0; e < t.length; e++) t[e]()
        }
        if ("undefined" != typeof Promise && st(Promise)) {
            var Qt = Promise.resolve();
            Wt = function() {
                Qt.then(Yt), tt && setTimeout(M)
            }, Xt = !0
        } else if (J || "undefined" == typeof MutationObserver || !st(MutationObserver) && "[object MutationObserverConstructor]" !== MutationObserver.toString()) Wt = void 0 !== r && st(r) ? function() {
            r(Yt)
        } : function() {
            setTimeout(Yt, 0)
        };
        else {
            var te = 1,
                ee = new MutationObserver(Yt),
                re = document.createTextNode(String(te));
            ee.observe(re, {
                characterData: !0
            }), Wt = function() {
                te = (te + 1) % 2, re.data = String(te)
            }, Xt = !0
        }

        function ne(t, e) {
            var r;
            if (Kt.push((function() {
                    if (t) try {
                        t.call(e)
                    } catch (t) {
                        Zt(t, e, "nextTick")
                    } else r && r(e)
                })), Jt || (Jt = !0, Wt()), !t && "undefined" != typeof Promise) return new Promise((function(t) {
                r = t
            }))
        }
        var ie = new ut;

        function oe(t) {
            ! function t(e, r) {
                var n, i, o = Array.isArray(e);
                if (!o && !u(e) || Object.isFrozen(e) || e instanceof yt) return;
                if (e.__ob__) {
                    var a = e.__ob__.dep.id;
                    if (r.has(a)) return;
                    r.add(a)
                }
                if (o)
                    for (n = e.length; n--;) t(e[n], r);
                else
                    for (i = Object.keys(e), n = i.length; n--;) t(e[i[n]], r)
            }(t, ie), ie.clear()
        }
        var ae = w((function(t) {
            var e = "&" === t.charAt(0),
                r = "~" === (t = e ? t.slice(1) : t).charAt(0),
                n = "!" === (t = r ? t.slice(1) : t).charAt(0);
            return {
                name: t = n ? t.slice(1) : t,
                once: r,
                capture: n,
                passive: e
            }
        }));

        function se(t, e) {
            function r() {
                var t = arguments,
                    n = r.fns;
                if (!Array.isArray(n)) return $t(n, null, arguments, e, "v-on handler");
                for (var i = n.slice(), o = 0; o < i.length; o++) $t(i[o], null, t, e, "v-on handler")
            }
            return r.fns = t, r
        }

        function ue(t, e, r, n, o, s) {
            var u, l, c, p;
            for (u in t) l = t[u], c = e[u], p = ae(u), i(l) || (i(c) ? (i(l.fns) && (l = t[u] = se(l, s)), a(p.once) && (l = t[u] = o(p.name, l, p.capture)), r(p.name, l, p.capture, p.passive, p.params)) : l !== c && (c.fns = l, t[u] = c));
            for (u in e) i(t[u]) && n((p = ae(u)).name, e[u], p.capture)
        }

        function le(t, e, r) {
            var n;
            t instanceof yt && (t = t.data.hook || (t.data.hook = {}));
            var s = t[e];

            function u() {
                r.apply(this, arguments), _(n.fns, u)
            }
            i(s) ? n = se([u]) : o(s.fns) && a(s.merged) ? (n = s).fns.push(u) : n = se([s, u]), n.merged = !0, t[e] = n
        }

        function ce(t, e, r, n, i) {
            if (o(e)) {
                if (b(e, r)) return t[r] = e[r], i || delete e[r], !0;
                if (b(e, n)) return t[r] = e[n], i || delete e[n], !0
            }
            return !1
        }

        function pe(t) {
            return s(t) ? [_t(t)] : Array.isArray(t) ? function t(e, r) {
                var n, u, l, c, p = [];
                for (n = 0; n < e.length; n++) i(u = e[n]) || "boolean" == typeof u || (l = p.length - 1, c = p[l], Array.isArray(u) ? u.length > 0 && (he((u = t(u, (r || "") + "_" + n))[0]) && he(c) && (p[l] = _t(c.text + u[0].text), u.shift()), p.push.apply(p, u)) : s(u) ? he(c) ? p[l] = _t(c.text + u) : "" !== u && p.push(_t(u)) : he(u) && he(c) ? p[l] = _t(c.text + u.text) : (a(e._isVList) && o(u.tag) && i(u.key) && o(r) && (u.key = "__vlist" + r + "_" + n + "__"), p.push(u)));
                return p
            }(t) : void 0
        }

        function he(t) {
            return o(t) && o(t.text) && !1 === t.isComment
        }

        function fe(t, e) {
            if (t) {
                for (var r = Object.create(null), n = lt ? Reflect.ownKeys(t) : Object.keys(t), i = 0; i < n.length; i++) {
                    var o = n[i];
                    if ("__ob__" !== o) {
                        for (var a = t[o].from, s = e; s;) {
                            if (s._provided && b(s._provided, a)) {
                                r[o] = s._provided[a];
                                break
                            }
                            s = s.$parent
                        }
                        if (!s)
                            if ("default" in t[o]) {
                                var u = t[o].default;
                                r[o] = "function" == typeof u ? u.call(e) : u
                            } else 0
                    }
                }
                return r
            }
        }

        function de(t, e) {
            if (!t || !t.length) return {};
            for (var r = {}, n = 0, i = t.length; n < i; n++) {
                var o = t[n],
                    a = o.data;
                if (a && a.attrs && a.attrs.slot && delete a.attrs.slot, o.context !== e && o.fnContext !== e || !a || null == a.slot)(r.default || (r.default = [])).push(o);
                else {
                    var s = a.slot,
                        u = r[s] || (r[s] = []);
                    "template" === o.tag ? u.push.apply(u, o.children || []) : u.push(o)
                }
            }
            for (var l in r) r[l].every(me) && delete r[l];
            return r
        }

        function me(t) {
            return t.isComment && !t.asyncFactory || " " === t.text
        }

        function ye(t, e, r) {
            var i, o = Object.keys(e).length > 0,
                a = t ? !!t.$stable : !o,
                s = t && t.$key;
            if (t) {
                if (t._normalized) return t._normalized;
                if (a && r && r !== n && s === r.$key && !o && !r.$hasNormal) return r;
                for (var u in i = {}, t) t[u] && "$" !== u[0] && (i[u] = ve(e, u, t[u]))
            } else i = {};
            for (var l in e) l in i || (i[l] = ge(e, l));
            return t && Object.isExtensible(t) && (t._normalized = i), q(i, "$stable", a), q(i, "$key", s), q(i, "$hasNormal", o), i
        }

        function ve(t, e, r) {
            var n = function() {
                var t = arguments.length ? r.apply(null, arguments) : r({});
                return (t = t && "object" == typeof t && !Array.isArray(t) ? [t] : pe(t)) && (0 === t.length || 1 === t.length && t[0].isComment) ? void 0 : t
            };
            return r.proxy && Object.defineProperty(t, e, {
                get: n,
                enumerable: !0,
                configurable: !0
            }), n
        }

        function ge(t, e) {
            return function() {
                return t[e]
            }
        }

        function _e(t, e) {
            var r, n, i, a, s;
            if (Array.isArray(t) || "string" == typeof t)
                for (r = new Array(t.length), n = 0, i = t.length; n < i; n++) r[n] = e(t[n], n);
            else if ("number" == typeof t)
                for (r = new Array(t), n = 0; n < t; n++) r[n] = e(n + 1, n);
            else if (u(t))
                if (lt && t[Symbol.iterator]) {
                    r = [];
                    for (var l = t[Symbol.iterator](), c = l.next(); !c.done;) r.push(e(c.value, r.length)), c = l.next()
                } else
                    for (a = Object.keys(t), r = new Array(a.length), n = 0, i = a.length; n < i; n++) s = a[n], r[n] = e(t[s], s, n);
            return o(r) || (r = []), r._isVList = !0, r
        }

        function xe(t, e, r, n) {
            var i, o = this.$scopedSlots[t];
            o ? (r = r || {}, n && (r = P(P({}, n), r)), i = o(r) || e) : i = this.$slots[t] || e;
            var a = r && r.slot;
            return a ? this.$createElement("template", {
                slot: a
            }, i) : i
        }

        function be(t) {
            return Nt(this.$options, "filters", t) || L
        }

        function we(t, e) {
            return Array.isArray(t) ? -1 === t.indexOf(e) : t !== e
        }

        function Se(t, e, r, n, i) {
            var o = U.keyCodes[e] || r;
            return i && n && !U.keyCodes[e] ? we(i, n) : o ? we(o, t) : n ? C(n) !== e : void 0
        }

        function Te(t, e, r, n, i) {
            if (r)
                if (u(r)) {
                    var o;
                    Array.isArray(r) && (r = z(r));
                    var a = function(a) {
                        if ("class" === a || "style" === a || g(a)) o = t;
                        else {
                            var s = t.attrs && t.attrs.type;
                            o = n || U.mustUseProp(e, s, a) ? t.domProps || (t.domProps = {}) : t.attrs || (t.attrs = {})
                        }
                        var u = T(a),
                            l = C(a);
                        u in o || l in o || (o[a] = r[a], i && ((t.on || (t.on = {}))["update:" + a] = function(t) {
                            r[a] = t
                        }))
                    };
                    for (var s in r) a(s)
                } else;
            return t
        }

        function Ee(t, e) {
            var r = this._staticTrees || (this._staticTrees = []),
                n = r[t];
            return n && !e || Ce(n = r[t] = this.$options.staticRenderFns[t].call(this._renderProxy, null, this), "__static__" + t, !1), n
        }

        function Ae(t, e, r) {
            return Ce(t, "__once__" + e + (r ? "_" + r : ""), !0), t
        }

        function Ce(t, e, r) {
            if (Array.isArray(t))
                for (var n = 0; n < t.length; n++) t[n] && "string" != typeof t[n] && Ie(t[n], e + "_" + n, r);
            else Ie(t, e, r)
        }

        function Ie(t, e, r) {
            t.isStatic = !0, t.key = e, t.isOnce = r
        }

        function ke(t, e) {
            if (e)
                if (c(e)) {
                    var r = t.on = t.on ? P({}, t.on) : {};
                    for (var n in e) {
                        var i = r[n],
                            o = e[n];
                        r[n] = i ? [].concat(i, o) : o
                    }
                } else;
            return t
        }

        function Pe(t, e, r, n) {
            e = e || {
                $stable: !r
            };
            for (var i = 0; i < t.length; i++) {
                var o = t[i];
                Array.isArray(o) ? Pe(o, e, r) : o && (o.proxy && (o.fn.proxy = !0), e[o.key] = o.fn)
            }
            return n && (e.$key = n), e
        }

        function ze(t, e) {
            for (var r = 0; r < e.length; r += 2) {
                var n = e[r];
                "string" == typeof n && n && (t[e[r]] = e[r + 1])
            }
            return t
        }

        function Me(t, e) {
            return "string" == typeof t ? e + t : t
        }

        function De(t) {
            t._o = Ae, t._n = m, t._s = d, t._l = _e, t._t = xe, t._q = O, t._i = R, t._m = Ee, t._f = be, t._k = Se, t._b = Te, t._v = _t, t._e = gt, t._u = Pe, t._g = ke, t._d = ze, t._p = Me
        }

        function Le(t, e, r, i, o) {
            var s, u = this,
                l = o.options;
            b(i, "_uid") ? (s = Object.create(i))._original = i : (s = i, i = i._original);
            var c = a(l._compiled),
                p = !c;
            this.data = t, this.props = e, this.children = r, this.parent = i, this.listeners = t.on || n, this.injections = fe(l.inject, i), this.slots = function() {
                return u.$slots || ye(t.scopedSlots, u.$slots = de(r, i)), u.$slots
            }, Object.defineProperty(this, "scopedSlots", {
                enumerable: !0,
                get: function() {
                    return ye(t.scopedSlots, this.slots())
                }
            }), c && (this.$options = l, this.$slots = this.slots(), this.$scopedSlots = ye(t.scopedSlots, this.$slots)), l._scopeId ? this._c = function(t, e, r, n) {
                var o = je(s, t, e, r, n, p);
                return o && !Array.isArray(o) && (o.fnScopeId = l._scopeId, o.fnContext = i), o
            } : this._c = function(t, e, r, n) {
                return je(s, t, e, r, n, p)
            }
        }

        function Oe(t, e, r, n, i) {
            var o = xt(t);
            return o.fnContext = r, o.fnOptions = n, e.slot && ((o.data || (o.data = {})).slot = e.slot), o
        }

        function Re(t, e) {
            for (var r in e) t[T(r)] = e[r]
        }
        De(Le.prototype);
        var Be = {
                init: function(t, e) {
                    if (t.componentInstance && !t.componentInstance._isDestroyed && t.data.keepAlive) {
                        var r = t;
                        Be.prepatch(r, r)
                    } else {
                        (t.componentInstance = function(t, e) {
                            var r = {
                                    _isComponent: !0,
                                    _parentVnode: t,
                                    parent: e
                                },
                                n = t.data.inlineTemplate;
                            o(n) && (r.render = n.render, r.staticRenderFns = n.staticRenderFns);
                            return new t.componentOptions.Ctor(r)
                        }(t, Je)).$mount(e ? t.elm : void 0, e)
                    }
                },
                prepatch: function(t, e) {
                    var r = e.componentOptions;
                    ! function(t, e, r, i, o) {
                        0;
                        var a = i.data.scopedSlots,
                            s = t.$scopedSlots,
                            u = !!(a && !a.$stable || s !== n && !s.$stable || a && t.$scopedSlots.$key !== a.$key),
                            l = !!(o || t.$options._renderChildren || u);
                        t.$options._parentVnode = i, t.$vnode = i, t._vnode && (t._vnode.parent = i);
                        if (t.$options._renderChildren = o, t.$attrs = i.data.attrs || n, t.$listeners = r || n, e && t.$options.props) {
                            Et(!1);
                            for (var c = t._props, p = t.$options._propKeys || [], h = 0; h < p.length; h++) {
                                var f = p[h],
                                    d = t.$options.props;
                                c[f] = Ut(f, d, e, t)
                            }
                            Et(!0), t.$options.propsData = e
                        }
                        r = r || n;
                        var m = t.$options._parentListeners;
                        t.$options._parentListeners = r, Ke(t, r, m), l && (t.$slots = de(o, i.context), t.$forceUpdate());
                        0
                    }(e.componentInstance = t.componentInstance, r.propsData, r.listeners, e, r.children)
                },
                insert: function(t) {
                    var e, r = t.context,
                        n = t.componentInstance;
                    n._isMounted || (n._isMounted = !0, er(n, "mounted")), t.data.keepAlive && (r._isMounted ? ((e = n)._inactive = !1, nr.push(e)) : tr(n, !0))
                },
                destroy: function(t) {
                    var e = t.componentInstance;
                    e._isDestroyed || (t.data.keepAlive ? function t(e, r) {
                        if (r && (e._directInactive = !0, Qe(e))) return;
                        if (!e._inactive) {
                            e._inactive = !0;
                            for (var n = 0; n < e.$children.length; n++) t(e.$children[n]);
                            er(e, "deactivated")
                        }
                    }(e, !0) : e.$destroy())
                }
            },
            Fe = Object.keys(Be);

        function Ne(t, e, r, s, l) {
            if (!i(t)) {
                var c = r.$options._base;
                if (u(t) && (t = c.extend(t)), "function" == typeof t) {
                    var p;
                    if (i(t.cid) && void 0 === (t = function(t, e) {
                            if (a(t.error) && o(t.errorComp)) return t.errorComp;
                            if (o(t.resolved)) return t.resolved;
                            var r = qe;
                            r && o(t.owners) && -1 === t.owners.indexOf(r) && t.owners.push(r);
                            if (a(t.loading) && o(t.loadingComp)) return t.loadingComp;
                            if (r && !o(t.owners)) {
                                var n = t.owners = [r],
                                    s = !0,
                                    l = null,
                                    c = null;
                                r.$on("hook:destroyed", (function() {
                                    return _(n, r)
                                }));
                                var p = function(t) {
                                        for (var e = 0, r = n.length; e < r; e++) n[e].$forceUpdate();
                                        t && (n.length = 0, null !== l && (clearTimeout(l), l = null), null !== c && (clearTimeout(c), c = null))
                                    },
                                    h = B((function(r) {
                                        t.resolved = Ze(r, e), s ? n.length = 0 : p(!0)
                                    })),
                                    d = B((function(e) {
                                        o(t.errorComp) && (t.error = !0, p(!0))
                                    })),
                                    m = t(h, d);
                                return u(m) && (f(m) ? i(t.resolved) && m.then(h, d) : f(m.component) && (m.component.then(h, d), o(m.error) && (t.errorComp = Ze(m.error, e)), o(m.loading) && (t.loadingComp = Ze(m.loading, e), 0 === m.delay ? t.loading = !0 : l = setTimeout((function() {
                                    l = null, i(t.resolved) && i(t.error) && (t.loading = !0, p(!1))
                                }), m.delay || 200)), o(m.timeout) && (c = setTimeout((function() {
                                    c = null, i(t.resolved) && d(null)
                                }), m.timeout)))), s = !1, t.loading ? t.loadingComp : t.resolved
                            }
                        }(p = t, c))) return function(t, e, r, n, i) {
                        var o = gt();
                        return o.asyncFactory = t, o.asyncMeta = {
                            data: e,
                            context: r,
                            children: n,
                            tag: i
                        }, o
                    }(p, e, r, s, l);
                    e = e || {}, Sr(t), o(e.model) && function(t, e) {
                        var r = t.model && t.model.prop || "value",
                            n = t.model && t.model.event || "input";
                        (e.attrs || (e.attrs = {}))[r] = e.model.value;
                        var i = e.on || (e.on = {}),
                            a = i[n],
                            s = e.model.callback;
                        o(a) ? (Array.isArray(a) ? -1 === a.indexOf(s) : a !== s) && (i[n] = [s].concat(a)) : i[n] = s
                    }(t.options, e);
                    var h = function(t, e, r) {
                        var n = e.options.props;
                        if (!i(n)) {
                            var a = {},
                                s = t.attrs,
                                u = t.props;
                            if (o(s) || o(u))
                                for (var l in n) {
                                    var c = C(l);
                                    ce(a, u, l, c, !0) || ce(a, s, l, c, !1)
                                }
                            return a
                        }
                    }(e, t);
                    if (a(t.options.functional)) return function(t, e, r, i, a) {
                        var s = t.options,
                            u = {},
                            l = s.props;
                        if (o(l))
                            for (var c in l) u[c] = Ut(c, l, e || n);
                        else o(r.attrs) && Re(u, r.attrs), o(r.props) && Re(u, r.props);
                        var p = new Le(r, u, a, i, t),
                            h = s.render.call(null, p._c, p);
                        if (h instanceof yt) return Oe(h, r, p.parent, s, p);
                        if (Array.isArray(h)) {
                            for (var f = pe(h) || [], d = new Array(f.length), m = 0; m < f.length; m++) d[m] = Oe(f[m], r, p.parent, s, p);
                            return d
                        }
                    }(t, h, e, r, s);
                    var d = e.on;
                    if (e.on = e.nativeOn, a(t.options.abstract)) {
                        var m = e.slot;
                        e = {}, m && (e.slot = m)
                    }! function(t) {
                        for (var e = t.hook || (t.hook = {}), r = 0; r < Fe.length; r++) {
                            var n = Fe[r],
                                i = e[n],
                                o = Be[n];
                            i === o || i && i._merged || (e[n] = i ? Ue(o, i) : o)
                        }
                    }(e);
                    var y = t.options.name || l;
                    return new yt("vue-component-" + t.cid + (y ? "-" + y : ""), e, void 0, void 0, void 0, r, {
                        Ctor: t,
                        propsData: h,
                        listeners: d,
                        tag: l,
                        children: s
                    }, p)
                }
            }
        }

        function Ue(t, e) {
            var r = function(r, n) {
                t(r, n), e(r, n)
            };
            return r._merged = !0, r
        }

        function je(t, e, r, n, l, c) {
            return (Array.isArray(r) || s(r)) && (l = n, n = r, r = void 0), a(c) && (l = 2),
                function(t, e, r, n, s) {
                    if (o(r) && o(r.__ob__)) return gt();
                    o(r) && o(r.is) && (e = r.is);
                    if (!e) return gt();
                    0;
                    Array.isArray(n) && "function" == typeof n[0] && ((r = r || {}).scopedSlots = {
                        default: n[0]
                    }, n.length = 0);
                    2 === s ? n = pe(n) : 1 === s && (n = function(t) {
                        for (var e = 0; e < t.length; e++)
                            if (Array.isArray(t[e])) return Array.prototype.concat.apply([], t);
                        return t
                    }(n));
                    var l, c;
                    if ("string" == typeof e) {
                        var p;
                        c = t.$vnode && t.$vnode.ns || U.getTagNamespace(e), l = U.isReservedTag(e) ? new yt(U.parsePlatformTagName(e), r, n, void 0, void 0, t) : r && r.pre || !o(p = Nt(t.$options, "components", e)) ? new yt(e, r, n, void 0, void 0, t) : Ne(p, r, t, n, e)
                    } else l = Ne(e, r, t, n);
                    return Array.isArray(l) ? l : o(l) ? (o(c) && function t(e, r, n) {
                        e.ns = r, "foreignObject" === e.tag && (r = void 0, n = !0);
                        if (o(e.children))
                            for (var s = 0, u = e.children.length; s < u; s++) {
                                var l = e.children[s];
                                o(l.tag) && (i(l.ns) || a(n) && "svg" !== l.tag) && t(l, r, n)
                            }
                    }(l, c), o(r) && function(t) {
                        u(t.style) && oe(t.style);
                        u(t.class) && oe(t.class)
                    }(r), l) : gt()
                }(t, e, r, n, l)
        }
        var Ve, qe = null;

        function Ze(t, e) {
            return (t.__esModule || lt && "Module" === t[Symbol.toStringTag]) && (t = t.default), u(t) ? e.extend(t) : t
        }

        function $e(t) {
            return t.isComment && t.asyncFactory
        }

        function Ge(t) {
            if (Array.isArray(t))
                for (var e = 0; e < t.length; e++) {
                    var r = t[e];
                    if (o(r) && (o(r.componentOptions) || $e(r))) return r
                }
        }

        function He(t, e) {
            Ve.$on(t, e)
        }

        function We(t, e) {
            Ve.$off(t, e)
        }

        function Xe(t, e) {
            var r = Ve;
            return function n() {
                var i = e.apply(null, arguments);
                null !== i && r.$off(t, n)
            }
        }

        function Ke(t, e, r) {
            Ve = t, ue(e, r || {}, He, We, Xe, t), Ve = void 0
        }
        var Je = null;

        function Ye(t) {
            var e = Je;
            return Je = t,
                function() {
                    Je = e
                }
        }

        function Qe(t) {
            for (; t && (t = t.$parent);)
                if (t._inactive) return !0;
            return !1
        }

        function tr(t, e) {
            if (e) {
                if (t._directInactive = !1, Qe(t)) return
            } else if (t._directInactive) return;
            if (t._inactive || null === t._inactive) {
                t._inactive = !1;
                for (var r = 0; r < t.$children.length; r++) tr(t.$children[r]);
                er(t, "activated")
            }
        }

        function er(t, e) {
            dt();
            var r = t.$options[e],
                n = e + " hook";
            if (r)
                for (var i = 0, o = r.length; i < o; i++) $t(r[i], t, null, t, n);
            t._hasHookEvent && t.$emit("hook:" + e), mt()
        }
        var rr = [],
            nr = [],
            ir = {},
            or = !1,
            ar = !1,
            sr = 0;
        var ur = 0,
            lr = Date.now;
        if (H && !J) {
            var cr = window.performance;
            cr && "function" == typeof cr.now && lr() > document.createEvent("Event").timeStamp && (lr = function() {
                return cr.now()
            })
        }

        function pr() {
            var t, e;
            for (ur = lr(), ar = !0, rr.sort((function(t, e) {
                    return t.id - e.id
                })), sr = 0; sr < rr.length; sr++)(t = rr[sr]).before && t.before(), e = t.id, ir[e] = null, t.run();
            var r = nr.slice(),
                n = rr.slice();
            sr = rr.length = nr.length = 0, ir = {}, or = ar = !1,
                function(t) {
                    for (var e = 0; e < t.length; e++) t[e]._inactive = !0, tr(t[e], !0)
                }(r),
                function(t) {
                    var e = t.length;
                    for (; e--;) {
                        var r = t[e],
                            n = r.vm;
                        n._watcher === r && n._isMounted && !n._isDestroyed && er(n, "updated")
                    }
                }(n), at && U.devtools && at.emit("flush")
        }
        var hr = 0,
            fr = function(t, e, r, n, i) {
                this.vm = t, i && (t._watcher = this), t._watchers.push(this), n ? (this.deep = !!n.deep, this.user = !!n.user, this.lazy = !!n.lazy, this.sync = !!n.sync, this.before = n.before) : this.deep = this.user = this.lazy = this.sync = !1, this.cb = r, this.id = ++hr, this.active = !0, this.dirty = this.lazy, this.deps = [], this.newDeps = [], this.depIds = new ut, this.newDepIds = new ut, this.expression = "", "function" == typeof e ? this.getter = e : (this.getter = function(t) {
                    if (!Z.test(t)) {
                        var e = t.split(".");
                        return function(t) {
                            for (var r = 0; r < e.length; r++) {
                                if (!t) return;
                                t = t[e[r]]
                            }
                            return t
                        }
                    }
                }(e), this.getter || (this.getter = M)), this.value = this.lazy ? void 0 : this.get()
            };
        fr.prototype.get = function() {
            var t;
            dt(this);
            var e = this.vm;
            try {
                t = this.getter.call(e, e)
            } catch (t) {
                if (!this.user) throw t;
                Zt(t, e, 'getter for watcher "' + this.expression + '"')
            } finally {
                this.deep && oe(t), mt(), this.cleanupDeps()
            }
            return t
        }, fr.prototype.addDep = function(t) {
            var e = t.id;
            this.newDepIds.has(e) || (this.newDepIds.add(e), this.newDeps.push(t), this.depIds.has(e) || t.addSub(this))
        }, fr.prototype.cleanupDeps = function() {
            for (var t = this.deps.length; t--;) {
                var e = this.deps[t];
                this.newDepIds.has(e.id) || e.removeSub(this)
            }
            var r = this.depIds;
            this.depIds = this.newDepIds, this.newDepIds = r, this.newDepIds.clear(), r = this.deps, this.deps = this.newDeps, this.newDeps = r, this.newDeps.length = 0
        }, fr.prototype.update = function() {
            this.lazy ? this.dirty = !0 : this.sync ? this.run() : function(t) {
                var e = t.id;
                if (null == ir[e]) {
                    if (ir[e] = !0, ar) {
                        for (var r = rr.length - 1; r > sr && rr[r].id > t.id;) r--;
                        rr.splice(r + 1, 0, t)
                    } else rr.push(t);
                    or || (or = !0, ne(pr))
                }
            }(this)
        }, fr.prototype.run = function() {
            if (this.active) {
                var t = this.get();
                if (t !== this.value || u(t) || this.deep) {
                    var e = this.value;
                    if (this.value = t, this.user) try {
                        this.cb.call(this.vm, t, e)
                    } catch (t) {
                        Zt(t, this.vm, 'callback for watcher "' + this.expression + '"')
                    } else this.cb.call(this.vm, t, e)
                }
            }
        }, fr.prototype.evaluate = function() {
            this.value = this.get(), this.dirty = !1
        }, fr.prototype.depend = function() {
            for (var t = this.deps.length; t--;) this.deps[t].depend()
        }, fr.prototype.teardown = function() {
            if (this.active) {
                this.vm._isBeingDestroyed || _(this.vm._watchers, this);
                for (var t = this.deps.length; t--;) this.deps[t].removeSub(this);
                this.active = !1
            }
        };
        var dr = {
            enumerable: !0,
            configurable: !0,
            get: M,
            set: M
        };

        function mr(t, e, r) {
            dr.get = function() {
                return this[e][r]
            }, dr.set = function(t) {
                this[e][r] = t
            }, Object.defineProperty(t, r, dr)
        }

        function yr(t) {
            t._watchers = [];
            var e = t.$options;
            e.props && function(t, e) {
                var r = t.$options.propsData || {},
                    n = t._props = {},
                    i = t.$options._propKeys = [];
                t.$parent && Et(!1);
                var o = function(o) {
                    i.push(o);
                    var a = Ut(o, e, r, t);
                    It(n, o, a), o in t || mr(t, "_props", o)
                };
                for (var a in e) o(a);
                Et(!0)
            }(t, e.props), e.methods && function(t, e) {
                t.$options.props;
                for (var r in e) t[r] = "function" != typeof e[r] ? M : I(e[r], t)
            }(t, e.methods), e.data ? function(t) {
                var e = t.$options.data;
                c(e = t._data = "function" == typeof e ? function(t, e) {
                    dt();
                    try {
                        return t.call(e, e)
                    } catch (t) {
                        return Zt(t, e, "data()"), {}
                    } finally {
                        mt()
                    }
                }(e, t) : e || {}) || (e = {});
                var r = Object.keys(e),
                    n = t.$options.props,
                    i = (t.$options.methods, r.length);
                for (; i--;) {
                    var o = r[i];
                    0, n && b(n, o) || V(o) || mr(t, "_data", o)
                }
                Ct(e, !0)
            }(t) : Ct(t._data = {}, !0), e.computed && function(t, e) {
                var r = t._computedWatchers = Object.create(null),
                    n = ot();
                for (var i in e) {
                    var o = e[i],
                        a = "function" == typeof o ? o : o.get;
                    0, n || (r[i] = new fr(t, a || M, M, vr)), i in t || gr(t, i, o)
                }
            }(t, e.computed), e.watch && e.watch !== rt && function(t, e) {
                for (var r in e) {
                    var n = e[r];
                    if (Array.isArray(n))
                        for (var i = 0; i < n.length; i++) br(t, r, n[i]);
                    else br(t, r, n)
                }
            }(t, e.watch)
        }
        var vr = {
            lazy: !0
        };

        function gr(t, e, r) {
            var n = !ot();
            "function" == typeof r ? (dr.get = n ? _r(e) : xr(r), dr.set = M) : (dr.get = r.get ? n && !1 !== r.cache ? _r(e) : xr(r.get) : M, dr.set = r.set || M), Object.defineProperty(t, e, dr)
        }

        function _r(t) {
            return function() {
                var e = this._computedWatchers && this._computedWatchers[t];
                if (e) return e.dirty && e.evaluate(), ht.target && e.depend(), e.value
            }
        }

        function xr(t) {
            return function() {
                return t.call(this, this)
            }
        }

        function br(t, e, r, n) {
            return c(r) && (n = r, r = r.handler), "string" == typeof r && (r = t[r]), t.$watch(e, r, n)
        }
        var wr = 0;

        function Sr(t) {
            var e = t.options;
            if (t.super) {
                var r = Sr(t.super);
                if (r !== t.superOptions) {
                    t.superOptions = r;
                    var n = function(t) {
                        var e, r = t.options,
                            n = t.sealedOptions;
                        for (var i in r) r[i] !== n[i] && (e || (e = {}), e[i] = r[i]);
                        return e
                    }(t);
                    n && P(t.extendOptions, n), (e = t.options = Ft(r, t.extendOptions)).name && (e.components[e.name] = t)
                }
            }
            return e
        }

        function Tr(t) {
            this._init(t)
        }

        function Er(t) {
            t.cid = 0;
            var e = 1;
            t.extend = function(t) {
                t = t || {};
                var r = this,
                    n = r.cid,
                    i = t._Ctor || (t._Ctor = {});
                if (i[n]) return i[n];
                var o = t.name || r.options.name;
                var a = function(t) {
                    this._init(t)
                };
                return (a.prototype = Object.create(r.prototype)).constructor = a, a.cid = e++, a.options = Ft(r.options, t), a.super = r, a.options.props && function(t) {
                    var e = t.options.props;
                    for (var r in e) mr(t.prototype, "_props", r)
                }(a), a.options.computed && function(t) {
                    var e = t.options.computed;
                    for (var r in e) gr(t.prototype, r, e[r])
                }(a), a.extend = r.extend, a.mixin = r.mixin, a.use = r.use, F.forEach((function(t) {
                    a[t] = r[t]
                })), o && (a.options.components[o] = a), a.superOptions = r.options, a.extendOptions = t, a.sealedOptions = P({}, a.options), i[n] = a, a
            }
        }

        function Ar(t) {
            return t && (t.Ctor.options.name || t.tag)
        }

        function Cr(t, e) {
            return Array.isArray(t) ? t.indexOf(e) > -1 : "string" == typeof t ? t.split(",").indexOf(e) > -1 : !!p(t) && t.test(e)
        }

        function Ir(t, e) {
            var r = t.cache,
                n = t.keys,
                i = t._vnode;
            for (var o in r) {
                var a = r[o];
                if (a) {
                    var s = Ar(a.componentOptions);
                    s && !e(s) && kr(r, o, n, i)
                }
            }
        }

        function kr(t, e, r, n) {
            var i = t[e];
            !i || n && i.tag === n.tag || i.componentInstance.$destroy(), t[e] = null, _(r, e)
        }! function(t) {
            t.prototype._init = function(t) {
                var e = this;
                e._uid = wr++, e._isVue = !0, t && t._isComponent ? function(t, e) {
                        var r = t.$options = Object.create(t.constructor.options),
                            n = e._parentVnode;
                        r.parent = e.parent, r._parentVnode = n;
                        var i = n.componentOptions;
                        r.propsData = i.propsData, r._parentListeners = i.listeners, r._renderChildren = i.children, r._componentTag = i.tag, e.render && (r.render = e.render, r.staticRenderFns = e.staticRenderFns)
                    }(e, t) : e.$options = Ft(Sr(e.constructor), t || {}, e), e._renderProxy = e, e._self = e,
                    function(t) {
                        var e = t.$options,
                            r = e.parent;
                        if (r && !e.abstract) {
                            for (; r.$options.abstract && r.$parent;) r = r.$parent;
                            r.$children.push(t)
                        }
                        t.$parent = r, t.$root = r ? r.$root : t, t.$children = [], t.$refs = {}, t._watcher = null, t._inactive = null, t._directInactive = !1, t._isMounted = !1, t._isDestroyed = !1, t._isBeingDestroyed = !1
                    }(e),
                    function(t) {
                        t._events = Object.create(null), t._hasHookEvent = !1;
                        var e = t.$options._parentListeners;
                        e && Ke(t, e)
                    }(e),
                    function(t) {
                        t._vnode = null, t._staticTrees = null;
                        var e = t.$options,
                            r = t.$vnode = e._parentVnode,
                            i = r && r.context;
                        t.$slots = de(e._renderChildren, i), t.$scopedSlots = n, t._c = function(e, r, n, i) {
                            return je(t, e, r, n, i, !1)
                        }, t.$createElement = function(e, r, n, i) {
                            return je(t, e, r, n, i, !0)
                        };
                        var o = r && r.data;
                        It(t, "$attrs", o && o.attrs || n, null, !0), It(t, "$listeners", e._parentListeners || n, null, !0)
                    }(e), er(e, "beforeCreate"),
                    function(t) {
                        var e = fe(t.$options.inject, t);
                        e && (Et(!1), Object.keys(e).forEach((function(r) {
                            It(t, r, e[r])
                        })), Et(!0))
                    }(e), yr(e),
                    function(t) {
                        var e = t.$options.provide;
                        e && (t._provided = "function" == typeof e ? e.call(t) : e)
                    }(e), er(e, "created"), e.$options.el && e.$mount(e.$options.el)
            }
        }(Tr),
        function(t) {
            var e = {
                    get: function() {
                        return this._data
                    }
                },
                r = {
                    get: function() {
                        return this._props
                    }
                };
            Object.defineProperty(t.prototype, "$data", e), Object.defineProperty(t.prototype, "$props", r), t.prototype.$set = kt, t.prototype.$delete = Pt, t.prototype.$watch = function(t, e, r) {
                if (c(e)) return br(this, t, e, r);
                (r = r || {}).user = !0;
                var n = new fr(this, t, e, r);
                if (r.immediate) try {
                    e.call(this, n.value)
                } catch (t) {
                    Zt(t, this, 'callback for immediate watcher "' + n.expression + '"')
                }
                return function() {
                    n.teardown()
                }
            }
        }(Tr),
        function(t) {
            var e = /^hook:/;
            t.prototype.$on = function(t, r) {
                var n = this;
                if (Array.isArray(t))
                    for (var i = 0, o = t.length; i < o; i++) n.$on(t[i], r);
                else(n._events[t] || (n._events[t] = [])).push(r), e.test(t) && (n._hasHookEvent = !0);
                return n
            }, t.prototype.$once = function(t, e) {
                var r = this;

                function n() {
                    r.$off(t, n), e.apply(r, arguments)
                }
                return n.fn = e, r.$on(t, n), r
            }, t.prototype.$off = function(t, e) {
                var r = this;
                if (!arguments.length) return r._events = Object.create(null), r;
                if (Array.isArray(t)) {
                    for (var n = 0, i = t.length; n < i; n++) r.$off(t[n], e);
                    return r
                }
                var o, a = r._events[t];
                if (!a) return r;
                if (!e) return r._events[t] = null, r;
                for (var s = a.length; s--;)
                    if ((o = a[s]) === e || o.fn === e) {
                        a.splice(s, 1);
                        break
                    } return r
            }, t.prototype.$emit = function(t) {
                var e = this,
                    r = e._events[t];
                if (r) {
                    r = r.length > 1 ? k(r) : r;
                    for (var n = k(arguments, 1), i = 'event handler for "' + t + '"', o = 0, a = r.length; o < a; o++) $t(r[o], e, n, e, i)
                }
                return e
            }
        }(Tr),
        function(t) {
            t.prototype._update = function(t, e) {
                var r = this,
                    n = r.$el,
                    i = r._vnode,
                    o = Ye(r);
                r._vnode = t, r.$el = i ? r.__patch__(i, t) : r.__patch__(r.$el, t, e, !1), o(), n && (n.__vue__ = null), r.$el && (r.$el.__vue__ = r), r.$vnode && r.$parent && r.$vnode === r.$parent._vnode && (r.$parent.$el = r.$el)
            }, t.prototype.$forceUpdate = function() {
                this._watcher && this._watcher.update()
            }, t.prototype.$destroy = function() {
                var t = this;
                if (!t._isBeingDestroyed) {
                    er(t, "beforeDestroy"), t._isBeingDestroyed = !0;
                    var e = t.$parent;
                    !e || e._isBeingDestroyed || t.$options.abstract || _(e.$children, t), t._watcher && t._watcher.teardown();
                    for (var r = t._watchers.length; r--;) t._watchers[r].teardown();
                    t._data.__ob__ && t._data.__ob__.vmCount--, t._isDestroyed = !0, t.__patch__(t._vnode, null), er(t, "destroyed"), t.$off(), t.$el && (t.$el.__vue__ = null), t.$vnode && (t.$vnode.parent = null)
                }
            }
        }(Tr),
        function(t) {
            De(t.prototype), t.prototype.$nextTick = function(t) {
                return ne(t, this)
            }, t.prototype._render = function() {
                var t, e = this,
                    r = e.$options,
                    n = r.render,
                    i = r._parentVnode;
                i && (e.$scopedSlots = ye(i.data.scopedSlots, e.$slots, e.$scopedSlots)), e.$vnode = i;
                try {
                    qe = e, t = n.call(e._renderProxy, e.$createElement)
                } catch (r) {
                    Zt(r, e, "render"), t = e._vnode
                } finally {
                    qe = null
                }
                return Array.isArray(t) && 1 === t.length && (t = t[0]), t instanceof yt || (t = gt()), t.parent = i, t
            }
        }(Tr);
        var Pr = [String, RegExp, Array],
            zr = {
                KeepAlive: {
                    name: "keep-alive",
                    abstract: !0,
                    props: {
                        include: Pr,
                        exclude: Pr,
                        max: [String, Number]
                    },
                    created: function() {
                        this.cache = Object.create(null), this.keys = []
                    },
                    destroyed: function() {
                        for (var t in this.cache) kr(this.cache, t, this.keys)
                    },
                    mounted: function() {
                        var t = this;
                        this.$watch("include", (function(e) {
                            Ir(t, (function(t) {
                                return Cr(e, t)
                            }))
                        })), this.$watch("exclude", (function(e) {
                            Ir(t, (function(t) {
                                return !Cr(e, t)
                            }))
                        }))
                    },
                    render: function() {
                        var t = this.$slots.default,
                            e = Ge(t),
                            r = e && e.componentOptions;
                        if (r) {
                            var n = Ar(r),
                                i = this.include,
                                o = this.exclude;
                            if (i && (!n || !Cr(i, n)) || o && n && Cr(o, n)) return e;
                            var a = this.cache,
                                s = this.keys,
                                u = null == e.key ? r.Ctor.cid + (r.tag ? "::" + r.tag : "") : e.key;
                            a[u] ? (e.componentInstance = a[u].componentInstance, _(s, u), s.push(u)) : (a[u] = e, s.push(u), this.max && s.length > parseInt(this.max) && kr(a, s[0], s, this._vnode)), e.data.keepAlive = !0
                        }
                        return e || t && t[0]
                    }
                }
            };
        ! function(t) {
            var e = {
                get: function() {
                    return U
                }
            };
            Object.defineProperty(t, "config", e), t.util = {
                    warn: ct,
                    extend: P,
                    mergeOptions: Ft,
                    defineReactive: It
                }, t.set = kt, t.delete = Pt, t.nextTick = ne, t.observable = function(t) {
                    return Ct(t), t
                }, t.options = Object.create(null), F.forEach((function(e) {
                    t.options[e + "s"] = Object.create(null)
                })), t.options._base = t, P(t.options.components, zr),
                function(t) {
                    t.use = function(t) {
                        var e = this._installedPlugins || (this._installedPlugins = []);
                        if (e.indexOf(t) > -1) return this;
                        var r = k(arguments, 1);
                        return r.unshift(this), "function" == typeof t.install ? t.install.apply(t, r) : "function" == typeof t && t.apply(null, r), e.push(t), this
                    }
                }(t),
                function(t) {
                    t.mixin = function(t) {
                        return this.options = Ft(this.options, t), this
                    }
                }(t), Er(t),
                function(t) {
                    F.forEach((function(e) {
                        t[e] = function(t, r) {
                            return r ? ("component" === e && c(r) && (r.name = r.name || t, r = this.options._base.extend(r)), "directive" === e && "function" == typeof r && (r = {
                                bind: r,
                                update: r
                            }), this.options[e + "s"][t] = r, r) : this.options[e + "s"][t]
                        }
                    }))
                }(t)
        }(Tr), Object.defineProperty(Tr.prototype, "$isServer", {
            get: ot
        }), Object.defineProperty(Tr.prototype, "$ssrContext", {
            get: function() {
                return this.$vnode && this.$vnode.ssrContext
            }
        }), Object.defineProperty(Tr, "FunctionalRenderContext", {
            value: Le
        }), Tr.version = "2.6.11";
        var Mr = y("style,class"),
            Dr = y("input,textarea,option,select,progress"),
            Lr = function(t, e, r) {
                return "value" === r && Dr(t) && "button" !== e || "selected" === r && "option" === t || "checked" === r && "input" === t || "muted" === r && "video" === t
            },
            Or = y("contenteditable,draggable,spellcheck"),
            Rr = y("events,caret,typing,plaintext-only"),
            Br = y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),
            Fr = "http://www.w3.org/1999/xlink",
            Nr = function(t) {
                return ":" === t.charAt(5) && "xlink" === t.slice(0, 5)
            },
            Ur = function(t) {
                return Nr(t) ? t.slice(6, t.length) : ""
            },
            jr = function(t) {
                return null == t || !1 === t
            };

        function Vr(t) {
            for (var e = t.data, r = t, n = t; o(n.componentInstance);)(n = n.componentInstance._vnode) && n.data && (e = qr(n.data, e));
            for (; o(r = r.parent);) r && r.data && (e = qr(e, r.data));
            return function(t, e) {
                if (o(t) || o(e)) return Zr(t, $r(e));
                return ""
            }(e.staticClass, e.class)
        }

        function qr(t, e) {
            return {
                staticClass: Zr(t.staticClass, e.staticClass),
                class: o(t.class) ? [t.class, e.class] : e.class
            }
        }

        function Zr(t, e) {
            return t ? e ? t + " " + e : t : e || ""
        }

        function $r(t) {
            return Array.isArray(t) ? function(t) {
                for (var e, r = "", n = 0, i = t.length; n < i; n++) o(e = $r(t[n])) && "" !== e && (r && (r += " "), r += e);
                return r
            }(t) : u(t) ? function(t) {
                var e = "";
                for (var r in t) t[r] && (e && (e += " "), e += r);
                return e
            }(t) : "string" == typeof t ? t : ""
        }
        var Gr = {
                svg: "http://www.w3.org/2000/svg",
                math: "http://www.w3.org/1998/Math/MathML"
            },
            Hr = y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),
            Wr = y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view", !0),
            Xr = function(t) {
                return Hr(t) || Wr(t)
            };

        function Kr(t) {
            return Wr(t) ? "svg" : "math" === t ? "math" : void 0
        }
        var Jr = Object.create(null);
        var Yr = y("text,number,password,search,email,tel,url");

        function Qr(t) {
            if ("string" == typeof t) {
                var e = document.querySelector(t);
                return e || document.createElement("div")
            }
            return t
        }
        var tn = Object.freeze({
                createElement: function(t, e) {
                    var r = document.createElement(t);
                    return "select" !== t || e.data && e.data.attrs && void 0 !== e.data.attrs.multiple && r.setAttribute("multiple", "multiple"), r
                },
                createElementNS: function(t, e) {
                    return document.createElementNS(Gr[t], e)
                },
                createTextNode: function(t) {
                    return document.createTextNode(t)
                },
                createComment: function(t) {
                    return document.createComment(t)
                },
                insertBefore: function(t, e, r) {
                    t.insertBefore(e, r)
                },
                removeChild: function(t, e) {
                    t.removeChild(e)
                },
                appendChild: function(t, e) {
                    t.appendChild(e)
                },
                parentNode: function(t) {
                    return t.parentNode
                },
                nextSibling: function(t) {
                    return t.nextSibling
                },
                tagName: function(t) {
                    return t.tagName
                },
                setTextContent: function(t, e) {
                    t.textContent = e
                },
                setStyleScope: function(t, e) {
                    t.setAttribute(e, "")
                }
            }),
            en = {
                create: function(t, e) {
                    rn(e)
                },
                update: function(t, e) {
                    t.data.ref !== e.data.ref && (rn(t, !0), rn(e))
                },
                destroy: function(t) {
                    rn(t, !0)
                }
            };

        function rn(t, e) {
            var r = t.data.ref;
            if (o(r)) {
                var n = t.context,
                    i = t.componentInstance || t.elm,
                    a = n.$refs;
                e ? Array.isArray(a[r]) ? _(a[r], i) : a[r] === i && (a[r] = void 0) : t.data.refInFor ? Array.isArray(a[r]) ? a[r].indexOf(i) < 0 && a[r].push(i) : a[r] = [i] : a[r] = i
            }
        }
        var nn = new yt("", {}, []),
            on = ["create", "activate", "update", "remove", "destroy"];

        function an(t, e) {
            return t.key === e.key && (t.tag === e.tag && t.isComment === e.isComment && o(t.data) === o(e.data) && function(t, e) {
                if ("input" !== t.tag) return !0;
                var r, n = o(r = t.data) && o(r = r.attrs) && r.type,
                    i = o(r = e.data) && o(r = r.attrs) && r.type;
                return n === i || Yr(n) && Yr(i)
            }(t, e) || a(t.isAsyncPlaceholder) && t.asyncFactory === e.asyncFactory && i(e.asyncFactory.error))
        }

        function sn(t, e, r) {
            var n, i, a = {};
            for (n = e; n <= r; ++n) o(i = t[n].key) && (a[i] = n);
            return a
        }
        var un = {
            create: ln,
            update: ln,
            destroy: function(t) {
                ln(t, nn)
            }
        };

        function ln(t, e) {
            (t.data.directives || e.data.directives) && function(t, e) {
                var r, n, i, o = t === nn,
                    a = e === nn,
                    s = pn(t.data.directives, t.context),
                    u = pn(e.data.directives, e.context),
                    l = [],
                    c = [];
                for (r in u) n = s[r], i = u[r], n ? (i.oldValue = n.value, i.oldArg = n.arg, fn(i, "update", e, t), i.def && i.def.componentUpdated && c.push(i)) : (fn(i, "bind", e, t), i.def && i.def.inserted && l.push(i));
                if (l.length) {
                    var p = function() {
                        for (var r = 0; r < l.length; r++) fn(l[r], "inserted", e, t)
                    };
                    o ? le(e, "insert", p) : p()
                }
                c.length && le(e, "postpatch", (function() {
                    for (var r = 0; r < c.length; r++) fn(c[r], "componentUpdated", e, t)
                }));
                if (!o)
                    for (r in s) u[r] || fn(s[r], "unbind", t, t, a)
            }(t, e)
        }
        var cn = Object.create(null);

        function pn(t, e) {
            var r, n, i = Object.create(null);
            if (!t) return i;
            for (r = 0; r < t.length; r++)(n = t[r]).modifiers || (n.modifiers = cn), i[hn(n)] = n, n.def = Nt(e.$options, "directives", n.name);
            return i
        }

        function hn(t) {
            return t.rawName || t.name + "." + Object.keys(t.modifiers || {}).join(".")
        }

        function fn(t, e, r, n, i) {
            var o = t.def && t.def[e];
            if (o) try {
                o(r.elm, t, r, n, i)
            } catch (n) {
                Zt(n, r.context, "directive " + t.name + " " + e + " hook")
            }
        }
        var dn = [en, un];

        function mn(t, e) {
            var r = e.componentOptions;
            if (!(o(r) && !1 === r.Ctor.options.inheritAttrs || i(t.data.attrs) && i(e.data.attrs))) {
                var n, a, s = e.elm,
                    u = t.data.attrs || {},
                    l = e.data.attrs || {};
                for (n in o(l.__ob__) && (l = e.data.attrs = P({}, l)), l) a = l[n], u[n] !== a && yn(s, n, a);
                for (n in (J || Q) && l.value !== u.value && yn(s, "value", l.value), u) i(l[n]) && (Nr(n) ? s.removeAttributeNS(Fr, Ur(n)) : Or(n) || s.removeAttribute(n))
            }
        }

        function yn(t, e, r) {
            t.tagName.indexOf("-") > -1 ? vn(t, e, r) : Br(e) ? jr(r) ? t.removeAttribute(e) : (r = "allowfullscreen" === e && "EMBED" === t.tagName ? "true" : e, t.setAttribute(e, r)) : Or(e) ? t.setAttribute(e, function(t, e) {
                return jr(e) || "false" === e ? "false" : "contenteditable" === t && Rr(e) ? e : "true"
            }(e, r)) : Nr(e) ? jr(r) ? t.removeAttributeNS(Fr, Ur(e)) : t.setAttributeNS(Fr, e, r) : vn(t, e, r)
        }

        function vn(t, e, r) {
            if (jr(r)) t.removeAttribute(e);
            else {
                if (J && !Y && "TEXTAREA" === t.tagName && "placeholder" === e && "" !== r && !t.__ieph) {
                    var n = function(e) {
                        e.stopImmediatePropagation(), t.removeEventListener("input", n)
                    };
                    t.addEventListener("input", n), t.__ieph = !0
                }
                t.setAttribute(e, r)
            }
        }
        var gn = {
            create: mn,
            update: mn
        };

        function _n(t, e) {
            var r = e.elm,
                n = e.data,
                a = t.data;
            if (!(i(n.staticClass) && i(n.class) && (i(a) || i(a.staticClass) && i(a.class)))) {
                var s = Vr(e),
                    u = r._transitionClasses;
                o(u) && (s = Zr(s, $r(u))), s !== r._prevClass && (r.setAttribute("class", s), r._prevClass = s)
            }
        }
        var xn, bn, wn, Sn, Tn, En, An = {
                create: _n,
                update: _n
            },
            Cn = /[\w).+\-_$\]]/;

        function In(t) {
            var e, r, n, i, o, a = !1,
                s = !1,
                u = !1,
                l = !1,
                c = 0,
                p = 0,
                h = 0,
                f = 0;
            for (n = 0; n < t.length; n++)
                if (r = e, e = t.charCodeAt(n), a) 39 === e && 92 !== r && (a = !1);
                else if (s) 34 === e && 92 !== r && (s = !1);
            else if (u) 96 === e && 92 !== r && (u = !1);
            else if (l) 47 === e && 92 !== r && (l = !1);
            else if (124 !== e || 124 === t.charCodeAt(n + 1) || 124 === t.charCodeAt(n - 1) || c || p || h) {
                switch (e) {
                    case 34:
                        s = !0;
                        break;
                    case 39:
                        a = !0;
                        break;
                    case 96:
                        u = !0;
                        break;
                    case 40:
                        h++;
                        break;
                    case 41:
                        h--;
                        break;
                    case 91:
                        p++;
                        break;
                    case 93:
                        p--;
                        break;
                    case 123:
                        c++;
                        break;
                    case 125:
                        c--
                }
                if (47 === e) {
                    for (var d = n - 1, m = void 0; d >= 0 && " " === (m = t.charAt(d)); d--);
                    m && Cn.test(m) || (l = !0)
                }
            } else void 0 === i ? (f = n + 1, i = t.slice(0, n).trim()) : y();

            function y() {
                (o || (o = [])).push(t.slice(f, n).trim()), f = n + 1
            }
            if (void 0 === i ? i = t.slice(0, n).trim() : 0 !== f && y(), o)
                for (n = 0; n < o.length; n++) i = kn(i, o[n]);
            return i
        }

        function kn(t, e) {
            var r = e.indexOf("(");
            if (r < 0) return '_f("' + e + '")(' + t + ")";
            var n = e.slice(0, r),
                i = e.slice(r + 1);
            return '_f("' + n + '")(' + t + (")" !== i ? "," + i : i)
        }

        function Pn(t, e) {
            console.error("[Vue compiler]: " + t)
        }

        function zn(t, e) {
            return t ? t.map((function(t) {
                return t[e]
            })).filter((function(t) {
                return t
            })) : []
        }

        function Mn(t, e, r, n, i) {
            (t.props || (t.props = [])).push(jn({
                name: e,
                value: r,
                dynamic: i
            }, n)), t.plain = !1
        }

        function Dn(t, e, r, n, i) {
            (i ? t.dynamicAttrs || (t.dynamicAttrs = []) : t.attrs || (t.attrs = [])).push(jn({
                name: e,
                value: r,
                dynamic: i
            }, n)), t.plain = !1
        }

        function Ln(t, e, r, n) {
            t.attrsMap[e] = r, t.attrsList.push(jn({
                name: e,
                value: r
            }, n))
        }

        function On(t, e, r, n, i, o, a, s) {
            (t.directives || (t.directives = [])).push(jn({
                name: e,
                rawName: r,
                value: n,
                arg: i,
                isDynamicArg: o,
                modifiers: a
            }, s)), t.plain = !1
        }

        function Rn(t, e, r) {
            return r ? "_p(" + e + ',"' + t + '")' : t + e
        }

        function Bn(t, e, r, i, o, a, s, u) {
            var l;
            (i = i || n).right ? u ? e = "(" + e + ")==='click'?'contextmenu':(" + e + ")" : "click" === e && (e = "contextmenu", delete i.right) : i.middle && (u ? e = "(" + e + ")==='click'?'mouseup':(" + e + ")" : "click" === e && (e = "mouseup")), i.capture && (delete i.capture, e = Rn("!", e, u)), i.once && (delete i.once, e = Rn("~", e, u)), i.passive && (delete i.passive, e = Rn("&", e, u)), i.native ? (delete i.native, l = t.nativeEvents || (t.nativeEvents = {})) : l = t.events || (t.events = {});
            var c = jn({
                value: r.trim(),
                dynamic: u
            }, s);
            i !== n && (c.modifiers = i);
            var p = l[e];
            Array.isArray(p) ? o ? p.unshift(c) : p.push(c) : l[e] = p ? o ? [c, p] : [p, c] : c, t.plain = !1
        }

        function Fn(t, e, r) {
            var n = Nn(t, ":" + e) || Nn(t, "v-bind:" + e);
            if (null != n) return In(n);
            if (!1 !== r) {
                var i = Nn(t, e);
                if (null != i) return JSON.stringify(i)
            }
        }

        function Nn(t, e, r) {
            var n;
            if (null != (n = t.attrsMap[e]))
                for (var i = t.attrsList, o = 0, a = i.length; o < a; o++)
                    if (i[o].name === e) {
                        i.splice(o, 1);
                        break
                    } return r && delete t.attrsMap[e], n
        }

        function Un(t, e) {
            for (var r = t.attrsList, n = 0, i = r.length; n < i; n++) {
                var o = r[n];
                if (e.test(o.name)) return r.splice(n, 1), o
            }
        }

        function jn(t, e) {
            return e && (null != e.start && (t.start = e.start), null != e.end && (t.end = e.end)), t
        }

        function Vn(t, e, r) {
            var n = r || {},
                i = n.number,
                o = "$$v";
            n.trim && (o = "(typeof $$v === 'string'? $$v.trim(): $$v)"), i && (o = "_n(" + o + ")");
            var a = qn(e, o);
            t.model = {
                value: "(" + e + ")",
                expression: JSON.stringify(e),
                callback: "function ($$v) {" + a + "}"
            }
        }

        function qn(t, e) {
            var r = function(t) {
                if (t = t.trim(), xn = t.length, t.indexOf("[") < 0 || t.lastIndexOf("]") < xn - 1) return (Sn = t.lastIndexOf(".")) > -1 ? {
                    exp: t.slice(0, Sn),
                    key: '"' + t.slice(Sn + 1) + '"'
                } : {
                    exp: t,
                    key: null
                };
                bn = t, Sn = Tn = En = 0;
                for (; !$n();) Gn(wn = Zn()) ? Wn(wn) : 91 === wn && Hn(wn);
                return {
                    exp: t.slice(0, Tn),
                    key: t.slice(Tn + 1, En)
                }
            }(t);
            return null === r.key ? t + "=" + e : "$set(" + r.exp + ", " + r.key + ", " + e + ")"
        }

        function Zn() {
            return bn.charCodeAt(++Sn)
        }

        function $n() {
            return Sn >= xn
        }

        function Gn(t) {
            return 34 === t || 39 === t
        }

        function Hn(t) {
            var e = 1;
            for (Tn = Sn; !$n();)
                if (Gn(t = Zn())) Wn(t);
                else if (91 === t && e++, 93 === t && e--, 0 === e) {
                En = Sn;
                break
            }
        }

        function Wn(t) {
            for (var e = t; !$n() && (t = Zn()) !== e;);
        }
        var Xn;

        function Kn(t, e, r) {
            var n = Xn;
            return function i() {
                var o = e.apply(null, arguments);
                null !== o && Qn(t, i, r, n)
            }
        }
        var Jn = Xt && !(et && Number(et[1]) <= 53);

        function Yn(t, e, r, n) {
            if (Jn) {
                var i = ur,
                    o = e;
                e = o._wrapper = function(t) {
                    if (t.target === t.currentTarget || t.timeStamp >= i || t.timeStamp <= 0 || t.target.ownerDocument !== document) return o.apply(this, arguments)
                }
            }
            Xn.addEventListener(t, e, nt ? {
                capture: r,
                passive: n
            } : r)
        }

        function Qn(t, e, r, n) {
            (n || Xn).removeEventListener(t, e._wrapper || e, r)
        }

        function ti(t, e) {
            if (!i(t.data.on) || !i(e.data.on)) {
                var r = e.data.on || {},
                    n = t.data.on || {};
                Xn = e.elm,
                    function(t) {
                        if (o(t.__r)) {
                            var e = J ? "change" : "input";
                            t[e] = [].concat(t.__r, t[e] || []), delete t.__r
                        }
                        o(t.__c) && (t.change = [].concat(t.__c, t.change || []), delete t.__c)
                    }(r), ue(r, n, Yn, Qn, Kn, e.context), Xn = void 0
            }
        }
        var ei, ri = {
            create: ti,
            update: ti
        };

        function ni(t, e) {
            if (!i(t.data.domProps) || !i(e.data.domProps)) {
                var r, n, a = e.elm,
                    s = t.data.domProps || {},
                    u = e.data.domProps || {};
                for (r in o(u.__ob__) && (u = e.data.domProps = P({}, u)), s) r in u || (a[r] = "");
                for (r in u) {
                    if (n = u[r], "textContent" === r || "innerHTML" === r) {
                        if (e.children && (e.children.length = 0), n === s[r]) continue;
                        1 === a.childNodes.length && a.removeChild(a.childNodes[0])
                    }
                    if ("value" === r && "PROGRESS" !== a.tagName) {
                        a._value = n;
                        var l = i(n) ? "" : String(n);
                        ii(a, l) && (a.value = l)
                    } else if ("innerHTML" === r && Wr(a.tagName) && i(a.innerHTML)) {
                        (ei = ei || document.createElement("div")).innerHTML = "<svg>" + n + "</svg>";
                        for (var c = ei.firstChild; a.firstChild;) a.removeChild(a.firstChild);
                        for (; c.firstChild;) a.appendChild(c.firstChild)
                    } else if (n !== s[r]) try {
                        a[r] = n
                    } catch (t) {}
                }
            }
        }

        function ii(t, e) {
            return !t.composing && ("OPTION" === t.tagName || function(t, e) {
                var r = !0;
                try {
                    r = document.activeElement !== t
                } catch (t) {}
                return r && t.value !== e
            }(t, e) || function(t, e) {
                var r = t.value,
                    n = t._vModifiers;
                if (o(n)) {
                    if (n.number) return m(r) !== m(e);
                    if (n.trim) return r.trim() !== e.trim()
                }
                return r !== e
            }(t, e))
        }
        var oi = {
                create: ni,
                update: ni
            },
            ai = w((function(t) {
                var e = {},
                    r = /:(.+)/;
                return t.split(/;(?![^(]*\))/g).forEach((function(t) {
                    if (t) {
                        var n = t.split(r);
                        n.length > 1 && (e[n[0].trim()] = n[1].trim())
                    }
                })), e
            }));

        function si(t) {
            var e = ui(t.style);
            return t.staticStyle ? P(t.staticStyle, e) : e
        }

        function ui(t) {
            return Array.isArray(t) ? z(t) : "string" == typeof t ? ai(t) : t
        }
        var li, ci = /^--/,
            pi = /\s*!important$/,
            hi = function(t, e, r) {
                if (ci.test(e)) t.style.setProperty(e, r);
                else if (pi.test(r)) t.style.setProperty(C(e), r.replace(pi, ""), "important");
                else {
                    var n = di(e);
                    if (Array.isArray(r))
                        for (var i = 0, o = r.length; i < o; i++) t.style[n] = r[i];
                    else t.style[n] = r
                }
            },
            fi = ["Webkit", "Moz", "ms"],
            di = w((function(t) {
                if (li = li || document.createElement("div").style, "filter" !== (t = T(t)) && t in li) return t;
                for (var e = t.charAt(0).toUpperCase() + t.slice(1), r = 0; r < fi.length; r++) {
                    var n = fi[r] + e;
                    if (n in li) return n
                }
            }));

        function mi(t, e) {
            var r = e.data,
                n = t.data;
            if (!(i(r.staticStyle) && i(r.style) && i(n.staticStyle) && i(n.style))) {
                var a, s, u = e.elm,
                    l = n.staticStyle,
                    c = n.normalizedStyle || n.style || {},
                    p = l || c,
                    h = ui(e.data.style) || {};
                e.data.normalizedStyle = o(h.__ob__) ? P({}, h) : h;
                var f = function(t, e) {
                    var r, n = {};
                    if (e)
                        for (var i = t; i.componentInstance;)(i = i.componentInstance._vnode) && i.data && (r = si(i.data)) && P(n, r);
                    (r = si(t.data)) && P(n, r);
                    for (var o = t; o = o.parent;) o.data && (r = si(o.data)) && P(n, r);
                    return n
                }(e, !0);
                for (s in p) i(f[s]) && hi(u, s, "");
                for (s in f)(a = f[s]) !== p[s] && hi(u, s, null == a ? "" : a)
            }
        }
        var yi = {
                create: mi,
                update: mi
            },
            vi = /\s+/;

        function gi(t, e) {
            if (e && (e = e.trim()))
                if (t.classList) e.indexOf(" ") > -1 ? e.split(vi).forEach((function(e) {
                    return t.classList.add(e)
                })) : t.classList.add(e);
                else {
                    var r = " " + (t.getAttribute("class") || "") + " ";
                    r.indexOf(" " + e + " ") < 0 && t.setAttribute("class", (r + e).trim())
                }
        }

        function _i(t, e) {
            if (e && (e = e.trim()))
                if (t.classList) e.indexOf(" ") > -1 ? e.split(vi).forEach((function(e) {
                    return t.classList.remove(e)
                })) : t.classList.remove(e), t.classList.length || t.removeAttribute("class");
                else {
                    for (var r = " " + (t.getAttribute("class") || "") + " ", n = " " + e + " "; r.indexOf(n) >= 0;) r = r.replace(n, " ");
                    (r = r.trim()) ? t.setAttribute("class", r): t.removeAttribute("class")
                }
        }

        function xi(t) {
            if (t) {
                if ("object" == typeof t) {
                    var e = {};
                    return !1 !== t.css && P(e, bi(t.name || "v")), P(e, t), e
                }
                return "string" == typeof t ? bi(t) : void 0
            }
        }
        var bi = w((function(t) {
                return {
                    enterClass: t + "-enter",
                    enterToClass: t + "-enter-to",
                    enterActiveClass: t + "-enter-active",
                    leaveClass: t + "-leave",
                    leaveToClass: t + "-leave-to",
                    leaveActiveClass: t + "-leave-active"
                }
            })),
            wi = H && !Y,
            Si = "transition",
            Ti = "transitionend",
            Ei = "animation",
            Ai = "animationend";
        wi && (void 0 === window.ontransitionend && void 0 !== window.onwebkittransitionend && (Si = "WebkitTransition", Ti = "webkitTransitionEnd"), void 0 === window.onanimationend && void 0 !== window.onwebkitanimationend && (Ei = "WebkitAnimation", Ai = "webkitAnimationEnd"));
        var Ci = H ? window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : setTimeout : function(t) {
            return t()
        };

        function Ii(t) {
            Ci((function() {
                Ci(t)
            }))
        }

        function ki(t, e) {
            var r = t._transitionClasses || (t._transitionClasses = []);
            r.indexOf(e) < 0 && (r.push(e), gi(t, e))
        }

        function Pi(t, e) {
            t._transitionClasses && _(t._transitionClasses, e), _i(t, e)
        }

        function zi(t, e, r) {
            var n = Di(t, e),
                i = n.type,
                o = n.timeout,
                a = n.propCount;
            if (!i) return r();
            var s = "transition" === i ? Ti : Ai,
                u = 0,
                l = function() {
                    t.removeEventListener(s, c), r()
                },
                c = function(e) {
                    e.target === t && ++u >= a && l()
                };
            setTimeout((function() {
                u < a && l()
            }), o + 1), t.addEventListener(s, c)
        }
        var Mi = /\b(transform|all)(,|$)/;

        function Di(t, e) {
            var r, n = window.getComputedStyle(t),
                i = (n[Si + "Delay"] || "").split(", "),
                o = (n[Si + "Duration"] || "").split(", "),
                a = Li(i, o),
                s = (n[Ei + "Delay"] || "").split(", "),
                u = (n[Ei + "Duration"] || "").split(", "),
                l = Li(s, u),
                c = 0,
                p = 0;
            return "transition" === e ? a > 0 && (r = "transition", c = a, p = o.length) : "animation" === e ? l > 0 && (r = "animation", c = l, p = u.length) : p = (r = (c = Math.max(a, l)) > 0 ? a > l ? "transition" : "animation" : null) ? "transition" === r ? o.length : u.length : 0, {
                type: r,
                timeout: c,
                propCount: p,
                hasTransform: "transition" === r && Mi.test(n[Si + "Property"])
            }
        }

        function Li(t, e) {
            for (; t.length < e.length;) t = t.concat(t);
            return Math.max.apply(null, e.map((function(e, r) {
                return Oi(e) + Oi(t[r])
            })))
        }

        function Oi(t) {
            return 1e3 * Number(t.slice(0, -1).replace(",", "."))
        }

        function Ri(t, e) {
            var r = t.elm;
            o(r._leaveCb) && (r._leaveCb.cancelled = !0, r._leaveCb());
            var n = xi(t.data.transition);
            if (!i(n) && !o(r._enterCb) && 1 === r.nodeType) {
                for (var a = n.css, s = n.type, l = n.enterClass, c = n.enterToClass, p = n.enterActiveClass, h = n.appearClass, f = n.appearToClass, d = n.appearActiveClass, y = n.beforeEnter, v = n.enter, g = n.afterEnter, _ = n.enterCancelled, x = n.beforeAppear, b = n.appear, w = n.afterAppear, S = n.appearCancelled, T = n.duration, E = Je, A = Je.$vnode; A && A.parent;) E = A.context, A = A.parent;
                var C = !E._isMounted || !t.isRootInsert;
                if (!C || b || "" === b) {
                    var I = C && h ? h : l,
                        k = C && d ? d : p,
                        P = C && f ? f : c,
                        z = C && x || y,
                        M = C && "function" == typeof b ? b : v,
                        D = C && w || g,
                        L = C && S || _,
                        O = m(u(T) ? T.enter : T);
                    0;
                    var R = !1 !== a && !Y,
                        F = Ni(M),
                        N = r._enterCb = B((function() {
                            R && (Pi(r, P), Pi(r, k)), N.cancelled ? (R && Pi(r, I), L && L(r)) : D && D(r), r._enterCb = null
                        }));
                    t.data.show || le(t, "insert", (function() {
                        var e = r.parentNode,
                            n = e && e._pending && e._pending[t.key];
                        n && n.tag === t.tag && n.elm._leaveCb && n.elm._leaveCb(), M && M(r, N)
                    })), z && z(r), R && (ki(r, I), ki(r, k), Ii((function() {
                        Pi(r, I), N.cancelled || (ki(r, P), F || (Fi(O) ? setTimeout(N, O) : zi(r, s, N)))
                    }))), t.data.show && (e && e(), M && M(r, N)), R || F || N()
                }
            }
        }

        function Bi(t, e) {
            var r = t.elm;
            o(r._enterCb) && (r._enterCb.cancelled = !0, r._enterCb());
            var n = xi(t.data.transition);
            if (i(n) || 1 !== r.nodeType) return e();
            if (!o(r._leaveCb)) {
                var a = n.css,
                    s = n.type,
                    l = n.leaveClass,
                    c = n.leaveToClass,
                    p = n.leaveActiveClass,
                    h = n.beforeLeave,
                    f = n.leave,
                    d = n.afterLeave,
                    y = n.leaveCancelled,
                    v = n.delayLeave,
                    g = n.duration,
                    _ = !1 !== a && !Y,
                    x = Ni(f),
                    b = m(u(g) ? g.leave : g);
                0;
                var w = r._leaveCb = B((function() {
                    r.parentNode && r.parentNode._pending && (r.parentNode._pending[t.key] = null), _ && (Pi(r, c), Pi(r, p)), w.cancelled ? (_ && Pi(r, l), y && y(r)) : (e(), d && d(r)), r._leaveCb = null
                }));
                v ? v(S) : S()
            }

            function S() {
                w.cancelled || (!t.data.show && r.parentNode && ((r.parentNode._pending || (r.parentNode._pending = {}))[t.key] = t), h && h(r), _ && (ki(r, l), ki(r, p), Ii((function() {
                    Pi(r, l), w.cancelled || (ki(r, c), x || (Fi(b) ? setTimeout(w, b) : zi(r, s, w)))
                }))), f && f(r, w), _ || x || w())
            }
        }

        function Fi(t) {
            return "number" == typeof t && !isNaN(t)
        }

        function Ni(t) {
            if (i(t)) return !1;
            var e = t.fns;
            return o(e) ? Ni(Array.isArray(e) ? e[0] : e) : (t._length || t.length) > 1
        }

        function Ui(t, e) {
            !0 !== e.data.show && Ri(e)
        }
        var ji = function(t) {
            var e, r, n = {},
                u = t.modules,
                l = t.nodeOps;
            for (e = 0; e < on.length; ++e)
                for (n[on[e]] = [], r = 0; r < u.length; ++r) o(u[r][on[e]]) && n[on[e]].push(u[r][on[e]]);

            function c(t) {
                var e = l.parentNode(t);
                o(e) && l.removeChild(e, t)
            }

            function p(t, e, r, i, s, u, c) {
                if (o(t.elm) && o(u) && (t = u[c] = xt(t)), t.isRootInsert = !s, ! function(t, e, r, i) {
                        var s = t.data;
                        if (o(s)) {
                            var u = o(t.componentInstance) && s.keepAlive;
                            if (o(s = s.hook) && o(s = s.init) && s(t, !1), o(t.componentInstance)) return h(t, e), f(r, t.elm, i), a(u) && function(t, e, r, i) {
                                var a, s = t;
                                for (; s.componentInstance;)
                                    if (s = s.componentInstance._vnode, o(a = s.data) && o(a = a.transition)) {
                                        for (a = 0; a < n.activate.length; ++a) n.activate[a](nn, s);
                                        e.push(s);
                                        break
                                    } f(r, t.elm, i)
                            }(t, e, r, i), !0
                        }
                    }(t, e, r, i)) {
                    var p = t.data,
                        m = t.children,
                        y = t.tag;
                    o(y) ? (t.elm = t.ns ? l.createElementNS(t.ns, y) : l.createElement(y, t), g(t), d(t, m, e), o(p) && v(t, e), f(r, t.elm, i)) : a(t.isComment) ? (t.elm = l.createComment(t.text), f(r, t.elm, i)) : (t.elm = l.createTextNode(t.text), f(r, t.elm, i))
                }
            }

            function h(t, e) {
                o(t.data.pendingInsert) && (e.push.apply(e, t.data.pendingInsert), t.data.pendingInsert = null), t.elm = t.componentInstance.$el, m(t) ? (v(t, e), g(t)) : (rn(t), e.push(t))
            }

            function f(t, e, r) {
                o(t) && (o(r) ? l.parentNode(r) === t && l.insertBefore(t, e, r) : l.appendChild(t, e))
            }

            function d(t, e, r) {
                if (Array.isArray(e)) {
                    0;
                    for (var n = 0; n < e.length; ++n) p(e[n], r, t.elm, null, !0, e, n)
                } else s(t.text) && l.appendChild(t.elm, l.createTextNode(String(t.text)))
            }

            function m(t) {
                for (; t.componentInstance;) t = t.componentInstance._vnode;
                return o(t.tag)
            }

            function v(t, r) {
                for (var i = 0; i < n.create.length; ++i) n.create[i](nn, t);
                o(e = t.data.hook) && (o(e.create) && e.create(nn, t), o(e.insert) && r.push(t))
            }

            function g(t) {
                var e;
                if (o(e = t.fnScopeId)) l.setStyleScope(t.elm, e);
                else
                    for (var r = t; r;) o(e = r.context) && o(e = e.$options._scopeId) && l.setStyleScope(t.elm, e), r = r.parent;
                o(e = Je) && e !== t.context && e !== t.fnContext && o(e = e.$options._scopeId) && l.setStyleScope(t.elm, e)
            }

            function _(t, e, r, n, i, o) {
                for (; n <= i; ++n) p(r[n], o, t, e, !1, r, n)
            }

            function x(t) {
                var e, r, i = t.data;
                if (o(i))
                    for (o(e = i.hook) && o(e = e.destroy) && e(t), e = 0; e < n.destroy.length; ++e) n.destroy[e](t);
                if (o(e = t.children))
                    for (r = 0; r < t.children.length; ++r) x(t.children[r])
            }

            function b(t, e, r) {
                for (; e <= r; ++e) {
                    var n = t[e];
                    o(n) && (o(n.tag) ? (w(n), x(n)) : c(n.elm))
                }
            }

            function w(t, e) {
                if (o(e) || o(t.data)) {
                    var r, i = n.remove.length + 1;
                    for (o(e) ? e.listeners += i : e = function(t, e) {
                            function r() {
                                0 == --r.listeners && c(t)
                            }
                            return r.listeners = e, r
                        }(t.elm, i), o(r = t.componentInstance) && o(r = r._vnode) && o(r.data) && w(r, e), r = 0; r < n.remove.length; ++r) n.remove[r](t, e);
                    o(r = t.data.hook) && o(r = r.remove) ? r(t, e) : e()
                } else c(t.elm)
            }

            function S(t, e, r, n) {
                for (var i = r; i < n; i++) {
                    var a = e[i];
                    if (o(a) && an(t, a)) return i
                }
            }

            function T(t, e, r, s, u, c) {
                if (t !== e) {
                    o(e.elm) && o(s) && (e = s[u] = xt(e));
                    var h = e.elm = t.elm;
                    if (a(t.isAsyncPlaceholder)) o(e.asyncFactory.resolved) ? C(t.elm, e, r) : e.isAsyncPlaceholder = !0;
                    else if (a(e.isStatic) && a(t.isStatic) && e.key === t.key && (a(e.isCloned) || a(e.isOnce))) e.componentInstance = t.componentInstance;
                    else {
                        var f, d = e.data;
                        o(d) && o(f = d.hook) && o(f = f.prepatch) && f(t, e);
                        var y = t.children,
                            v = e.children;
                        if (o(d) && m(e)) {
                            for (f = 0; f < n.update.length; ++f) n.update[f](t, e);
                            o(f = d.hook) && o(f = f.update) && f(t, e)
                        }
                        i(e.text) ? o(y) && o(v) ? y !== v && function(t, e, r, n, a) {
                            var s, u, c, h = 0,
                                f = 0,
                                d = e.length - 1,
                                m = e[0],
                                y = e[d],
                                v = r.length - 1,
                                g = r[0],
                                x = r[v],
                                w = !a;
                            for (0; h <= d && f <= v;) i(m) ? m = e[++h] : i(y) ? y = e[--d] : an(m, g) ? (T(m, g, n, r, f), m = e[++h], g = r[++f]) : an(y, x) ? (T(y, x, n, r, v), y = e[--d], x = r[--v]) : an(m, x) ? (T(m, x, n, r, v), w && l.insertBefore(t, m.elm, l.nextSibling(y.elm)), m = e[++h], x = r[--v]) : an(y, g) ? (T(y, g, n, r, f), w && l.insertBefore(t, y.elm, m.elm), y = e[--d], g = r[++f]) : (i(s) && (s = sn(e, h, d)), i(u = o(g.key) ? s[g.key] : S(g, e, h, d)) ? p(g, n, t, m.elm, !1, r, f) : an(c = e[u], g) ? (T(c, g, n, r, f), e[u] = void 0, w && l.insertBefore(t, c.elm, m.elm)) : p(g, n, t, m.elm, !1, r, f), g = r[++f]);
                            h > d ? _(t, i(r[v + 1]) ? null : r[v + 1].elm, r, f, v, n) : f > v && b(e, h, d)
                        }(h, y, v, r, c) : o(v) ? (o(t.text) && l.setTextContent(h, ""), _(h, null, v, 0, v.length - 1, r)) : o(y) ? b(y, 0, y.length - 1) : o(t.text) && l.setTextContent(h, "") : t.text !== e.text && l.setTextContent(h, e.text), o(d) && o(f = d.hook) && o(f = f.postpatch) && f(t, e)
                    }
                }
            }

            function E(t, e, r) {
                if (a(r) && o(t.parent)) t.parent.data.pendingInsert = e;
                else
                    for (var n = 0; n < e.length; ++n) e[n].data.hook.insert(e[n])
            }
            var A = y("attrs,class,staticClass,staticStyle,key");

            function C(t, e, r, n) {
                var i, s = e.tag,
                    u = e.data,
                    l = e.children;
                if (n = n || u && u.pre, e.elm = t, a(e.isComment) && o(e.asyncFactory)) return e.isAsyncPlaceholder = !0, !0;
                if (o(u) && (o(i = u.hook) && o(i = i.init) && i(e, !0), o(i = e.componentInstance))) return h(e, r), !0;
                if (o(s)) {
                    if (o(l))
                        if (t.hasChildNodes())
                            if (o(i = u) && o(i = i.domProps) && o(i = i.innerHTML)) {
                                if (i !== t.innerHTML) return !1
                            } else {
                                for (var c = !0, p = t.firstChild, f = 0; f < l.length; f++) {
                                    if (!p || !C(p, l[f], r, n)) {
                                        c = !1;
                                        break
                                    }
                                    p = p.nextSibling
                                }
                                if (!c || p) return !1
                            }
                    else d(e, l, r);
                    if (o(u)) {
                        var m = !1;
                        for (var y in u)
                            if (!A(y)) {
                                m = !0, v(e, r);
                                break
                            }! m && u.class && oe(u.class)
                    }
                } else t.data !== e.text && (t.data = e.text);
                return !0
            }
            return function(t, e, r, s) {
                if (!i(e)) {
                    var u, c = !1,
                        h = [];
                    if (i(t)) c = !0, p(e, h);
                    else {
                        var f = o(t.nodeType);
                        if (!f && an(t, e)) T(t, e, h, null, null, s);
                        else {
                            if (f) {
                                if (1 === t.nodeType && t.hasAttribute("data-server-rendered") && (t.removeAttribute("data-server-rendered"), r = !0), a(r) && C(t, e, h)) return E(e, h, !0), t;
                                u = t, t = new yt(l.tagName(u).toLowerCase(), {}, [], void 0, u)
                            }
                            var d = t.elm,
                                y = l.parentNode(d);
                            if (p(e, h, d._leaveCb ? null : y, l.nextSibling(d)), o(e.parent))
                                for (var v = e.parent, g = m(e); v;) {
                                    for (var _ = 0; _ < n.destroy.length; ++_) n.destroy[_](v);
                                    if (v.elm = e.elm, g) {
                                        for (var w = 0; w < n.create.length; ++w) n.create[w](nn, v);
                                        var S = v.data.hook.insert;
                                        if (S.merged)
                                            for (var A = 1; A < S.fns.length; A++) S.fns[A]()
                                    } else rn(v);
                                    v = v.parent
                                }
                            o(y) ? b([t], 0, 0) : o(t.tag) && x(t)
                        }
                    }
                    return E(e, h, c), e.elm
                }
                o(t) && x(t)
            }
        }({
            nodeOps: tn,
            modules: [gn, An, ri, oi, yi, H ? {
                create: Ui,
                activate: Ui,
                remove: function(t, e) {
                    !0 !== t.data.show ? Bi(t, e) : e()
                }
            } : {}].concat(dn)
        });
        Y && document.addEventListener("selectionchange", (function() {
            var t = document.activeElement;
            t && t.vmodel && Xi(t, "input")
        }));
        var Vi = {
            inserted: function(t, e, r, n) {
                "select" === r.tag ? (n.elm && !n.elm._vOptions ? le(r, "postpatch", (function() {
                    Vi.componentUpdated(t, e, r)
                })) : qi(t, e, r.context), t._vOptions = [].map.call(t.options, Gi)) : ("textarea" === r.tag || Yr(t.type)) && (t._vModifiers = e.modifiers, e.modifiers.lazy || (t.addEventListener("compositionstart", Hi), t.addEventListener("compositionend", Wi), t.addEventListener("change", Wi), Y && (t.vmodel = !0)))
            },
            componentUpdated: function(t, e, r) {
                if ("select" === r.tag) {
                    qi(t, e, r.context);
                    var n = t._vOptions,
                        i = t._vOptions = [].map.call(t.options, Gi);
                    if (i.some((function(t, e) {
                            return !O(t, n[e])
                        })))(t.multiple ? e.value.some((function(t) {
                        return $i(t, i)
                    })) : e.value !== e.oldValue && $i(e.value, i)) && Xi(t, "change")
                }
            }
        };

        function qi(t, e, r) {
            Zi(t, e, r), (J || Q) && setTimeout((function() {
                Zi(t, e, r)
            }), 0)
        }

        function Zi(t, e, r) {
            var n = e.value,
                i = t.multiple;
            if (!i || Array.isArray(n)) {
                for (var o, a, s = 0, u = t.options.length; s < u; s++)
                    if (a = t.options[s], i) o = R(n, Gi(a)) > -1, a.selected !== o && (a.selected = o);
                    else if (O(Gi(a), n)) return void(t.selectedIndex !== s && (t.selectedIndex = s));
                i || (t.selectedIndex = -1)
            }
        }

        function $i(t, e) {
            return e.every((function(e) {
                return !O(e, t)
            }))
        }

        function Gi(t) {
            return "_value" in t ? t._value : t.value
        }

        function Hi(t) {
            t.target.composing = !0
        }

        function Wi(t) {
            t.target.composing && (t.target.composing = !1, Xi(t.target, "input"))
        }

        function Xi(t, e) {
            var r = document.createEvent("HTMLEvents");
            r.initEvent(e, !0, !0), t.dispatchEvent(r)
        }

        function Ki(t) {
            return !t.componentInstance || t.data && t.data.transition ? t : Ki(t.componentInstance._vnode)
        }
        var Ji = {
                model: Vi,
                show: {
                    bind: function(t, e, r) {
                        var n = e.value,
                            i = (r = Ki(r)).data && r.data.transition,
                            o = t.__vOriginalDisplay = "none" === t.style.display ? "" : t.style.display;
                        n && i ? (r.data.show = !0, Ri(r, (function() {
                            t.style.display = o
                        }))) : t.style.display = n ? o : "none"
                    },
                    update: function(t, e, r) {
                        var n = e.value;
                        !n != !e.oldValue && ((r = Ki(r)).data && r.data.transition ? (r.data.show = !0, n ? Ri(r, (function() {
                            t.style.display = t.__vOriginalDisplay
                        })) : Bi(r, (function() {
                            t.style.display = "none"
                        }))) : t.style.display = n ? t.__vOriginalDisplay : "none")
                    },
                    unbind: function(t, e, r, n, i) {
                        i || (t.style.display = t.__vOriginalDisplay)
                    }
                }
            },
            Yi = {
                name: String,
                appear: Boolean,
                css: Boolean,
                mode: String,
                type: String,
                enterClass: String,
                leaveClass: String,
                enterToClass: String,
                leaveToClass: String,
                enterActiveClass: String,
                leaveActiveClass: String,
                appearClass: String,
                appearActiveClass: String,
                appearToClass: String,
                duration: [Number, String, Object]
            };

        function Qi(t) {
            var e = t && t.componentOptions;
            return e && e.Ctor.options.abstract ? Qi(Ge(e.children)) : t
        }

        function to(t) {
            var e = {},
                r = t.$options;
            for (var n in r.propsData) e[n] = t[n];
            var i = r._parentListeners;
            for (var o in i) e[T(o)] = i[o];
            return e
        }

        function eo(t, e) {
            if (/\d-keep-alive$/.test(e.tag)) return t("keep-alive", {
                props: e.componentOptions.propsData
            })
        }
        var ro = function(t) {
                return t.tag || $e(t)
            },
            no = function(t) {
                return "show" === t.name
            },
            io = {
                name: "transition",
                props: Yi,
                abstract: !0,
                render: function(t) {
                    var e = this,
                        r = this.$slots.default;
                    if (r && (r = r.filter(ro)).length) {
                        0;
                        var n = this.mode;
                        0;
                        var i = r[0];
                        if (function(t) {
                                for (; t = t.parent;)
                                    if (t.data.transition) return !0
                            }(this.$vnode)) return i;
                        var o = Qi(i);
                        if (!o) return i;
                        if (this._leaving) return eo(t, i);
                        var a = "__transition-" + this._uid + "-";
                        o.key = null == o.key ? o.isComment ? a + "comment" : a + o.tag : s(o.key) ? 0 === String(o.key).indexOf(a) ? o.key : a + o.key : o.key;
                        var u = (o.data || (o.data = {})).transition = to(this),
                            l = this._vnode,
                            c = Qi(l);
                        if (o.data.directives && o.data.directives.some(no) && (o.data.show = !0), c && c.data && ! function(t, e) {
                                return e.key === t.key && e.tag === t.tag
                            }(o, c) && !$e(c) && (!c.componentInstance || !c.componentInstance._vnode.isComment)) {
                            var p = c.data.transition = P({}, u);
                            if ("out-in" === n) return this._leaving = !0, le(p, "afterLeave", (function() {
                                e._leaving = !1, e.$forceUpdate()
                            })), eo(t, i);
                            if ("in-out" === n) {
                                if ($e(o)) return l;
                                var h, f = function() {
                                    h()
                                };
                                le(u, "afterEnter", f), le(u, "enterCancelled", f), le(p, "delayLeave", (function(t) {
                                    h = t
                                }))
                            }
                        }
                        return i
                    }
                }
            },
            oo = P({
                tag: String,
                moveClass: String
            }, Yi);

        function ao(t) {
            t.elm._moveCb && t.elm._moveCb(), t.elm._enterCb && t.elm._enterCb()
        }

        function so(t) {
            t.data.newPos = t.elm.getBoundingClientRect()
        }

        function uo(t) {
            var e = t.data.pos,
                r = t.data.newPos,
                n = e.left - r.left,
                i = e.top - r.top;
            if (n || i) {
                t.data.moved = !0;
                var o = t.elm.style;
                o.transform = o.WebkitTransform = "translate(" + n + "px," + i + "px)", o.transitionDuration = "0s"
            }
        }
        delete oo.mode;
        var lo = {
            Transition: io,
            TransitionGroup: {
                props: oo,
                beforeMount: function() {
                    var t = this,
                        e = this._update;
                    this._update = function(r, n) {
                        var i = Ye(t);
                        t.__patch__(t._vnode, t.kept, !1, !0), t._vnode = t.kept, i(), e.call(t, r, n)
                    }
                },
                render: function(t) {
                    for (var e = this.tag || this.$vnode.data.tag || "span", r = Object.create(null), n = this.prevChildren = this.children, i = this.$slots.default || [], o = this.children = [], a = to(this), s = 0; s < i.length; s++) {
                        var u = i[s];
                        if (u.tag)
                            if (null != u.key && 0 !== String(u.key).indexOf("__vlist")) o.push(u), r[u.key] = u, (u.data || (u.data = {})).transition = a;
                            else;
                    }
                    if (n) {
                        for (var l = [], c = [], p = 0; p < n.length; p++) {
                            var h = n[p];
                            h.data.transition = a, h.data.pos = h.elm.getBoundingClientRect(), r[h.key] ? l.push(h) : c.push(h)
                        }
                        this.kept = t(e, null, l), this.removed = c
                    }
                    return t(e, null, o)
                },
                updated: function() {
                    var t = this.prevChildren,
                        e = this.moveClass || (this.name || "v") + "-move";
                    t.length && this.hasMove(t[0].elm, e) && (t.forEach(ao), t.forEach(so), t.forEach(uo), this._reflow = document.body.offsetHeight, t.forEach((function(t) {
                        if (t.data.moved) {
                            var r = t.elm,
                                n = r.style;
                            ki(r, e), n.transform = n.WebkitTransform = n.transitionDuration = "", r.addEventListener(Ti, r._moveCb = function t(n) {
                                n && n.target !== r || n && !/transform$/.test(n.propertyName) || (r.removeEventListener(Ti, t), r._moveCb = null, Pi(r, e))
                            })
                        }
                    })))
                },
                methods: {
                    hasMove: function(t, e) {
                        if (!wi) return !1;
                        if (this._hasMove) return this._hasMove;
                        var r = t.cloneNode();
                        t._transitionClasses && t._transitionClasses.forEach((function(t) {
                            _i(r, t)
                        })), gi(r, e), r.style.display = "none", this.$el.appendChild(r);
                        var n = Di(r);
                        return this.$el.removeChild(r), this._hasMove = n.hasTransform
                    }
                }
            }
        };
        Tr.config.mustUseProp = Lr, Tr.config.isReservedTag = Xr, Tr.config.isReservedAttr = Mr, Tr.config.getTagNamespace = Kr, Tr.config.isUnknownElement = function(t) {
            if (!H) return !0;
            if (Xr(t)) return !1;
            if (t = t.toLowerCase(), null != Jr[t]) return Jr[t];
            var e = document.createElement(t);
            return t.indexOf("-") > -1 ? Jr[t] = e.constructor === window.HTMLUnknownElement || e.constructor === window.HTMLElement : Jr[t] = /HTMLUnknownElement/.test(e.toString())
        }, P(Tr.options.directives, Ji), P(Tr.options.components, lo), Tr.prototype.__patch__ = H ? ji : M, Tr.prototype.$mount = function(t, e) {
            return function(t, e, r) {
                var n;
                return t.$el = e, t.$options.render || (t.$options.render = gt), er(t, "beforeMount"), n = function() {
                    t._update(t._render(), r)
                }, new fr(t, n, M, {
                    before: function() {
                        t._isMounted && !t._isDestroyed && er(t, "beforeUpdate")
                    }
                }, !0), r = !1, null == t.$vnode && (t._isMounted = !0, er(t, "mounted")), t
            }(this, t = t && H ? Qr(t) : void 0, e)
        }, H && setTimeout((function() {
            U.devtools && at && at.emit("init", Tr)
        }), 0);
        var co = /\{\{((?:.|\r?\n)+?)\}\}/g,
            po = /[-.*+?^${}()|[\]\/\\]/g,
            ho = w((function(t) {
                var e = t[0].replace(po, "\\$&"),
                    r = t[1].replace(po, "\\$&");
                return new RegExp(e + "((?:.|\\n)+?)" + r, "g")
            }));
        var fo = {
            staticKeys: ["staticClass"],
            transformNode: function(t, e) {
                e.warn;
                var r = Nn(t, "class");
                r && (t.staticClass = JSON.stringify(r));
                var n = Fn(t, "class", !1);
                n && (t.classBinding = n)
            },
            genData: function(t) {
                var e = "";
                return t.staticClass && (e += "staticClass:" + t.staticClass + ","), t.classBinding && (e += "class:" + t.classBinding + ","), e
            }
        };
        var mo, yo = {
                staticKeys: ["staticStyle"],
                transformNode: function(t, e) {
                    e.warn;
                    var r = Nn(t, "style");
                    r && (t.staticStyle = JSON.stringify(ai(r)));
                    var n = Fn(t, "style", !1);
                    n && (t.styleBinding = n)
                },
                genData: function(t) {
                    var e = "";
                    return t.staticStyle && (e += "staticStyle:" + t.staticStyle + ","), t.styleBinding && (e += "style:(" + t.styleBinding + "),"), e
                }
            },
            vo = function(t) {
                return (mo = mo || document.createElement("div")).innerHTML = t, mo.textContent
            },
            go = y("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),
            _o = y("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),
            xo = y("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),
            bo = /^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,
            wo = /^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,
            So = "[a-zA-Z_][\\-\\.0-9_a-zA-Z" + j.source + "]*",
            To = "((?:" + So + "\\:)?" + So + ")",
            Eo = new RegExp("^<" + To),
            Ao = /^\s*(\/?)>/,
            Co = new RegExp("^<\\/" + To + "[^>]*>"),
            Io = /^<!DOCTYPE [^>]+>/i,
            ko = /^<!\--/,
            Po = /^<!\[/,
            zo = y("script,style,textarea", !0),
            Mo = {},
            Do = {
                "&lt;": "<",
                "&gt;": ">",
                "&quot;": '"',
                "&amp;": "&",
                "&#10;": "\n",
                "&#9;": "\t",
                "&#39;": "'"
            },
            Lo = /&(?:lt|gt|quot|amp|#39);/g,
            Oo = /&(?:lt|gt|quot|amp|#39|#10|#9);/g,
            Ro = y("pre,textarea", !0),
            Bo = function(t, e) {
                return t && Ro(t) && "\n" === e[0]
            };

        function Fo(t, e) {
            var r = e ? Oo : Lo;
            return t.replace(r, (function(t) {
                return Do[t]
            }))
        }
        var No, Uo, jo, Vo, qo, Zo, $o, Go, Ho = /^@|^v-on:/,
            Wo = /^v-|^@|^:|^#/,
            Xo = /([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,
            Ko = /,([^,\}\]]*)(?:,([^,\}\]]*))?$/,
            Jo = /^\(|\)$/g,
            Yo = /^\[.*\]$/,
            Qo = /:(.*)$/,
            ta = /^:|^\.|^v-bind:/,
            ea = /\.[^.\]]+(?=[^\]]*$)/g,
            ra = /^v-slot(:|$)|^#/,
            na = /[\r\n]/,
            ia = /\s+/g,
            oa = w(vo);

        function aa(t, e, r) {
            return {
                type: 1,
                tag: t,
                attrsList: e,
                attrsMap: fa(e),
                rawAttrsMap: {},
                parent: r,
                children: []
            }
        }

        function sa(t, e) {
            No = e.warn || Pn, Zo = e.isPreTag || D, $o = e.mustUseProp || D, Go = e.getTagNamespace || D;
            var r = e.isReservedTag || D;
            (function(t) {
                return !!t.component || !r(t.tag)
            }), jo = zn(e.modules, "transformNode"), Vo = zn(e.modules, "preTransformNode"), qo = zn(e.modules, "postTransformNode"), Uo = e.delimiters;
            var n, i, o = [],
                a = !1 !== e.preserveWhitespace,
                s = e.whitespace,
                u = !1,
                l = !1;

            function c(t) {
                if (p(t), u || t.processed || (t = ua(t, e)), o.length || t === n || n.if && (t.elseif || t.else) && ca(n, {
                        exp: t.elseif,
                        block: t
                    }), i && !t.forbidden)
                    if (t.elseif || t.else) a = t, (s = function(t) {
                        for (var e = t.length; e--;) {
                            if (1 === t[e].type) return t[e];
                            t.pop()
                        }
                    }(i.children)) && s.if && ca(s, {
                        exp: a.elseif,
                        block: a
                    });
                    else {
                        if (t.slotScope) {
                            var r = t.slotTarget || '"default"';
                            (i.scopedSlots || (i.scopedSlots = {}))[r] = t
                        }
                        i.children.push(t), t.parent = i
                    } var a, s;
                t.children = t.children.filter((function(t) {
                    return !t.slotScope
                })), p(t), t.pre && (u = !1), Zo(t.tag) && (l = !1);
                for (var c = 0; c < qo.length; c++) qo[c](t, e)
            }

            function p(t) {
                if (!l)
                    for (var e;
                        (e = t.children[t.children.length - 1]) && 3 === e.type && " " === e.text;) t.children.pop()
            }
            return function(t, e) {
                for (var r, n, i = [], o = e.expectHTML, a = e.isUnaryTag || D, s = e.canBeLeftOpenTag || D, u = 0; t;) {
                    if (r = t, n && zo(n)) {
                        var l = 0,
                            c = n.toLowerCase(),
                            p = Mo[c] || (Mo[c] = new RegExp("([\\s\\S]*?)(</" + c + "[^>]*>)", "i")),
                            h = t.replace(p, (function(t, r, n) {
                                return l = n.length, zo(c) || "noscript" === c || (r = r.replace(/<!\--([\s\S]*?)-->/g, "$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g, "$1")), Bo(c, r) && (r = r.slice(1)), e.chars && e.chars(r), ""
                            }));
                        u += t.length - h.length, t = h, A(c, u - l, u)
                    } else {
                        var f = t.indexOf("<");
                        if (0 === f) {
                            if (ko.test(t)) {
                                var d = t.indexOf("--\x3e");
                                if (d >= 0) {
                                    e.shouldKeepComment && e.comment(t.substring(4, d), u, u + d + 3), S(d + 3);
                                    continue
                                }
                            }
                            if (Po.test(t)) {
                                var m = t.indexOf("]>");
                                if (m >= 0) {
                                    S(m + 2);
                                    continue
                                }
                            }
                            var y = t.match(Io);
                            if (y) {
                                S(y[0].length);
                                continue
                            }
                            var v = t.match(Co);
                            if (v) {
                                var g = u;
                                S(v[0].length), A(v[1], g, u);
                                continue
                            }
                            var _ = T();
                            if (_) {
                                E(_), Bo(_.tagName, t) && S(1);
                                continue
                            }
                        }
                        var x = void 0,
                            b = void 0,
                            w = void 0;
                        if (f >= 0) {
                            for (b = t.slice(f); !(Co.test(b) || Eo.test(b) || ko.test(b) || Po.test(b) || (w = b.indexOf("<", 1)) < 0);) f += w, b = t.slice(f);
                            x = t.substring(0, f)
                        }
                        f < 0 && (x = t), x && S(x.length), e.chars && x && e.chars(x, u - x.length, u)
                    }
                    if (t === r) {
                        e.chars && e.chars(t);
                        break
                    }
                }

                function S(e) {
                    u += e, t = t.substring(e)
                }

                function T() {
                    var e = t.match(Eo);
                    if (e) {
                        var r, n, i = {
                            tagName: e[1],
                            attrs: [],
                            start: u
                        };
                        for (S(e[0].length); !(r = t.match(Ao)) && (n = t.match(wo) || t.match(bo));) n.start = u, S(n[0].length), n.end = u, i.attrs.push(n);
                        if (r) return i.unarySlash = r[1], S(r[0].length), i.end = u, i
                    }
                }

                function E(t) {
                    var r = t.tagName,
                        u = t.unarySlash;
                    o && ("p" === n && xo(r) && A(n), s(r) && n === r && A(r));
                    for (var l = a(r) || !!u, c = t.attrs.length, p = new Array(c), h = 0; h < c; h++) {
                        var f = t.attrs[h],
                            d = f[3] || f[4] || f[5] || "",
                            m = "a" === r && "href" === f[1] ? e.shouldDecodeNewlinesForHref : e.shouldDecodeNewlines;
                        p[h] = {
                            name: f[1],
                            value: Fo(d, m)
                        }
                    }
                    l || (i.push({
                        tag: r,
                        lowerCasedTag: r.toLowerCase(),
                        attrs: p,
                        start: t.start,
                        end: t.end
                    }), n = r), e.start && e.start(r, p, l, t.start, t.end)
                }

                function A(t, r, o) {
                    var a, s;
                    if (null == r && (r = u), null == o && (o = u), t)
                        for (s = t.toLowerCase(), a = i.length - 1; a >= 0 && i[a].lowerCasedTag !== s; a--);
                    else a = 0;
                    if (a >= 0) {
                        for (var l = i.length - 1; l >= a; l--) e.end && e.end(i[l].tag, r, o);
                        i.length = a, n = a && i[a - 1].tag
                    } else "br" === s ? e.start && e.start(t, [], !0, r, o) : "p" === s && (e.start && e.start(t, [], !1, r, o), e.end && e.end(t, r, o))
                }
                A()
            }(t, {
                warn: No,
                expectHTML: e.expectHTML,
                isUnaryTag: e.isUnaryTag,
                canBeLeftOpenTag: e.canBeLeftOpenTag,
                shouldDecodeNewlines: e.shouldDecodeNewlines,
                shouldDecodeNewlinesForHref: e.shouldDecodeNewlinesForHref,
                shouldKeepComment: e.comments,
                outputSourceRange: e.outputSourceRange,
                start: function(t, r, a, s, p) {
                    var h = i && i.ns || Go(t);
                    J && "svg" === h && (r = function(t) {
                        for (var e = [], r = 0; r < t.length; r++) {
                            var n = t[r];
                            da.test(n.name) || (n.name = n.name.replace(ma, ""), e.push(n))
                        }
                        return e
                    }(r));
                    var f, d = aa(t, r, i);
                    h && (d.ns = h), "style" !== (f = d).tag && ("script" !== f.tag || f.attrsMap.type && "text/javascript" !== f.attrsMap.type) || ot() || (d.forbidden = !0);
                    for (var m = 0; m < Vo.length; m++) d = Vo[m](d, e) || d;
                    u || (! function(t) {
                        null != Nn(t, "v-pre") && (t.pre = !0)
                    }(d), d.pre && (u = !0)), Zo(d.tag) && (l = !0), u ? function(t) {
                        var e = t.attrsList,
                            r = e.length;
                        if (r)
                            for (var n = t.attrs = new Array(r), i = 0; i < r; i++) n[i] = {
                                name: e[i].name,
                                value: JSON.stringify(e[i].value)
                            }, null != e[i].start && (n[i].start = e[i].start, n[i].end = e[i].end);
                        else t.pre || (t.plain = !0)
                    }(d) : d.processed || (la(d), function(t) {
                        var e = Nn(t, "v-if");
                        if (e) t.if = e, ca(t, {
                            exp: e,
                            block: t
                        });
                        else {
                            null != Nn(t, "v-else") && (t.else = !0);
                            var r = Nn(t, "v-else-if");
                            r && (t.elseif = r)
                        }
                    }(d), function(t) {
                        null != Nn(t, "v-once") && (t.once = !0)
                    }(d)), n || (n = d), a ? c(d) : (i = d, o.push(d))
                },
                end: function(t, e, r) {
                    var n = o[o.length - 1];
                    o.length -= 1, i = o[o.length - 1], c(n)
                },
                chars: function(t, e, r) {
                    if (i && (!J || "textarea" !== i.tag || i.attrsMap.placeholder !== t)) {
                        var n, o, c, p = i.children;
                        if (t = l || t.trim() ? "script" === (n = i).tag || "style" === n.tag ? t : oa(t) : p.length ? s ? "condense" === s && na.test(t) ? "" : " " : a ? " " : "" : "") l || "condense" !== s || (t = t.replace(ia, " ")), !u && " " !== t && (o = function(t, e) {
                            var r = e ? ho(e) : co;
                            if (r.test(t)) {
                                for (var n, i, o, a = [], s = [], u = r.lastIndex = 0; n = r.exec(t);) {
                                    (i = n.index) > u && (s.push(o = t.slice(u, i)), a.push(JSON.stringify(o)));
                                    var l = In(n[1].trim());
                                    a.push("_s(" + l + ")"), s.push({
                                        "@binding": l
                                    }), u = i + n[0].length
                                }
                                return u < t.length && (s.push(o = t.slice(u)), a.push(JSON.stringify(o))), {
                                    expression: a.join("+"),
                                    tokens: s
                                }
                            }
                        }(t, Uo)) ? c = {
                            type: 2,
                            expression: o.expression,
                            tokens: o.tokens,
                            text: t
                        } : " " === t && p.length && " " === p[p.length - 1].text || (c = {
                            type: 3,
                            text: t
                        }), c && p.push(c)
                    }
                },
                comment: function(t, e, r) {
                    if (i) {
                        var n = {
                            type: 3,
                            text: t,
                            isComment: !0
                        };
                        0, i.children.push(n)
                    }
                }
            }), n
        }

        function ua(t, e) {
            var r;
            ! function(t) {
                var e = Fn(t, "key");
                if (e) {
                    t.key = e
                }
            }(t), t.plain = !t.key && !t.scopedSlots && !t.attrsList.length,
                function(t) {
                    var e = Fn(t, "ref");
                    e && (t.ref = e, t.refInFor = function(t) {
                        var e = t;
                        for (; e;) {
                            if (void 0 !== e.for) return !0;
                            e = e.parent
                        }
                        return !1
                    }(t))
                }(t),
                function(t) {
                    var e;
                    "template" === t.tag ? (e = Nn(t, "scope"), t.slotScope = e || Nn(t, "slot-scope")) : (e = Nn(t, "slot-scope")) && (t.slotScope = e);
                    var r = Fn(t, "slot");
                    r && (t.slotTarget = '""' === r ? '"default"' : r, t.slotTargetDynamic = !(!t.attrsMap[":slot"] && !t.attrsMap["v-bind:slot"]), "template" === t.tag || t.slotScope || Dn(t, "slot", r, function(t, e) {
                        return t.rawAttrsMap[":" + e] || t.rawAttrsMap["v-bind:" + e] || t.rawAttrsMap[e]
                    }(t, "slot")));
                    if ("template" === t.tag) {
                        var n = Un(t, ra);
                        if (n) {
                            0;
                            var i = pa(n),
                                o = i.name,
                                a = i.dynamic;
                            t.slotTarget = o, t.slotTargetDynamic = a, t.slotScope = n.value || "_empty_"
                        }
                    } else {
                        var s = Un(t, ra);
                        if (s) {
                            0;
                            var u = t.scopedSlots || (t.scopedSlots = {}),
                                l = pa(s),
                                c = l.name,
                                p = l.dynamic,
                                h = u[c] = aa("template", [], t);
                            h.slotTarget = c, h.slotTargetDynamic = p, h.children = t.children.filter((function(t) {
                                if (!t.slotScope) return t.parent = h, !0
                            })), h.slotScope = s.value || "_empty_", t.children = [], t.plain = !1
                        }
                    }
                }(t), "slot" === (r = t).tag && (r.slotName = Fn(r, "name")),
                function(t) {
                    var e;
                    (e = Fn(t, "is")) && (t.component = e);
                    null != Nn(t, "inline-template") && (t.inlineTemplate = !0)
                }(t);
            for (var n = 0; n < jo.length; n++) t = jo[n](t, e) || t;
            return function(t) {
                var e, r, n, i, o, a, s, u, l = t.attrsList;
                for (e = 0, r = l.length; e < r; e++) {
                    if (n = i = l[e].name, o = l[e].value, Wo.test(n))
                        if (t.hasBindings = !0, (a = ha(n.replace(Wo, ""))) && (n = n.replace(ea, "")), ta.test(n)) n = n.replace(ta, ""), o = In(o), (u = Yo.test(n)) && (n = n.slice(1, -1)), a && (a.prop && !u && "innerHtml" === (n = T(n)) && (n = "innerHTML"), a.camel && !u && (n = T(n)), a.sync && (s = qn(o, "$event"), u ? Bn(t, '"update:"+(' + n + ")", s, null, !1, 0, l[e], !0) : (Bn(t, "update:" + T(n), s, null, !1, 0, l[e]), C(n) !== T(n) && Bn(t, "update:" + C(n), s, null, !1, 0, l[e])))), a && a.prop || !t.component && $o(t.tag, t.attrsMap.type, n) ? Mn(t, n, o, l[e], u) : Dn(t, n, o, l[e], u);
                        else if (Ho.test(n)) n = n.replace(Ho, ""), (u = Yo.test(n)) && (n = n.slice(1, -1)), Bn(t, n, o, a, !1, 0, l[e], u);
                    else {
                        var c = (n = n.replace(Wo, "")).match(Qo),
                            p = c && c[1];
                        u = !1, p && (n = n.slice(0, -(p.length + 1)), Yo.test(p) && (p = p.slice(1, -1), u = !0)), On(t, n, i, o, p, u, a, l[e])
                    } else Dn(t, n, JSON.stringify(o), l[e]), !t.component && "muted" === n && $o(t.tag, t.attrsMap.type, n) && Mn(t, n, "true", l[e])
                }
            }(t), t
        }

        function la(t) {
            var e;
            if (e = Nn(t, "v-for")) {
                var r = function(t) {
                    var e = t.match(Xo);
                    if (!e) return;
                    var r = {};
                    r.for = e[2].trim();
                    var n = e[1].trim().replace(Jo, ""),
                        i = n.match(Ko);
                    i ? (r.alias = n.replace(Ko, "").trim(), r.iterator1 = i[1].trim(), i[2] && (r.iterator2 = i[2].trim())) : r.alias = n;
                    return r
                }(e);
                r && P(t, r)
            }
        }

        function ca(t, e) {
            t.ifConditions || (t.ifConditions = []), t.ifConditions.push(e)
        }

        function pa(t) {
            var e = t.name.replace(ra, "");
            return e || "#" !== t.name[0] && (e = "default"), Yo.test(e) ? {
                name: e.slice(1, -1),
                dynamic: !0
            } : {
                name: '"' + e + '"',
                dynamic: !1
            }
        }

        function ha(t) {
            var e = t.match(ea);
            if (e) {
                var r = {};
                return e.forEach((function(t) {
                    r[t.slice(1)] = !0
                })), r
            }
        }

        function fa(t) {
            for (var e = {}, r = 0, n = t.length; r < n; r++) e[t[r].name] = t[r].value;
            return e
        }
        var da = /^xmlns:NS\d+/,
            ma = /^NS\d+:/;

        function ya(t) {
            return aa(t.tag, t.attrsList.slice(), t.parent)
        }
        var va = [fo, yo, {
            preTransformNode: function(t, e) {
                if ("input" === t.tag) {
                    var r, n = t.attrsMap;
                    if (!n["v-model"]) return;
                    if ((n[":type"] || n["v-bind:type"]) && (r = Fn(t, "type")), n.type || r || !n["v-bind"] || (r = "(" + n["v-bind"] + ").type"), r) {
                        var i = Nn(t, "v-if", !0),
                            o = i ? "&&(" + i + ")" : "",
                            a = null != Nn(t, "v-else", !0),
                            s = Nn(t, "v-else-if", !0),
                            u = ya(t);
                        la(u), Ln(u, "type", "checkbox"), ua(u, e), u.processed = !0, u.if = "(" + r + ")==='checkbox'" + o, ca(u, {
                            exp: u.if,
                            block: u
                        });
                        var l = ya(t);
                        Nn(l, "v-for", !0), Ln(l, "type", "radio"), ua(l, e), ca(u, {
                            exp: "(" + r + ")==='radio'" + o,
                            block: l
                        });
                        var c = ya(t);
                        return Nn(c, "v-for", !0), Ln(c, ":type", r), ua(c, e), ca(u, {
                            exp: i,
                            block: c
                        }), a ? u.else = !0 : s && (u.elseif = s), u
                    }
                }
            }
        }];
        var ga, _a, xa = {
                expectHTML: !0,
                modules: va,
                directives: {
                    model: function(t, e, r) {
                        r;
                        var n = e.value,
                            i = e.modifiers,
                            o = t.tag,
                            a = t.attrsMap.type;
                        if (t.component) return Vn(t, n, i), !1;
                        if ("select" === o) ! function(t, e, r) {
                            var n = 'var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return ' + (r && r.number ? "_n(val)" : "val") + "});";
                            n = n + " " + qn(e, "$event.target.multiple ? $$selectedVal : $$selectedVal[0]"), Bn(t, "change", n, null, !0)
                        }(t, n, i);
                        else if ("input" === o && "checkbox" === a) ! function(t, e, r) {
                            var n = r && r.number,
                                i = Fn(t, "value") || "null",
                                o = Fn(t, "true-value") || "true",
                                a = Fn(t, "false-value") || "false";
                            Mn(t, "checked", "Array.isArray(" + e + ")?_i(" + e + "," + i + ")>-1" + ("true" === o ? ":(" + e + ")" : ":_q(" + e + "," + o + ")")), Bn(t, "change", "var $$a=" + e + ",$$el=$event.target,$$c=$$el.checked?(" + o + "):(" + a + ");if(Array.isArray($$a)){var $$v=" + (n ? "_n(" + i + ")" : i) + ",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&(" + qn(e, "$$a.concat([$$v])") + ")}else{$$i>-1&&(" + qn(e, "$$a.slice(0,$$i).concat($$a.slice($$i+1))") + ")}}else{" + qn(e, "$$c") + "}", null, !0)
                        }(t, n, i);
                        else if ("input" === o && "radio" === a) ! function(t, e, r) {
                            var n = r && r.number,
                                i = Fn(t, "value") || "null";
                            Mn(t, "checked", "_q(" + e + "," + (i = n ? "_n(" + i + ")" : i) + ")"), Bn(t, "change", qn(e, i), null, !0)
                        }(t, n, i);
                        else if ("input" === o || "textarea" === o) ! function(t, e, r) {
                            var n = t.attrsMap.type;
                            0;
                            var i = r || {},
                                o = i.lazy,
                                a = i.number,
                                s = i.trim,
                                u = !o && "range" !== n,
                                l = o ? "change" : "range" === n ? "__r" : "input",
                                c = "$event.target.value";
                            s && (c = "$event.target.value.trim()");
                            a && (c = "_n(" + c + ")");
                            var p = qn(e, c);
                            u && (p = "if($event.target.composing)return;" + p);
                            Mn(t, "value", "(" + e + ")"), Bn(t, l, p, null, !0), (s || a) && Bn(t, "blur", "$forceUpdate()")
                        }(t, n, i);
                        else {
                            if (!U.isReservedTag(o)) return Vn(t, n, i), !1
                        }
                        return !0
                    },
                    text: function(t, e) {
                        e.value && Mn(t, "textContent", "_s(" + e.value + ")", e)
                    },
                    html: function(t, e) {
                        e.value && Mn(t, "innerHTML", "_s(" + e.value + ")", e)
                    }
                },
                isPreTag: function(t) {
                    return "pre" === t
                },
                isUnaryTag: go,
                mustUseProp: Lr,
                canBeLeftOpenTag: _o,
                isReservedTag: Xr,
                getTagNamespace: Kr,
                staticKeys: function(t) {
                    return t.reduce((function(t, e) {
                        return t.concat(e.staticKeys || [])
                    }), []).join(",")
                }(va)
            },
            ba = w((function(t) {
                return y("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap" + (t ? "," + t : ""))
            }));

        function wa(t, e) {
            t && (ga = ba(e.staticKeys || ""), _a = e.isReservedTag || D, function t(e) {
                if (e.static = function(t) {
                        if (2 === t.type) return !1;
                        if (3 === t.type) return !0;
                        return !(!t.pre && (t.hasBindings || t.if || t.for || v(t.tag) || !_a(t.tag) || function(t) {
                            for (; t.parent;) {
                                if ("template" !== (t = t.parent).tag) return !1;
                                if (t.for) return !0
                            }
                            return !1
                        }(t) || !Object.keys(t).every(ga)))
                    }(e), 1 === e.type) {
                    if (!_a(e.tag) && "slot" !== e.tag && null == e.attrsMap["inline-template"]) return;
                    for (var r = 0, n = e.children.length; r < n; r++) {
                        var i = e.children[r];
                        t(i), i.static || (e.static = !1)
                    }
                    if (e.ifConditions)
                        for (var o = 1, a = e.ifConditions.length; o < a; o++) {
                            var s = e.ifConditions[o].block;
                            t(s), s.static || (e.static = !1)
                        }
                }
            }(t), function t(e, r) {
                if (1 === e.type) {
                    if ((e.static || e.once) && (e.staticInFor = r), e.static && e.children.length && (1 !== e.children.length || 3 !== e.children[0].type)) return void(e.staticRoot = !0);
                    if (e.staticRoot = !1, e.children)
                        for (var n = 0, i = e.children.length; n < i; n++) t(e.children[n], r || !!e.for);
                    if (e.ifConditions)
                        for (var o = 1, a = e.ifConditions.length; o < a; o++) t(e.ifConditions[o].block, r)
                }
            }(t, !1))
        }
        var Sa = /^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,
            Ta = /\([^)]*?\);*$/,
            Ea = /^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,
            Aa = {
                esc: 27,
                tab: 9,
                enter: 13,
                space: 32,
                up: 38,
                left: 37,
                right: 39,
                down: 40,
                delete: [8, 46]
            },
            Ca = {
                esc: ["Esc", "Escape"],
                tab: "Tab",
                enter: "Enter",
                space: [" ", "Spacebar"],
                up: ["Up", "ArrowUp"],
                left: ["Left", "ArrowLeft"],
                right: ["Right", "ArrowRight"],
                down: ["Down", "ArrowDown"],
                delete: ["Backspace", "Delete", "Del"]
            },
            Ia = function(t) {
                return "if(" + t + ")return null;"
            },
            ka = {
                stop: "$event.stopPropagation();",
                prevent: "$event.preventDefault();",
                self: Ia("$event.target !== $event.currentTarget"),
                ctrl: Ia("!$event.ctrlKey"),
                shift: Ia("!$event.shiftKey"),
                alt: Ia("!$event.altKey"),
                meta: Ia("!$event.metaKey"),
                left: Ia("'button' in $event && $event.button !== 0"),
                middle: Ia("'button' in $event && $event.button !== 1"),
                right: Ia("'button' in $event && $event.button !== 2")
            };

        function Pa(t, e) {
            var r = e ? "nativeOn:" : "on:",
                n = "",
                i = "";
            for (var o in t) {
                var a = za(t[o]);
                t[o] && t[o].dynamic ? i += o + "," + a + "," : n += '"' + o + '":' + a + ","
            }
            return n = "{" + n.slice(0, -1) + "}", i ? r + "_d(" + n + ",[" + i.slice(0, -1) + "])" : r + n
        }

        function za(t) {
            if (!t) return "function(){}";
            if (Array.isArray(t)) return "[" + t.map((function(t) {
                return za(t)
            })).join(",") + "]";
            var e = Ea.test(t.value),
                r = Sa.test(t.value),
                n = Ea.test(t.value.replace(Ta, ""));
            if (t.modifiers) {
                var i = "",
                    o = "",
                    a = [];
                for (var s in t.modifiers)
                    if (ka[s]) o += ka[s], Aa[s] && a.push(s);
                    else if ("exact" === s) {
                    var u = t.modifiers;
                    o += Ia(["ctrl", "shift", "alt", "meta"].filter((function(t) {
                        return !u[t]
                    })).map((function(t) {
                        return "$event." + t + "Key"
                    })).join("||"))
                } else a.push(s);
                return a.length && (i += function(t) {
                    return "if(!$event.type.indexOf('key')&&" + t.map(Ma).join("&&") + ")return null;"
                }(a)), o && (i += o), "function($event){" + i + (e ? "return " + t.value + "($event)" : r ? "return (" + t.value + ")($event)" : n ? "return " + t.value : t.value) + "}"
            }
            return e || r ? t.value : "function($event){" + (n ? "return " + t.value : t.value) + "}"
        }

        function Ma(t) {
            var e = parseInt(t, 10);
            if (e) return "$event.keyCode!==" + e;
            var r = Aa[t],
                n = Ca[t];
            return "_k($event.keyCode," + JSON.stringify(t) + "," + JSON.stringify(r) + ",$event.key," + JSON.stringify(n) + ")"
        }
        var Da = {
                on: function(t, e) {
                    t.wrapListeners = function(t) {
                        return "_g(" + t + "," + e.value + ")"
                    }
                },
                bind: function(t, e) {
                    t.wrapData = function(r) {
                        return "_b(" + r + ",'" + t.tag + "'," + e.value + "," + (e.modifiers && e.modifiers.prop ? "true" : "false") + (e.modifiers && e.modifiers.sync ? ",true" : "") + ")"
                    }
                },
                cloak: M
            },
            La = function(t) {
                this.options = t, this.warn = t.warn || Pn, this.transforms = zn(t.modules, "transformCode"), this.dataGenFns = zn(t.modules, "genData"), this.directives = P(P({}, Da), t.directives);
                var e = t.isReservedTag || D;
                this.maybeComponent = function(t) {
                    return !!t.component || !e(t.tag)
                }, this.onceId = 0, this.staticRenderFns = [], this.pre = !1
            };

        function Oa(t, e) {
            var r = new La(e);
            return {
                render: "with(this){return " + (t ? Ra(t, r) : '_c("div")') + "}",
                staticRenderFns: r.staticRenderFns
            }
        }

        function Ra(t, e) {
            if (t.parent && (t.pre = t.pre || t.parent.pre), t.staticRoot && !t.staticProcessed) return Ba(t, e);
            if (t.once && !t.onceProcessed) return Fa(t, e);
            if (t.for && !t.forProcessed) return Ua(t, e);
            if (t.if && !t.ifProcessed) return Na(t, e);
            if ("template" !== t.tag || t.slotTarget || e.pre) {
                if ("slot" === t.tag) return function(t, e) {
                    var r = t.slotName || '"default"',
                        n = Za(t, e),
                        i = "_t(" + r + (n ? "," + n : ""),
                        o = t.attrs || t.dynamicAttrs ? Ha((t.attrs || []).concat(t.dynamicAttrs || []).map((function(t) {
                            return {
                                name: T(t.name),
                                value: t.value,
                                dynamic: t.dynamic
                            }
                        }))) : null,
                        a = t.attrsMap["v-bind"];
                    !o && !a || n || (i += ",null");
                    o && (i += "," + o);
                    a && (i += (o ? "" : ",null") + "," + a);
                    return i + ")"
                }(t, e);
                var r;
                if (t.component) r = function(t, e, r) {
                    var n = e.inlineTemplate ? null : Za(e, r, !0);
                    return "_c(" + t + "," + ja(e, r) + (n ? "," + n : "") + ")"
                }(t.component, t, e);
                else {
                    var n;
                    (!t.plain || t.pre && e.maybeComponent(t)) && (n = ja(t, e));
                    var i = t.inlineTemplate ? null : Za(t, e, !0);
                    r = "_c('" + t.tag + "'" + (n ? "," + n : "") + (i ? "," + i : "") + ")"
                }
                for (var o = 0; o < e.transforms.length; o++) r = e.transforms[o](t, r);
                return r
            }
            return Za(t, e) || "void 0"
        }

        function Ba(t, e) {
            t.staticProcessed = !0;
            var r = e.pre;
            return t.pre && (e.pre = t.pre), e.staticRenderFns.push("with(this){return " + Ra(t, e) + "}"), e.pre = r, "_m(" + (e.staticRenderFns.length - 1) + (t.staticInFor ? ",true" : "") + ")"
        }

        function Fa(t, e) {
            if (t.onceProcessed = !0, t.if && !t.ifProcessed) return Na(t, e);
            if (t.staticInFor) {
                for (var r = "", n = t.parent; n;) {
                    if (n.for) {
                        r = n.key;
                        break
                    }
                    n = n.parent
                }
                return r ? "_o(" + Ra(t, e) + "," + e.onceId++ + "," + r + ")" : Ra(t, e)
            }
            return Ba(t, e)
        }

        function Na(t, e, r, n) {
            return t.ifProcessed = !0,
                function t(e, r, n, i) {
                    if (!e.length) return i || "_e()";
                    var o = e.shift();
                    return o.exp ? "(" + o.exp + ")?" + a(o.block) + ":" + t(e, r, n, i) : "" + a(o.block);

                    function a(t) {
                        return n ? n(t, r) : t.once ? Fa(t, r) : Ra(t, r)
                    }
                }(t.ifConditions.slice(), e, r, n)
        }

        function Ua(t, e, r, n) {
            var i = t.for,
                o = t.alias,
                a = t.iterator1 ? "," + t.iterator1 : "",
                s = t.iterator2 ? "," + t.iterator2 : "";
            return t.forProcessed = !0, (n || "_l") + "((" + i + "),function(" + o + a + s + "){return " + (r || Ra)(t, e) + "})"
        }

        function ja(t, e) {
            var r = "{",
                n = function(t, e) {
                    var r = t.directives;
                    if (!r) return;
                    var n, i, o, a, s = "directives:[",
                        u = !1;
                    for (n = 0, i = r.length; n < i; n++) {
                        o = r[n], a = !0;
                        var l = e.directives[o.name];
                        l && (a = !!l(t, o, e.warn)), a && (u = !0, s += '{name:"' + o.name + '",rawName:"' + o.rawName + '"' + (o.value ? ",value:(" + o.value + "),expression:" + JSON.stringify(o.value) : "") + (o.arg ? ",arg:" + (o.isDynamicArg ? o.arg : '"' + o.arg + '"') : "") + (o.modifiers ? ",modifiers:" + JSON.stringify(o.modifiers) : "") + "},")
                    }
                    if (u) return s.slice(0, -1) + "]"
                }(t, e);
            n && (r += n + ","), t.key && (r += "key:" + t.key + ","), t.ref && (r += "ref:" + t.ref + ","), t.refInFor && (r += "refInFor:true,"), t.pre && (r += "pre:true,"), t.component && (r += 'tag:"' + t.tag + '",');
            for (var i = 0; i < e.dataGenFns.length; i++) r += e.dataGenFns[i](t);
            if (t.attrs && (r += "attrs:" + Ha(t.attrs) + ","), t.props && (r += "domProps:" + Ha(t.props) + ","), t.events && (r += Pa(t.events, !1) + ","), t.nativeEvents && (r += Pa(t.nativeEvents, !0) + ","), t.slotTarget && !t.slotScope && (r += "slot:" + t.slotTarget + ","), t.scopedSlots && (r += function(t, e, r) {
                    var n = t.for || Object.keys(e).some((function(t) {
                            var r = e[t];
                            return r.slotTargetDynamic || r.if || r.for || Va(r)
                        })),
                        i = !!t.if;
                    if (!n)
                        for (var o = t.parent; o;) {
                            if (o.slotScope && "_empty_" !== o.slotScope || o.for) {
                                n = !0;
                                break
                            }
                            o.if && (i = !0), o = o.parent
                        }
                    var a = Object.keys(e).map((function(t) {
                        return qa(e[t], r)
                    })).join(",");
                    return "scopedSlots:_u([" + a + "]" + (n ? ",null,true" : "") + (!n && i ? ",null,false," + function(t) {
                        var e = 5381,
                            r = t.length;
                        for (; r;) e = 33 * e ^ t.charCodeAt(--r);
                        return e >>> 0
                    }(a) : "") + ")"
                }(t, t.scopedSlots, e) + ","), t.model && (r += "model:{value:" + t.model.value + ",callback:" + t.model.callback + ",expression:" + t.model.expression + "},"), t.inlineTemplate) {
                var o = function(t, e) {
                    var r = t.children[0];
                    0;
                    if (r && 1 === r.type) {
                        var n = Oa(r, e.options);
                        return "inlineTemplate:{render:function(){" + n.render + "},staticRenderFns:[" + n.staticRenderFns.map((function(t) {
                            return "function(){" + t + "}"
                        })).join(",") + "]}"
                    }
                }(t, e);
                o && (r += o + ",")
            }
            return r = r.replace(/,$/, "") + "}", t.dynamicAttrs && (r = "_b(" + r + ',"' + t.tag + '",' + Ha(t.dynamicAttrs) + ")"), t.wrapData && (r = t.wrapData(r)), t.wrapListeners && (r = t.wrapListeners(r)), r
        }

        function Va(t) {
            return 1 === t.type && ("slot" === t.tag || t.children.some(Va))
        }

        function qa(t, e) {
            var r = t.attrsMap["slot-scope"];
            if (t.if && !t.ifProcessed && !r) return Na(t, e, qa, "null");
            if (t.for && !t.forProcessed) return Ua(t, e, qa);
            var n = "_empty_" === t.slotScope ? "" : String(t.slotScope),
                i = "function(" + n + "){return " + ("template" === t.tag ? t.if && r ? "(" + t.if+")?" + (Za(t, e) || "undefined") + ":undefined" : Za(t, e) || "undefined" : Ra(t, e)) + "}",
                o = n ? "" : ",proxy:true";
            return "{key:" + (t.slotTarget || '"default"') + ",fn:" + i + o + "}"
        }

        function Za(t, e, r, n, i) {
            var o = t.children;
            if (o.length) {
                var a = o[0];
                if (1 === o.length && a.for && "template" !== a.tag && "slot" !== a.tag) {
                    var s = r ? e.maybeComponent(a) ? ",1" : ",0" : "";
                    return "" + (n || Ra)(a, e) + s
                }
                var u = r ? function(t, e) {
                        for (var r = 0, n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (1 === i.type) {
                                if ($a(i) || i.ifConditions && i.ifConditions.some((function(t) {
                                        return $a(t.block)
                                    }))) {
                                    r = 2;
                                    break
                                }(e(i) || i.ifConditions && i.ifConditions.some((function(t) {
                                    return e(t.block)
                                }))) && (r = 1)
                            }
                        }
                        return r
                    }(o, e.maybeComponent) : 0,
                    l = i || Ga;
                return "[" + o.map((function(t) {
                    return l(t, e)
                })).join(",") + "]" + (u ? "," + u : "")
            }
        }

        function $a(t) {
            return void 0 !== t.for || "template" === t.tag || "slot" === t.tag
        }

        function Ga(t, e) {
            return 1 === t.type ? Ra(t, e) : 3 === t.type && t.isComment ? function(t) {
                return "_e(" + JSON.stringify(t.text) + ")"
            }(t) : function(t) {
                return "_v(" + (2 === t.type ? t.expression : Wa(JSON.stringify(t.text))) + ")"
            }(t)
        }

        function Ha(t) {
            for (var e = "", r = "", n = 0; n < t.length; n++) {
                var i = t[n],
                    o = Wa(i.value);
                i.dynamic ? r += i.name + "," + o + "," : e += '"' + i.name + '":' + o + ","
            }
            return e = "{" + e.slice(0, -1) + "}", r ? "_d(" + e + ",[" + r.slice(0, -1) + "])" : e
        }

        function Wa(t) {
            return t.replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029")
        }
        new RegExp("\\b" + "do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b") + "\\b"), new RegExp("\\b" + "delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b") + "\\s*\\([^\\)]*\\)");

        function Xa(t, e) {
            try {
                return new Function(t)
            } catch (r) {
                return e.push({
                    err: r,
                    code: t
                }), M
            }
        }

        function Ka(t) {
            var e = Object.create(null);
            return function(r, n, i) {
                (n = P({}, n)).warn;
                delete n.warn;
                var o = n.delimiters ? String(n.delimiters) + r : r;
                if (e[o]) return e[o];
                var a = t(r, n);
                var s = {},
                    u = [];
                return s.render = Xa(a.render, u), s.staticRenderFns = a.staticRenderFns.map((function(t) {
                    return Xa(t, u)
                })), e[o] = s
            }
        }
        var Ja, Ya, Qa = (Ja = function(t, e) {
                var r = sa(t.trim(), e);
                !1 !== e.optimize && wa(r, e);
                var n = Oa(r, e);
                return {
                    ast: r,
                    render: n.render,
                    staticRenderFns: n.staticRenderFns
                }
            }, function(t) {
                function e(e, r) {
                    var n = Object.create(t),
                        i = [],
                        o = [];
                    if (r)
                        for (var a in r.modules && (n.modules = (t.modules || []).concat(r.modules)), r.directives && (n.directives = P(Object.create(t.directives || null), r.directives)), r) "modules" !== a && "directives" !== a && (n[a] = r[a]);
                    n.warn = function(t, e, r) {
                        (r ? o : i).push(t)
                    };
                    var s = Ja(e.trim(), n);
                    return s.errors = i, s.tips = o, s
                }
                return {
                    compile: e,
                    compileToFunctions: Ka(e)
                }
            })(xa),
            ts = (Qa.compile, Qa.compileToFunctions);

        function es(t) {
            return (Ya = Ya || document.createElement("div")).innerHTML = t ? '<a href="\n"/>' : '<div a="\n"/>', Ya.innerHTML.indexOf("&#10;") > 0
        }
        var rs = !!H && es(!1),
            ns = !!H && es(!0),
            is = w((function(t) {
                var e = Qr(t);
                return e && e.innerHTML
            })),
            os = Tr.prototype.$mount;
        Tr.prototype.$mount = function(t, e) {
            if ((t = t && Qr(t)) === document.body || t === document.documentElement) return this;
            var r = this.$options;
            if (!r.render) {
                var n = r.template;
                if (n)
                    if ("string" == typeof n) "#" === n.charAt(0) && (n = is(n));
                    else {
                        if (!n.nodeType) return this;
                        n = n.innerHTML
                    }
                else t && (n = function(t) {
                    if (t.outerHTML) return t.outerHTML;
                    var e = document.createElement("div");
                    return e.appendChild(t.cloneNode(!0)), e.innerHTML
                }(t));
                if (n) {
                    0;
                    var i = ts(n, {
                            outputSourceRange: !1,
                            shouldDecodeNewlines: rs,
                            shouldDecodeNewlinesForHref: ns,
                            delimiters: r.delimiters,
                            comments: r.comments
                        }, this),
                        o = i.render,
                        a = i.staticRenderFns;
                    r.render = o, r.staticRenderFns = a
                }
            }
            return os.call(this, t, e)
        }, Tr.compile = ts, e.a = Tr
    }).call(this, r(0), r(4).setImmediate)
}, function(t, e) {
    var r, n, i = t.exports = {};

    function o() {
        throw new Error("setTimeout has not been defined")
    }

    function a() {
        throw new Error("clearTimeout has not been defined")
    }

    function s(t) {
        if (r === setTimeout) return setTimeout(t, 0);
        if ((r === o || !r) && setTimeout) return r = setTimeout, setTimeout(t, 0);
        try {
            return r(t, 0)
        } catch (e) {
            try {
                return r.call(null, t, 0)
            } catch (e) {
                return r.call(this, t, 0)
            }
        }
    }! function() {
        try {
            r = "function" == typeof setTimeout ? setTimeout : o
        } catch (t) {
            r = o
        }
        try {
            n = "function" == typeof clearTimeout ? clearTimeout : a
        } catch (t) {
            n = a
        }
    }();
    var u, l = [],
        c = !1,
        p = -1;

    function h() {
        c && u && (c = !1, u.length ? l = u.concat(l) : p = -1, l.length && f())
    }

    function f() {
        if (!c) {
            var t = s(h);
            c = !0;
            for (var e = l.length; e;) {
                for (u = l, l = []; ++p < e;) u && u[p].run();
                p = -1, e = l.length
            }
            u = null, c = !1,
                function(t) {
                    if (n === clearTimeout) return clearTimeout(t);
                    if ((n === a || !n) && clearTimeout) return n = clearTimeout, clearTimeout(t);
                    try {
                        n(t)
                    } catch (e) {
                        try {
                            return n.call(null, t)
                        } catch (e) {
                            return n.call(this, t)
                        }
                    }
                }(t)
        }
    }

    function d(t, e) {
        this.fun = t, this.array = e
    }

    function m() {}
    i.nextTick = function(t) {
        var e = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var r = 1; r < arguments.length; r++) e[r - 1] = arguments[r];
        l.push(new d(t, e)), 1 !== l.length || c || s(f)
    }, d.prototype.run = function() {
        this.fun.apply(null, this.array)
    }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = m, i.addListener = m, i.once = m, i.off = m, i.removeListener = m, i.removeAllListeners = m, i.emit = m, i.prependListener = m, i.prependOnceListener = m, i.listeners = function(t) {
        return []
    }, i.binding = function(t) {
        throw new Error("process.binding is not supported")
    }, i.cwd = function() {
        return "/"
    }, i.chdir = function(t) {
        throw new Error("process.chdir is not supported")
    }, i.umask = function() {
        return 0
    }
}, function(t, e, r) {
    (function(t) {
        var n = void 0 !== t && t || "undefined" != typeof self && self || window,
            i = Function.prototype.apply;

        function o(t, e) {
            this._id = t, this._clearFn = e
        }
        e.setTimeout = function() {
            return new o(i.call(setTimeout, n, arguments), clearTimeout)
        }, e.setInterval = function() {
            return new o(i.call(setInterval, n, arguments), clearInterval)
        }, e.clearTimeout = e.clearInterval = function(t) {
            t && t.close()
        }, o.prototype.unref = o.prototype.ref = function() {}, o.prototype.close = function() {
            this._clearFn.call(n, this._id)
        }, e.enroll = function(t, e) {
            clearTimeout(t._idleTimeoutId), t._idleTimeout = e
        }, e.unenroll = function(t) {
            clearTimeout(t._idleTimeoutId), t._idleTimeout = -1
        }, e._unrefActive = e.active = function(t) {
            clearTimeout(t._idleTimeoutId);
            var e = t._idleTimeout;
            e >= 0 && (t._idleTimeoutId = setTimeout((function() {
                t._onTimeout && t._onTimeout()
            }), e))
        }, r(5), e.setImmediate = "undefined" != typeof self && self.setImmediate || void 0 !== t && t.setImmediate || this && this.setImmediate, e.clearImmediate = "undefined" != typeof self && self.clearImmediate || void 0 !== t && t.clearImmediate || this && this.clearImmediate
    }).call(this, r(0))
}, function(t, e, r) {
    (function(t, e) {
        ! function(t, r) {
            "use strict";
            if (!t.setImmediate) {
                var n, i, o, a, s, u = 1,
                    l = {},
                    c = !1,
                    p = t.document,
                    h = Object.getPrototypeOf && Object.getPrototypeOf(t);
                h = h && h.setTimeout ? h : t, "[object process]" === {}.toString.call(t.process) ? n = function(t) {
                    e.nextTick((function() {
                        d(t)
                    }))
                } : ! function() {
                    if (t.postMessage && !t.importScripts) {
                        var e = !0,
                            r = t.onmessage;
                        return t.onmessage = function() {
                            e = !1
                        }, t.postMessage("", "*"), t.onmessage = r, e
                    }
                }() ? t.MessageChannel ? ((o = new MessageChannel).port1.onmessage = function(t) {
                    d(t.data)
                }, n = function(t) {
                    o.port2.postMessage(t)
                }) : p && "onreadystatechange" in p.createElement("script") ? (i = p.documentElement, n = function(t) {
                    var e = p.createElement("script");
                    e.onreadystatechange = function() {
                        d(t), e.onreadystatechange = null, i.removeChild(e), e = null
                    }, i.appendChild(e)
                }) : n = function(t) {
                    setTimeout(d, 0, t)
                } : (a = "setImmediate$" + Math.random() + "$", s = function(e) {
                    e.source === t && "string" == typeof e.data && 0 === e.data.indexOf(a) && d(+e.data.slice(a.length))
                }, t.addEventListener ? t.addEventListener("message", s, !1) : t.attachEvent("onmessage", s), n = function(e) {
                    t.postMessage(a + e, "*")
                }), h.setImmediate = function(t) {
                    "function" != typeof t && (t = new Function("" + t));
                    for (var e = new Array(arguments.length - 1), r = 0; r < e.length; r++) e[r] = arguments[r + 1];
                    var i = {
                        callback: t,
                        args: e
                    };
                    return l[u] = i, n(u), u++
                }, h.clearImmediate = f
            }

            function f(t) {
                delete l[t]
            }

            function d(t) {
                if (c) setTimeout(d, 0, t);
                else {
                    var e = l[t];
                    if (e) {
                        c = !0;
                        try {
                            ! function(t) {
                                var e = t.callback,
                                    r = t.args;
                                switch (r.length) {
                                    case 0:
                                        e();
                                        break;
                                    case 1:
                                        e(r[0]);
                                        break;
                                    case 2:
                                        e(r[0], r[1]);
                                        break;
                                    case 3:
                                        e(r[0], r[1], r[2]);
                                        break;
                                    default:
                                        e.apply(void 0, r)
                                }
                            }(e)
                        } finally {
                            f(t), c = !1
                        }
                    }
                }
            }
        }("undefined" == typeof self ? void 0 === t ? this : t : self)
    }).call(this, r(0), r(3))
}, function(t, e, r) {
    "use strict";
    (function(t, r) {
        function n(t) {
            var e = this.constructor;
            return this.then((function(r) {
                return e.resolve(t()).then((function() {
                    return r
                }))
            }), (function(r) {
                return e.resolve(t()).then((function() {
                    return e.reject(r)
                }))
            }))
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var i = setTimeout;

        function o(t) {
            return Boolean(t && void 0 !== t.length)
        }

        function a() {}

        function s(t) {
            if (!(this instanceof s)) throw new TypeError("Promises must be constructed via new");
            if ("function" != typeof t) throw new TypeError("not a function");
            this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], f(t, this)
        }

        function u(t, e) {
            for (; 3 === t._state;) t = t._value;
            0 !== t._state ? (t._handled = !0, s._immediateFn((function() {
                var r = 1 === t._state ? e.onFulfilled : e.onRejected;
                if (null !== r) {
                    var n;
                    try {
                        n = r(t._value)
                    } catch (t) {
                        return void c(e.promise, t)
                    }
                    l(e.promise, n)
                } else(1 === t._state ? l : c)(e.promise, t._value)
            }))) : t._deferreds.push(e)
        }

        function l(t, e) {
            try {
                if (e === t) throw new TypeError("A promise cannot be resolved with itself.");
                if (e && ("object" == typeof e || "function" == typeof e)) {
                    var r = e.then;
                    if (e instanceof s) return t._state = 3, t._value = e, void p(t);
                    if ("function" == typeof r) return void f((n = r, i = e, function() {
                        n.apply(i, arguments)
                    }), t)
                }
                t._state = 1, t._value = e, p(t)
            } catch (e) {
                c(t, e)
            }
            var n, i
        }

        function c(t, e) {
            t._state = 2, t._value = e, p(t)
        }

        function p(t) {
            2 === t._state && 0 === t._deferreds.length && s._immediateFn((function() {
                t._handled || s._unhandledRejectionFn(t._value)
            }));
            for (var e = 0, r = t._deferreds.length; e < r; e++) u(t, t._deferreds[e]);
            t._deferreds = null
        }

        function h(t, e, r) {
            this.onFulfilled = "function" == typeof t ? t : null, this.onRejected = "function" == typeof e ? e : null, this.promise = r
        }

        function f(t, e) {
            var r = !1;
            try {
                t((function(t) {
                    r || (r = !0, l(e, t))
                }), (function(t) {
                    r || (r = !0, c(e, t))
                }))
            } catch (t) {
                if (r) return;
                r = !0, c(e, t)
            }
        }
        s.prototype.catch = function(t) {
            return this.then(null, t)
        }, s.prototype.then = function(t, e) {
            var r = new this.constructor(a);
            return u(this, new h(t, e, r)), r
        }, s.prototype.finally = n, s.all = function(t) {
            return new s((function(e, r) {
                if (!o(t)) return r(new TypeError("Promise.all accepts an array"));
                var n = Array.prototype.slice.call(t);
                if (0 === n.length) return e([]);
                var i = n.length;

                function a(t, o) {
                    try {
                        if (o && ("object" == typeof o || "function" == typeof o)) {
                            var s = o.then;
                            if ("function" == typeof s) return void s.call(o, (function(e) {
                                a(t, e)
                            }), r)
                        }
                        n[t] = o, 0 == --i && e(n)
                    } catch (t) {
                        r(t)
                    }
                }
                for (var s = 0; s < n.length; s++) a(s, n[s])
            }))
        }, s.resolve = function(t) {
            return t && "object" == typeof t && t.constructor === s ? t : new s((function(e) {
                e(t)
            }))
        }, s.reject = function(t) {
            return new s((function(e, r) {
                r(t)
            }))
        }, s.race = function(t) {
            return new s((function(e, r) {
                if (!o(t)) return r(new TypeError("Promise.race accepts an array"));
                for (var n = 0, i = t.length; n < i; n++) s.resolve(t[n]).then(e, r)
            }))
        }, s._immediateFn = "function" == typeof t && function(e) {
            t(e)
        } || function(t) {
            i(t, 0)
        }, s._unhandledRejectionFn = function(t) {
            "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t)
        };
        var d = function() {
            if ("undefined" != typeof self) return self;
            if ("undefined" != typeof window) return window;
            if (void 0 !== r) return r;
            throw new Error("unable to locate global object")
        }();
        "Promise" in d ? d.Promise.prototype.finally || (d.Promise.prototype.finally = n) : d.Promise = s;
        var m = function() {
                return !!window.webkitRequestFileSystem
            },
            y = function(t, e) {
                if (Array.prototype.forEach && t.forEach === Array.prototype.forEach) t.forEach(e);
                else if (t.length === +t.length)
                    for (var r = 0, n = t.length; r < n; r++) e(t[r], r);
                else
                    for (var i in t) t.hasOwnProperty(i) && e(t[i], i)
            },
            v = function(t, e) {
                var r = [];
                return null == t ? r : Array.prototype.map && t.map === Array.prototype.map ? t.map(e) : (y(t, (function(t, n) {
                    r.push(e(t, n))
                })), r)
            },
            g = function(t, e) {
                if (0 == e.length || e.length > t.length) return -1;
                for (var r = 0; r < t.length; r++) {
                    for (var n = 0, i = 0; i < e.length; i++) {
                        if (t[r + i] != e[i]) {
                            n = 0;
                            break
                        }
                        n++
                    }
                    if (n == e.length) return r
                }
                return -1
            };

        function _(t) {
            for (var e = t + "=", r = document.cookie.split(";"), n = 0; n < r.length; n++) {
                for (var i = r[n];
                    " " == i.charAt(0);) i = i.substring(1, i.length);
                if (0 == i.indexOf(e)) return i.substring(e.length, i.length)
            }
        }
        var x, b = function(t) {
                try {
                    if (localStorage && localStorage.getItem) return localStorage.getItem(t)
                } catch (t) {}
                return null
            },
            w = function(t, e) {
                try {
                    localStorage && localStorage.setItem && localStorage.setItem(t, e)
                } catch (t) {}
            };
        ! function(t) {
            t[t.unset = -1] = "unset", t[t.city = 1] = "city", t[t.full = 2] = "full"
        }(x || (x = {}));
        var S, T, E = function() {
                function t(t, e, r, n) {
                    this._tls = null, this._tlsError = null, this.requestId = function(t) {
                        for (var e = "", r = 0; r < 20; r++) e += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62 * Math.random()));
                        return e
                    }(), this.sendOptions = t, this.config = e, this.duration = r, this.components = n
                }
                return Object.defineProperty(t.prototype, "tls", {
                    set: function(t) {
                        this._tls = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "tlsError", {
                    set: function(t) {
                        this._tlsError = t
                    },
                    enumerable: !1,
                    configurable: !0
                }), t.prototype.rawIPResolution = function() {
                    return this.sendOptions.ip ? "full" == this.sendOptions.ip ? x.full : x.city : x.unset
                }, t.prototype.buildRaw = function(t) {
                    var e = function(t) {
                            return {
                                cookies: _(t || "_vid"),
                                localStorage: b("_vid")
                            }
                        }(t),
                        r = {
                            rid: this.requestId,
                            cv: "2.7.4",
                            c: this.config.client,
                            url: location.href,
                            d: this.duration,
                            vid: e.cookies || e.localStorage || void 0,
                            ls: e.localStorage ? 1 : void 0,
                            i: this.rawIPResolution()
                        };
                    return this._tls && this._tls.length > 0 && (r.j = this._tls), this._tlsError && (r.je = this._tlsError), this.sendOptions.tag && (r.t = this.sendOptions.tag), this.sendOptions.callbackData && (r.cbd = 1), this.sendOptions.linkedId && (r.lid = this.sendOptions.linkedId.toString()), document.referrer && (r.cr = document.referrer), y(this.components, (function(t) {
                        r[t.key] = t.value
                    })), r
                }, t
            }(),
            A = function(t, e) {
                t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]], e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]];
                var r = [0, 0, 0, 0];
                return r[3] += t[3] + e[3], r[2] += r[3] >>> 16, r[3] &= 65535, r[2] += t[2] + e[2], r[1] += r[2] >>> 16, r[2] &= 65535, r[1] += t[1] + e[1], r[0] += r[1] >>> 16, r[1] &= 65535, r[0] += t[0] + e[0], r[0] &= 65535, [r[0] << 16 | r[1], r[2] << 16 | r[3]]
            },
            C = function(t, e) {
                t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]], e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]];
                var r = [0, 0, 0, 0];
                return r[3] += t[3] * e[3], r[2] += r[3] >>> 16, r[3] &= 65535, r[2] += t[2] * e[3], r[1] += r[2] >>> 16, r[2] &= 65535, r[2] += t[3] * e[2], r[1] += r[2] >>> 16, r[2] &= 65535, r[1] += t[1] * e[3], r[0] += r[1] >>> 16, r[1] &= 65535, r[1] += t[2] * e[2], r[0] += r[1] >>> 16, r[1] &= 65535, r[1] += t[3] * e[1], r[0] += r[1] >>> 16, r[1] &= 65535, r[0] += t[0] * e[3] + t[1] * e[2] + t[2] * e[1] + t[3] * e[0], r[0] &= 65535, [r[0] << 16 | r[1], r[2] << 16 | r[3]]
            },
            I = function(t, e) {
                return 32 == (e %= 64) ? [t[1], t[0]] : e < 32 ? [t[0] << e | t[1] >>> 32 - e, t[1] << e | t[0] >>> 32 - e] : (e -= 32, [t[1] << e | t[0] >>> 32 - e, t[0] << e | t[1] >>> 32 - e])
            },
            k = function(t, e) {
                return 0 == (e %= 64) ? t : e < 32 ? [t[0] << e | t[1] >>> 32 - e, t[1] << e] : [t[1] << e - 32, 0]
            },
            P = function(t, e) {
                return [t[0] ^ e[0], t[1] ^ e[1]]
            },
            z = function(t) {
                return t = P(t, [0, t[0] >>> 1]), t = C(t, [4283543511, 3981806797]), t = P(t, [0, t[0] >>> 1]), t = C(t, [3301882366, 444984403]), P(t, [0, t[0] >>> 1])
            },
            M = function() {
                ! function() {
                    (S = document.createElement("canvas")).width = 240, S.height = 140, S.style.display = "inline";
                    var t = S.getContext("2d");
                    null != t && (T = t)
                }();
                var t = {
                    winding: !1,
                    data: ""
                };
                return T && S.toDataURL ? (T.rect(0, 0, 10, 10), T.rect(2, 2, 6, 6), t.winding = !1 === T.isPointInPath(5, 5, "evenodd"), T.textBaseline = "alphabetic", T.fillStyle = "#f60", T.fillRect(125, 1, 62, 20), T.fillStyle = "#069", T.font = "11pt no-real-font-123", T.fillText("Cwm fjordbank ðŸ˜ƒ gly", 2, 15), T.fillStyle = "rgba(102, 204, 0, 0.2)", T.font = "18pt Arial", T.fillText("Cwm fjordbank ðŸ˜ƒ gly", 4, 45), T.globalCompositeOperation = "multiply", T.fillStyle = "rgb(255,0,255)", T.beginPath(), T.arc(50, 50, 50, 0, 2 * Math.PI, !0), T.closePath(), T.fill(), T.fillStyle = "rgb(0,255,255)", T.beginPath(), T.arc(100, 50, 50, 0, 2 * Math.PI, !0), T.closePath(), T.fill(), T.fillStyle = "rgb(255,255,0)", T.beginPath(), T.arc(75, 100, 50, 0, 2 * Math.PI, !0), T.closePath(), T.fill(), T.fillStyle = "rgb(255,0,255)", T.arc(75, 75, 75, 0, 2 * Math.PI, !0), T.arc(75, 75, 25, 0, 2 * Math.PI, !0), T.fill("evenodd"), t.data = function(t, e) {
                    e = e || 0;
                    for (var r = (t = t || "").length % 16, n = t.length - r, i = [0, e], o = [0, e], a = [0, 0], s = [0, 0], u = [2277735313, 289559509], l = [1291169091, 658871167], c = 0; c < n; c += 16) a = [255 & t.charCodeAt(c + 4) | (255 & t.charCodeAt(c + 5)) << 8 | (255 & t.charCodeAt(c + 6)) << 16 | (255 & t.charCodeAt(c + 7)) << 24, 255 & t.charCodeAt(c) | (255 & t.charCodeAt(c + 1)) << 8 | (255 & t.charCodeAt(c + 2)) << 16 | (255 & t.charCodeAt(c + 3)) << 24], s = [255 & t.charCodeAt(c + 12) | (255 & t.charCodeAt(c + 13)) << 8 | (255 & t.charCodeAt(c + 14)) << 16 | (255 & t.charCodeAt(c + 15)) << 24, 255 & t.charCodeAt(c + 8) | (255 & t.charCodeAt(c + 9)) << 8 | (255 & t.charCodeAt(c + 10)) << 16 | (255 & t.charCodeAt(c + 11)) << 24], a = C(a, u), a = I(a, 31), a = C(a, l), i = P(i, a), i = I(i, 27), i = A(i, o), i = A(C(i, [0, 5]), [0, 1390208809]), s = C(s, l), s = I(s, 33), s = C(s, u), o = P(o, s), o = I(o, 31), o = A(o, i), o = A(C(o, [0, 5]), [0, 944331445]);
                    switch (a = [0, 0], s = [0, 0], r) {
                        case 15:
                            s = P(s, k([0, t.charCodeAt(c + 14)], 48));
                        case 14:
                            s = P(s, k([0, t.charCodeAt(c + 13)], 40));
                        case 13:
                            s = P(s, k([0, t.charCodeAt(c + 12)], 32));
                        case 12:
                            s = P(s, k([0, t.charCodeAt(c + 11)], 24));
                        case 11:
                            s = P(s, k([0, t.charCodeAt(c + 10)], 16));
                        case 10:
                            s = P(s, k([0, t.charCodeAt(c + 9)], 8));
                        case 9:
                            s = P(s, [0, t.charCodeAt(c + 8)]), s = C(s, l), s = I(s, 33), s = C(s, u), o = P(o, s);
                        case 8:
                            a = P(a, k([0, t.charCodeAt(c + 7)], 56));
                        case 7:
                            a = P(a, k([0, t.charCodeAt(c + 6)], 48));
                        case 6:
                            a = P(a, k([0, t.charCodeAt(c + 5)], 40));
                        case 5:
                            a = P(a, k([0, t.charCodeAt(c + 4)], 32));
                        case 4:
                            a = P(a, k([0, t.charCodeAt(c + 3)], 24));
                        case 3:
                            a = P(a, k([0, t.charCodeAt(c + 2)], 16));
                        case 2:
                            a = P(a, k([0, t.charCodeAt(c + 1)], 8));
                        case 1:
                            a = P(a, [0, t.charCodeAt(c)]), a = C(a, u), a = I(a, 31), a = C(a, l), i = P(i, a)
                    }
                    return i = P(i, [0, t.length]), o = P(o, [0, t.length]), i = A(i, o), o = A(o, i), i = z(i), o = z(o), i = A(i, o), o = A(o, i), ("00000000" + (i[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (i[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (o[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (o[1] >>> 0).toString(16)).slice(-8)
                }(S.toDataURL()), t) : t
            },
            D = navigator,
            L = window,
            O = navigator,
            R = window,
            B = "safari" in window,
            F = function() {
                return new Promise((function(t) {
                    try {
                        window.safari.pushNotification.requestPermission("https://example.com", "private", {}, (function() {}))
                    } catch (e) {
                        U(e) ? t(!1) : t(!0)
                    }
                }))
            },
            N = function() {
                var t = document.createElement("iframe");
                return Promise.race([new Promise((function(e) {
                    t.style.display = "none", document.body.appendChild(t), t.contentWindow ? t.contentWindow.applicationCache.addEventListener("error", (function() {
                        return e(!0)
                    })) : e(!1)
                })), (20, new Promise((function(t) {
                    setTimeout((function() {
                        return t(!1)
                    }), 20)
                })))]).then((function(e) {
                    return t.remove(), e
                }))
            },
            U = function(t) {
                return new RegExp([103, 101, 115, 116, 117, 114, 101].map((function(t) {
                    return String.fromCharCode(t)
                })).join("")).test(t)
            },
            j = function() {
                try {
                    return m() ? new Promise((function(t) {
                        (function() {
                            var t = navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);
                            if (!t) throw "UserAgent is not Google Chrome";
                            return parseInt(t[2], 10)
                        })() >= 76 ? new Promise((function(t) {
                            "storage" in navigator && "estimate" in navigator.storage ? navigator.storage.estimate().then((function(e) {
                                var r = e.quota;
                                t(!!(r && r < 12e7))
                            })) : t(!1)
                        })).then((function(e) {
                            return t(e)
                        })) : window.webkitRequestFileSystem(0, 1, (function() {
                            t(!1)
                        }), (function() {
                            t(!0)
                        }))
                    })) : /Apple/.test(navigator.vendor) && /Safari/.test(navigator.userAgent) ? function() {
                        var t = navigator.userAgent.match(/Version\/([0-9._]+).*Safari/);
                        if (!t) throw "UserAgent is not Safari";
                        var e = t[1].split(".").map((function(t) {
                            return isNaN(parseInt(t)) ? 0 : parseInt(t)
                        }));
                        return {
                            major: e[0],
                            minor: e[1],
                            patch: e[2]
                        }
                    }().major < 13 ? new Promise((function(t) {
                        try {
                            window.openDatabase(null, null, null, null)
                        } catch (e) {
                            return t(!0)
                        }
                        try {
                            return window.localStorage.setItem("test", "1"), window.localStorage.removeItem("test"), t(!1)
                        } catch (e) {
                            return t(!0)
                        }
                    })) : B ? F() : N() : "MozAppearance" in document.documentElement.style ? new Promise((function(t) {
                        try {
                            var e = window.indexedDB.open("test");
                            e.onerror = function() {
                                return t(!0)
                            }, e.onsuccess = function() {
                                return t(!1)
                            }
                        } catch (e) {
                            return t(!0)
                        }
                    })) : function() {
                        var t = navigator.userAgent.toLowerCase();
                        if (0 === t.indexOf("msie") && 0 === t.indexOf("trident")) return !1;
                        var e = /(?:msie|rv:)\s?([\d.]+)/.exec(t);
                        if (e && parseInt(e[1], 10) >= 10) return !0;
                        var r = /edge/.exec(t);
                        return !(!r || "edge" != r[0])
                    }() ? new Promise((function(t) {
                        try {
                            if (!window.indexedDB) return t(!0)
                        } catch (e) {
                            return t(!0)
                        }
                        return t(!1)
                    })) : Promise.resolve(!1)
                } catch (t) {
                    return Promise.reject(t)
                }
            },
            V = window,
            q = document,
            Z = navigator,
            $ = [{
                key: "k1"
            }, {
                key: "k2"
            }, {
                key: "k3"
            }, {
                key: "k4"
            }, {
                key: "k5"
            }, {
                key: "k6"
            }, {
                key: "k7"
            }, {
                key: "k8"
            }, {
                key: "k9"
            }, {
                key: "k10"
            }, {
                key: "k11"
            }, {
                key: "k12"
            }, {
                key: "k13"
            }, {
                key: "k14"
            }, {
                key: "k15"
            }, {
                key: "k16",
                default: []
            }, {
                key: "k17"
            }, {
                key: "k18"
            }, {
                key: "k19"
            }, {
                key: "k20",
                default: []
            }, {
                key: "k21",
                default: -1
            }, {
                key: "k22"
            }, {
                key: "k23"
            }, {
                key: "k24"
            }, {
                key: "k25"
            }, {
                key: "k26"
            }, {
                key: "k27"
            }, {
                key: "k28"
            }, {
                key: "k29"
            }, {
                key: "k30"
            }, {
                key: "k31"
            }, {
                key: "k32"
            }, {
                key: "k33"
            }],
            G = {
                k1: function(t) {
                    t(Z.oscpu)
                },
                k2: function(t) {
                    var e = [
                        [Z.language || Z.userLanguage || Z.browserLanguage || Z.systemLanguage]
                    ];
                    if (Array.isArray(Z.languages)) e.push(Z.languages);
                    else if ("string" == typeof Z.languages) {
                        var r = Z.languages;
                        r.length > 0 && e.push(r.split(","))
                    }
                    return t(e)
                },
                k3: function(t) {
                    t(V.screen.colorDepth)
                },
                k4: function(t) {
                    t(Z.deviceMemory)
                },
                k5: function(t) {
                    t([parseInt(V.screen.width.toString()), parseInt(V.screen.height.toString())].sort().reverse())
                },
                k6: function(t) {
                    V.screen.availWidth && V.screen.availHeight ? t([parseInt(V.screen.availHeight.toString()), parseInt(V.screen.availWidth.toString())].sort().reverse()) : t([])
                },
                k7: function(t) {
                    try {
                        var e = parseInt(Z.hardwareConcurrency.toString());
                        t(isNaN(e) ? 1 : e)
                    } catch (e) {
                        t(1)
                    }
                },
                k8: function(t) {
                    t((new Date).getTimezoneOffset())
                },
                k9: function(t) {
                    var e;
                    V.Intl && V.Intl.DateTimeFormat && (e = (new V.Intl.DateTimeFormat).resolvedOptions().timeZone), t(e)
                },
                k10: function(t) {
                    var e = 1;
                    try {
                        e = V.sessionStorage ? 1 : 0
                    } catch (t) {}
                    t(e)
                },
                k11: function(t) {
                    var e = 1;
                    try {
                        e = V.localStorage ? 1 : 0
                    } catch (t) {}
                    t(e)
                },
                k12: function(t) {
                    var e = 1;
                    try {
                        e = V.indexedDB ? 1 : 0
                    } catch (t) {}
                    t(e)
                },
                k13: function(t) {
                    t(V.openDatabase ? 1 : 0)
                },
                k14: function(t) {
                    t(Z.cpuClass)
                },
                k15: function(t) {
                    t(Z.platform)
                },
                k16: function(t) {
                    t(function() {
                        if ("Microsoft Internet Explorer" === navigator.appName || "Netscape" === navigator.appName && /Trident/.test(navigator.userAgent)) return [];
                        if (null != navigator.plugins) {
                            for (var t = [], e = 0, r = navigator.plugins.length; e < r; e++) navigator.plugins[e] && t.push(navigator.plugins[e]);
                            return v(t, (function(t) {
                                var e = v(t, (function(t) {
                                    return {
                                        type: t.type,
                                        suffixes: t.suffixes
                                    }
                                }));
                                return {
                                    name: t.name,
                                    description: t.description,
                                    mimeTypes: e
                                }
                            }))
                        }
                    }())
                },
                k17: function(t) {
                    t(M())
                },
                k18: function(t) {
                    t(function() {
                        var t = document.createElement("div");
                        t.innerHTML = "&nbsp;", t.className = "adsbox";
                        var e = !1;
                        try {
                            document.body.appendChild(t), e = 0 == document.getElementsByClassName("adsbox")[0].offsetHeight, document.body.removeChild(t)
                        } catch (t) {
                            e = !1
                        }
                        return e ? 1 : 0
                    }())
                },
                k19: function(t) {
                    t(function() {
                        var t, e = 0;
                        void 0 !== D.maxTouchPoints ? e = parseInt(D.maxTouchPoints) : void 0 !== D.msMaxTouchPoints && (e = D.msMaxTouchPoints);
                        try {
                            document.createEvent("TouchEvent"), t = !0
                        } catch (e) {
                            t = !1
                        }
                        return {
                            maxTouchPoints: e,
                            touchEvent: t,
                            touchStart: "ontouchstart" in L
                        }
                    }())
                },
                k20: function(t) {
                    ! function(t) {
                        var e = ["monospace", "sans-serif", "serif"],
                            r = ["sans-serif-thin", "ARNO PRO", "Agency FB", "Arabic Typesetting", "Arial Unicode MS", "AvantGarde Bk BT", "BankGothic Md BT", "Batang", "Bitstream Vera Sans Mono", "Calibri", "Century", "Century Gothic", "Clarendon", "EUROSTILE", "Franklin Gothic", "Futura Bk BT", "Futura Md BT", "GOTHAM", "Gill Sans", "HELV", "Haettenschweiler", "Helvetica Neue", "Humanst521 BT", "Leelawadee", "Letter Gothic", "Levenim MT", "Lucida Bright", "Lucida Sans", "Menlo", "MS Mincho", "MS Outlook", "MS Reference Specialty", "MS UI Gothic", "MT Extra", "MYRIAD PRO", "Marlett", "Meiryo UI", "Microsoft Uighur", "Minion Pro", "Monotype Corsiva", "PMingLiU", "Pristina", "SCRIPTINA", "Segoe UI Light", "Serifa", "SimHei", "Small Fonts", "Staccato222 BT", "TRAJAN PRO", "Univers CE 55 Medium", "Vrinda", "ZWAdobeF"],
                            n = document.getElementsByTagName("body")[0],
                            i = document.createElement("div"),
                            o = document.createElement("div"),
                            a = {},
                            s = {},
                            u = function() {
                                var t = document.createElement("span");
                                return t.style.position = "absolute", t.style.left = "-9999px", t.style.fontSize = "48px", t.style.fontStyle = "normal", t.style.fontWeight = "normal", t.style.letterSpacing = "normal", t.style.lineBreak = "auto", t.style.lineHeight = "normal", t.style.textTransform = "none", t.style.textAlign = "left", t.style.textDecoration = "none", t.style.textShadow = "none", t.style.whiteSpace = "normal", t.style.wordBreak = "normal", t.style.wordSpacing = "normal", t.innerHTML = "mmMwWLliI0O&1", t
                            },
                            l = function(t, e) {
                                var r = u();
                                return r.style.fontFamily = "'" + t + "'," + e, r
                            },
                            c = function(t) {
                                for (var r = !1, n = 0; n < e.length; n++)
                                    if (r = t[n].offsetWidth !== a[e[n]] || t[n].offsetHeight !== s[e[n]]) return r;
                                return r
                            },
                            p = function() {
                                for (var t = [], r = 0, n = e.length; r < n; r++) {
                                    var o = u();
                                    o.style.fontFamily = e[r], i.appendChild(o), t.push(o)
                                }
                                return t
                            }();
                        n.appendChild(i);
                        for (var h = 0, f = e.length; h < f; h++) a[e[h]] = p[h].offsetWidth, s[e[h]] = p[h].offsetHeight;
                        var d = function() {
                            for (var t = {}, n = 0, i = r.length; n < i; n++) {
                                for (var a = [], s = 0, u = e.length; s < u; s++) {
                                    var c = l(r[n], e[s]);
                                    o.appendChild(c), a.push(c)
                                }
                                t[r[n]] = a
                            }
                            return t
                        }();
                        n.appendChild(o);
                        for (var m = [], y = 0, v = r.length; y < v; y++) c(d[r[y]]) && m.push(r[y]);
                        n.removeChild(o), n.removeChild(i), t(m)
                    }(t)
                },
                k21: function(t) {
                    ! function(t) {
                        if (O.userAgent.match(/OS 11.+Version\/11.+Safari/)) return t(-1);
                        var e = R.OfflineAudioContext || R.webkitOfflineAudioContext;
                        if (null == e) return t(-2);
                        var r = new e(1, 44100, 44100),
                            n = r.createOscillator();
                        n.type = "triangle", n.frequency.setValueAtTime(1e4, r.currentTime);
                        var i = r.createDynamicsCompressor();
                        y([
                            ["threshold", -50],
                            ["knee", 40],
                            ["ratio", 12],
                            ["reduction", -20],
                            ["attack", 0],
                            ["release", .25]
                        ], (function(t) {
                            void 0 !== i[t[0]] && "function" == typeof i[t[0]].setValueAtTime && i[t[0]].setValueAtTime(t[1], r.currentTime)
                        })), n.connect(i), i.connect(r.destination), n.start(0), r.startRendering();
                        var o = setTimeout((function() {
                            return r.oncomplete = function() {}, t(-3)
                        }), 1e3);
                        r.oncomplete = function(e) {
                            var r;
                            try {
                                clearTimeout(o), r = e.renderedBuffer.getChannelData(0).slice(4500, 5e3).reduce((function(t, e) {
                                    return t + Math.abs(e)
                                }), 0), n.disconnect(), i.disconnect()
                            } catch (e) {
                                return void t(-4)
                            }
                            t(r)
                        }
                    }(t)
                },
                k22: function(t) {
                    t(void 0 !== Z.plugins ? 1 : 0)
                },
                k23: function(t) {
                    t(Z.productSub)
                },
                k24: function(t) {
                    t(eval.toString().length)
                },
                k25: function(t) {
                    var e;
                    try {
                        throw "a"
                    } catch (t) {
                        try {
                            t.toSource(), e = !0
                        } catch (t) {
                            e = !1
                        }
                    }
                    t(e ? 1 : 0)
                },
                k26: function(t) {
                    t(void 0 !== Z.webdriver ? 1 : 0)
                },
                k27: function(t) {
                    t(navigator.vendor)
                },
                k28: function(t) {
                    t(void 0 !== V.chrome ? 1 : 0)
                },
                k29: function(t) {
                    Z.permissions.query({
                        name: "notifications"
                    }).then((function(e) {
                        "denied" === Notification.permission && "prompt" === e.state ? t(1) : t(0)
                    }))
                },
                k30: function(t) {
                    var e = ["webdriver" in V, "_Selenium_IDE_Recorder" in V, "callSelenium" in V, "_selenium" in V, "__webdriver_script_fn" in q, "__driver_evaluate" in q, "__webdriver_evaluate" in q, "__selenium_evaluate" in q, "__fxdriver_evaluate" in q, "__driver_unwrapped" in q, "__webdriver_unwrapped" in q, "__selenium_unwrapped" in q, "__fxdriver_unwrapped" in q, "__webdriver_script_func" in q, null !== q.documentElement.getAttribute("selenium"), null !== q.documentElement.getAttribute("webdriver"), null !== q.documentElement.getAttribute("driver")];
                    y(e, (function(e) {
                        e && t(1)
                    })), t(0)
                },
                k31: function(t) {
                    new Promise((function(t) {
                        var e = function() {
                            try {
                                var t = localStorage.getItem("_inc");
                                return t ? !(!t || "1" != t) : null
                            } catch (t) {
                                return null
                            }
                        }();
                        null === e ? j().then((function(e) {
                            (function(t) {
                                try {
                                    localStorage.setItem("_inc", t)
                                } catch (t) {}
                            })(e ? "1" : "0"), t(e)
                        })).catch((function() {
                            t(!1)
                        })) : t(e)
                    })).then((function(e) {
                        t(e ? 1 : 0)
                    })).catch((function() {
                        t(0)
                    }))
                },
                k32: function(t) {
                    try {
                        document.cookie = "cookietest=1";
                        var e = -1 !== document.cookie.indexOf("cookietest=");
                        document.cookie = "cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT", t(e ? 1 : 0)
                    } catch (e) {
                        t(0)
                    }
                },
                k33: function(t) {
                    t(function() {
                        if (!m()) return !1;
                        try {
                            if ([66, 114, 97, 118, 101].map((function(t) {
                                    return String.fromCharCode(t)
                                })).join("") in window) return !0;
                            var t = document.createElement("canvas");
                            t.width = 4, t.height = 4, t.style.display = "inline";
                            var e = t.toDataURL();
                            if ("" == e) return !0;
                            for (var r = window.atob(e.split(",")[1]), n = r.length, i = new Uint8Array(n), o = 0; o < n; o++) i[o] = r.charCodeAt(o);
                            var a = g(i, [73, 68, 65, 84, 24]);
                            if (-1 == a) return !1;
                            var s = g(i, [73, 69, 78, 68]);
                            return -1 != a && 1321 != i.slice(a + 5, s).reduce((function(t, e) {
                                return t + e
                            }), 0)
                        } catch (t) {
                            return !1
                        }
                    }() ? 1 : 0)
                }
            };
        var H = function() {
                function t(t) {
                    this.options = t || {}
                }
                return Object.defineProperty(t.prototype, "ip", {
                    get: function() {
                        return this.options.ip || "city"
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "debug", {
                    get: function() {
                        return this.options.debug || !1
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "timeout", {
                    get: function() {
                        return this.options.timeout || 1e4
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "tag", {
                    get: function() {
                        if (this.options.tag) return "object" == typeof this.options.tag ? this.options.tag : {
                            tag: this.options.tag
                        }
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "linkedId", {
                    get: function() {
                        return this.options.linkedId
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "disableTls", {
                    get: function() {
                        return this.options.disableTls || !1
                    },
                    enumerable: !1,
                    configurable: !0
                }), Object.defineProperty(t.prototype, "callbackData", {
                    get: function() {
                        return !!this.options.callbackData
                    },
                    enumerable: !1,
                    configurable: !0
                }), t
            }(),

            // Entry Point
            W = function() {
                function t(t) {
                    console.log('t: ', t);
                    console.log('X: ', X);
                    X(t), this.config = t, this.config.timeoutDelay = t.timeoutDelay || 50
                }
                return t.load = function(e) {
                    return new Promise((function(r, n) {
                        console.log('e: ', e);

                        try {
                            X(e)
                        } catch (t) {
                            return n(t)
                        }
                        var i = new t(e);
                        window.requestIdleCallback ? window.requestIdleCallback((function() {
                            // Promise resolver;
                            console.log('r: ', r);

                            // Components
                            console.log('i: ', i);

                            r(i)
                        })) : setTimeout((function() {
                            r(i)
                        }), i.config.timeoutDelay)
                    }))
                }, t.prototype.send = function(t) {
                    console.log('TTT:', t);

                    var e = this,
                        r = new H(t);

                    console.log('E:', e);
                    console.log('R:', r);

                    return new Promise((function(n, i) {
                        var o = setTimeout((function() {
                                var t = {
                                    error: "Timeout",
                                    reason: r.timeout + "ms elapsed"
                                };
                                return i(t)
                            }), r.timeout),
                            a = !0;
                        t && t.disableTls && (a = !1);
                        var s = a ? new Promise((function(t, e) {
                                var r = new XMLHttpRequest,
                                    n = setTimeout((function() {
                                        e("Timeout"), r.abort()
                                    }), 5e3);
                                r.open("GET", "https://api.sjpf.io"), r.addEventListener("error", (function() {
                                    return e("Connection error")
                                })), r.addEventListener("timeout", (function() {
                                    return e("Timeout")
                                })), r.addEventListener("abort", (function() {
                                    return e("Abort")
                                })), r.onreadystatechange = function() {
                                    r.readyState == XMLHttpRequest.DONE && (clearTimeout(n), 200 == r.status ? t(r.responseText) : r.status >= 300 && e(r.responseText))
                                };
                                try {
                                    r.send()
                                } catch (t) {
                                    clearTimeout(n);
                                    try {
                                        var i = t.message.slice(0, 255);
                                        return e(i)
                                    } catch (t) {}
                                }
                            })) : Promise.resolve(""),
                            u = Date.now();
                        ! function(t) {
                            var e = Date.now(),
                                r = [],
                                n = -1,
                                i = function() {
                                    if ((n += 1) >= $.length) t(r);
                                    else {
                                        var o = $[n];
                                        try {
                                            G[o.key]((function(t) {
                                                var n = Date.now() - e;
                                                r.push({
                                                    key: o.key,
                                                    value: t,
                                                    duration: n
                                                }), e = Date.now(), i()
                                            }))
                                        } catch (t) {
                                            r.push({
                                                key: o.key,
                                                value: o.default
                                            }), i()
                                        }
                                    }
                                };
                            i()
                        }((function(t) {
                            var a = Date.now() - u,
                                l = new E(r, e.config, a, t);
                            s.then((function(t) {
                                return l.tls = t
                            })).catch((function(t) {
                                return l.tlsError = t
                            })).finally((function() {
                                (function(t, e) {
                                    return new Promise((function(r, n) {
                                        ! function(t, e, r) {
                                            var n = new XMLHttpRequest;
                                            n.withCredentials = !0, n.open("POST", t, !0), n.setRequestHeader("Content-Type", "text/plain");
                                            var i = function(t, e) {
                                                r(t, e)
                                            };
                                            n.addEventListener("error", (function() {
                                                i('{"error":"Connection error"}')
                                            })), n.addEventListener("timeout", (function() {
                                                i('{"error":"Timeout"}')
                                            })), n.addEventListener("abort", (function() {
                                                i('{"error":"Request aborted"}')
                                            })), n.onreadystatechange = function() {
                                                n.readyState == XMLHttpRequest.DONE && (n.status >= 200 && n.status < 300 ? i(void 0, n.responseText) : 404 === n.status || n.status >= 500 ? i(n.statusText) : n.status > 300 && i(n.responseText))
                                            };
                                            try {
                                                n.send(JSON.stringify(e))
                                            } catch (t) {
                                                i(t.message)
                                            }
                                        }(t, e, (function(t, e) {
                                            if (t) {
                                                var i = {};
                                                try {
                                                    i = JSON.parse(t)
                                                } catch (e) {
                                                    i.error = t
                                                }
                                                return n(i)
                                            }
                                            try {
                                                var o = JSON.parse(e);
                                                r(o)
                                            } catch (t) {
                                                n({
                                                    error: "Failed to parse the response as a valid JSON"
                                                })
                                            }
                                        }))
                                    }))
                                })(J(e.config), l.buildRaw(e.config.cookieKey)).then((function(t) {
                                    if (t.error) return i(t);
                                    (function(t, e, r) {
                                        "n/a" !== t && (function(t, e, r, n) {
                                            var i = t + "=" + e,
                                                o = new Date;
                                            o.setTime(o.getTime() + 31536e6);
                                            var a = "expires=" + o.toUTCString(),
                                                s = "";
                                            n && n.length > 0 && (s = "domain=" + n), document.cookie = [i, "path=/", a, s].join("; ")
                                        }(r || "_vid", t, 0, e), w("_vid", t))
                                    })(t.visitorId, e.config.cookieDomain, e.config.cookieKey), clearTimeout(o), n(K(t, r.tag))
                                })).catch((function(t) {
                                    i(K(t, r.tag))
                                }))
                            }))
                        }))
                    }))
                }, t
            }(),
            X = function(t) {
                if (!t) throw new Error("config cannot be empty");
                if (!t.client) throw new Error("config.client cannot be empty");
                if ("" == t.client) throw new Error("config.client cannot be empty")
            },
            K = function(t, e) {
                return e && (t.tag = e), t
            },
            J = function(t) {
                if (t.endpoint) return t.endpoint;
                var e = "api.fpjs.io";
                return t.region && "us" != t.region && (e = t.region + "." + e), "https://" + e
            };
        e.FP = W, e.NotAvailable = "n/a", e.TimeoutError = "Timeout"
    }).call(this, r(4).setImmediate, r(0))
}, function(t, e, r) {
    t.exports = function() {
        "use strict";
        var t, e, r;

        function n(n, i) {
            if (t)
                if (e) {
                    var o = "var sharedChunk = {}; (" + t + ")(sharedChunk); (" + e + ")(sharedChunk);",
                        a = {};
                    t(a), r = i(a), "undefined" != typeof window && (r.workerUrl = window.URL.createObjectURL(new Blob([o], {
                        type: "text/javascript"
                    })))
                } else e = i;
            else t = i
        }
        return n(0, (function(t) {
            function e(t, e) {
                return t(e = {
                    exports: {}
                }, e.exports), e.exports
            }
            var r = n;

            function n(t, e, r, n) {
                this.cx = 3 * t, this.bx = 3 * (r - t) - this.cx, this.ax = 1 - this.cx - this.bx, this.cy = 3 * e, this.by = 3 * (n - e) - this.cy, this.ay = 1 - this.cy - this.by, this.p1x = t, this.p1y = n, this.p2x = r, this.p2y = n
            }
            n.prototype.sampleCurveX = function(t) {
                return ((this.ax * t + this.bx) * t + this.cx) * t
            }, n.prototype.sampleCurveY = function(t) {
                return ((this.ay * t + this.by) * t + this.cy) * t
            }, n.prototype.sampleCurveDerivativeX = function(t) {
                return (3 * this.ax * t + 2 * this.bx) * t + this.cx
            }, n.prototype.solveCurveX = function(t, e) {
                var r, n, i, o, a;
                for (void 0 === e && (e = 1e-6), i = t, a = 0; a < 8; a++) {
                    if (o = this.sampleCurveX(i) - t, Math.abs(o) < e) return i;
                    var s = this.sampleCurveDerivativeX(i);
                    if (Math.abs(s) < 1e-6) break;
                    i -= o / s
                }
                if ((i = t) < (r = 0)) return r;
                if (i > (n = 1)) return n;
                for (; r < n;) {
                    if (o = this.sampleCurveX(i), Math.abs(o - t) < e) return i;
                    t > o ? r = i : n = i, i = .5 * (n - r) + r
                }
                return i
            }, n.prototype.solve = function(t, e) {
                return this.sampleCurveY(this.solveCurveX(t, e))
            };
            var i = o;

            function o(t, e) {
                this.x = t, this.y = e
            }
            o.prototype = {
                clone: function() {
                    return new o(this.x, this.y)
                },
                add: function(t) {
                    return this.clone()._add(t)
                },
                sub: function(t) {
                    return this.clone()._sub(t)
                },
                multByPoint: function(t) {
                    return this.clone()._multByPoint(t)
                },
                divByPoint: function(t) {
                    return this.clone()._divByPoint(t)
                },
                mult: function(t) {
                    return this.clone()._mult(t)
                },
                div: function(t) {
                    return this.clone()._div(t)
                },
                rotate: function(t) {
                    return this.clone()._rotate(t)
                },
                rotateAround: function(t, e) {
                    return this.clone()._rotateAround(t, e)
                },
                matMult: function(t) {
                    return this.clone()._matMult(t)
                },
                unit: function() {
                    return this.clone()._unit()
                },
                perp: function() {
                    return this.clone()._perp()
                },
                round: function() {
                    return this.clone()._round()
                },
                mag: function() {
                    return Math.sqrt(this.x * this.x + this.y * this.y)
                },
                equals: function(t) {
                    return this.x === t.x && this.y === t.y
                },
                dist: function(t) {
                    return Math.sqrt(this.distSqr(t))
                },
                distSqr: function(t) {
                    var e = t.x - this.x,
                        r = t.y - this.y;
                    return e * e + r * r
                },
                angle: function() {
                    return Math.atan2(this.y, this.x)
                },
                angleTo: function(t) {
                    return Math.atan2(this.y - t.y, this.x - t.x)
                },
                angleWith: function(t) {
                    return this.angleWithSep(t.x, t.y)
                },
                angleWithSep: function(t, e) {
                    return Math.atan2(this.x * e - this.y * t, this.x * t + this.y * e)
                },
                _matMult: function(t) {
                    var e = t[2] * this.x + t[3] * this.y;
                    return this.x = t[0] * this.x + t[1] * this.y, this.y = e, this
                },
                _add: function(t) {
                    return this.x += t.x, this.y += t.y, this
                },
                _sub: function(t) {
                    return this.x -= t.x, this.y -= t.y, this
                },
                _mult: function(t) {
                    return this.x *= t, this.y *= t, this
                },
                _div: function(t) {
                    return this.x /= t, this.y /= t, this
                },
                _multByPoint: function(t) {
                    return this.x *= t.x, this.y *= t.y, this
                },
                _divByPoint: function(t) {
                    return this.x /= t.x, this.y /= t.y, this
                },
                _unit: function() {
                    return this._div(this.mag()), this
                },
                _perp: function() {
                    var t = this.y;
                    return this.y = this.x, this.x = -t, this
                },
                _rotate: function(t) {
                    var e = Math.cos(t),
                        r = Math.sin(t),
                        n = r * this.x + e * this.y;
                    return this.x = e * this.x - r * this.y, this.y = n, this
                },
                _rotateAround: function(t, e) {
                    var r = Math.cos(t),
                        n = Math.sin(t),
                        i = e.y + n * (this.x - e.x) + r * (this.y - e.y);
                    return this.x = e.x + r * (this.x - e.x) - n * (this.y - e.y), this.y = i, this
                },
                _round: function() {
                    return this.x = Math.round(this.x), this.y = Math.round(this.y), this
                }
            }, o.convert = function(t) {
                return t instanceof o ? t : Array.isArray(t) ? new o(t[0], t[1]) : t
            };
            var a = "undefined" != typeof self ? self : {};

            function s(t, e, n, i) {
                var o = new r(t, e, n, i);
                return function(t) {
                    return o.solve(t)
                }
            }
            var u = s(.25, .1, .25, 1);

            function l(t, e, r) {
                return Math.min(r, Math.max(e, t))
            }

            function c(t, e, r) {
                var n = r - e,
                    i = ((t - e) % n + n) % n + e;
                return i === e ? r : i
            }

            function p(t) {
                for (var e = [], r = arguments.length - 1; r-- > 0;) e[r] = arguments[r + 1];
                for (var n = 0, i = e; n < i.length; n += 1) {
                    var o = i[n];
                    for (var a in o) t[a] = o[a]
                }
                return t
            }
            var h = 1;

            function f() {
                return h++
            }

            function d() {
                return function t(e) {
                    return e ? (e ^ 16 * Math.random() >> e / 4).toString(16) : ([1e7] + -[1e3] + -4e3 + -8e3 + -1e11).replace(/[018]/g, t)
                }()
            }

            function m(t) {
                return !!t && /^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)
            }

            function y(t, e) {
                t.forEach((function(t) {
                    e[t] && (e[t] = e[t].bind(e))
                }))
            }

            function v(t, e) {
                return -1 !== t.indexOf(e, t.length - e.length)
            }

            function g(t, e, r) {
                var n = {};
                for (var i in t) n[i] = e.call(r || this, t[i], i, t);
                return n
            }

            function _(t, e, r) {
                var n = {};
                for (var i in t) e.call(r || this, t[i], i, t) && (n[i] = t[i]);
                return n
            }

            function x(t) {
                return Array.isArray(t) ? t.map(x) : "object" == typeof t && t ? g(t, x) : t
            }
            var b = {};

            function w(t) {
                b[t] || ("undefined" != typeof console && console.warn(t), b[t] = !0)
            }

            function S(t, e, r) {
                return (r.y - t.y) * (e.x - t.x) > (e.y - t.y) * (r.x - t.x)
            }

            function T(t) {
                for (var e = 0, r = 0, n = t.length, i = n - 1, o = void 0, a = void 0; r < n; i = r++) e += ((a = t[i]).x - (o = t[r]).x) * (o.y + a.y);
                return e
            }

            function E() {
                return "undefined" != typeof WorkerGlobalScope && "undefined" != typeof self && self instanceof WorkerGlobalScope
            }

            function A(t) {
                var e = {};
                if (t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g, (function(t, r, n, i) {
                        var o = n || i;
                        return e[r] = !o || o.toLowerCase(), ""
                    })), e["max-age"]) {
                    var r = parseInt(e["max-age"], 10);
                    isNaN(r) ? delete e["max-age"] : e["max-age"] = r
                }
                return e
            }
            var C = null;

            function I(t) {
                if (null == C) {
                    var e = t.navigator ? t.navigator.userAgent : null;
                    C = !!t.safari || !(!e || !(/\b(iPad|iPhone|iPod)\b/.test(e) || e.match("Safari") && !e.match("Chrome")))
                }
                return C
            }

            function k(t) {
                try {
                    var e = a[t];
                    return e.setItem("_mapbox_test_", 1), e.removeItem("_mapbox_test_"), !0
                } catch (t) {
                    return !1
                }
            }
            var P, z, M, D, L = a.performance && a.performance.now ? a.performance.now.bind(a.performance) : Date.now.bind(Date),
                O = a.requestAnimationFrame || a.mozRequestAnimationFrame || a.webkitRequestAnimationFrame || a.msRequestAnimationFrame,
                R = a.cancelAnimationFrame || a.mozCancelAnimationFrame || a.webkitCancelAnimationFrame || a.msCancelAnimationFrame,
                B = {
                    now: L,
                    frame: function(t) {
                        var e = O(t);
                        return {
                            cancel: function() {
                                return R(e)
                            }
                        }
                    },
                    getImageData: function(t, e) {
                        void 0 === e && (e = 0);
                        var r = a.document.createElement("canvas"),
                            n = r.getContext("2d");
                        if (!n) throw new Error("failed to create canvas 2d context");
                        return r.width = t.width, r.height = t.height, n.drawImage(t, 0, 0, t.width, t.height), n.getImageData(-e, -e, t.width + 2 * e, t.height + 2 * e)
                    },
                    resolveURL: function(t) {
                        return P || (P = a.document.createElement("a")), P.href = t, P.href
                    },
                    hardwareConcurrency: a.navigator && a.navigator.hardwareConcurrency || 4,
                    get devicePixelRatio() {
                        return a.devicePixelRatio
                    },
                    get prefersReducedMotion() {
                        return !!a.matchMedia && (null == z && (z = a.matchMedia("(prefers-reduced-motion: reduce)")), z.matches)
                    }
                },
                F = {
                    API_URL: "https://api.mapbox.com",
                    get EVENTS_URL() {
                        return this.API_URL ? 0 === this.API_URL.indexOf("https://api.mapbox.cn") ? "https://events.mapbox.cn/events/v2" : 0 === this.API_URL.indexOf("https://api.mapbox.com") ? "https://events.mapbox.com/events/v2" : null : null
                    },
                    FEEDBACK_URL: "https://apps.mapbox.com/feedback",
                    REQUIRE_ACCESS_TOKEN: !0,
                    ACCESS_TOKEN: null,
                    MAX_PARALLEL_IMAGE_REQUESTS: 16
                },
                N = {
                    supported: !1,
                    testSupport: function(t) {
                        !U && D && (j ? V(t) : M = t)
                    }
                },
                U = !1,
                j = !1;

            function V(t) {
                var e = t.createTexture();
                t.bindTexture(t.TEXTURE_2D, e);
                try {
                    if (t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, t.RGBA, t.UNSIGNED_BYTE, D), t.isContextLost()) return;
                    N.supported = !0
                } catch (t) {}
                t.deleteTexture(e), U = !0
            }
            a.document && ((D = a.document.createElement("img")).onload = function() {
                M && V(M), M = null, j = !0
            }, D.onerror = function() {
                U = !0, M = null
            }, D.src = "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");
            var q = "01",
                Z = function(t, e) {
                    this._transformRequestFn = t, this._customAccessToken = e, this._createSkuToken()
                };

            function $(t) {
                return 0 === t.indexOf("mapbox:")
            }
            Z.prototype._createSkuToken = function() {
                var t = function() {
                    for (var t = "", e = 0; e < 10; e++) t += "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ" [Math.floor(62 * Math.random())];
                    return {
                        token: ["1", q, t].join(""),
                        tokenExpiresAt: Date.now() + 432e5
                    }
                }();
                this._skuToken = t.token, this._skuTokenExpiresAt = t.tokenExpiresAt
            }, Z.prototype._isSkuTokenExpired = function() {
                return Date.now() > this._skuTokenExpiresAt
            }, Z.prototype.transformRequest = function(t, e) {
                return this._transformRequestFn && this._transformRequestFn(t, e) || {
                    url: t
                }
            }, Z.prototype.normalizeStyleURL = function(t, e) {
                if (!$(t)) return t;
                var r = X(t);
                return r.path = "/styles/v1" + r.path, this._makeAPIURL(r, this._customAccessToken || e)
            }, Z.prototype.normalizeGlyphsURL = function(t, e) {
                if (!$(t)) return t;
                var r = X(t);
                return r.path = "/fonts/v1" + r.path, this._makeAPIURL(r, this._customAccessToken || e)
            }, Z.prototype.normalizeSourceURL = function(t, e) {
                if (!$(t)) return t;
                var r = X(t);
                return r.path = "/v4/" + r.authority + ".json", r.params.push("secure"), this._makeAPIURL(r, this._customAccessToken || e)
            }, Z.prototype.normalizeSpriteURL = function(t, e, r, n) {
                var i = X(t);
                return $(t) ? (i.path = "/styles/v1" + i.path + "/sprite" + e + r, this._makeAPIURL(i, this._customAccessToken || n)) : (i.path += "" + e + r, K(i))
            }, Z.prototype.normalizeTileURL = function(t, e) {
                if (this._isSkuTokenExpired() && this._createSkuToken(), t && !$(t)) return t;
                var r = X(t);
                r.path = r.path.replace(/(\.(png|jpg)\d*)(?=$)/, (B.devicePixelRatio >= 2 || 512 === e ? "@2x" : "") + (N.supported ? ".webp" : "$1")), r.path = r.path.replace(/^.+\/v4\//, "/"), r.path = "/v4" + r.path;
                var n = this._customAccessToken || function(t) {
                    for (var e = 0, r = t; e < r.length; e += 1) {
                        var n = r[e].match(/^access_token=(.*)$/);
                        if (n) return n[1]
                    }
                    return null
                }(r.params) || F.ACCESS_TOKEN;
                return F.REQUIRE_ACCESS_TOKEN && n && this._skuToken && r.params.push("sku=" + this._skuToken), this._makeAPIURL(r, n)
            }, Z.prototype.canonicalizeTileURL = function(t, e) {
                var r = X(t);
                if (!r.path.match(/(^\/v4\/)/) || !r.path.match(/\.[\w]+$/)) return t;
                var n = "mapbox://tiles/";
                n += r.path.replace("/v4/", "");
                var i = r.params;
                return e && (i = i.filter((function(t) {
                    return !t.match(/^access_token=/)
                }))), i.length && (n += "?" + i.join("&")), n
            }, Z.prototype.canonicalizeTileset = function(t, e) {
                for (var r = !!e && $(e), n = [], i = 0, o = t.tiles || []; i < o.length; i += 1) {
                    var a = o[i];
                    H(a) ? n.push(this.canonicalizeTileURL(a, r)) : n.push(a)
                }
                return n
            }, Z.prototype._makeAPIURL = function(t, e) {
                var r = "See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",
                    n = X(F.API_URL);
                if (t.protocol = n.protocol, t.authority = n.authority, "/" !== n.path && (t.path = "" + n.path + t.path), !F.REQUIRE_ACCESS_TOKEN) return K(t);
                if (!(e = e || F.ACCESS_TOKEN)) throw new Error("An API access token is required to use Mapbox GL. " + r);
                if ("s" === e[0]) throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). " + r);
                return t.params = t.params.filter((function(t) {
                    return -1 === t.indexOf("access_token")
                })), t.params.push("access_token=" + e), K(t)
            };
            var G = /^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;

            function H(t) {
                return G.test(t)
            }
            var W = /^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;

            function X(t) {
                var e = t.match(W);
                if (!e) throw new Error("Unable to parse URL object");
                return {
                    protocol: e[1],
                    authority: e[2],
                    path: e[3] || "/",
                    params: e[4] ? e[4].split("&") : []
                }
            }

            function K(t) {
                var e = t.params.length ? "?" + t.params.join("&") : "";
                return t.protocol + "://" + t.authority + t.path + e
            }

            function J(t) {
                if (!t) return null;
                var e = t.split(".");
                if (!e || 3 !== e.length) return null;
                try {
                    return JSON.parse(decodeURIComponent(a.atob(e[1]).split("").map((function(t) {
                        return "%" + ("00" + t.charCodeAt(0).toString(16)).slice(-2)
                    })).join("")))
                } catch (t) {
                    return null
                }
            }
            var Y = function(t) {
                this.type = t, this.anonId = null, this.eventData = {}, this.queue = [], this.pendingRequest = null
            };
            Y.prototype.getStorageKey = function(t) {
                var e, r = J(F.ACCESS_TOKEN);
                return e = r && r.u ? a.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g, (function(t, e) {
                    return String.fromCharCode(Number("0x" + e))
                }))) : F.ACCESS_TOKEN || "", t ? "mapbox.eventData." + t + ":" + e : "mapbox.eventData:" + e
            }, Y.prototype.fetchEventData = function() {
                var t = k("localStorage"),
                    e = this.getStorageKey(),
                    r = this.getStorageKey("uuid");
                if (t) try {
                    var n = a.localStorage.getItem(e);
                    n && (this.eventData = JSON.parse(n));
                    var i = a.localStorage.getItem(r);
                    i && (this.anonId = i)
                } catch (t) {
                    w("Unable to read from LocalStorage")
                }
            }, Y.prototype.saveEventData = function() {
                var t = k("localStorage"),
                    e = this.getStorageKey(),
                    r = this.getStorageKey("uuid");
                if (t) try {
                    a.localStorage.setItem(r, this.anonId), Object.keys(this.eventData).length >= 1 && a.localStorage.setItem(e, JSON.stringify(this.eventData))
                } catch (t) {
                    w("Unable to write to LocalStorage")
                }
            }, Y.prototype.processRequests = function(t) {}, Y.prototype.postEvent = function(t, e, r, n) {
                var i = this;
                if (F.EVENTS_URL) {
                    var o = X(F.EVENTS_URL);
                    o.params.push("access_token=" + (n || F.ACCESS_TOKEN || ""));
                    var a = {
                            event: this.type,
                            created: new Date(t).toISOString(),
                            sdkIdentifier: "mapbox-gl-js",
                            sdkVersion: "1.11.0",
                            skuId: q,
                            userId: this.anonId
                        },
                        s = e ? p(a, e) : a,
                        u = {
                            url: K(o),
                            headers: {
                                "Content-Type": "text/plain"
                            },
                            body: JSON.stringify([s])
                        };
                    this.pendingRequest = xt(u, (function(t) {
                        i.pendingRequest = null, r(t), i.saveEventData(), i.processRequests(n)
                    }))
                }
            }, Y.prototype.queueRequest = function(t, e) {
                this.queue.push(t), this.processRequests(e)
            };
            var Q, tt, et = function(t) {
                    function e() {
                        t.call(this, "map.load"), this.success = {}, this.skuToken = ""
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.postMapLoadEvent = function(t, e, r, n) {
                        this.skuToken = r, (F.EVENTS_URL && n || F.ACCESS_TOKEN && Array.isArray(t) && t.some((function(t) {
                            return $(t) || H(t)
                        }))) && this.queueRequest({
                            id: e,
                            timestamp: Date.now()
                        }, n)
                    }, e.prototype.processRequests = function(t) {
                        var e = this;
                        if (!this.pendingRequest && 0 !== this.queue.length) {
                            var r = this.queue.shift(),
                                n = r.id,
                                i = r.timestamp;
                            n && this.success[n] || (this.anonId || this.fetchEventData(), m(this.anonId) || (this.anonId = d()), this.postEvent(i, {
                                skuToken: this.skuToken
                            }, (function(t) {
                                t || n && (e.success[n] = !0)
                            }), t))
                        }
                    }, e
                }(Y),
                rt = new(function(t) {
                    function e(e) {
                        t.call(this, "appUserTurnstile"), this._customAccessToken = e
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.postTurnstileEvent = function(t, e) {
                        F.EVENTS_URL && F.ACCESS_TOKEN && Array.isArray(t) && t.some((function(t) {
                            return $(t) || H(t)
                        })) && this.queueRequest(Date.now(), e)
                    }, e.prototype.processRequests = function(t) {
                        var e = this;
                        if (!this.pendingRequest && 0 !== this.queue.length) {
                            this.anonId && this.eventData.lastSuccess && this.eventData.tokenU || this.fetchEventData();
                            var r = J(F.ACCESS_TOKEN),
                                n = r ? r.u : F.ACCESS_TOKEN,
                                i = n !== this.eventData.tokenU;
                            m(this.anonId) || (this.anonId = d(), i = !0);
                            var o = this.queue.shift();
                            if (this.eventData.lastSuccess) {
                                var a = new Date(this.eventData.lastSuccess),
                                    s = new Date(o),
                                    u = (o - this.eventData.lastSuccess) / 864e5;
                                i = i || u >= 1 || u < -1 || a.getDate() !== s.getDate()
                            } else i = !0;
                            if (!i) return this.processRequests();
                            this.postEvent(o, {
                                "enabled.telemetry": !1
                            }, (function(t) {
                                t || (e.eventData.lastSuccess = o, e.eventData.tokenU = n)
                            }), t)
                        }
                    }, e
                }(Y)),
                nt = rt.postTurnstileEvent.bind(rt),
                it = new et,
                ot = it.postMapLoadEvent.bind(it),
                at = 500,
                st = 50;

            function ut() {
                a.caches && !Q && (Q = a.caches.open("mapbox-tiles"))
            }

            function lt(t) {
                var e = t.indexOf("?");
                return e < 0 ? t : t.slice(0, e)
            }
            var ct, pt = 1 / 0;

            function ht() {
                return null == ct && (ct = a.OffscreenCanvas && new a.OffscreenCanvas(1, 1).getContext("2d") && "function" == typeof a.createImageBitmap), ct
            }
            var ft = {
                Unknown: "Unknown",
                Style: "Style",
                Source: "Source",
                Tile: "Tile",
                Glyphs: "Glyphs",
                SpriteImage: "SpriteImage",
                SpriteJSON: "SpriteJSON",
                Image: "Image"
            };
            "function" == typeof Object.freeze && Object.freeze(ft);
            var dt, mt, yt = function(t) {
                    function e(e, r, n) {
                        401 === r && H(n) && (e += ": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"), t.call(this, e), this.status = r, this.url = n, this.name = this.constructor.name, this.message = e
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.toString = function() {
                        return this.name + ": " + this.message + " (" + this.status + "): " + this.url
                    }, e
                }(Error),
                vt = E() ? function() {
                    return self.worker && self.worker.referrer
                } : function() {
                    return ("blob:" === a.location.protocol ? a.parent : a).location.href
                },
                gt = function(t, e) {
                    if (!(/^file:/.test(r = t.url) || /^file:/.test(vt()) && !/^\w+:/.test(r))) {
                        if (a.fetch && a.Request && a.AbortController && a.Request.prototype.hasOwnProperty("signal")) return function(t, e) {
                            var r, n = new a.AbortController,
                                i = new a.Request(t.url, {
                                    method: t.method || "GET",
                                    body: t.body,
                                    credentials: t.credentials,
                                    headers: t.headers,
                                    referrer: vt(),
                                    signal: n.signal
                                }),
                                o = !1,
                                s = !1,
                                u = (r = i.url).indexOf("sku=") > 0 && H(r);
                            "json" === t.type && i.headers.set("Accept", "application/json");
                            var l = function(r, n, o) {
                                    if (!s) {
                                        if (r && "SecurityError" !== r.message && w(r), n && o) return c(n);
                                        var l = Date.now();
                                        a.fetch(i).then((function(r) {
                                            if (r.ok) {
                                                var n = u ? r.clone() : null;
                                                return c(r, n, l)
                                            }
                                            return e(new yt(r.statusText, r.status, t.url))
                                        })).catch((function(t) {
                                            20 !== t.code && e(new Error(t.message))
                                        }))
                                    }
                                },
                                c = function(r, n, u) {
                                    ("arrayBuffer" === t.type ? r.arrayBuffer() : "json" === t.type ? r.json() : r.text()).then((function(t) {
                                        s || (n && u && function(t, e, r) {
                                            if (ut(), Q) {
                                                var n = {
                                                    status: e.status,
                                                    statusText: e.statusText,
                                                    headers: new a.Headers
                                                };
                                                e.headers.forEach((function(t, e) {
                                                    return n.headers.set(e, t)
                                                }));
                                                var i = A(e.headers.get("Cache-Control") || "");
                                                i["no-store"] || (i["max-age"] && n.headers.set("Expires", new Date(r + 1e3 * i["max-age"]).toUTCString()), new Date(n.headers.get("Expires")).getTime() - r < 42e4 || function(t, e) {
                                                    if (void 0 === tt) try {
                                                        new Response(new ReadableStream), tt = !0
                                                    } catch (t) {
                                                        tt = !1
                                                    }
                                                    tt ? e(t.body) : t.blob().then(e)
                                                }(e, (function(e) {
                                                    var r = new a.Response(e, n);
                                                    ut(), Q && Q.then((function(e) {
                                                        return e.put(lt(t.url), r)
                                                    })).catch((function(t) {
                                                        return w(t.message)
                                                    }))
                                                })))
                                            }
                                        }(i, n, u), o = !0, e(null, t, r.headers.get("Cache-Control"), r.headers.get("Expires")))
                                    })).catch((function(t) {
                                        s || e(new Error(t.message))
                                    }))
                                };
                            return u ? function(t, e) {
                                if (ut(), !Q) return e(null);
                                var r = lt(t.url);
                                Q.then((function(t) {
                                    t.match(r).then((function(n) {
                                        var i = function(t) {
                                            if (!t) return !1;
                                            var e = new Date(t.headers.get("Expires") || 0),
                                                r = A(t.headers.get("Cache-Control") || "");
                                            return e > Date.now() && !r["no-cache"]
                                        }(n);
                                        t.delete(r), i && t.put(r, n.clone()), e(null, n, i)
                                    })).catch(e)
                                })).catch(e)
                            }(i, l) : l(null, null), {
                                cancel: function() {
                                    s = !0, o || n.abort()
                                }
                            }
                        }(t, e);
                        if (E() && self.worker && self.worker.actor) return self.worker.actor.send("getResource", t, e, void 0, !0)
                    }
                    var r;
                    return function(t, e) {
                        var r = new a.XMLHttpRequest;
                        for (var n in r.open(t.method || "GET", t.url, !0), "arrayBuffer" === t.type && (r.responseType = "arraybuffer"), t.headers) r.setRequestHeader(n, t.headers[n]);
                        return "json" === t.type && (r.responseType = "text", r.setRequestHeader("Accept", "application/json")), r.withCredentials = "include" === t.credentials, r.onerror = function() {
                            e(new Error(r.statusText))
                        }, r.onload = function() {
                            if ((r.status >= 200 && r.status < 300 || 0 === r.status) && null !== r.response) {
                                var n = r.response;
                                if ("json" === t.type) try {
                                    n = JSON.parse(r.response)
                                } catch (t) {
                                    return e(t)
                                }
                                e(null, n, r.getResponseHeader("Cache-Control"), r.getResponseHeader("Expires"))
                            } else e(new yt(r.statusText, r.status, t.url))
                        }, r.send(t.body), {
                            cancel: function() {
                                return r.abort()
                            }
                        }
                    }(t, e)
                },
                _t = function(t, e) {
                    return gt(p(t, {
                        type: "arrayBuffer"
                    }), e)
                },
                xt = function(t, e) {
                    return gt(p(t, {
                        method: "POST"
                    }), e)
                };
            dt = [], mt = 0;
            var bt = function(t, e) {
                if (N.supported && (t.headers || (t.headers = {}), t.headers.accept = "image/webp,*/*"), mt >= F.MAX_PARALLEL_IMAGE_REQUESTS) {
                    var r = {
                        requestParameters: t,
                        callback: e,
                        cancelled: !1,
                        cancel: function() {
                            this.cancelled = !0
                        }
                    };
                    return dt.push(r), r
                }
                mt++;
                var n = !1,
                    i = function() {
                        if (!n)
                            for (n = !0, mt--; dt.length && mt < F.MAX_PARALLEL_IMAGE_REQUESTS;) {
                                var t = dt.shift();
                                t.cancelled || (t.cancel = bt(t.requestParameters, t.callback).cancel)
                            }
                    },
                    o = _t(t, (function(t, r, n, o) {
                        i(), t ? e(t) : r && (ht() ? function(t, e) {
                            var r = new a.Blob([new Uint8Array(t)], {
                                type: "image/png"
                            });
                            a.createImageBitmap(r).then((function(t) {
                                e(null, t)
                            })).catch((function(t) {
                                e(new Error("Could not load image because of " + t.message + ". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))
                            }))
                        }(r, e) : function(t, e, r, n) {
                            var i = new a.Image,
                                o = a.URL;
                            i.onload = function() {
                                e(null, i), o.revokeObjectURL(i.src)
                            }, i.onerror = function() {
                                return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))
                            };
                            var s = new a.Blob([new Uint8Array(t)], {
                                type: "image/png"
                            });
                            i.cacheControl = r, i.expires = n, i.src = t.byteLength ? o.createObjectURL(s) : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="
                        }(r, e, n, o))
                    }));
                return {
                    cancel: function() {
                        o.cancel(), i()
                    }
                }
            };

            function wt(t, e, r) {
                r[t] && -1 !== r[t].indexOf(e) || (r[t] = r[t] || [], r[t].push(e))
            }

            function St(t, e, r) {
                if (r && r[t]) {
                    var n = r[t].indexOf(e); - 1 !== n && r[t].splice(n, 1)
                }
            }
            var Tt = function(t, e) {
                    void 0 === e && (e = {}), p(this, e), this.type = t
                },
                Et = function(t) {
                    function e(e, r) {
                        void 0 === r && (r = {}), t.call(this, "error", p({
                            error: e
                        }, r))
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
                }(Tt),
                At = function() {};
            At.prototype.on = function(t, e) {
                return this._listeners = this._listeners || {}, wt(t, e, this._listeners), this
            }, At.prototype.off = function(t, e) {
                return St(t, e, this._listeners), St(t, e, this._oneTimeListeners), this
            }, At.prototype.once = function(t, e) {
                return this._oneTimeListeners = this._oneTimeListeners || {}, wt(t, e, this._oneTimeListeners), this
            }, At.prototype.fire = function(t, e) {
                "string" == typeof t && (t = new Tt(t, e || {}));
                var r = t.type;
                if (this.listens(r)) {
                    t.target = this;
                    for (var n = 0, i = this._listeners && this._listeners[r] ? this._listeners[r].slice() : []; n < i.length; n += 1) i[n].call(this, t);
                    for (var o = 0, a = this._oneTimeListeners && this._oneTimeListeners[r] ? this._oneTimeListeners[r].slice() : []; o < a.length; o += 1) {
                        var s = a[o];
                        St(r, s, this._oneTimeListeners), s.call(this, t)
                    }
                    var u = this._eventedParent;
                    u && (p(t, "function" == typeof this._eventedParentData ? this._eventedParentData() : this._eventedParentData), u.fire(t))
                } else t instanceof Et && console.error(t.error);
                return this
            }, At.prototype.listens = function(t) {
                return this._listeners && this._listeners[t] && this._listeners[t].length > 0 || this._oneTimeListeners && this._oneTimeListeners[t] && this._oneTimeListeners[t].length > 0 || this._eventedParent && this._eventedParent.listens(t)
            }, At.prototype.setEventedParent = function(t, e) {
                return this._eventedParent = t, this._eventedParentData = e, this
            };
            var Ct = {
                    $version: 8,
                    $root: {
                        version: {
                            required: !0,
                            type: "enum",
                            values: [8]
                        },
                        name: {
                            type: "string"
                        },
                        metadata: {
                            type: "*"
                        },
                        center: {
                            type: "array",
                            value: "number"
                        },
                        zoom: {
                            type: "number"
                        },
                        bearing: {
                            type: "number",
                            default: 0,
                            period: 360,
                            units: "degrees"
                        },
                        pitch: {
                            type: "number",
                            default: 0,
                            units: "degrees"
                        },
                        light: {
                            type: "light"
                        },
                        sources: {
                            required: !0,
                            type: "sources"
                        },
                        sprite: {
                            type: "string"
                        },
                        glyphs: {
                            type: "string"
                        },
                        transition: {
                            type: "transition"
                        },
                        layers: {
                            required: !0,
                            type: "array",
                            value: "layer"
                        }
                    },
                    sources: {
                        "*": {
                            type: "source"
                        }
                    },
                    source: ["source_vector", "source_raster", "source_raster_dem", "source_geojson", "source_video", "source_image"],
                    source_vector: {
                        type: {
                            required: !0,
                            type: "enum",
                            values: {
                                vector: {}
                            }
                        },
                        url: {
                            type: "string"
                        },
                        tiles: {
                            type: "array",
                            value: "string"
                        },
                        bounds: {
                            type: "array",
                            value: "number",
                            length: 4,
                            default: [-180, -85.051129, 180, 85.051129]
                        },
                        scheme: {
                            type: "enum",
                            values: {
                                xyz: {},
                                tms: {}
                            },
                            default: "xyz"
                        },
                        minzoom: {
                            type: "number",
                            default: 0
                        },
                        maxzoom: {
                            type: "number",
                            default: 22
                        },
                        attribution: {
                            type: "string"
                        },
                        promoteId: {
                            type: "promoteId"
                        },
                        "*": {
                            type: "*"
                        }
                    },
                    source_raster: {
                        type: {
                            required: !0,
                            type: "enum",
                            values: {
                                raster: {}
                            }
                        },
                        url: {
                            type: "string"
                        },
                        tiles: {
                            type: "array",
                            value: "string"
                        },
                        bounds: {
                            type: "array",
                            value: "number",
                            length: 4,
                            default: [-180, -85.051129, 180, 85.051129]
                        },
                        minzoom: {
                            type: "number",
                            default: 0
                        },
                        maxzoom: {
                            type: "number",
                            default: 22
                        },
                        tileSize: {
                            type: "number",
                            default: 512,
                            units: "pixels"
                        },
                        scheme: {
                            type: "enum",
                            values: {
                                xyz: {},
                                tms: {}
                            },
                            default: "xyz"
                        },
                        attribution: {
                            type: "string"
                        },
                        "*": {
                            type: "*"
                        }
                    },
                    source_raster_dem: {
                        type: {
                            required: !0,
                            type: "enum",
                            values: {
                                "raster-dem": {}
                            }
                        },
                        url: {
                            type: "string"
                        },
                        tiles: {
                            type: "array",
                            value: "string"
                        },
                        bounds: {
                            type: "array",
                            value: "number",
                            length: 4,
                            default: [-180, -85.051129, 180, 85.051129]
                        },
                        minzoom: {
                            type: "number",
                            default: 0
                        },
                        maxzoom: {
                            type: "number",
                            default: 22
                        },
                        tileSize: {
                            type: "number",
                            default: 512,
                            units: "pixels"
                        },
                        attribution: {
                            type: "string"
                        },
                        encoding: {
                            type: "enum",
                            values: {
                                terrarium: {},
                                mapbox: {}
                            },
                            default: "mapbox"
                        },
                        "*": {
                            type: "*"
                        }
                    },
                    source_geojson: {
                        type: {
                            required: !0,
                            type: "enum",
                            values: {
                                geojson: {}
                            }
                        },
                        data: {
                            type: "*"
                        },
                        maxzoom: {
                            type: "number",
                            default: 18
                        },
                        attribution: {
                            type: "string"
                        },
                        buffer: {
                            type: "number",
                            default: 128,
                            maximum: 512,
                            minimum: 0
                        },
                        tolerance: {
                            type: "number",
                            default: .375
                        },
                        cluster: {
                            type: "boolean",
                            default: !1
                        },
                        clusterRadius: {
                            type: "number",
                            default: 50,
                            minimum: 0
                        },
                        clusterMaxZoom: {
                            type: "number"
                        },
                        clusterMinPoints: {
                            type: "number"
                        },
                        clusterProperties: {
                            type: "*"
                        },
                        lineMetrics: {
                            type: "boolean",
                            default: !1
                        },
                        generateId: {
                            type: "boolean",
                            default: !1
                        },
                        promoteId: {
                            type: "promoteId"
                        }
                    },
                    source_video: {
                        type: {
                            required: !0,
                            type: "enum",
                            values: {
                                video: {}
                            }
                        },
                        urls: {
                            required: !0,
                            type: "array",
                            value: "string"
                        },
                        coordinates: {
                            required: !0,
                            type: "array",
                            length: 4,
                            value: {
                                type: "array",
                                length: 2,
                                value: "number"
                            }
                        }
                    },
                    source_image: {
                        type: {
                            required: !0,
                            type: "enum",
                            values: {
                                image: {}
                            }
                        },
                        url: {
                            required: !0,
                            type: "string"
                        },
                        coordinates: {
                            required: !0,
                            type: "array",
                            length: 4,
                            value: {
                                type: "array",
                                length: 2,
                                value: "number"
                            }
                        }
                    },
                    layer: {
                        id: {
                            type: "string",
                            required: !0
                        },
                        type: {
                            type: "enum",
                            values: {
                                fill: {},
                                line: {},
                                symbol: {},
                                circle: {},
                                heatmap: {},
                                "fill-extrusion": {},
                                raster: {},
                                hillshade: {},
                                background: {}
                            },
                            required: !0
                        },
                        metadata: {
                            type: "*"
                        },
                        source: {
                            type: "string"
                        },
                        "source-layer": {
                            type: "string"
                        },
                        minzoom: {
                            type: "number",
                            minimum: 0,
                            maximum: 24
                        },
                        maxzoom: {
                            type: "number",
                            minimum: 0,
                            maximum: 24
                        },
                        filter: {
                            type: "filter"
                        },
                        layout: {
                            type: "layout"
                        },
                        paint: {
                            type: "paint"
                        }
                    },
                    layout: ["layout_fill", "layout_line", "layout_circle", "layout_heatmap", "layout_fill-extrusion", "layout_symbol", "layout_raster", "layout_hillshade", "layout_background"],
                    layout_background: {
                        visibility: {
                            type: "enum",
                            values: {
                                visible: {},
                                none: {}
                            },
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_fill: {
                        "fill-sort-key": {
                            type: "number",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        visibility: {
                            type: "enum",
                            values: {
                                visible: {},
                                none: {}
                            },
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_circle: {
                        "circle-sort-key": {
                            type: "number",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        visibility: {
                            type: "enum",
                            values: {
                                visible: {},
                                none: {}
                            },
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_heatmap: {
                        visibility: {
                            type: "enum",
                            values: {
                                visible: {},
                                none: {}
                            },
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    "layout_fill-extrusion": {
                        visibility: {
                            type: "enum",
                            values: {
                                visible: {},
                                none: {}
                            },
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_line: {
                        "line-cap": {
                            type: "enum",
                            values: {
                                butt: {},
                                round: {},
                                square: {}
                            },
                            default: "butt",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "line-join": {
                            type: "enum",
                            values: {
                                bevel: {},
                                round: {},
                                miter: {}
                            },
                            default: "miter",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "line-miter-limit": {
                            type: "number",
                            default: 2,
                            requires: [{
                                "line-join": "miter"
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "line-round-limit": {
                            type: "number",
                            default: 1.05,
                            requires: [{
                                "line-join": "round"
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "line-sort-key": {
                            type: "number",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        visibility: {
                            type: "enum",
                            values: {
                                visible: {},
                                none: {}
                            },
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_symbol: {
                        "symbol-placement": {
                            type: "enum",
                            values: {
                                point: {},
                                line: {},
                                "line-center": {}
                            },
                            default: "point",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "symbol-spacing": {
                            type: "number",
                            default: 250,
                            minimum: 1,
                            units: "pixels",
                            requires: [{
                                "symbol-placement": "line"
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "symbol-avoid-edges": {
                            type: "boolean",
                            default: !1,
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "symbol-sort-key": {
                            type: "number",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "symbol-z-order": {
                            type: "enum",
                            values: {
                                auto: {},
                                "viewport-y": {},
                                source: {}
                            },
                            default: "auto",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "icon-allow-overlap": {
                            type: "boolean",
                            default: !1,
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "icon-ignore-placement": {
                            type: "boolean",
                            default: !1,
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "icon-optional": {
                            type: "boolean",
                            default: !1,
                            requires: ["icon-image", "text-field"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "icon-rotation-alignment": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {},
                                auto: {}
                            },
                            default: "auto",
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "icon-size": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            units: "factor of the original icon size",
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "icon-text-fit": {
                            type: "enum",
                            values: {
                                none: {},
                                width: {},
                                height: {},
                                both: {}
                            },
                            default: "none",
                            requires: ["icon-image", "text-field"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "icon-text-fit-padding": {
                            type: "array",
                            value: "number",
                            length: 4,
                            default: [0, 0, 0, 0],
                            units: "pixels",
                            requires: ["icon-image", "text-field", {
                                "icon-text-fit": ["both", "width", "height"]
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "icon-image": {
                            type: "resolvedImage",
                            tokens: !0,
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "icon-rotate": {
                            type: "number",
                            default: 0,
                            period: 360,
                            units: "degrees",
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "icon-padding": {
                            type: "number",
                            default: 2,
                            minimum: 0,
                            units: "pixels",
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "icon-keep-upright": {
                            type: "boolean",
                            default: !1,
                            requires: ["icon-image", {
                                "icon-rotation-alignment": "map"
                            }, {
                                "symbol-placement": ["line", "line-center"]
                            }],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "icon-offset": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "icon-anchor": {
                            type: "enum",
                            values: {
                                center: {},
                                left: {},
                                right: {},
                                top: {},
                                bottom: {},
                                "top-left": {},
                                "top-right": {},
                                "bottom-left": {},
                                "bottom-right": {}
                            },
                            default: "center",
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "icon-pitch-alignment": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {},
                                auto: {}
                            },
                            default: "auto",
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-pitch-alignment": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {},
                                auto: {}
                            },
                            default: "auto",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-rotation-alignment": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {},
                                auto: {}
                            },
                            default: "auto",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-field": {
                            type: "formatted",
                            default: "",
                            tokens: !0,
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-font": {
                            type: "array",
                            value: "string",
                            default: ["Open Sans Regular", "Arial Unicode MS Regular"],
                            requires: ["text-field"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-size": {
                            type: "number",
                            default: 16,
                            minimum: 0,
                            units: "pixels",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-max-width": {
                            type: "number",
                            default: 10,
                            minimum: 0,
                            units: "ems",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-line-height": {
                            type: "number",
                            default: 1.2,
                            units: "ems",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-letter-spacing": {
                            type: "number",
                            default: 0,
                            units: "ems",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-justify": {
                            type: "enum",
                            values: {
                                auto: {},
                                left: {},
                                center: {},
                                right: {}
                            },
                            default: "center",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-radial-offset": {
                            type: "number",
                            units: "ems",
                            default: 0,
                            requires: ["text-field"],
                            "property-type": "data-driven",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature"]
                            }
                        },
                        "text-variable-anchor": {
                            type: "array",
                            value: "enum",
                            values: {
                                center: {},
                                left: {},
                                right: {},
                                top: {},
                                bottom: {},
                                "top-left": {},
                                "top-right": {},
                                "bottom-left": {},
                                "bottom-right": {}
                            },
                            requires: ["text-field", {
                                "symbol-placement": ["point"]
                            }],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-anchor": {
                            type: "enum",
                            values: {
                                center: {},
                                left: {},
                                right: {},
                                top: {},
                                bottom: {},
                                "top-left": {},
                                "top-right": {},
                                "bottom-left": {},
                                "bottom-right": {}
                            },
                            default: "center",
                            requires: ["text-field", {
                                "!": "text-variable-anchor"
                            }],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-max-angle": {
                            type: "number",
                            default: 45,
                            units: "degrees",
                            requires: ["text-field", {
                                "symbol-placement": ["line", "line-center"]
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-writing-mode": {
                            type: "array",
                            value: "enum",
                            values: {
                                horizontal: {},
                                vertical: {}
                            },
                            requires: ["text-field", {
                                "symbol-placement": ["point"]
                            }],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-rotate": {
                            type: "number",
                            default: 0,
                            period: 360,
                            units: "degrees",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-padding": {
                            type: "number",
                            default: 2,
                            minimum: 0,
                            units: "pixels",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-keep-upright": {
                            type: "boolean",
                            default: !0,
                            requires: ["text-field", {
                                "text-rotation-alignment": "map"
                            }, {
                                "symbol-placement": ["line", "line-center"]
                            }],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-transform": {
                            type: "enum",
                            values: {
                                none: {},
                                uppercase: {},
                                lowercase: {}
                            },
                            default: "none",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-offset": {
                            type: "array",
                            value: "number",
                            units: "ems",
                            length: 2,
                            default: [0, 0],
                            requires: ["text-field", {
                                "!": "text-radial-offset"
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-allow-overlap": {
                            type: "boolean",
                            default: !1,
                            requires: ["text-field"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-ignore-placement": {
                            type: "boolean",
                            default: !1,
                            requires: ["text-field"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-optional": {
                            type: "boolean",
                            default: !1,
                            requires: ["text-field", "icon-image"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        visibility: {
                            type: "enum",
                            values: {
                                visible: {},
                                none: {}
                            },
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_raster: {
                        visibility: {
                            type: "enum",
                            values: {
                                visible: {},
                                none: {}
                            },
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    layout_hillshade: {
                        visibility: {
                            type: "enum",
                            values: {
                                visible: {},
                                none: {}
                            },
                            default: "visible",
                            "property-type": "constant"
                        }
                    },
                    filter: {
                        type: "array",
                        value: "*"
                    },
                    filter_operator: {
                        type: "enum",
                        values: {
                            "==": {},
                            "!=": {},
                            ">": {},
                            ">=": {},
                            "<": {},
                            "<=": {},
                            in: {},
                            "!in": {},
                            all: {},
                            any: {},
                            none: {},
                            has: {},
                            "!has": {},
                            within: {}
                        }
                    },
                    geometry_type: {
                        type: "enum",
                        values: {
                            Point: {},
                            LineString: {},
                            Polygon: {}
                        }
                    },
                    function: {
                        expression: {
                            type: "expression"
                        },
                        stops: {
                            type: "array",
                            value: "function_stop"
                        },
                        base: {
                            type: "number",
                            default: 1,
                            minimum: 0
                        },
                        property: {
                            type: "string",
                            default: "$zoom"
                        },
                        type: {
                            type: "enum",
                            values: {
                                identity: {},
                                exponential: {},
                                interval: {},
                                categorical: {}
                            },
                            default: "exponential"
                        },
                        colorSpace: {
                            type: "enum",
                            values: {
                                rgb: {},
                                lab: {},
                                hcl: {}
                            },
                            default: "rgb"
                        },
                        default: {
                            type: "*",
                            required: !1
                        }
                    },
                    function_stop: {
                        type: "array",
                        minimum: 0,
                        maximum: 24,
                        value: ["number", "color"],
                        length: 2
                    },
                    expression: {
                        type: "array",
                        value: "*",
                        minimum: 1
                    },
                    expression_name: {
                        type: "enum",
                        values: {
                            let: {
                                group: "Variable binding"
                            },
                            var: {
                                group: "Variable binding"
                            },
                            literal: {
                                group: "Types"
                            },
                            array: {
                                group: "Types"
                            },
                            at: {
                                group: "Lookup"
                            },
                            in: {
                                group: "Lookup"
                            },
                            "index-of": {
                                group: "Lookup"
                            },
                            slice: {
                                group: "Lookup"
                            },
                            case: {
                                group: "Decision"
                            },
                            match: {
                                group: "Decision"
                            },
                            coalesce: {
                                group: "Decision"
                            },
                            step: {
                                group: "Ramps, scales, curves"
                            },
                            interpolate: {
                                group: "Ramps, scales, curves"
                            },
                            "interpolate-hcl": {
                                group: "Ramps, scales, curves"
                            },
                            "interpolate-lab": {
                                group: "Ramps, scales, curves"
                            },
                            ln2: {
                                group: "Math"
                            },
                            pi: {
                                group: "Math"
                            },
                            e: {
                                group: "Math"
                            },
                            typeof: {
                                group: "Types"
                            },
                            string: {
                                group: "Types"
                            },
                            number: {
                                group: "Types"
                            },
                            boolean: {
                                group: "Types"
                            },
                            object: {
                                group: "Types"
                            },
                            collator: {
                                group: "Types"
                            },
                            format: {
                                group: "Types"
                            },
                            image: {
                                group: "Types"
                            },
                            "number-format": {
                                group: "Types"
                            },
                            "to-string": {
                                group: "Types"
                            },
                            "to-number": {
                                group: "Types"
                            },
                            "to-boolean": {
                                group: "Types"
                            },
                            "to-rgba": {
                                group: "Color"
                            },
                            "to-color": {
                                group: "Types"
                            },
                            rgb: {
                                group: "Color"
                            },
                            rgba: {
                                group: "Color"
                            },
                            get: {
                                group: "Lookup"
                            },
                            has: {
                                group: "Lookup"
                            },
                            length: {
                                group: "Lookup"
                            },
                            properties: {
                                group: "Feature data"
                            },
                            "feature-state": {
                                group: "Feature data"
                            },
                            "geometry-type": {
                                group: "Feature data"
                            },
                            id: {
                                group: "Feature data"
                            },
                            zoom: {
                                group: "Zoom"
                            },
                            "heatmap-density": {
                                group: "Heatmap"
                            },
                            "line-progress": {
                                group: "Feature data"
                            },
                            accumulated: {
                                group: "Feature data"
                            },
                            "+": {
                                group: "Math"
                            },
                            "*": {
                                group: "Math"
                            },
                            "-": {
                                group: "Math"
                            },
                            "/": {
                                group: "Math"
                            },
                            "%": {
                                group: "Math"
                            },
                            "^": {
                                group: "Math"
                            },
                            sqrt: {
                                group: "Math"
                            },
                            log10: {
                                group: "Math"
                            },
                            ln: {
                                group: "Math"
                            },
                            log2: {
                                group: "Math"
                            },
                            sin: {
                                group: "Math"
                            },
                            cos: {
                                group: "Math"
                            },
                            tan: {
                                group: "Math"
                            },
                            asin: {
                                group: "Math"
                            },
                            acos: {
                                group: "Math"
                            },
                            atan: {
                                group: "Math"
                            },
                            min: {
                                group: "Math"
                            },
                            max: {
                                group: "Math"
                            },
                            round: {
                                group: "Math"
                            },
                            abs: {
                                group: "Math"
                            },
                            ceil: {
                                group: "Math"
                            },
                            floor: {
                                group: "Math"
                            },
                            distance: {
                                group: "Math"
                            },
                            "==": {
                                group: "Decision"
                            },
                            "!=": {
                                group: "Decision"
                            },
                            ">": {
                                group: "Decision"
                            },
                            "<": {
                                group: "Decision"
                            },
                            ">=": {
                                group: "Decision"
                            },
                            "<=": {
                                group: "Decision"
                            },
                            all: {
                                group: "Decision"
                            },
                            any: {
                                group: "Decision"
                            },
                            "!": {
                                group: "Decision"
                            },
                            within: {
                                group: "Decision"
                            },
                            "is-supported-script": {
                                group: "String"
                            },
                            upcase: {
                                group: "String"
                            },
                            downcase: {
                                group: "String"
                            },
                            concat: {
                                group: "String"
                            },
                            "resolved-locale": {
                                group: "String"
                            }
                        }
                    },
                    light: {
                        anchor: {
                            type: "enum",
                            default: "viewport",
                            values: {
                                map: {},
                                viewport: {}
                            },
                            "property-type": "data-constant",
                            transition: !1,
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            }
                        },
                        position: {
                            type: "array",
                            default: [1.15, 210, 30],
                            length: 3,
                            value: "number",
                            "property-type": "data-constant",
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            }
                        },
                        color: {
                            type: "color",
                            "property-type": "data-constant",
                            default: "#ffffff",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            transition: !0
                        },
                        intensity: {
                            type: "number",
                            "property-type": "data-constant",
                            default: .5,
                            minimum: 0,
                            maximum: 1,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            transition: !0
                        }
                    },
                    paint: ["paint_fill", "paint_line", "paint_circle", "paint_heatmap", "paint_fill-extrusion", "paint_symbol", "paint_raster", "paint_hillshade", "paint_background"],
                    paint_fill: {
                        "fill-antialias": {
                            type: "boolean",
                            default: !0,
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "fill-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "fill-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            requires: [{
                                "!": "fill-pattern"
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "fill-outline-color": {
                            type: "color",
                            transition: !0,
                            requires: [{
                                "!": "fill-pattern"
                            }, {
                                "fill-antialias": !0
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "fill-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "fill-translate-anchor": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {}
                            },
                            default: "map",
                            requires: ["fill-translate"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "fill-pattern": {
                            type: "resolvedImage",
                            transition: !0,
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "cross-faded-data-driven"
                        }
                    },
                    "paint_fill-extrusion": {
                        "fill-extrusion-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "fill-extrusion-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            requires: [{
                                "!": "fill-extrusion-pattern"
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "fill-extrusion-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "fill-extrusion-translate-anchor": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {}
                            },
                            default: "map",
                            requires: ["fill-extrusion-translate"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "fill-extrusion-pattern": {
                            type: "resolvedImage",
                            transition: !0,
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "cross-faded-data-driven"
                        },
                        "fill-extrusion-height": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            units: "meters",
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "fill-extrusion-base": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            units: "meters",
                            transition: !0,
                            requires: ["fill-extrusion-height"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "fill-extrusion-vertical-gradient": {
                            type: "boolean",
                            default: !0,
                            transition: !1,
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        }
                    },
                    paint_line: {
                        "line-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "line-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            requires: [{
                                "!": "line-pattern"
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "line-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "line-translate-anchor": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {}
                            },
                            default: "map",
                            requires: ["line-translate"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "line-width": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "line-gap-width": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "line-offset": {
                            type: "number",
                            default: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "line-blur": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "line-dasharray": {
                            type: "array",
                            value: "number",
                            minimum: 0,
                            transition: !0,
                            units: "line widths",
                            requires: [{
                                "!": "line-pattern"
                            }],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "cross-faded"
                        },
                        "line-pattern": {
                            type: "resolvedImage",
                            transition: !0,
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom", "feature"]
                            },
                            "property-type": "cross-faded-data-driven"
                        },
                        "line-gradient": {
                            type: "color",
                            transition: !1,
                            requires: [{
                                "!": "line-dasharray"
                            }, {
                                "!": "line-pattern"
                            }, {
                                source: "geojson",
                                has: {
                                    lineMetrics: !0
                                }
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["line-progress"]
                            },
                            "property-type": "color-ramp"
                        }
                    },
                    paint_circle: {
                        "circle-radius": {
                            type: "number",
                            default: 5,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "circle-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "circle-blur": {
                            type: "number",
                            default: 0,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "circle-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "circle-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "circle-translate-anchor": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {}
                            },
                            default: "map",
                            requires: ["circle-translate"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "circle-pitch-scale": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {}
                            },
                            default: "map",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "circle-pitch-alignment": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {}
                            },
                            default: "viewport",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "circle-stroke-width": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "circle-stroke-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "circle-stroke-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        }
                    },
                    paint_heatmap: {
                        "heatmap-radius": {
                            type: "number",
                            default: 30,
                            minimum: 1,
                            transition: !0,
                            units: "pixels",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "heatmap-weight": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            transition: !1,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "heatmap-intensity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "heatmap-color": {
                            type: "color",
                            default: ["interpolate", ["linear"],
                                ["heatmap-density"], 0, "rgba(0, 0, 255, 0)", .1, "royalblue", .3, "cyan", .5, "lime", .7, "yellow", 1, "red"
                            ],
                            transition: !1,
                            expression: {
                                interpolated: !0,
                                parameters: ["heatmap-density"]
                            },
                            "property-type": "color-ramp"
                        },
                        "heatmap-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        }
                    },
                    paint_symbol: {
                        "icon-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "icon-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "icon-halo-color": {
                            type: "color",
                            default: "rgba(0, 0, 0, 0)",
                            transition: !0,
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "icon-halo-width": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "icon-halo-blur": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "icon-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            requires: ["icon-image"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "icon-translate-anchor": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {}
                            },
                            default: "map",
                            requires: ["icon-image", "icon-translate"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            overridable: !0,
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-halo-color": {
                            type: "color",
                            default: "rgba(0, 0, 0, 0)",
                            transition: !0,
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-halo-width": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-halo-blur": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            transition: !0,
                            units: "pixels",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom", "feature", "feature-state"]
                            },
                            "property-type": "data-driven"
                        },
                        "text-translate": {
                            type: "array",
                            value: "number",
                            length: 2,
                            default: [0, 0],
                            transition: !0,
                            units: "pixels",
                            requires: ["text-field"],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "text-translate-anchor": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {}
                            },
                            default: "map",
                            requires: ["text-field", "text-translate"],
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        }
                    },
                    paint_raster: {
                        "raster-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "raster-hue-rotate": {
                            type: "number",
                            default: 0,
                            period: 360,
                            transition: !0,
                            units: "degrees",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "raster-brightness-min": {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "raster-brightness-max": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "raster-saturation": {
                            type: "number",
                            default: 0,
                            minimum: -1,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "raster-contrast": {
                            type: "number",
                            default: 0,
                            minimum: -1,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "raster-resampling": {
                            type: "enum",
                            values: {
                                linear: {},
                                nearest: {}
                            },
                            default: "linear",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "raster-fade-duration": {
                            type: "number",
                            default: 300,
                            minimum: 0,
                            transition: !1,
                            units: "milliseconds",
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        }
                    },
                    paint_hillshade: {
                        "hillshade-illumination-direction": {
                            type: "number",
                            default: 335,
                            minimum: 0,
                            maximum: 359,
                            transition: !1,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "hillshade-illumination-anchor": {
                            type: "enum",
                            values: {
                                map: {},
                                viewport: {}
                            },
                            default: "viewport",
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "hillshade-exaggeration": {
                            type: "number",
                            default: .5,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "hillshade-shadow-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "hillshade-highlight-color": {
                            type: "color",
                            default: "#FFFFFF",
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "hillshade-accent-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        }
                    },
                    paint_background: {
                        "background-color": {
                            type: "color",
                            default: "#000000",
                            transition: !0,
                            requires: [{
                                "!": "background-pattern"
                            }],
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        },
                        "background-pattern": {
                            type: "resolvedImage",
                            transition: !0,
                            expression: {
                                interpolated: !1,
                                parameters: ["zoom"]
                            },
                            "property-type": "cross-faded"
                        },
                        "background-opacity": {
                            type: "number",
                            default: 1,
                            minimum: 0,
                            maximum: 1,
                            transition: !0,
                            expression: {
                                interpolated: !0,
                                parameters: ["zoom"]
                            },
                            "property-type": "data-constant"
                        }
                    },
                    transition: {
                        duration: {
                            type: "number",
                            default: 300,
                            minimum: 0,
                            units: "milliseconds"
                        },
                        delay: {
                            type: "number",
                            default: 0,
                            minimum: 0,
                            units: "milliseconds"
                        }
                    },
                    "property-type": {
                        "data-driven": {
                            type: "property-type"
                        },
                        "cross-faded": {
                            type: "property-type"
                        },
                        "cross-faded-data-driven": {
                            type: "property-type"
                        },
                        "color-ramp": {
                            type: "property-type"
                        },
                        "data-constant": {
                            type: "property-type"
                        },
                        constant: {
                            type: "property-type"
                        }
                    },
                    promoteId: {
                        "*": {
                            type: "string"
                        }
                    }
                },
                It = function(t, e, r, n) {
                    this.message = (t ? t + ": " : "") + r, n && (this.identifier = n), null != e && e.__line__ && (this.line = e.__line__)
                };

            function kt(t) {
                var e = t.value;
                return e ? [new It(t.key, e, "constants have been deprecated as of v8")] : []
            }

            function Pt(t) {
                for (var e = [], r = arguments.length - 1; r-- > 0;) e[r] = arguments[r + 1];
                for (var n = 0, i = e; n < i.length; n += 1) {
                    var o = i[n];
                    for (var a in o) t[a] = o[a]
                }
                return t
            }

            function zt(t) {
                return t instanceof Number || t instanceof String || t instanceof Boolean ? t.valueOf() : t
            }

            function Mt(t) {
                if (Array.isArray(t)) return t.map(Mt);
                if (t instanceof Object && !(t instanceof Number || t instanceof String || t instanceof Boolean)) {
                    var e = {};
                    for (var r in t) e[r] = Mt(t[r]);
                    return e
                }
                return zt(t)
            }
            var Dt = function(t) {
                    function e(e, r) {
                        t.call(this, r), this.message = r, this.key = e
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
                }(Error),
                Lt = function(t, e) {
                    void 0 === e && (e = []), this.parent = t, this.bindings = {};
                    for (var r = 0, n = e; r < n.length; r += 1) {
                        var i = n[r];
                        this.bindings[i[0]] = i[1]
                    }
                };
            Lt.prototype.concat = function(t) {
                return new Lt(this, t)
            }, Lt.prototype.get = function(t) {
                if (this.bindings[t]) return this.bindings[t];
                if (this.parent) return this.parent.get(t);
                throw new Error(t + " not found in scope.")
            }, Lt.prototype.has = function(t) {
                return !!this.bindings[t] || !!this.parent && this.parent.has(t)
            };
            var Ot = {
                    kind: "null"
                },
                Rt = {
                    kind: "number"
                },
                Bt = {
                    kind: "string"
                },
                Ft = {
                    kind: "boolean"
                },
                Nt = {
                    kind: "color"
                },
                Ut = {
                    kind: "object"
                },
                jt = {
                    kind: "value"
                },
                Vt = {
                    kind: "collator"
                },
                qt = {
                    kind: "formatted"
                },
                Zt = {
                    kind: "resolvedImage"
                };

            function $t(t, e) {
                return {
                    kind: "array",
                    itemType: t,
                    N: e
                }
            }

            function Gt(t) {
                if ("array" === t.kind) {
                    var e = Gt(t.itemType);
                    return "number" == typeof t.N ? "array<" + e + ", " + t.N + ">" : "value" === t.itemType.kind ? "array" : "array<" + e + ">"
                }
                return t.kind
            }
            var Ht = [Ot, Rt, Bt, Ft, Nt, qt, Ut, $t(jt), Zt];

            function Wt(t, e) {
                if ("error" === e.kind) return null;
                if ("array" === t.kind) {
                    if ("array" === e.kind && (0 === e.N && "value" === e.itemType.kind || !Wt(t.itemType, e.itemType)) && ("number" != typeof t.N || t.N === e.N)) return null
                } else {
                    if (t.kind === e.kind) return null;
                    if ("value" === t.kind)
                        for (var r = 0, n = Ht; r < n.length; r += 1)
                            if (!Wt(n[r], e)) return null
                }
                return "Expected " + Gt(t) + " but found " + Gt(e) + " instead."
            }

            function Xt(t, e) {
                return e.some((function(e) {
                    return e.kind === t.kind
                }))
            }

            function Kt(t, e) {
                return e.some((function(e) {
                    return "null" === e ? null === t : "array" === e ? Array.isArray(t) : "object" === e ? t && !Array.isArray(t) && "object" == typeof t : e === typeof t
                }))
            }
            var Jt = e((function(t, e) {
                    var r = {
                        transparent: [0, 0, 0, 0],
                        aliceblue: [240, 248, 255, 1],
                        antiquewhite: [250, 235, 215, 1],
                        aqua: [0, 255, 255, 1],
                        aquamarine: [127, 255, 212, 1],
                        azure: [240, 255, 255, 1],
                        beige: [245, 245, 220, 1],
                        bisque: [255, 228, 196, 1],
                        black: [0, 0, 0, 1],
                        blanchedalmond: [255, 235, 205, 1],
                        blue: [0, 0, 255, 1],
                        blueviolet: [138, 43, 226, 1],
                        brown: [165, 42, 42, 1],
                        burlywood: [222, 184, 135, 1],
                        cadetblue: [95, 158, 160, 1],
                        chartreuse: [127, 255, 0, 1],
                        chocolate: [210, 105, 30, 1],
                        coral: [255, 127, 80, 1],
                        cornflowerblue: [100, 149, 237, 1],
                        cornsilk: [255, 248, 220, 1],
                        crimson: [220, 20, 60, 1],
                        cyan: [0, 255, 255, 1],
                        darkblue: [0, 0, 139, 1],
                        darkcyan: [0, 139, 139, 1],
                        darkgoldenrod: [184, 134, 11, 1],
                        darkgray: [169, 169, 169, 1],
                        darkgreen: [0, 100, 0, 1],
                        darkgrey: [169, 169, 169, 1],
                        darkkhaki: [189, 183, 107, 1],
                        darkmagenta: [139, 0, 139, 1],
                        darkolivegreen: [85, 107, 47, 1],
                        darkorange: [255, 140, 0, 1],
                        darkorchid: [153, 50, 204, 1],
                        darkred: [139, 0, 0, 1],
                        darksalmon: [233, 150, 122, 1],
                        darkseagreen: [143, 188, 143, 1],
                        darkslateblue: [72, 61, 139, 1],
                        darkslategray: [47, 79, 79, 1],
                        darkslategrey: [47, 79, 79, 1],
                        darkturquoise: [0, 206, 209, 1],
                        darkviolet: [148, 0, 211, 1],
                        deeppink: [255, 20, 147, 1],
                        deepskyblue: [0, 191, 255, 1],
                        dimgray: [105, 105, 105, 1],
                        dimgrey: [105, 105, 105, 1],
                        dodgerblue: [30, 144, 255, 1],
                        firebrick: [178, 34, 34, 1],
                        floralwhite: [255, 250, 240, 1],
                        forestgreen: [34, 139, 34, 1],
                        fuchsia: [255, 0, 255, 1],
                        gainsboro: [220, 220, 220, 1],
                        ghostwhite: [248, 248, 255, 1],
                        gold: [255, 215, 0, 1],
                        goldenrod: [218, 165, 32, 1],
                        gray: [128, 128, 128, 1],
                        green: [0, 128, 0, 1],
                        greenyellow: [173, 255, 47, 1],
                        grey: [128, 128, 128, 1],
                        honeydew: [240, 255, 240, 1],
                        hotpink: [255, 105, 180, 1],
                        indianred: [205, 92, 92, 1],
                        indigo: [75, 0, 130, 1],
                        ivory: [255, 255, 240, 1],
                        khaki: [240, 230, 140, 1],
                        lavender: [230, 230, 250, 1],
                        lavenderblush: [255, 240, 245, 1],
                        lawngreen: [124, 252, 0, 1],
                        lemonchiffon: [255, 250, 205, 1],
                        lightblue: [173, 216, 230, 1],
                        lightcoral: [240, 128, 128, 1],
                        lightcyan: [224, 255, 255, 1],
                        lightgoldenrodyellow: [250, 250, 210, 1],
                        lightgray: [211, 211, 211, 1],
                        lightgreen: [144, 238, 144, 1],
                        lightgrey: [211, 211, 211, 1],
                        lightpink: [255, 182, 193, 1],
                        lightsalmon: [255, 160, 122, 1],
                        lightseagreen: [32, 178, 170, 1],
                        lightskyblue: [135, 206, 250, 1],
                        lightslategray: [119, 136, 153, 1],
                        lightslategrey: [119, 136, 153, 1],
                        lightsteelblue: [176, 196, 222, 1],
                        lightyellow: [255, 255, 224, 1],
                        lime: [0, 255, 0, 1],
                        limegreen: [50, 205, 50, 1],
                        linen: [250, 240, 230, 1],
                        magenta: [255, 0, 255, 1],
                        maroon: [128, 0, 0, 1],
                        mediumaquamarine: [102, 205, 170, 1],
                        mediumblue: [0, 0, 205, 1],
                        mediumorchid: [186, 85, 211, 1],
                        mediumpurple: [147, 112, 219, 1],
                        mediumseagreen: [60, 179, 113, 1],
                        mediumslateblue: [123, 104, 238, 1],
                        mediumspringgreen: [0, 250, 154, 1],
                        mediumturquoise: [72, 209, 204, 1],
                        mediumvioletred: [199, 21, 133, 1],
                        midnightblue: [25, 25, 112, 1],
                        mintcream: [245, 255, 250, 1],
                        mistyrose: [255, 228, 225, 1],
                        moccasin: [255, 228, 181, 1],
                        navajowhite: [255, 222, 173, 1],
                        navy: [0, 0, 128, 1],
                        oldlace: [253, 245, 230, 1],
                        olive: [128, 128, 0, 1],
                        olivedrab: [107, 142, 35, 1],
                        orange: [255, 165, 0, 1],
                        orangered: [255, 69, 0, 1],
                        orchid: [218, 112, 214, 1],
                        palegoldenrod: [238, 232, 170, 1],
                        palegreen: [152, 251, 152, 1],
                        paleturquoise: [175, 238, 238, 1],
                        palevioletred: [219, 112, 147, 1],
                        papayawhip: [255, 239, 213, 1],
                        peachpuff: [255, 218, 185, 1],
                        peru: [205, 133, 63, 1],
                        pink: [255, 192, 203, 1],
                        plum: [221, 160, 221, 1],
                        powderblue: [176, 224, 230, 1],
                        purple: [128, 0, 128, 1],
                        rebeccapurple: [102, 51, 153, 1],
                        red: [255, 0, 0, 1],
                        rosybrown: [188, 143, 143, 1],
                        royalblue: [65, 105, 225, 1],
                        saddlebrown: [139, 69, 19, 1],
                        salmon: [250, 128, 114, 1],
                        sandybrown: [244, 164, 96, 1],
                        seagreen: [46, 139, 87, 1],
                        seashell: [255, 245, 238, 1],
                        sienna: [160, 82, 45, 1],
                        silver: [192, 192, 192, 1],
                        skyblue: [135, 206, 235, 1],
                        slateblue: [106, 90, 205, 1],
                        slategray: [112, 128, 144, 1],
                        slategrey: [112, 128, 144, 1],
                        snow: [255, 250, 250, 1],
                        springgreen: [0, 255, 127, 1],
                        steelblue: [70, 130, 180, 1],
                        tan: [210, 180, 140, 1],
                        teal: [0, 128, 128, 1],
                        thistle: [216, 191, 216, 1],
                        tomato: [255, 99, 71, 1],
                        turquoise: [64, 224, 208, 1],
                        violet: [238, 130, 238, 1],
                        wheat: [245, 222, 179, 1],
                        white: [255, 255, 255, 1],
                        whitesmoke: [245, 245, 245, 1],
                        yellow: [255, 255, 0, 1],
                        yellowgreen: [154, 205, 50, 1]
                    };

                    function n(t) {
                        return (t = Math.round(t)) < 0 ? 0 : t > 255 ? 255 : t
                    }

                    function i(t) {
                        return n("%" === t[t.length - 1] ? parseFloat(t) / 100 * 255 : parseInt(t))
                    }

                    function o(t) {
                        return (e = "%" === t[t.length - 1] ? parseFloat(t) / 100 : parseFloat(t)) < 0 ? 0 : e > 1 ? 1 : e;
                        var e
                    }

                    function a(t, e, r) {
                        return r < 0 ? r += 1 : r > 1 && (r -= 1), 6 * r < 1 ? t + (e - t) * r * 6 : 2 * r < 1 ? e : 3 * r < 2 ? t + (e - t) * (2 / 3 - r) * 6 : t
                    }
                    try {
                        e.parseCSSColor = function(t) {
                            var e, s = t.replace(/ /g, "").toLowerCase();
                            if (s in r) return r[s].slice();
                            if ("#" === s[0]) return 4 === s.length ? (e = parseInt(s.substr(1), 16)) >= 0 && e <= 4095 ? [(3840 & e) >> 4 | (3840 & e) >> 8, 240 & e | (240 & e) >> 4, 15 & e | (15 & e) << 4, 1] : null : 7 === s.length && (e = parseInt(s.substr(1), 16)) >= 0 && e <= 16777215 ? [(16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 1] : null;
                            var u = s.indexOf("("),
                                l = s.indexOf(")");
                            if (-1 !== u && l + 1 === s.length) {
                                var c = s.substr(0, u),
                                    p = s.substr(u + 1, l - (u + 1)).split(","),
                                    h = 1;
                                switch (c) {
                                    case "rgba":
                                        if (4 !== p.length) return null;
                                        h = o(p.pop());
                                    case "rgb":
                                        return 3 !== p.length ? null : [i(p[0]), i(p[1]), i(p[2]), h];
                                    case "hsla":
                                        if (4 !== p.length) return null;
                                        h = o(p.pop());
                                    case "hsl":
                                        if (3 !== p.length) return null;
                                        var f = (parseFloat(p[0]) % 360 + 360) % 360 / 360,
                                            d = o(p[1]),
                                            m = o(p[2]),
                                            y = m <= .5 ? m * (d + 1) : m + d - m * d,
                                            v = 2 * m - y;
                                        return [n(255 * a(v, y, f + 1 / 3)), n(255 * a(v, y, f)), n(255 * a(v, y, f - 1 / 3)), h];
                                    default:
                                        return null
                                }
                            }
                            return null
                        }
                    } catch (t) {}
                })).parseCSSColor,
                Yt = function(t, e, r, n) {
                    void 0 === n && (n = 1), this.r = t, this.g = e, this.b = r, this.a = n
                };
            Yt.parse = function(t) {
                if (t) {
                    if (t instanceof Yt) return t;
                    if ("string" == typeof t) {
                        var e = Jt(t);
                        if (e) return new Yt(e[0] / 255 * e[3], e[1] / 255 * e[3], e[2] / 255 * e[3], e[3])
                    }
                }
            }, Yt.prototype.toString = function() {
                var t = this.toArray(),
                    e = t[1],
                    r = t[2],
                    n = t[3];
                return "rgba(" + Math.round(t[0]) + "," + Math.round(e) + "," + Math.round(r) + "," + n + ")"
            }, Yt.prototype.toArray = function() {
                var t = this.a;
                return 0 === t ? [0, 0, 0, 0] : [255 * this.r / t, 255 * this.g / t, 255 * this.b / t, t]
            }, Yt.black = new Yt(0, 0, 0, 1), Yt.white = new Yt(1, 1, 1, 1), Yt.transparent = new Yt(0, 0, 0, 0), Yt.red = new Yt(1, 0, 0, 1);
            var Qt = function(t, e, r) {
                this.sensitivity = t ? e ? "variant" : "case" : e ? "accent" : "base", this.locale = r, this.collator = new Intl.Collator(this.locale ? this.locale : [], {
                    sensitivity: this.sensitivity,
                    usage: "search"
                })
            };
            Qt.prototype.compare = function(t, e) {
                return this.collator.compare(t, e)
            }, Qt.prototype.resolvedLocale = function() {
                return new Intl.Collator(this.locale ? this.locale : []).resolvedOptions().locale
            };
            var te = function(t, e, r, n, i) {
                    this.text = t, this.image = e, this.scale = r, this.fontStack = n, this.textColor = i
                },
                ee = function(t) {
                    this.sections = t
                };
            ee.fromString = function(t) {
                return new ee([new te(t, null, null, null, null)])
            }, ee.prototype.isEmpty = function() {
                return 0 === this.sections.length || !this.sections.some((function(t) {
                    return 0 !== t.text.length || t.image && 0 !== t.image.name.length
                }))
            }, ee.factory = function(t) {
                return t instanceof ee ? t : ee.fromString(t)
            }, ee.prototype.toString = function() {
                return 0 === this.sections.length ? "" : this.sections.map((function(t) {
                    return t.text
                })).join("")
            }, ee.prototype.serialize = function() {
                for (var t = ["format"], e = 0, r = this.sections; e < r.length; e += 1) {
                    var n = r[e];
                    if (n.image) t.push(["image", n.image.name]);
                    else {
                        t.push(n.text);
                        var i = {};
                        n.fontStack && (i["text-font"] = ["literal", n.fontStack.split(",")]), n.scale && (i["font-scale"] = n.scale), n.textColor && (i["text-color"] = ["rgba"].concat(n.textColor.toArray())), t.push(i)
                    }
                }
                return t
            };
            var re = function(t) {
                this.name = t.name, this.available = t.available
            };

            function ne(t, e, r, n) {
                return "number" == typeof t && t >= 0 && t <= 255 && "number" == typeof e && e >= 0 && e <= 255 && "number" == typeof r && r >= 0 && r <= 255 ? void 0 === n || "number" == typeof n && n >= 0 && n <= 1 ? null : "Invalid rgba value [" + [t, e, r, n].join(", ") + "]: 'a' must be between 0 and 1." : "Invalid rgba value [" + ("number" == typeof n ? [t, e, r, n] : [t, e, r]).join(", ") + "]: 'r', 'g', and 'b' must be between 0 and 255."
            }

            function ie(t) {
                if (null === t) return !0;
                if ("string" == typeof t) return !0;
                if ("boolean" == typeof t) return !0;
                if ("number" == typeof t) return !0;
                if (t instanceof Yt) return !0;
                if (t instanceof Qt) return !0;
                if (t instanceof ee) return !0;
                if (t instanceof re) return !0;
                if (Array.isArray(t)) {
                    for (var e = 0, r = t; e < r.length; e += 1)
                        if (!ie(r[e])) return !1;
                    return !0
                }
                if ("object" == typeof t) {
                    for (var n in t)
                        if (!ie(t[n])) return !1;
                    return !0
                }
                return !1
            }

            function oe(t) {
                if (null === t) return Ot;
                if ("string" == typeof t) return Bt;
                if ("boolean" == typeof t) return Ft;
                if ("number" == typeof t) return Rt;
                if (t instanceof Yt) return Nt;
                if (t instanceof Qt) return Vt;
                if (t instanceof ee) return qt;
                if (t instanceof re) return Zt;
                if (Array.isArray(t)) {
                    for (var e, r = t.length, n = 0, i = t; n < i.length; n += 1) {
                        var o = oe(i[n]);
                        if (e) {
                            if (e === o) continue;
                            e = jt;
                            break
                        }
                        e = o
                    }
                    return $t(e || jt, r)
                }
                return Ut
            }

            function ae(t) {
                var e = typeof t;
                return null === t ? "" : "string" === e || "number" === e || "boolean" === e ? String(t) : t instanceof Yt || t instanceof ee || t instanceof re ? t.toString() : JSON.stringify(t)
            }
            re.prototype.toString = function() {
                return this.name
            }, re.fromString = function(t) {
                return t ? new re({
                    name: t,
                    available: !1
                }) : null
            }, re.prototype.serialize = function() {
                return ["image", this.name]
            };
            var se = function(t, e) {
                this.type = t, this.value = e
            };
            se.parse = function(t, e) {
                if (2 !== t.length) return e.error("'literal' expression requires exactly one argument, but found " + (t.length - 1) + " instead.");
                if (!ie(t[1])) return e.error("invalid value");
                var r = t[1],
                    n = oe(r),
                    i = e.expectedType;
                return "array" !== n.kind || 0 !== n.N || !i || "array" !== i.kind || "number" == typeof i.N && 0 !== i.N || (n = i), new se(n, r)
            }, se.prototype.evaluate = function() {
                return this.value
            }, se.prototype.eachChild = function() {}, se.prototype.outputDefined = function() {
                return !0
            }, se.prototype.serialize = function() {
                return "array" === this.type.kind || "object" === this.type.kind ? ["literal", this.value] : this.value instanceof Yt ? ["rgba"].concat(this.value.toArray()) : this.value instanceof ee ? this.value.serialize() : this.value
            };
            var ue = function(t) {
                this.name = "ExpressionEvaluationError", this.message = t
            };
            ue.prototype.toJSON = function() {
                return this.message
            };
            var le = {
                    string: Bt,
                    number: Rt,
                    boolean: Ft,
                    object: Ut
                },
                ce = function(t, e) {
                    this.type = t, this.args = e
                };
            ce.parse = function(t, e) {
                if (t.length < 2) return e.error("Expected at least one argument.");
                var r, n = 1,
                    i = t[0];
                if ("array" === i) {
                    var o, a;
                    if (t.length > 2) {
                        var s = t[1];
                        if ("string" != typeof s || !(s in le) || "object" === s) return e.error('The item type argument of "array" must be one of string, number, boolean', 1);
                        o = le[s], n++
                    } else o = jt;
                    if (t.length > 3) {
                        if (null !== t[2] && ("number" != typeof t[2] || t[2] < 0 || t[2] !== Math.floor(t[2]))) return e.error('The length argument to "array" must be a positive integer literal', 2);
                        a = t[2], n++
                    }
                    r = $t(o, a)
                } else r = le[i];
                for (var u = []; n < t.length; n++) {
                    var l = e.parse(t[n], n, jt);
                    if (!l) return null;
                    u.push(l)
                }
                return new ce(r, u)
            }, ce.prototype.evaluate = function(t) {
                for (var e = 0; e < this.args.length; e++) {
                    var r = this.args[e].evaluate(t);
                    if (!Wt(this.type, oe(r))) return r;
                    if (e === this.args.length - 1) throw new ue("Expected value to be of type " + Gt(this.type) + ", but found " + Gt(oe(r)) + " instead.")
                }
                return null
            }, ce.prototype.eachChild = function(t) {
                this.args.forEach(t)
            }, ce.prototype.outputDefined = function() {
                return this.args.every((function(t) {
                    return t.outputDefined()
                }))
            }, ce.prototype.serialize = function() {
                var t = this.type,
                    e = [t.kind];
                if ("array" === t.kind) {
                    var r = t.itemType;
                    if ("string" === r.kind || "number" === r.kind || "boolean" === r.kind) {
                        e.push(r.kind);
                        var n = t.N;
                        ("number" == typeof n || this.args.length > 1) && e.push(n)
                    }
                }
                return e.concat(this.args.map((function(t) {
                    return t.serialize()
                })))
            };
            var pe = function(t) {
                this.type = qt, this.sections = t
            };
            pe.parse = function(t, e) {
                if (t.length < 2) return e.error("Expected at least one argument.");
                var r = t[1];
                if (!Array.isArray(r) && "object" == typeof r) return e.error("First argument must be an image or text section.");
                for (var n = [], i = !1, o = 1; o <= t.length - 1; ++o) {
                    var a = t[o];
                    if (i && "object" == typeof a && !Array.isArray(a)) {
                        i = !1;
                        var s = null;
                        if (a["font-scale"] && !(s = e.parse(a["font-scale"], 1, Rt))) return null;
                        var u = null;
                        if (a["text-font"] && !(u = e.parse(a["text-font"], 1, $t(Bt)))) return null;
                        var l = null;
                        if (a["text-color"] && !(l = e.parse(a["text-color"], 1, Nt))) return null;
                        var c = n[n.length - 1];
                        c.scale = s, c.font = u, c.textColor = l
                    } else {
                        var p = e.parse(t[o], 1, jt);
                        if (!p) return null;
                        var h = p.type.kind;
                        if ("string" !== h && "value" !== h && "null" !== h && "resolvedImage" !== h) return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");
                        i = !0, n.push({
                            content: p,
                            scale: null,
                            font: null,
                            textColor: null
                        })
                    }
                }
                return new pe(n)
            }, pe.prototype.evaluate = function(t) {
                return new ee(this.sections.map((function(e) {
                    var r = e.content.evaluate(t);
                    return oe(r) === Zt ? new te("", r, null, null, null) : new te(ae(r), null, e.scale ? e.scale.evaluate(t) : null, e.font ? e.font.evaluate(t).join(",") : null, e.textColor ? e.textColor.evaluate(t) : null)
                })))
            }, pe.prototype.eachChild = function(t) {
                for (var e = 0, r = this.sections; e < r.length; e += 1) {
                    var n = r[e];
                    t(n.content), n.scale && t(n.scale), n.font && t(n.font), n.textColor && t(n.textColor)
                }
            }, pe.prototype.outputDefined = function() {
                return !1
            }, pe.prototype.serialize = function() {
                for (var t = ["format"], e = 0, r = this.sections; e < r.length; e += 1) {
                    var n = r[e];
                    t.push(n.content.serialize());
                    var i = {};
                    n.scale && (i["font-scale"] = n.scale.serialize()), n.font && (i["text-font"] = n.font.serialize()), n.textColor && (i["text-color"] = n.textColor.serialize()), t.push(i)
                }
                return t
            };
            var he = function(t) {
                this.type = Zt, this.input = t
            };
            he.parse = function(t, e) {
                if (2 !== t.length) return e.error("Expected two arguments.");
                var r = e.parse(t[1], 1, Bt);
                return r ? new he(r) : e.error("No image name provided.")
            }, he.prototype.evaluate = function(t) {
                var e = this.input.evaluate(t),
                    r = re.fromString(e);
                return r && t.availableImages && (r.available = t.availableImages.indexOf(e) > -1), r
            }, he.prototype.eachChild = function(t) {
                t(this.input)
            }, he.prototype.outputDefined = function() {
                return !1
            }, he.prototype.serialize = function() {
                return ["image", this.input.serialize()]
            };
            var fe = {
                    "to-boolean": Ft,
                    "to-color": Nt,
                    "to-number": Rt,
                    "to-string": Bt
                },
                de = function(t, e) {
                    this.type = t, this.args = e
                };
            de.parse = function(t, e) {
                if (t.length < 2) return e.error("Expected at least one argument.");
                var r = t[0];
                if (("to-boolean" === r || "to-string" === r) && 2 !== t.length) return e.error("Expected one argument.");
                for (var n = fe[r], i = [], o = 1; o < t.length; o++) {
                    var a = e.parse(t[o], o, jt);
                    if (!a) return null;
                    i.push(a)
                }
                return new de(n, i)
            }, de.prototype.evaluate = function(t) {
                if ("boolean" === this.type.kind) return Boolean(this.args[0].evaluate(t));
                if ("color" === this.type.kind) {
                    for (var e, r, n = 0, i = this.args; n < i.length; n += 1) {
                        if (r = null, (e = i[n].evaluate(t)) instanceof Yt) return e;
                        if ("string" == typeof e) {
                            var o = t.parseColor(e);
                            if (o) return o
                        } else if (Array.isArray(e) && !(r = e.length < 3 || e.length > 4 ? "Invalid rbga value " + JSON.stringify(e) + ": expected an array containing either three or four numeric values." : ne(e[0], e[1], e[2], e[3]))) return new Yt(e[0] / 255, e[1] / 255, e[2] / 255, e[3])
                    }
                    throw new ue(r || "Could not parse color from value '" + ("string" == typeof e ? e : String(JSON.stringify(e))) + "'")
                }
                if ("number" === this.type.kind) {
                    for (var a = null, s = 0, u = this.args; s < u.length; s += 1) {
                        if (null === (a = u[s].evaluate(t))) return 0;
                        var l = Number(a);
                        if (!isNaN(l)) return l
                    }
                    throw new ue("Could not convert " + JSON.stringify(a) + " to number.")
                }
                return "formatted" === this.type.kind ? ee.fromString(ae(this.args[0].evaluate(t))) : "resolvedImage" === this.type.kind ? re.fromString(ae(this.args[0].evaluate(t))) : ae(this.args[0].evaluate(t))
            }, de.prototype.eachChild = function(t) {
                this.args.forEach(t)
            }, de.prototype.outputDefined = function() {
                return this.args.every((function(t) {
                    return t.outputDefined()
                }))
            }, de.prototype.serialize = function() {
                if ("formatted" === this.type.kind) return new pe([{
                    content: this.args[0],
                    scale: null,
                    font: null,
                    textColor: null
                }]).serialize();
                if ("resolvedImage" === this.type.kind) return new he(this.args[0]).serialize();
                var t = ["to-" + this.type.kind];
                return this.eachChild((function(e) {
                    t.push(e.serialize())
                })), t
            };
            var me = ["Unknown", "Point", "LineString", "Polygon"],
                ye = function() {
                    this.globals = null, this.feature = null, this.featureState = null, this.formattedSection = null, this._parseColorCache = {}, this.availableImages = null, this.canonical = null
                };
            ye.prototype.id = function() {
                return this.feature && "id" in this.feature ? this.feature.id : null
            }, ye.prototype.geometryType = function() {
                return this.feature ? "number" == typeof this.feature.type ? me[this.feature.type] : this.feature.type : null
            }, ye.prototype.geometry = function() {
                return this.feature && "geometry" in this.feature ? this.feature.geometry : null
            }, ye.prototype.canonicalID = function() {
                return this.canonical
            }, ye.prototype.properties = function() {
                return this.feature && this.feature.properties || {}
            }, ye.prototype.parseColor = function(t) {
                var e = this._parseColorCache[t];
                return e || (e = this._parseColorCache[t] = Yt.parse(t)), e
            };
            var ve = function(t, e, r, n) {
                this.name = t, this.type = e, this._evaluate = r, this.args = n
            };
            ve.prototype.evaluate = function(t) {
                return this._evaluate(t, this.args)
            }, ve.prototype.eachChild = function(t) {
                this.args.forEach(t)
            }, ve.prototype.outputDefined = function() {
                return !1
            }, ve.prototype.serialize = function() {
                return [this.name].concat(this.args.map((function(t) {
                    return t.serialize()
                })))
            }, ve.parse = function(t, e) {
                var r, n = t[0],
                    i = ve.definitions[n];
                if (!i) return e.error('Unknown expression "' + n + '". If you wanted a literal array, use ["literal", [...]].', 0);
                for (var o = Array.isArray(i) ? i[0] : i.type, a = Array.isArray(i) ? [
                        [i[1], i[2]]
                    ] : i.overloads, s = a.filter((function(e) {
                        var r = e[0];
                        return !Array.isArray(r) || r.length === t.length - 1
                    })), u = null, l = 0, c = s; l < c.length; l += 1) {
                    var p = c[l],
                        h = p[0],
                        f = p[1];
                    u = new Ne(e.registry, e.path, null, e.scope);
                    for (var d = [], m = !1, y = 1; y < t.length; y++) {
                        var v = t[y],
                            g = Array.isArray(h) ? h[y - 1] : h.type,
                            _ = u.parse(v, 1 + d.length, g);
                        if (!_) {
                            m = !0;
                            break
                        }
                        d.push(_)
                    }
                    if (!m)
                        if (Array.isArray(h) && h.length !== d.length) u.error("Expected " + h.length + " arguments, but found " + d.length + " instead.");
                        else {
                            for (var x = 0; x < d.length; x++) {
                                var b = Array.isArray(h) ? h[x] : h.type,
                                    w = d[x];
                                u.concat(x + 1).checkSubtype(b, w.type)
                            }
                            if (0 === u.errors.length) return new ve(n, o, f, d)
                        }
                }
                if (1 === s.length)(r = e.errors).push.apply(r, u.errors);
                else {
                    for (var S = (s.length ? s : a).map((function(t) {
                            var e;
                            return e = t[0], Array.isArray(e) ? "(" + e.map(Gt).join(", ") + ")" : "(" + Gt(e.type) + "...)"
                        })).join(" | "), T = [], E = 1; E < t.length; E++) {
                        var A = e.parse(t[E], 1 + T.length);
                        if (!A) return null;
                        T.push(Gt(A.type))
                    }
                    e.error("Expected arguments of type " + S + ", but found (" + T.join(", ") + ") instead.")
                }
                return null
            }, ve.register = function(t, e) {
                for (var r in ve.definitions = e, e) t[r] = ve
            };
            var ge = function(t, e, r) {
                this.type = Vt, this.locale = r, this.caseSensitive = t, this.diacriticSensitive = e
            };

            function _e(t, e) {
                t[0] = Math.min(t[0], e[0]), t[1] = Math.min(t[1], e[1]), t[2] = Math.max(t[2], e[0]), t[3] = Math.max(t[3], e[1])
            }

            function xe(t, e) {
                return !(t[0] <= e[0] || t[2] >= e[2] || t[1] <= e[1] || t[3] >= e[3])
            }

            function be(t, e) {
                var r = (180 + t[0]) / 360,
                    n = (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + t[1] * Math.PI / 360))) / 360,
                    i = Math.pow(2, e.z);
                return [Math.round(r * i * 8192), Math.round(n * i * 8192)]
            }

            function we(t, e, r) {
                return e[1] > t[1] != r[1] > t[1] && t[0] < (r[0] - e[0]) * (t[1] - e[1]) / (r[1] - e[1]) + e[0]
            }

            function Se(t, e) {
                for (var r, n, i, o, a, s, u, l = !1, c = 0, p = e.length; c < p; c++)
                    for (var h = e[c], f = 0, d = h.length; f < d - 1; f++) {
                        if ((o = (r = t)[0] - (n = h[f])[0]) * (u = r[1] - (i = h[f + 1])[1]) - (s = r[0] - i[0]) * (a = r[1] - n[1]) == 0 && o * s <= 0 && a * u <= 0) return !1;
                        we(t, h[f], h[f + 1]) && (l = !l)
                    }
                return l
            }

            function Te(t, e) {
                for (var r = 0; r < e.length; r++)
                    if (Se(t, e[r])) return !0;
                return !1
            }

            function Ee(t, e, r, n) {
                var i = n[0] - r[0],
                    o = n[1] - r[1],
                    a = (t[0] - r[0]) * o - i * (t[1] - r[1]),
                    s = (e[0] - r[0]) * o - i * (e[1] - r[1]);
                return a > 0 && s < 0 || a < 0 && s > 0
            }

            function Ae(t, e, r) {
                for (var n = 0, i = r; n < i.length; n += 1)
                    for (var o = i[n], a = 0; a < o.length - 1; ++a)
                        if (0 != (p = [(c = o[a + 1])[0] - (l = o[a])[0], c[1] - l[1]])[0] * (h = [(u = e)[0] - (s = t)[0], u[1] - s[1]])[1] - p[1] * h[0] && Ee(s, u, l, c) && Ee(l, c, s, u)) return !0;
                var s, u, l, c, p, h;
                return !1
            }

            function Ce(t, e) {
                for (var r = 0; r < t.length; ++r)
                    if (!Se(t[r], e)) return !1;
                for (var n = 0; n < t.length - 1; ++n)
                    if (Ae(t[n], t[n + 1], e)) return !1;
                return !0
            }

            function Ie(t, e) {
                for (var r = 0; r < e.length; r++)
                    if (Ce(t, e[r])) return !0;
                return !1
            }

            function ke(t, e, r) {
                for (var n = [], i = 0; i < t.length; i++) {
                    for (var o = [], a = 0; a < t[i].length; a++) {
                        var s = be(t[i][a], r);
                        _e(e, s), o.push(s)
                    }
                    n.push(o)
                }
                return n
            }

            function Pe(t, e, r) {
                for (var n = [], i = 0; i < t.length; i++) {
                    var o = ke(t[i], e, r);
                    n.push(o)
                }
                return n
            }

            function ze(t, e, r, n) {
                if (t[0] < r[0] || t[0] > r[2]) {
                    var i = .5 * n,
                        o = t[0] - r[0] > i ? -n : r[0] - t[0] > i ? n : 0;
                    0 === o && (o = t[0] - r[2] > i ? -n : r[2] - t[0] > i ? n : 0), t[0] += o
                }
                _e(e, t)
            }

            function Me(t, e, r, n) {
                for (var i = 8192 * Math.pow(2, n.z), o = [8192 * n.x, 8192 * n.y], a = [], s = 0, u = t; s < u.length; s += 1)
                    for (var l = 0, c = u[s]; l < c.length; l += 1) {
                        var p = c[l],
                            h = [p.x + o[0], p.y + o[1]];
                        ze(h, e, r, i), a.push(h)
                    }
                return a
            }

            function De(t, e, r, n) {
                for (var i, o = 8192 * Math.pow(2, n.z), a = [8192 * n.x, 8192 * n.y], s = [], u = 0, l = t; u < l.length; u += 1) {
                    for (var c = [], p = 0, h = l[u]; p < h.length; p += 1) {
                        var f = h[p],
                            d = [f.x + a[0], f.y + a[1]];
                        _e(e, d), c.push(d)
                    }
                    s.push(c)
                }
                if (e[2] - e[0] <= o / 2) {
                    (i = e)[0] = i[1] = 1 / 0, i[2] = i[3] = -1 / 0;
                    for (var m = 0, y = s; m < y.length; m += 1)
                        for (var v = 0, g = y[m]; v < g.length; v += 1) ze(g[v], e, r, o)
                }
                return s
            }
            ge.parse = function(t, e) {
                if (2 !== t.length) return e.error("Expected one argument.");
                var r = t[1];
                if ("object" != typeof r || Array.isArray(r)) return e.error("Collator options argument must be an object.");
                var n = e.parse(void 0 !== r["case-sensitive"] && r["case-sensitive"], 1, Ft);
                if (!n) return null;
                var i = e.parse(void 0 !== r["diacritic-sensitive"] && r["diacritic-sensitive"], 1, Ft);
                if (!i) return null;
                var o = null;
                return r.locale && !(o = e.parse(r.locale, 1, Bt)) ? null : new ge(n, i, o)
            }, ge.prototype.evaluate = function(t) {
                return new Qt(this.caseSensitive.evaluate(t), this.diacriticSensitive.evaluate(t), this.locale ? this.locale.evaluate(t) : null)
            }, ge.prototype.eachChild = function(t) {
                t(this.caseSensitive), t(this.diacriticSensitive), this.locale && t(this.locale)
            }, ge.prototype.outputDefined = function() {
                return !1
            }, ge.prototype.serialize = function() {
                var t = {};
                return t["case-sensitive"] = this.caseSensitive.serialize(), t["diacritic-sensitive"] = this.diacriticSensitive.serialize(), this.locale && (t.locale = this.locale.serialize()), ["collator", t]
            };
            var Le = function(t, e) {
                this.type = Ft, this.geojson = t, this.geometries = e
            };

            function Oe(t) {
                if (t instanceof ve) {
                    if ("get" === t.name && 1 === t.args.length) return !1;
                    if ("feature-state" === t.name) return !1;
                    if ("has" === t.name && 1 === t.args.length) return !1;
                    if ("properties" === t.name || "geometry-type" === t.name || "id" === t.name) return !1;
                    if (/^filter-/.test(t.name)) return !1
                }
                if (t instanceof Le) return !1;
                var e = !0;
                return t.eachChild((function(t) {
                    e && !Oe(t) && (e = !1)
                })), e
            }

            function Re(t) {
                if (t instanceof ve && "feature-state" === t.name) return !1;
                var e = !0;
                return t.eachChild((function(t) {
                    e && !Re(t) && (e = !1)
                })), e
            }

            function Be(t, e) {
                if (t instanceof ve && e.indexOf(t.name) >= 0) return !1;
                var r = !0;
                return t.eachChild((function(t) {
                    r && !Be(t, e) && (r = !1)
                })), r
            }
            Le.parse = function(t, e) {
                if (2 !== t.length) return e.error("'within' expression requires exactly one argument, but found " + (t.length - 1) + " instead.");
                if (ie(t[1])) {
                    var r = t[1];
                    if ("FeatureCollection" === r.type)
                        for (var n = 0; n < r.features.length; ++n) {
                            var i = r.features[n].geometry.type;
                            if ("Polygon" === i || "MultiPolygon" === i) return new Le(r, r.features[n].geometry)
                        } else if ("Feature" === r.type) {
                            var o = r.geometry.type;
                            if ("Polygon" === o || "MultiPolygon" === o) return new Le(r, r.geometry)
                        } else if ("Polygon" === r.type || "MultiPolygon" === r.type) return new Le(r, r)
                }
                return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")
            }, Le.prototype.evaluate = function(t) {
                if (null != t.geometry() && null != t.canonicalID()) {
                    if ("Point" === t.geometryType()) return function(t, e) {
                        var r = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
                            n = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
                            i = t.canonicalID();
                        if ("Polygon" === e.type) {
                            var o = ke(e.coordinates, n, i),
                                a = Me(t.geometry(), r, n, i);
                            if (!xe(r, n)) return !1;
                            for (var s = 0, u = a; s < u.length; s += 1)
                                if (!Se(u[s], o)) return !1
                        }
                        if ("MultiPolygon" === e.type) {
                            var l = Pe(e.coordinates, n, i),
                                c = Me(t.geometry(), r, n, i);
                            if (!xe(r, n)) return !1;
                            for (var p = 0, h = c; p < h.length; p += 1)
                                if (!Te(h[p], l)) return !1
                        }
                        return !0
                    }(t, this.geometries);
                    if ("LineString" === t.geometryType()) return function(t, e) {
                        var r = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
                            n = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
                            i = t.canonicalID();
                        if ("Polygon" === e.type) {
                            var o = ke(e.coordinates, n, i),
                                a = De(t.geometry(), r, n, i);
                            if (!xe(r, n)) return !1;
                            for (var s = 0, u = a; s < u.length; s += 1)
                                if (!Ce(u[s], o)) return !1
                        }
                        if ("MultiPolygon" === e.type) {
                            var l = Pe(e.coordinates, n, i),
                                c = De(t.geometry(), r, n, i);
                            if (!xe(r, n)) return !1;
                            for (var p = 0, h = c; p < h.length; p += 1)
                                if (!Ie(h[p], l)) return !1
                        }
                        return !0
                    }(t, this.geometries)
                }
                return !1
            }, Le.prototype.eachChild = function() {}, Le.prototype.outputDefined = function() {
                return !0
            }, Le.prototype.serialize = function() {
                return ["within", this.geojson]
            };
            var Fe = function(t, e) {
                this.type = e.type, this.name = t, this.boundExpression = e
            };
            Fe.parse = function(t, e) {
                if (2 !== t.length || "string" != typeof t[1]) return e.error("'var' expression requires exactly one string literal argument.");
                var r = t[1];
                return e.scope.has(r) ? new Fe(r, e.scope.get(r)) : e.error('Unknown variable "' + r + '". Make sure "' + r + '" has been bound in an enclosing "let" expression before using it.', 1)
            }, Fe.prototype.evaluate = function(t) {
                return this.boundExpression.evaluate(t)
            }, Fe.prototype.eachChild = function() {}, Fe.prototype.outputDefined = function() {
                return !1
            }, Fe.prototype.serialize = function() {
                return ["var", this.name]
            };
            var Ne = function(t, e, r, n, i) {
                void 0 === e && (e = []), void 0 === n && (n = new Lt), void 0 === i && (i = []), this.registry = t, this.path = e, this.key = e.map((function(t) {
                    return "[" + t + "]"
                })).join(""), this.scope = n, this.errors = i, this.expectedType = r
            };

            function Ue(t, e) {
                for (var r, n = t.length - 1, i = 0, o = n, a = 0; i <= o;)
                    if ((r = t[a = Math.floor((i + o) / 2)]) <= e) {
                        if (a === n || e < t[a + 1]) return a;
                        i = a + 1
                    } else {
                        if (!(r > e)) throw new ue("Input is not a number.");
                        o = a - 1
                    } return 0
            }
            Ne.prototype.parse = function(t, e, r, n, i) {
                return void 0 === i && (i = {}), e ? this.concat(e, r, n)._parse(t, i) : this._parse(t, i)
            }, Ne.prototype._parse = function(t, e) {
                function r(t, e, r) {
                    return "assert" === r ? new ce(e, [t]) : "coerce" === r ? new de(e, [t]) : t
                }
                if (null !== t && "string" != typeof t && "boolean" != typeof t && "number" != typeof t || (t = ["literal", t]), Array.isArray(t)) {
                    if (0 === t.length) return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');
                    var n = t[0];
                    if ("string" != typeof n) return this.error("Expression name must be a string, but found " + typeof n + ' instead. If you wanted a literal array, use ["literal", [...]].', 0), null;
                    var i = this.registry[n];
                    if (i) {
                        var o = i.parse(t, this);
                        if (!o) return null;
                        if (this.expectedType) {
                            var a = this.expectedType,
                                s = o.type;
                            if ("string" !== a.kind && "number" !== a.kind && "boolean" !== a.kind && "object" !== a.kind && "array" !== a.kind || "value" !== s.kind)
                                if ("color" !== a.kind && "formatted" !== a.kind && "resolvedImage" !== a.kind || "value" !== s.kind && "string" !== s.kind) {
                                    if (this.checkSubtype(a, s)) return null
                                } else o = r(o, a, e.typeAnnotation || "coerce");
                            else o = r(o, a, e.typeAnnotation || "assert")
                        }
                        if (!(o instanceof se) && "resolvedImage" !== o.type.kind && function t(e) {
                                if (e instanceof Fe) return t(e.boundExpression);
                                if (e instanceof ve && "error" === e.name) return !1;
                                if (e instanceof ge) return !1;
                                if (e instanceof Le) return !1;
                                var r = e instanceof de || e instanceof ce,
                                    n = !0;
                                return e.eachChild((function(e) {
                                    n = r ? n && t(e) : n && e instanceof se
                                })), !!n && Oe(e) && Be(e, ["zoom", "heatmap-density", "line-progress", "accumulated", "is-supported-script"])
                            }(o)) {
                            var u = new ye;
                            try {
                                o = new se(o.type, o.evaluate(u))
                            } catch (t) {
                                return this.error(t.message), null
                            }
                        }
                        return o
                    }
                    return this.error('Unknown expression "' + n + '". If you wanted a literal array, use ["literal", [...]].', 0)
                }
                return this.error(void 0 === t ? "'undefined' value invalid. Use null instead." : "object" == typeof t ? 'Bare objects invalid. Use ["literal", {...}] instead.' : "Expected an array, but found " + typeof t + " instead.")
            }, Ne.prototype.concat = function(t, e, r) {
                var n = "number" == typeof t ? this.path.concat(t) : this.path,
                    i = r ? this.scope.concat(r) : this.scope;
                return new Ne(this.registry, n, e || null, i, this.errors)
            }, Ne.prototype.error = function(t) {
                for (var e = [], r = arguments.length - 1; r-- > 0;) e[r] = arguments[r + 1];
                var n = "" + this.key + e.map((function(t) {
                    return "[" + t + "]"
                })).join("");
                this.errors.push(new Dt(n, t))
            }, Ne.prototype.checkSubtype = function(t, e) {
                var r = Wt(t, e);
                return r && this.error(r), r
            };
            var je = function(t, e, r) {
                this.type = t, this.input = e, this.labels = [], this.outputs = [];
                for (var n = 0, i = r; n < i.length; n += 1) {
                    var o = i[n],
                        a = o[1];
                    this.labels.push(o[0]), this.outputs.push(a)
                }
            };

            function Ve(t, e, r) {
                return t * (1 - r) + e * r
            }
            je.parse = function(t, e) {
                if (t.length - 1 < 4) return e.error("Expected at least 4 arguments, but found only " + (t.length - 1) + ".");
                if ((t.length - 1) % 2 != 0) return e.error("Expected an even number of arguments.");
                var r = e.parse(t[1], 1, Rt);
                if (!r) return null;
                var n = [],
                    i = null;
                e.expectedType && "value" !== e.expectedType.kind && (i = e.expectedType);
                for (var o = 1; o < t.length; o += 2) {
                    var a = 1 === o ? -1 / 0 : t[o],
                        s = t[o + 1],
                        u = o,
                        l = o + 1;
                    if ("number" != typeof a) return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.', u);
                    if (n.length && n[n.length - 1][0] >= a) return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.', u);
                    var c = e.parse(s, l, i);
                    if (!c) return null;
                    i = i || c.type, n.push([a, c])
                }
                return new je(i, r, n)
            }, je.prototype.evaluate = function(t) {
                var e = this.labels,
                    r = this.outputs;
                if (1 === e.length) return r[0].evaluate(t);
                var n = this.input.evaluate(t);
                if (n <= e[0]) return r[0].evaluate(t);
                var i = e.length;
                return n >= e[i - 1] ? r[i - 1].evaluate(t) : r[Ue(e, n)].evaluate(t)
            }, je.prototype.eachChild = function(t) {
                t(this.input);
                for (var e = 0, r = this.outputs; e < r.length; e += 1) t(r[e])
            }, je.prototype.outputDefined = function() {
                return this.outputs.every((function(t) {
                    return t.outputDefined()
                }))
            }, je.prototype.serialize = function() {
                for (var t = ["step", this.input.serialize()], e = 0; e < this.labels.length; e++) e > 0 && t.push(this.labels[e]), t.push(this.outputs[e].serialize());
                return t
            };
            var qe = Object.freeze({
                    __proto__: null,
                    number: Ve,
                    color: function(t, e, r) {
                        return new Yt(Ve(t.r, e.r, r), Ve(t.g, e.g, r), Ve(t.b, e.b, r), Ve(t.a, e.a, r))
                    },
                    array: function(t, e, r) {
                        return t.map((function(t, n) {
                            return Ve(t, e[n], r)
                        }))
                    }
                }),
                Ze = 6 / 29 * 3 * (6 / 29),
                $e = Math.PI / 180,
                Ge = 180 / Math.PI;

            function He(t) {
                return t > .008856451679035631 ? Math.pow(t, 1 / 3) : t / Ze + 4 / 29
            }

            function We(t) {
                return t > 6 / 29 ? t * t * t : Ze * (t - 4 / 29)
            }

            function Xe(t) {
                return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055)
            }

            function Ke(t) {
                return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4)
            }

            function Je(t) {
                var e = Ke(t.r),
                    r = Ke(t.g),
                    n = Ke(t.b),
                    i = He((.4124564 * e + .3575761 * r + .1804375 * n) / .95047),
                    o = He((.2126729 * e + .7151522 * r + .072175 * n) / 1);
                return {
                    l: 116 * o - 16,
                    a: 500 * (i - o),
                    b: 200 * (o - He((.0193339 * e + .119192 * r + .9503041 * n) / 1.08883)),
                    alpha: t.a
                }
            }

            function Ye(t) {
                var e = (t.l + 16) / 116,
                    r = isNaN(t.a) ? e : e + t.a / 500,
                    n = isNaN(t.b) ? e : e - t.b / 200;
                return e = 1 * We(e), r = .95047 * We(r), n = 1.08883 * We(n), new Yt(Xe(3.2404542 * r - 1.5371385 * e - .4985314 * n), Xe(-.969266 * r + 1.8760108 * e + .041556 * n), Xe(.0556434 * r - .2040259 * e + 1.0572252 * n), t.alpha)
            }

            function Qe(t, e, r) {
                var n = e - t;
                return t + r * (n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n)
            }
            var tr = {
                    forward: Je,
                    reverse: Ye,
                    interpolate: function(t, e, r) {
                        return {
                            l: Ve(t.l, e.l, r),
                            a: Ve(t.a, e.a, r),
                            b: Ve(t.b, e.b, r),
                            alpha: Ve(t.alpha, e.alpha, r)
                        }
                    }
                },
                er = {
                    forward: function(t) {
                        var e = Je(t),
                            r = e.l,
                            n = e.a,
                            i = e.b,
                            o = Math.atan2(i, n) * Ge;
                        return {
                            h: o < 0 ? o + 360 : o,
                            c: Math.sqrt(n * n + i * i),
                            l: r,
                            alpha: t.a
                        }
                    },
                    reverse: function(t) {
                        var e = t.h * $e,
                            r = t.c;
                        return Ye({
                            l: t.l,
                            a: Math.cos(e) * r,
                            b: Math.sin(e) * r,
                            alpha: t.alpha
                        })
                    },
                    interpolate: function(t, e, r) {
                        return {
                            h: Qe(t.h, e.h, r),
                            c: Ve(t.c, e.c, r),
                            l: Ve(t.l, e.l, r),
                            alpha: Ve(t.alpha, e.alpha, r)
                        }
                    }
                },
                rr = Object.freeze({
                    __proto__: null,
                    lab: tr,
                    hcl: er
                }),
                nr = function(t, e, r, n, i) {
                    this.type = t, this.operator = e, this.interpolation = r, this.input = n, this.labels = [], this.outputs = [];
                    for (var o = 0, a = i; o < a.length; o += 1) {
                        var s = a[o],
                            u = s[1];
                        this.labels.push(s[0]), this.outputs.push(u)
                    }
                };

            function ir(t, e, r, n) {
                var i = n - r,
                    o = t - r;
                return 0 === i ? 0 : 1 === e ? o / i : (Math.pow(e, o) - 1) / (Math.pow(e, i) - 1)
            }
            nr.interpolationFactor = function(t, e, n, i) {
                var o = 0;
                if ("exponential" === t.name) o = ir(e, t.base, n, i);
                else if ("linear" === t.name) o = ir(e, 1, n, i);
                else if ("cubic-bezier" === t.name) {
                    var a = t.controlPoints;
                    o = new r(a[0], a[1], a[2], a[3]).solve(ir(e, 1, n, i))
                }
                return o
            }, nr.parse = function(t, e) {
                var r = t[0],
                    n = t[1],
                    i = t[2],
                    o = t.slice(3);
                if (!Array.isArray(n) || 0 === n.length) return e.error("Expected an interpolation type expression.", 1);
                if ("linear" === n[0]) n = {
                    name: "linear"
                };
                else if ("exponential" === n[0]) {
                    var a = n[1];
                    if ("number" != typeof a) return e.error("Exponential interpolation requires a numeric base.", 1, 1);
                    n = {
                        name: "exponential",
                        base: a
                    }
                } else {
                    if ("cubic-bezier" !== n[0]) return e.error("Unknown interpolation type " + String(n[0]), 1, 0);
                    var s = n.slice(1);
                    if (4 !== s.length || s.some((function(t) {
                            return "number" != typeof t || t < 0 || t > 1
                        }))) return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.", 1);
                    n = {
                        name: "cubic-bezier",
                        controlPoints: s
                    }
                }
                if (t.length - 1 < 4) return e.error("Expected at least 4 arguments, but found only " + (t.length - 1) + ".");
                if ((t.length - 1) % 2 != 0) return e.error("Expected an even number of arguments.");
                if (!(i = e.parse(i, 2, Rt))) return null;
                var u = [],
                    l = null;
                "interpolate-hcl" === r || "interpolate-lab" === r ? l = Nt : e.expectedType && "value" !== e.expectedType.kind && (l = e.expectedType);
                for (var c = 0; c < o.length; c += 2) {
                    var p = o[c],
                        h = o[c + 1],
                        f = c + 3,
                        d = c + 4;
                    if ("number" != typeof p) return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.', f);
                    if (u.length && u[u.length - 1][0] >= p) return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.', f);
                    var m = e.parse(h, d, l);
                    if (!m) return null;
                    l = l || m.type, u.push([p, m])
                }
                return "number" === l.kind || "color" === l.kind || "array" === l.kind && "number" === l.itemType.kind && "number" == typeof l.N ? new nr(l, r, n, i, u) : e.error("Type " + Gt(l) + " is not interpolatable.")
            }, nr.prototype.evaluate = function(t) {
                var e = this.labels,
                    r = this.outputs;
                if (1 === e.length) return r[0].evaluate(t);
                var n = this.input.evaluate(t);
                if (n <= e[0]) return r[0].evaluate(t);
                var i = e.length;
                if (n >= e[i - 1]) return r[i - 1].evaluate(t);
                var o = Ue(e, n),
                    a = nr.interpolationFactor(this.interpolation, n, e[o], e[o + 1]),
                    s = r[o].evaluate(t),
                    u = r[o + 1].evaluate(t);
                return "interpolate" === this.operator ? qe[this.type.kind.toLowerCase()](s, u, a) : "interpolate-hcl" === this.operator ? er.reverse(er.interpolate(er.forward(s), er.forward(u), a)) : tr.reverse(tr.interpolate(tr.forward(s), tr.forward(u), a))
            }, nr.prototype.eachChild = function(t) {
                t(this.input);
                for (var e = 0, r = this.outputs; e < r.length; e += 1) t(r[e])
            }, nr.prototype.outputDefined = function() {
                return this.outputs.every((function(t) {
                    return t.outputDefined()
                }))
            }, nr.prototype.serialize = function() {
                var t;
                t = "linear" === this.interpolation.name ? ["linear"] : "exponential" === this.interpolation.name ? 1 === this.interpolation.base ? ["linear"] : ["exponential", this.interpolation.base] : ["cubic-bezier"].concat(this.interpolation.controlPoints);
                for (var e = [this.operator, t, this.input.serialize()], r = 0; r < this.labels.length; r++) e.push(this.labels[r], this.outputs[r].serialize());
                return e
            };
            var or = function(t, e) {
                this.type = t, this.args = e
            };
            or.parse = function(t, e) {
                if (t.length < 2) return e.error("Expectected at least one argument.");
                var r = null,
                    n = e.expectedType;
                n && "value" !== n.kind && (r = n);
                for (var i = [], o = 0, a = t.slice(1); o < a.length; o += 1) {
                    var s = e.parse(a[o], 1 + i.length, r, void 0, {
                        typeAnnotation: "omit"
                    });
                    if (!s) return null;
                    r = r || s.type, i.push(s)
                }
                var u = n && i.some((function(t) {
                    return Wt(n, t.type)
                }));
                return new or(u ? jt : r, i)
            }, or.prototype.evaluate = function(t) {
                for (var e, r = null, n = 0, i = 0, o = this.args; i < o.length && (n++, (r = o[i].evaluate(t)) && r instanceof re && !r.available && (e || (e = r.name), r = null, n === this.args.length && (r = e)), null === r); i += 1);
                return r
            }, or.prototype.eachChild = function(t) {
                this.args.forEach(t)
            }, or.prototype.outputDefined = function() {
                return this.args.every((function(t) {
                    return t.outputDefined()
                }))
            }, or.prototype.serialize = function() {
                var t = ["coalesce"];
                return this.eachChild((function(e) {
                    t.push(e.serialize())
                })), t
            };
            var ar = function(t, e) {
                this.type = e.type, this.bindings = [].concat(t), this.result = e
            };
            ar.prototype.evaluate = function(t) {
                return this.result.evaluate(t)
            }, ar.prototype.eachChild = function(t) {
                for (var e = 0, r = this.bindings; e < r.length; e += 1) t(r[e][1]);
                t(this.result)
            }, ar.parse = function(t, e) {
                if (t.length < 4) return e.error("Expected at least 3 arguments, but found " + (t.length - 1) + " instead.");
                for (var r = [], n = 1; n < t.length - 1; n += 2) {
                    var i = t[n];
                    if ("string" != typeof i) return e.error("Expected string, but found " + typeof i + " instead.", n);
                    if (/[^a-zA-Z0-9_]/.test(i)) return e.error("Variable names must contain only alphanumeric characters or '_'.", n);
                    var o = e.parse(t[n + 1], n + 1);
                    if (!o) return null;
                    r.push([i, o])
                }
                var a = e.parse(t[t.length - 1], t.length - 1, e.expectedType, r);
                return a ? new ar(r, a) : null
            }, ar.prototype.outputDefined = function() {
                return this.result.outputDefined()
            }, ar.prototype.serialize = function() {
                for (var t = ["let"], e = 0, r = this.bindings; e < r.length; e += 1) {
                    var n = r[e];
                    t.push(n[0], n[1].serialize())
                }
                return t.push(this.result.serialize()), t
            };
            var sr = function(t, e, r) {
                this.type = t, this.index = e, this.input = r
            };
            sr.parse = function(t, e) {
                if (3 !== t.length) return e.error("Expected 2 arguments, but found " + (t.length - 1) + " instead.");
                var r = e.parse(t[1], 1, Rt),
                    n = e.parse(t[2], 2, $t(e.expectedType || jt));
                return r && n ? new sr(n.type.itemType, r, n) : null
            }, sr.prototype.evaluate = function(t) {
                var e = this.index.evaluate(t),
                    r = this.input.evaluate(t);
                if (e < 0) throw new ue("Array index out of bounds: " + e + " < 0.");
                if (e >= r.length) throw new ue("Array index out of bounds: " + e + " > " + (r.length - 1) + ".");
                if (e !== Math.floor(e)) throw new ue("Array index must be an integer, but found " + e + " instead.");
                return r[e]
            }, sr.prototype.eachChild = function(t) {
                t(this.index), t(this.input)
            }, sr.prototype.outputDefined = function() {
                return !1
            }, sr.prototype.serialize = function() {
                return ["at", this.index.serialize(), this.input.serialize()]
            };
            var ur = function(t, e) {
                this.type = Ft, this.needle = t, this.haystack = e
            };
            ur.parse = function(t, e) {
                if (3 !== t.length) return e.error("Expected 2 arguments, but found " + (t.length - 1) + " instead.");
                var r = e.parse(t[1], 1, jt),
                    n = e.parse(t[2], 2, jt);
                return r && n ? Xt(r.type, [Ft, Bt, Rt, Ot, jt]) ? new ur(r, n) : e.error("Expected first argument to be of type boolean, string, number or null, but found " + Gt(r.type) + " instead") : null
            }, ur.prototype.evaluate = function(t) {
                var e = this.needle.evaluate(t),
                    r = this.haystack.evaluate(t);
                if (!r) return !1;
                if (!Kt(e, ["boolean", "string", "number", "null"])) throw new ue("Expected first argument to be of type boolean, string, number or null, but found " + Gt(oe(e)) + " instead.");
                if (!Kt(r, ["string", "array"])) throw new ue("Expected second argument to be of type array or string, but found " + Gt(oe(r)) + " instead.");
                return r.indexOf(e) >= 0
            }, ur.prototype.eachChild = function(t) {
                t(this.needle), t(this.haystack)
            }, ur.prototype.outputDefined = function() {
                return !0
            }, ur.prototype.serialize = function() {
                return ["in", this.needle.serialize(), this.haystack.serialize()]
            };
            var lr = function(t, e, r) {
                this.type = Rt, this.needle = t, this.haystack = e, this.fromIndex = r
            };
            lr.parse = function(t, e) {
                if (t.length <= 2 || t.length >= 5) return e.error("Expected 3 or 4 arguments, but found " + (t.length - 1) + " instead.");
                var r = e.parse(t[1], 1, jt),
                    n = e.parse(t[2], 2, jt);
                if (!r || !n) return null;
                if (!Xt(r.type, [Ft, Bt, Rt, Ot, jt])) return e.error("Expected first argument to be of type boolean, string, number or null, but found " + Gt(r.type) + " instead");
                if (4 === t.length) {
                    var i = e.parse(t[3], 3, Rt);
                    return i ? new lr(r, n, i) : null
                }
                return new lr(r, n)
            }, lr.prototype.evaluate = function(t) {
                var e = this.needle.evaluate(t),
                    r = this.haystack.evaluate(t);
                if (!Kt(e, ["boolean", "string", "number", "null"])) throw new ue("Expected first argument to be of type boolean, string, number or null, but found " + Gt(oe(e)) + " instead.");
                if (!Kt(r, ["string", "array"])) throw new ue("Expected second argument to be of type array or string, but found " + Gt(oe(r)) + " instead.");
                if (this.fromIndex) {
                    var n = this.fromIndex.evaluate(t);
                    return r.indexOf(e, n)
                }
                return r.indexOf(e)
            }, lr.prototype.eachChild = function(t) {
                t(this.needle), t(this.haystack), this.fromIndex && t(this.fromIndex)
            }, lr.prototype.outputDefined = function() {
                return !1
            }, lr.prototype.serialize = function() {
                if (null != this.fromIndex && void 0 !== this.fromIndex) {
                    var t = this.fromIndex.serialize();
                    return ["index-of", this.needle.serialize(), this.haystack.serialize(), t]
                }
                return ["index-of", this.needle.serialize(), this.haystack.serialize()]
            };
            var cr = function(t, e, r, n, i, o) {
                this.inputType = t, this.type = e, this.input = r, this.cases = n, this.outputs = i, this.otherwise = o
            };
            cr.parse = function(t, e) {
                if (t.length < 5) return e.error("Expected at least 4 arguments, but found only " + (t.length - 1) + ".");
                if (t.length % 2 != 1) return e.error("Expected an even number of arguments.");
                var r, n;
                e.expectedType && "value" !== e.expectedType.kind && (n = e.expectedType);
                for (var i = {}, o = [], a = 2; a < t.length - 1; a += 2) {
                    var s = t[a],
                        u = t[a + 1];
                    Array.isArray(s) || (s = [s]);
                    var l = e.concat(a);
                    if (0 === s.length) return l.error("Expected at least one branch label.");
                    for (var c = 0, p = s; c < p.length; c += 1) {
                        var h = p[c];
                        if ("number" != typeof h && "string" != typeof h) return l.error("Branch labels must be numbers or strings.");
                        if ("number" == typeof h && Math.abs(h) > Number.MAX_SAFE_INTEGER) return l.error("Branch labels must be integers no larger than " + Number.MAX_SAFE_INTEGER + ".");
                        if ("number" == typeof h && Math.floor(h) !== h) return l.error("Numeric branch labels must be integer values.");
                        if (r) {
                            if (l.checkSubtype(r, oe(h))) return null
                        } else r = oe(h);
                        if (void 0 !== i[String(h)]) return l.error("Branch labels must be unique.");
                        i[String(h)] = o.length
                    }
                    var f = e.parse(u, a, n);
                    if (!f) return null;
                    n = n || f.type, o.push(f)
                }
                var d = e.parse(t[1], 1, jt);
                if (!d) return null;
                var m = e.parse(t[t.length - 1], t.length - 1, n);
                return m ? "value" !== d.type.kind && e.concat(1).checkSubtype(r, d.type) ? null : new cr(r, n, d, i, o, m) : null
            }, cr.prototype.evaluate = function(t) {
                var e = this.input.evaluate(t);
                return (oe(e) === this.inputType && this.outputs[this.cases[e]] || this.otherwise).evaluate(t)
            }, cr.prototype.eachChild = function(t) {
                t(this.input), this.outputs.forEach(t), t(this.otherwise)
            }, cr.prototype.outputDefined = function() {
                return this.outputs.every((function(t) {
                    return t.outputDefined()
                })) && this.otherwise.outputDefined()
            }, cr.prototype.serialize = function() {
                for (var t = this, e = ["match", this.input.serialize()], r = [], n = {}, i = 0, o = Object.keys(this.cases).sort(); i < o.length; i += 1) {
                    var a = o[i];
                    void 0 === (p = n[this.cases[a]]) ? (n[this.cases[a]] = r.length, r.push([this.cases[a],
                        [a]
                    ])) : r[p][1].push(a)
                }
                for (var s = function(e) {
                        return "number" === t.inputType.kind ? Number(e) : e
                    }, u = 0, l = r; u < l.length; u += 1) {
                    var c = l[u],
                        p = c[0],
                        h = c[1];
                    e.push(1 === h.length ? s(h[0]) : h.map(s)), e.push(this.outputs[outputIndex$1].serialize())
                }
                return e.push(this.otherwise.serialize()), e
            };
            var pr = function(t, e, r) {
                this.type = t, this.branches = e, this.otherwise = r
            };
            pr.parse = function(t, e) {
                if (t.length < 4) return e.error("Expected at least 3 arguments, but found only " + (t.length - 1) + ".");
                if (t.length % 2 != 0) return e.error("Expected an odd number of arguments.");
                var r;
                e.expectedType && "value" !== e.expectedType.kind && (r = e.expectedType);
                for (var n = [], i = 1; i < t.length - 1; i += 2) {
                    var o = e.parse(t[i], i, Ft);
                    if (!o) return null;
                    var a = e.parse(t[i + 1], i + 1, r);
                    if (!a) return null;
                    n.push([o, a]), r = r || a.type
                }
                var s = e.parse(t[t.length - 1], t.length - 1, r);
                return s ? new pr(r, n, s) : null
            }, pr.prototype.evaluate = function(t) {
                for (var e = 0, r = this.branches; e < r.length; e += 1) {
                    var n = r[e],
                        i = n[1];
                    if (n[0].evaluate(t)) return i.evaluate(t)
                }
                return this.otherwise.evaluate(t)
            }, pr.prototype.eachChild = function(t) {
                for (var e = 0, r = this.branches; e < r.length; e += 1) {
                    var n = r[e],
                        i = n[1];
                    t(n[0]), t(i)
                }
                t(this.otherwise)
            }, pr.prototype.outputDefined = function() {
                return this.branches.every((function(t) {
                    return t[1].outputDefined()
                })) && this.otherwise.outputDefined()
            }, pr.prototype.serialize = function() {
                var t = ["case"];
                return this.eachChild((function(e) {
                    t.push(e.serialize())
                })), t
            };
            var hr = function(t, e, r, n) {
                this.type = t, this.input = e, this.beginIndex = r, this.endIndex = n
            };

            function fr(t, e) {
                return "==" === t || "!=" === t ? "boolean" === e.kind || "string" === e.kind || "number" === e.kind || "null" === e.kind || "value" === e.kind : "string" === e.kind || "number" === e.kind || "value" === e.kind
            }

            function dr(t, e, r, n) {
                return 0 === n.compare(e, r)
            }

            function mr(t, e, r) {
                var n = "==" !== t && "!=" !== t;
                return function() {
                    function i(t, e, r) {
                        this.type = Ft, this.lhs = t, this.rhs = e, this.collator = r, this.hasUntypedArgument = "value" === t.type.kind || "value" === e.type.kind
                    }
                    return i.parse = function(t, e) {
                        if (3 !== t.length && 4 !== t.length) return e.error("Expected two or three arguments.");
                        var r = t[0],
                            o = e.parse(t[1], 1, jt);
                        if (!o) return null;
                        if (!fr(r, o.type)) return e.concat(1).error('"' + r + "\" comparisons are not supported for type '" + Gt(o.type) + "'.");
                        var a = e.parse(t[2], 2, jt);
                        if (!a) return null;
                        if (!fr(r, a.type)) return e.concat(2).error('"' + r + "\" comparisons are not supported for type '" + Gt(a.type) + "'.");
                        if (o.type.kind !== a.type.kind && "value" !== o.type.kind && "value" !== a.type.kind) return e.error("Cannot compare types '" + Gt(o.type) + "' and '" + Gt(a.type) + "'.");
                        n && ("value" === o.type.kind && "value" !== a.type.kind ? o = new ce(a.type, [o]) : "value" !== o.type.kind && "value" === a.type.kind && (a = new ce(o.type, [a])));
                        var s = null;
                        if (4 === t.length) {
                            if ("string" !== o.type.kind && "string" !== a.type.kind && "value" !== o.type.kind && "value" !== a.type.kind) return e.error("Cannot use collator to compare non-string types.");
                            if (!(s = e.parse(t[3], 3, Vt))) return null
                        }
                        return new i(o, a, s)
                    }, i.prototype.evaluate = function(i) {
                        var o = this.lhs.evaluate(i),
                            a = this.rhs.evaluate(i);
                        if (n && this.hasUntypedArgument) {
                            var s = oe(o),
                                u = oe(a);
                            if (s.kind !== u.kind || "string" !== s.kind && "number" !== s.kind) throw new ue('Expected arguments for "' + t + '" to be (string, string) or (number, number), but found (' + s.kind + ", " + u.kind + ") instead.")
                        }
                        if (this.collator && !n && this.hasUntypedArgument) {
                            var l = oe(o),
                                c = oe(a);
                            if ("string" !== l.kind || "string" !== c.kind) return e(i, o, a)
                        }
                        return this.collator ? r(i, o, a, this.collator.evaluate(i)) : e(i, o, a)
                    }, i.prototype.eachChild = function(t) {
                        t(this.lhs), t(this.rhs), this.collator && t(this.collator)
                    }, i.prototype.outputDefined = function() {
                        return !0
                    }, i.prototype.serialize = function() {
                        var e = [t];
                        return this.eachChild((function(t) {
                            e.push(t.serialize())
                        })), e
                    }, i
                }()
            }
            hr.parse = function(t, e) {
                if (t.length <= 2 || t.length >= 5) return e.error("Expected 3 or 4 arguments, but found " + (t.length - 1) + " instead.");
                var r = e.parse(t[1], 1, jt),
                    n = e.parse(t[2], 2, Rt);
                if (!r || !n) return null;
                if (!Xt(r.type, [$t(jt), Bt, jt])) return e.error("Expected first argument to be of type array or string, but found " + Gt(r.type) + " instead");
                if (4 === t.length) {
                    var i = e.parse(t[3], 3, Rt);
                    return i ? new hr(r.type, r, n, i) : null
                }
                return new hr(r.type, r, n)
            }, hr.prototype.evaluate = function(t) {
                var e = this.input.evaluate(t),
                    r = this.beginIndex.evaluate(t);
                if (!Kt(e, ["string", "array"])) throw new ue("Expected first argument to be of type array or string, but found " + Gt(oe(e)) + " instead.");
                if (this.endIndex) {
                    var n = this.endIndex.evaluate(t);
                    return e.slice(r, n)
                }
                return e.slice(r)
            }, hr.prototype.eachChild = function(t) {
                t(this.input), t(this.beginIndex), this.endIndex && t(this.endIndex)
            }, hr.prototype.outputDefined = function() {
                return !1
            }, hr.prototype.serialize = function() {
                if (null != this.endIndex && void 0 !== this.endIndex) {
                    var t = this.endIndex.serialize();
                    return ["slice", this.input.serialize(), this.beginIndex.serialize(), t]
                }
                return ["slice", this.input.serialize(), this.beginIndex.serialize()]
            };
            var yr = mr("==", (function(t, e, r) {
                    return e === r
                }), dr),
                vr = mr("!=", (function(t, e, r) {
                    return e !== r
                }), (function(t, e, r, n) {
                    return !dr(0, e, r, n)
                })),
                gr = mr("<", (function(t, e, r) {
                    return e < r
                }), (function(t, e, r, n) {
                    return n.compare(e, r) < 0
                })),
                _r = mr(">", (function(t, e, r) {
                    return e > r
                }), (function(t, e, r, n) {
                    return n.compare(e, r) > 0
                })),
                xr = mr("<=", (function(t, e, r) {
                    return e <= r
                }), (function(t, e, r, n) {
                    return n.compare(e, r) <= 0
                })),
                br = mr(">=", (function(t, e, r) {
                    return e >= r
                }), (function(t, e, r, n) {
                    return n.compare(e, r) >= 0
                })),
                wr = function(t, e, r, n, i) {
                    this.type = Bt, this.number = t, this.locale = e, this.currency = r, this.minFractionDigits = n, this.maxFractionDigits = i
                };
            wr.parse = function(t, e) {
                if (3 !== t.length) return e.error("Expected two arguments.");
                var r = e.parse(t[1], 1, Rt);
                if (!r) return null;
                var n = t[2];
                if ("object" != typeof n || Array.isArray(n)) return e.error("NumberFormat options argument must be an object.");
                var i = null;
                if (n.locale && !(i = e.parse(n.locale, 1, Bt))) return null;
                var o = null;
                if (n.currency && !(o = e.parse(n.currency, 1, Bt))) return null;
                var a = null;
                if (n["min-fraction-digits"] && !(a = e.parse(n["min-fraction-digits"], 1, Rt))) return null;
                var s = null;
                return n["max-fraction-digits"] && !(s = e.parse(n["max-fraction-digits"], 1, Rt)) ? null : new wr(r, i, o, a, s)
            }, wr.prototype.evaluate = function(t) {
                return new Intl.NumberFormat(this.locale ? this.locale.evaluate(t) : [], {
                    style: this.currency ? "currency" : "decimal",
                    currency: this.currency ? this.currency.evaluate(t) : void 0,
                    minimumFractionDigits: this.minFractionDigits ? this.minFractionDigits.evaluate(t) : void 0,
                    maximumFractionDigits: this.maxFractionDigits ? this.maxFractionDigits.evaluate(t) : void 0
                }).format(this.number.evaluate(t))
            }, wr.prototype.eachChild = function(t) {
                t(this.number), this.locale && t(this.locale), this.currency && t(this.currency), this.minFractionDigits && t(this.minFractionDigits), this.maxFractionDigits && t(this.maxFractionDigits)
            }, wr.prototype.outputDefined = function() {
                return !1
            }, wr.prototype.serialize = function() {
                var t = {};
                return this.locale && (t.locale = this.locale.serialize()), this.currency && (t.currency = this.currency.serialize()), this.minFractionDigits && (t["min-fraction-digits"] = this.minFractionDigits.serialize()), this.maxFractionDigits && (t["max-fraction-digits"] = this.maxFractionDigits.serialize()), ["number-format", this.number.serialize(), t]
            };
            var Sr = function(t) {
                this.type = Rt, this.input = t
            };
            Sr.parse = function(t, e) {
                if (2 !== t.length) return e.error("Expected 1 argument, but found " + (t.length - 1) + " instead.");
                var r = e.parse(t[1], 1);
                return r ? "array" !== r.type.kind && "string" !== r.type.kind && "value" !== r.type.kind ? e.error("Expected argument of type string or array, but found " + Gt(r.type) + " instead.") : new Sr(r) : null
            }, Sr.prototype.evaluate = function(t) {
                var e = this.input.evaluate(t);
                if ("string" == typeof e) return e.length;
                if (Array.isArray(e)) return e.length;
                throw new ue("Expected value to be of type string or array, but found " + Gt(oe(e)) + " instead.")
            }, Sr.prototype.eachChild = function(t) {
                t(this.input)
            }, Sr.prototype.outputDefined = function() {
                return !1
            }, Sr.prototype.serialize = function() {
                var t = ["length"];
                return this.eachChild((function(e) {
                    t.push(e.serialize())
                })), t
            };
            var Tr = {
                "==": yr,
                "!=": vr,
                ">": _r,
                "<": gr,
                ">=": br,
                "<=": xr,
                array: ce,
                at: sr,
                boolean: ce,
                case: pr,
                coalesce: or,
                collator: ge,
                format: pe,
                image: he,
                in: ur,
                "index-of": lr,
                interpolate: nr,
                "interpolate-hcl": nr,
                "interpolate-lab": nr,
                length: Sr,
                let: ar,
                literal: se,
                match: cr,
                number: ce,
                "number-format": wr,
                object: ce,
                slice: hr,
                step: je,
                string: ce,
                "to-boolean": de,
                "to-color": de,
                "to-number": de,
                "to-string": de,
                var: Fe,
                within: Le
            };

            function Er(t, e) {
                var r = e[0],
                    n = e[1],
                    i = e[2],
                    o = e[3];
                r = r.evaluate(t), n = n.evaluate(t), i = i.evaluate(t);
                var a = o ? o.evaluate(t) : 1,
                    s = ne(r, n, i, a);
                if (s) throw new ue(s);
                return new Yt(r / 255 * a, n / 255 * a, i / 255 * a, a)
            }

            function Ar(t, e) {
                return t in e
            }

            function Cr(t, e) {
                var r = e[t];
                return void 0 === r ? null : r
            }

            function Ir(t) {
                return {
                    type: t
                }
            }

            function kr(t) {
                return {
                    result: "success",
                    value: t
                }
            }

            function Pr(t) {
                return {
                    result: "error",
                    value: t
                }
            }

            function zr(t) {
                return "data-driven" === t["property-type"] || "cross-faded-data-driven" === t["property-type"]
            }

            function Mr(t) {
                return !!t.expression && t.expression.parameters.indexOf("zoom") > -1
            }

            function Dr(t) {
                return !!t.expression && t.expression.interpolated
            }

            function Lr(t) {
                return t instanceof Number ? "number" : t instanceof String ? "string" : t instanceof Boolean ? "boolean" : Array.isArray(t) ? "array" : null === t ? "null" : typeof t
            }

            function Or(t) {
                return "object" == typeof t && null !== t && !Array.isArray(t)
            }

            function Rr(t) {
                return t
            }

            function Br(t, e, r) {
                return void 0 !== t ? t : void 0 !== e ? e : void 0 !== r ? r : void 0
            }

            function Fr(t, e, r, n, i) {
                return Br(typeof r === i ? n[r] : void 0, t.default, e.default)
            }

            function Nr(t, e, r) {
                if ("number" !== Lr(r)) return Br(t.default, e.default);
                var n = t.stops.length;
                if (1 === n) return t.stops[0][1];
                if (r <= t.stops[0][0]) return t.stops[0][1];
                if (r >= t.stops[n - 1][0]) return t.stops[n - 1][1];
                var i = Ue(t.stops.map((function(t) {
                    return t[0]
                })), r);
                return t.stops[i][1]
            }

            function Ur(t, e, r) {
                var n = void 0 !== t.base ? t.base : 1;
                if ("number" !== Lr(r)) return Br(t.default, e.default);
                var i = t.stops.length;
                if (1 === i) return t.stops[0][1];
                if (r <= t.stops[0][0]) return t.stops[0][1];
                if (r >= t.stops[i - 1][0]) return t.stops[i - 1][1];
                var o = Ue(t.stops.map((function(t) {
                        return t[0]
                    })), r),
                    a = function(t, e, r, n) {
                        var i = n - r,
                            o = t - r;
                        return 0 === i ? 0 : 1 === e ? o / i : (Math.pow(e, o) - 1) / (Math.pow(e, i) - 1)
                    }(r, n, t.stops[o][0], t.stops[o + 1][0]),
                    s = t.stops[o][1],
                    u = t.stops[o + 1][1],
                    l = qe[e.type] || Rr;
                if (t.colorSpace && "rgb" !== t.colorSpace) {
                    var c = rr[t.colorSpace];
                    l = function(t, e) {
                        return c.reverse(c.interpolate(c.forward(t), c.forward(e), a))
                    }
                }
                return "function" == typeof s.evaluate ? {
                    evaluate: function() {
                        for (var t = [], e = arguments.length; e--;) t[e] = arguments[e];
                        var r = s.evaluate.apply(void 0, t),
                            n = u.evaluate.apply(void 0, t);
                        if (void 0 !== r && void 0 !== n) return l(r, n, a)
                    }
                } : l(s, u, a)
            }

            function jr(t, e, r) {
                return "color" === e.type ? r = Yt.parse(r) : "formatted" === e.type ? r = ee.fromString(r.toString()) : "resolvedImage" === e.type ? r = re.fromString(r.toString()) : Lr(r) === e.type || "enum" === e.type && e.values[r] || (r = void 0), Br(r, t.default, e.default)
            }
            ve.register(Tr, {
                error: [{
                        kind: "error"
                    },
                    [Bt],
                    function(t, e) {
                        throw new ue(e[0].evaluate(t))
                    }
                ],
                typeof: [Bt, [jt], function(t, e) {
                    return Gt(oe(e[0].evaluate(t)))
                }],
                "to-rgba": [$t(Rt, 4), [Nt], function(t, e) {
                    return e[0].evaluate(t).toArray()
                }],
                rgb: [Nt, [Rt, Rt, Rt], Er],
                rgba: [Nt, [Rt, Rt, Rt, Rt], Er],
                has: {
                    type: Ft,
                    overloads: [
                        [
                            [Bt],
                            function(t, e) {
                                return Ar(e[0].evaluate(t), t.properties())
                            }
                        ],
                        [
                            [Bt, Ut],
                            function(t, e) {
                                var r = e[1];
                                return Ar(e[0].evaluate(t), r.evaluate(t))
                            }
                        ]
                    ]
                },
                get: {
                    type: jt,
                    overloads: [
                        [
                            [Bt],
                            function(t, e) {
                                return Cr(e[0].evaluate(t), t.properties())
                            }
                        ],
                        [
                            [Bt, Ut],
                            function(t, e) {
                                var r = e[1];
                                return Cr(e[0].evaluate(t), r.evaluate(t))
                            }
                        ]
                    ]
                },
                "feature-state": [jt, [Bt], function(t, e) {
                    return Cr(e[0].evaluate(t), t.featureState || {})
                }],
                properties: [Ut, [], function(t) {
                    return t.properties()
                }],
                "geometry-type": [Bt, [], function(t) {
                    return t.geometryType()
                }],
                id: [jt, [], function(t) {
                    return t.id()
                }],
                zoom: [Rt, [], function(t) {
                    return t.globals.zoom
                }],
                "heatmap-density": [Rt, [], function(t) {
                    return t.globals.heatmapDensity || 0
                }],
                "line-progress": [Rt, [], function(t) {
                    return t.globals.lineProgress || 0
                }],
                accumulated: [jt, [], function(t) {
                    return void 0 === t.globals.accumulated ? null : t.globals.accumulated
                }],
                "+": [Rt, Ir(Rt), function(t, e) {
                    for (var r = 0, n = 0, i = e; n < i.length; n += 1) r += i[n].evaluate(t);
                    return r
                }],
                "*": [Rt, Ir(Rt), function(t, e) {
                    for (var r = 1, n = 0, i = e; n < i.length; n += 1) r *= i[n].evaluate(t);
                    return r
                }],
                "-": {
                    type: Rt,
                    overloads: [
                        [
                            [Rt, Rt],
                            function(t, e) {
                                var r = e[1];
                                return e[0].evaluate(t) - r.evaluate(t)
                            }
                        ],
                        [
                            [Rt],
                            function(t, e) {
                                return -e[0].evaluate(t)
                            }
                        ]
                    ]
                },
                "/": [Rt, [Rt, Rt], function(t, e) {
                    var r = e[1];
                    return e[0].evaluate(t) / r.evaluate(t)
                }],
                "%": [Rt, [Rt, Rt], function(t, e) {
                    var r = e[1];
                    return e[0].evaluate(t) % r.evaluate(t)
                }],
                ln2: [Rt, [], function() {
                    return Math.LN2
                }],
                pi: [Rt, [], function() {
                    return Math.PI
                }],
                e: [Rt, [], function() {
                    return Math.E
                }],
                "^": [Rt, [Rt, Rt], function(t, e) {
                    var r = e[1];
                    return Math.pow(e[0].evaluate(t), r.evaluate(t))
                }],
                sqrt: [Rt, [Rt], function(t, e) {
                    return Math.sqrt(e[0].evaluate(t))
                }],
                log10: [Rt, [Rt], function(t, e) {
                    return Math.log(e[0].evaluate(t)) / Math.LN10
                }],
                ln: [Rt, [Rt], function(t, e) {
                    return Math.log(e[0].evaluate(t))
                }],
                log2: [Rt, [Rt], function(t, e) {
                    return Math.log(e[0].evaluate(t)) / Math.LN2
                }],
                sin: [Rt, [Rt], function(t, e) {
                    return Math.sin(e[0].evaluate(t))
                }],
                cos: [Rt, [Rt], function(t, e) {
                    return Math.cos(e[0].evaluate(t))
                }],
                tan: [Rt, [Rt], function(t, e) {
                    return Math.tan(e[0].evaluate(t))
                }],
                asin: [Rt, [Rt], function(t, e) {
                    return Math.asin(e[0].evaluate(t))
                }],
                acos: [Rt, [Rt], function(t, e) {
                    return Math.acos(e[0].evaluate(t))
                }],
                atan: [Rt, [Rt], function(t, e) {
                    return Math.atan(e[0].evaluate(t))
                }],
                min: [Rt, Ir(Rt), function(t, e) {
                    return Math.min.apply(Math, e.map((function(e) {
                        return e.evaluate(t)
                    })))
                }],
                max: [Rt, Ir(Rt), function(t, e) {
                    return Math.max.apply(Math, e.map((function(e) {
                        return e.evaluate(t)
                    })))
                }],
                abs: [Rt, [Rt], function(t, e) {
                    return Math.abs(e[0].evaluate(t))
                }],
                round: [Rt, [Rt], function(t, e) {
                    var r = e[0].evaluate(t);
                    return r < 0 ? -Math.round(-r) : Math.round(r)
                }],
                floor: [Rt, [Rt], function(t, e) {
                    return Math.floor(e[0].evaluate(t))
                }],
                ceil: [Rt, [Rt], function(t, e) {
                    return Math.ceil(e[0].evaluate(t))
                }],
                "filter-==": [Ft, [Bt, jt], function(t, e) {
                    var r = e[0],
                        n = e[1];
                    return t.properties()[r.value] === n.value
                }],
                "filter-id-==": [Ft, [jt], function(t, e) {
                    var r = e[0];
                    return t.id() === r.value
                }],
                "filter-type-==": [Ft, [Bt], function(t, e) {
                    var r = e[0];
                    return t.geometryType() === r.value
                }],
                "filter-<": [Ft, [Bt, jt], function(t, e) {
                    var r = e[0],
                        n = e[1],
                        i = t.properties()[r.value],
                        o = n.value;
                    return typeof i == typeof o && i < o
                }],
                "filter-id-<": [Ft, [jt], function(t, e) {
                    var r = e[0],
                        n = t.id(),
                        i = r.value;
                    return typeof n == typeof i && n < i
                }],
                "filter->": [Ft, [Bt, jt], function(t, e) {
                    var r = e[0],
                        n = e[1],
                        i = t.properties()[r.value],
                        o = n.value;
                    return typeof i == typeof o && i > o
                }],
                "filter-id->": [Ft, [jt], function(t, e) {
                    var r = e[0],
                        n = t.id(),
                        i = r.value;
                    return typeof n == typeof i && n > i
                }],
                "filter-<=": [Ft, [Bt, jt], function(t, e) {
                    var r = e[0],
                        n = e[1],
                        i = t.properties()[r.value],
                        o = n.value;
                    return typeof i == typeof o && i <= o
                }],
                "filter-id-<=": [Ft, [jt], function(t, e) {
                    var r = e[0],
                        n = t.id(),
                        i = r.value;
                    return typeof n == typeof i && n <= i
                }],
                "filter->=": [Ft, [Bt, jt], function(t, e) {
                    var r = e[0],
                        n = e[1],
                        i = t.properties()[r.value],
                        o = n.value;
                    return typeof i == typeof o && i >= o
                }],
                "filter-id->=": [Ft, [jt], function(t, e) {
                    var r = e[0],
                        n = t.id(),
                        i = r.value;
                    return typeof n == typeof i && n >= i
                }],
                "filter-has": [Ft, [jt], function(t, e) {
                    return e[0].value in t.properties()
                }],
                "filter-has-id": [Ft, [], function(t) {
                    return null !== t.id() && void 0 !== t.id()
                }],
                "filter-type-in": [Ft, [$t(Bt)], function(t, e) {
                    return e[0].value.indexOf(t.geometryType()) >= 0
                }],
                "filter-id-in": [Ft, [$t(jt)], function(t, e) {
                    return e[0].value.indexOf(t.id()) >= 0
                }],
                "filter-in-small": [Ft, [Bt, $t(jt)], function(t, e) {
                    var r = e[0];
                    return e[1].value.indexOf(t.properties()[r.value]) >= 0
                }],
                "filter-in-large": [Ft, [Bt, $t(jt)], function(t, e) {
                    var r = e[0],
                        n = e[1];
                    return function(t, e, r, n) {
                        for (; r <= n;) {
                            var i = r + n >> 1;
                            if (e[i] === t) return !0;
                            e[i] > t ? n = i - 1 : r = i + 1
                        }
                        return !1
                    }(t.properties()[r.value], n.value, 0, n.value.length - 1)
                }],
                all: {
                    type: Ft,
                    overloads: [
                        [
                            [Ft, Ft],
                            function(t, e) {
                                var r = e[1];
                                return e[0].evaluate(t) && r.evaluate(t)
                            }
                        ],
                        [Ir(Ft), function(t, e) {
                            for (var r = 0, n = e; r < n.length; r += 1)
                                if (!n[r].evaluate(t)) return !1;
                            return !0
                        }]
                    ]
                },
                any: {
                    type: Ft,
                    overloads: [
                        [
                            [Ft, Ft],
                            function(t, e) {
                                var r = e[1];
                                return e[0].evaluate(t) || r.evaluate(t)
                            }
                        ],
                        [Ir(Ft), function(t, e) {
                            for (var r = 0, n = e; r < n.length; r += 1)
                                if (n[r].evaluate(t)) return !0;
                            return !1
                        }]
                    ]
                },
                "!": [Ft, [Ft], function(t, e) {
                    return !e[0].evaluate(t)
                }],
                "is-supported-script": [Ft, [Bt], function(t, e) {
                    var r = t.globals && t.globals.isSupportedScript;
                    return !r || r(e[0].evaluate(t))
                }],
                upcase: [Bt, [Bt], function(t, e) {
                    return e[0].evaluate(t).toUpperCase()
                }],
                downcase: [Bt, [Bt], function(t, e) {
                    return e[0].evaluate(t).toLowerCase()
                }],
                concat: [Bt, Ir(jt), function(t, e) {
                    return e.map((function(e) {
                        return ae(e.evaluate(t))
                    })).join("")
                }],
                "resolved-locale": [Bt, [Vt], function(t, e) {
                    return e[0].evaluate(t).resolvedLocale()
                }]
            });
            var Vr = function(t, e) {
                this.expression = t, this._warningHistory = {}, this._evaluator = new ye, this._defaultValue = e ? function(t) {
                    return "color" === t.type && Or(t.default) ? new Yt(0, 0, 0, 0) : "color" === t.type ? Yt.parse(t.default) || null : void 0 === t.default ? null : t.default
                }(e) : null, this._enumValues = e && "enum" === e.type ? e.values : null
            };

            function qr(t) {
                return Array.isArray(t) && t.length > 0 && "string" == typeof t[0] && t[0] in Tr
            }

            function Zr(t, e) {
                var r = new Ne(Tr, [], e ? function(t) {
                        var e = {
                            color: Nt,
                            string: Bt,
                            number: Rt,
                            enum: Bt,
                            boolean: Ft,
                            formatted: qt,
                            resolvedImage: Zt
                        };
                        return "array" === t.type ? $t(e[t.value] || jt, t.length) : e[t.type]
                    }(e) : void 0),
                    n = r.parse(t, void 0, void 0, void 0, e && "string" === e.type ? {
                        typeAnnotation: "coerce"
                    } : void 0);
                return n ? kr(new Vr(n, e)) : Pr(r.errors)
            }
            Vr.prototype.evaluateWithoutErrorHandling = function(t, e, r, n, i, o) {
                return this._evaluator.globals = t, this._evaluator.feature = e, this._evaluator.featureState = r, this._evaluator.canonical = n, this._evaluator.availableImages = i || null, this._evaluator.formattedSection = o, this.expression.evaluate(this._evaluator)
            }, Vr.prototype.evaluate = function(t, e, r, n, i, o) {
                this._evaluator.globals = t, this._evaluator.feature = e || null, this._evaluator.featureState = r || null, this._evaluator.canonical = n, this._evaluator.availableImages = i || null, this._evaluator.formattedSection = o || null;
                try {
                    var a = this.expression.evaluate(this._evaluator);
                    if (null == a || "number" == typeof a && a != a) return this._defaultValue;
                    if (this._enumValues && !(a in this._enumValues)) throw new ue("Expected value to be one of " + Object.keys(this._enumValues).map((function(t) {
                        return JSON.stringify(t)
                    })).join(", ") + ", but found " + JSON.stringify(a) + " instead.");
                    return a
                } catch (t) {
                    return this._warningHistory[t.message] || (this._warningHistory[t.message] = !0, "undefined" != typeof console && console.warn(t.message)), this._defaultValue
                }
            };
            var $r = function(t, e) {
                this.kind = t, this._styleExpression = e, this.isStateDependent = "constant" !== t && !Re(e.expression)
            };
            $r.prototype.evaluateWithoutErrorHandling = function(t, e, r, n, i, o) {
                return this._styleExpression.evaluateWithoutErrorHandling(t, e, r, n, i, o)
            }, $r.prototype.evaluate = function(t, e, r, n, i, o) {
                return this._styleExpression.evaluate(t, e, r, n, i, o)
            };
            var Gr = function(t, e, r, n) {
                this.kind = t, this.zoomStops = r, this._styleExpression = e, this.isStateDependent = "camera" !== t && !Re(e.expression), this.interpolationType = n
            };

            function Hr(t, e) {
                if ("error" === (t = Zr(t, e)).result) return t;
                var r = t.value.expression,
                    n = Oe(r);
                if (!n && !zr(e)) return Pr([new Dt("", "data expressions not supported")]);
                var i = Be(r, ["zoom"]);
                if (!i && !Mr(e)) return Pr([new Dt("", "zoom expressions not supported")]);
                var o = function t(e) {
                    var r = null;
                    if (e instanceof ar) r = t(e.result);
                    else if (e instanceof or)
                        for (var n = 0, i = e.args; n < i.length && !(r = t(i[n])); n += 1);
                    else(e instanceof je || e instanceof nr) && e.input instanceof ve && "zoom" === e.input.name && (r = e);
                    return r instanceof Dt || e.eachChild((function(e) {
                        var n = t(e);
                        n instanceof Dt ? r = n : !r && n ? r = new Dt("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.') : r && n && r !== n && (r = new Dt("", 'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))
                    })), r
                }(r);
                return o || i ? o instanceof Dt ? Pr([o]) : o instanceof nr && !Dr(e) ? Pr([new Dt("", '"interpolate" expressions cannot be used with this property')]) : kr(o ? new Gr(n ? "camera" : "composite", t.value, o.labels, o instanceof nr ? o.interpolation : void 0) : new $r(n ? "constant" : "source", t.value)) : Pr([new Dt("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])
            }
            Gr.prototype.evaluateWithoutErrorHandling = function(t, e, r, n, i, o) {
                return this._styleExpression.evaluateWithoutErrorHandling(t, e, r, n, i, o)
            }, Gr.prototype.evaluate = function(t, e, r, n, i, o) {
                return this._styleExpression.evaluate(t, e, r, n, i, o)
            }, Gr.prototype.interpolationFactor = function(t, e, r) {
                return this.interpolationType ? nr.interpolationFactor(this.interpolationType, t, e, r) : 0
            };
            var Wr = function(t, e) {
                this._parameters = t, this._specification = e, Pt(this, function t(e, r) {
                    var n, i, o, a = "color" === r.type,
                        s = e.stops && "object" == typeof e.stops[0][0],
                        u = s || !(s || void 0 !== e.property),
                        l = e.type || (Dr(r) ? "exponential" : "interval");
                    if (a && ((e = Pt({}, e)).stops && (e.stops = e.stops.map((function(t) {
                            return [t[0], Yt.parse(t[1])]
                        }))), e.default = Yt.parse(e.default ? e.default : r.default)), e.colorSpace && "rgb" !== e.colorSpace && !rr[e.colorSpace]) throw new Error("Unknown color space: " + e.colorSpace);
                    if ("exponential" === l) n = Ur;
                    else if ("interval" === l) n = Nr;
                    else if ("categorical" === l) {
                        n = Fr, i = Object.create(null);
                        for (var c = 0, p = e.stops; c < p.length; c += 1) {
                            var h = p[c];
                            i[h[0]] = h[1]
                        }
                        o = typeof e.stops[0][0]
                    } else {
                        if ("identity" !== l) throw new Error('Unknown function type "' + l + '"');
                        n = jr
                    }
                    if (s) {
                        for (var f = {}, d = [], m = 0; m < e.stops.length; m++) {
                            var y = e.stops[m],
                                v = y[0].zoom;
                            void 0 === f[v] && (f[v] = {
                                zoom: v,
                                type: e.type,
                                property: e.property,
                                default: e.default,
                                stops: []
                            }, d.push(v)), f[v].stops.push([y[0].value, y[1]])
                        }
                        for (var g = [], _ = 0, x = d; _ < x.length; _ += 1) {
                            var b = x[_];
                            g.push([f[b].zoom, t(f[b], r)])
                        }
                        var w = {
                            name: "linear"
                        };
                        return {
                            kind: "composite",
                            interpolationType: w,
                            interpolationFactor: nr.interpolationFactor.bind(void 0, w),
                            zoomStops: g.map((function(t) {
                                return t[0]
                            })),
                            evaluate: function(t, n) {
                                var i = t.zoom;
                                return Ur({
                                    stops: g,
                                    base: e.base
                                }, r, i).evaluate(i, n)
                            }
                        }
                    }
                    if (u) {
                        var S = "exponential" === l ? {
                            name: "exponential",
                            base: void 0 !== e.base ? e.base : 1
                        } : null;
                        return {
                            kind: "camera",
                            interpolationType: S,
                            interpolationFactor: nr.interpolationFactor.bind(void 0, S),
                            zoomStops: e.stops.map((function(t) {
                                return t[0]
                            })),
                            evaluate: function(t) {
                                return n(e, r, t.zoom, i, o)
                            }
                        }
                    }
                    return {
                        kind: "source",
                        evaluate: function(t, a) {
                            var s = a && a.properties ? a.properties[e.property] : void 0;
                            return void 0 === s ? Br(e.default, r.default) : n(e, r, s, i, o)
                        }
                    }
                }(this._parameters, this._specification))
            };

            function Xr(t) {
                var e = t.key,
                    r = t.value,
                    n = t.valueSpec || {},
                    i = t.objectElementValidators || {},
                    o = t.style,
                    a = t.styleSpec,
                    s = [],
                    u = Lr(r);
                if ("object" !== u) return [new It(e, r, "object expected, " + u + " found")];
                for (var l in r) {
                    var c = l.split(".")[0],
                        p = n[c] || n["*"],
                        h = void 0;
                    if (i[c]) h = i[c];
                    else if (n[c]) h = bn;
                    else if (i["*"]) h = i["*"];
                    else {
                        if (!n["*"]) {
                            s.push(new It(e, r[l], 'unknown property "' + l + '"'));
                            continue
                        }
                        h = bn
                    }
                    s = s.concat(h({
                        key: (e ? e + "." : e) + l,
                        value: r[l],
                        valueSpec: p,
                        style: o,
                        styleSpec: a,
                        object: r,
                        objectKey: l
                    }, r))
                }
                for (var f in n) i[f] || n[f].required && void 0 === n[f].default && void 0 === r[f] && s.push(new It(e, r, 'missing required property "' + f + '"'));
                return s
            }

            function Kr(t) {
                var e = t.value,
                    r = t.valueSpec,
                    n = t.style,
                    i = t.styleSpec,
                    o = t.key,
                    a = t.arrayElementValidator || bn;
                if ("array" !== Lr(e)) return [new It(o, e, "array expected, " + Lr(e) + " found")];
                if (r.length && e.length !== r.length) return [new It(o, e, "array length " + r.length + " expected, length " + e.length + " found")];
                if (r["min-length"] && e.length < r["min-length"]) return [new It(o, e, "array length at least " + r["min-length"] + " expected, length " + e.length + " found")];
                var s = {
                    type: r.value,
                    values: r.values
                };
                i.$version < 7 && (s.function = r.function), "object" === Lr(r.value) && (s = r.value);
                for (var u = [], l = 0; l < e.length; l++) u = u.concat(a({
                    array: e,
                    arrayIndex: l,
                    value: e[l],
                    valueSpec: s,
                    style: n,
                    styleSpec: i,
                    key: o + "[" + l + "]"
                }));
                return u
            }

            function Jr(t) {
                var e = t.key,
                    r = t.value,
                    n = t.valueSpec,
                    i = Lr(r);
                return "number" === i && r != r && (i = "NaN"), "number" !== i ? [new It(e, r, "number expected, " + i + " found")] : "minimum" in n && r < n.minimum ? [new It(e, r, r + " is less than the minimum value " + n.minimum)] : "maximum" in n && r > n.maximum ? [new It(e, r, r + " is greater than the maximum value " + n.maximum)] : []
            }

            function Yr(t) {
                var e, r, n, i = t.valueSpec,
                    o = zt(t.value.type),
                    a = {},
                    s = "categorical" !== o && void 0 === t.value.property,
                    u = !s,
                    l = "array" === Lr(t.value.stops) && "array" === Lr(t.value.stops[0]) && "object" === Lr(t.value.stops[0][0]),
                    c = Xr({
                        key: t.key,
                        value: t.value,
                        valueSpec: t.styleSpec.function,
                        style: t.style,
                        styleSpec: t.styleSpec,
                        objectElementValidators: {
                            stops: function(t) {
                                if ("identity" === o) return [new It(t.key, t.value, 'identity function may not have a "stops" property')];
                                var e = [],
                                    r = t.value;
                                return e = e.concat(Kr({
                                    key: t.key,
                                    value: r,
                                    valueSpec: t.valueSpec,
                                    style: t.style,
                                    styleSpec: t.styleSpec,
                                    arrayElementValidator: p
                                })), "array" === Lr(r) && 0 === r.length && e.push(new It(t.key, r, "array must have at least one stop")), e
                            },
                            default: function(t) {
                                return bn({
                                    key: t.key,
                                    value: t.value,
                                    valueSpec: i,
                                    style: t.style,
                                    styleSpec: t.styleSpec
                                })
                            }
                        }
                    });
                return "identity" === o && s && c.push(new It(t.key, t.value, 'missing required property "property"')), "identity" === o || t.value.stops || c.push(new It(t.key, t.value, 'missing required property "stops"')), "exponential" === o && t.valueSpec.expression && !Dr(t.valueSpec) && c.push(new It(t.key, t.value, "exponential functions not supported")), t.styleSpec.$version >= 8 && (u && !zr(t.valueSpec) ? c.push(new It(t.key, t.value, "property functions not supported")) : s && !Mr(t.valueSpec) && c.push(new It(t.key, t.value, "zoom functions not supported"))), "categorical" !== o && !l || void 0 !== t.value.property || c.push(new It(t.key, t.value, '"property" property is required')), c;

                function p(t) {
                    var e = [],
                        o = t.value,
                        s = t.key;
                    if ("array" !== Lr(o)) return [new It(s, o, "array expected, " + Lr(o) + " found")];
                    if (2 !== o.length) return [new It(s, o, "array length 2 expected, length " + o.length + " found")];
                    if (l) {
                        if ("object" !== Lr(o[0])) return [new It(s, o, "object expected, " + Lr(o[0]) + " found")];
                        if (void 0 === o[0].zoom) return [new It(s, o, "object stop key must have zoom")];
                        if (void 0 === o[0].value) return [new It(s, o, "object stop key must have value")];
                        if (n && n > zt(o[0].zoom)) return [new It(s, o[0].zoom, "stop zoom values must appear in ascending order")];
                        zt(o[0].zoom) !== n && (n = zt(o[0].zoom), r = void 0, a = {}), e = e.concat(Xr({
                            key: s + "[0]",
                            value: o[0],
                            valueSpec: {
                                zoom: {}
                            },
                            style: t.style,
                            styleSpec: t.styleSpec,
                            objectElementValidators: {
                                zoom: Jr,
                                value: h
                            }
                        }))
                    } else e = e.concat(h({
                        key: s + "[0]",
                        value: o[0],
                        valueSpec: {},
                        style: t.style,
                        styleSpec: t.styleSpec
                    }, o));
                    return qr(Mt(o[1])) ? e.concat([new It(s + "[1]", o[1], "expressions are not allowed in function stops.")]) : e.concat(bn({
                        key: s + "[1]",
                        value: o[1],
                        valueSpec: i,
                        style: t.style,
                        styleSpec: t.styleSpec
                    }))
                }

                function h(t, n) {
                    var s = Lr(t.value),
                        u = zt(t.value),
                        l = null !== t.value ? t.value : n;
                    if (e) {
                        if (s !== e) return [new It(t.key, l, s + " stop domain type must match previous stop domain type " + e)]
                    } else e = s;
                    if ("number" !== s && "string" !== s && "boolean" !== s) return [new It(t.key, l, "stop domain value must be a number, string, or boolean")];
                    if ("number" !== s && "categorical" !== o) {
                        var c = "number expected, " + s + " found";
                        return zr(i) && void 0 === o && (c += '\nIf you intended to use a categorical function, specify `"type": "categorical"`.'), [new It(t.key, l, c)]
                    }
                    return "categorical" !== o || "number" !== s || isFinite(u) && Math.floor(u) === u ? "categorical" !== o && "number" === s && void 0 !== r && u < r ? [new It(t.key, l, "stop domain values must appear in ascending order")] : (r = u, "categorical" === o && u in a ? [new It(t.key, l, "stop domain values must be unique")] : (a[u] = !0, [])) : [new It(t.key, l, "integer expected, found " + u)]
                }
            }

            function Qr(t) {
                var e = ("property" === t.expressionContext ? Hr : Zr)(Mt(t.value), t.valueSpec);
                if ("error" === e.result) return e.value.map((function(e) {
                    return new It("" + t.key + e.key, t.value, e.message)
                }));
                var r = e.value.expression || e.value._styleExpression.expression;
                if ("property" === t.expressionContext && "text-font" === t.propertyKey && !r.outputDefined()) return [new It(t.key, t.value, 'Invalid data expression for "' + t.propertyKey + '". Output values must be contained as literals within the expression.')];
                if ("property" === t.expressionContext && "layout" === t.propertyType && !Re(r)) return [new It(t.key, t.value, '"feature-state" data expressions are not supported with layout properties.')];
                if ("filter" === t.expressionContext && !Re(r)) return [new It(t.key, t.value, '"feature-state" data expressions are not supported with filters.')];
                if (t.expressionContext && 0 === t.expressionContext.indexOf("cluster")) {
                    if (!Be(r, ["zoom", "feature-state"])) return [new It(t.key, t.value, '"zoom" and "feature-state" expressions are not supported with cluster properties.')];
                    if ("cluster-initial" === t.expressionContext && !Oe(r)) return [new It(t.key, t.value, "Feature data expressions are not supported with initial expression part of cluster properties.")]
                }
                return []
            }

            function tn(t) {
                var e = t.key,
                    r = t.value,
                    n = t.valueSpec,
                    i = [];
                return Array.isArray(n.values) ? -1 === n.values.indexOf(zt(r)) && i.push(new It(e, r, "expected one of [" + n.values.join(", ") + "], " + JSON.stringify(r) + " found")) : -1 === Object.keys(n.values).indexOf(zt(r)) && i.push(new It(e, r, "expected one of [" + Object.keys(n.values).join(", ") + "], " + JSON.stringify(r) + " found")), i
            }

            function en(t) {
                if (!0 === t || !1 === t) return !0;
                if (!Array.isArray(t) || 0 === t.length) return !1;
                switch (t[0]) {
                    case "has":
                        return t.length >= 2 && "$id" !== t[1] && "$type" !== t[1];
                    case "in":
                        return t.length >= 3 && ("string" != typeof t[1] || Array.isArray(t[2]));
                    case "!in":
                    case "!has":
                    case "none":
                        return !1;
                    case "==":
                    case "!=":
                    case ">":
                    case ">=":
                    case "<":
                    case "<=":
                        return 3 !== t.length || Array.isArray(t[1]) || Array.isArray(t[2]);
                    case "any":
                    case "all":
                        for (var e = 0, r = t.slice(1); e < r.length; e += 1) {
                            var n = r[e];
                            if (!en(n) && "boolean" != typeof n) return !1
                        }
                        return !0;
                    default:
                        return !0
                }
            }
            Wr.deserialize = function(t) {
                return new Wr(t._parameters, t._specification)
            }, Wr.serialize = function(t) {
                return {
                    _parameters: t._parameters,
                    _specification: t._specification
                }
            };
            var rn = {
                type: "boolean",
                default: !1,
                transition: !1,
                "property-type": "data-driven",
                expression: {
                    interpolated: !1,
                    parameters: ["zoom", "feature"]
                }
            };

            function nn(t) {
                if (null == t) return {
                    filter: function() {
                        return !0
                    },
                    needGeometry: !1
                };
                en(t) || (t = an(t));
                var e = Zr(t, rn);
                if ("error" === e.result) throw new Error(e.value.map((function(t) {
                    return t.key + ": " + t.message
                })).join(", "));
                return {
                    filter: function(t, r, n) {
                        return e.value.evaluate(t, r, {}, n)
                    },
                    needGeometry: function t(e) {
                        if (!Array.isArray(e)) return !1;
                        if ("within" === e[0]) return !0;
                        for (var r = 1; r < e.length; r++)
                            if (t(e[r])) return !0;
                        return !1
                    }(t)
                }
            }

            function on(t, e) {
                return t < e ? -1 : t > e ? 1 : 0
            }

            function an(t) {
                if (!t) return !0;
                var e, r = t[0];
                return t.length <= 1 ? "any" !== r : "==" === r ? sn(t[1], t[2], "==") : "!=" === r ? cn(sn(t[1], t[2], "==")) : "<" === r || ">" === r || "<=" === r || ">=" === r ? sn(t[1], t[2], r) : "any" === r ? (e = t.slice(1), ["any"].concat(e.map(an))) : "all" === r ? ["all"].concat(t.slice(1).map(an)) : "none" === r ? ["all"].concat(t.slice(1).map(an).map(cn)) : "in" === r ? un(t[1], t.slice(2)) : "!in" === r ? cn(un(t[1], t.slice(2))) : "has" === r ? ln(t[1]) : "!has" === r ? cn(ln(t[1])) : "within" !== r || t
            }

            function sn(t, e, r) {
                switch (t) {
                    case "$type":
                        return ["filter-type-" + r, e];
                    case "$id":
                        return ["filter-id-" + r, e];
                    default:
                        return ["filter-" + r, t, e]
                }
            }

            function un(t, e) {
                if (0 === e.length) return !1;
                switch (t) {
                    case "$type":
                        return ["filter-type-in", ["literal", e]];
                    case "$id":
                        return ["filter-id-in", ["literal", e]];
                    default:
                        return e.length > 200 && !e.some((function(t) {
                            return typeof t != typeof e[0]
                        })) ? ["filter-in-large", t, ["literal", e.sort(on)]] : ["filter-in-small", t, ["literal", e]]
                }
            }

            function ln(t) {
                switch (t) {
                    case "$type":
                        return !0;
                    case "$id":
                        return ["filter-has-id"];
                    default:
                        return ["filter-has", t]
                }
            }

            function cn(t) {
                return ["!", t]
            }

            function pn(t) {
                return en(Mt(t.value)) ? Qr(Pt({}, t, {
                    expressionContext: "filter",
                    valueSpec: {
                        value: "boolean"
                    }
                })) : function t(e) {
                    var r = e.value,
                        n = e.key;
                    if ("array" !== Lr(r)) return [new It(n, r, "array expected, " + Lr(r) + " found")];
                    var i, o = e.styleSpec,
                        a = [];
                    if (r.length < 1) return [new It(n, r, "filter array must have at least 1 element")];
                    switch (a = a.concat(tn({
                        key: n + "[0]",
                        value: r[0],
                        valueSpec: o.filter_operator,
                        style: e.style,
                        styleSpec: e.styleSpec
                    })), zt(r[0])) {
                        case "<":
                        case "<=":
                        case ">":
                        case ">=":
                            r.length >= 2 && "$type" === zt(r[1]) && a.push(new It(n, r, '"$type" cannot be use with operator "' + r[0] + '"'));
                        case "==":
                        case "!=":
                            3 !== r.length && a.push(new It(n, r, 'filter array for operator "' + r[0] + '" must have 3 elements'));
                        case "in":
                        case "!in":
                            r.length >= 2 && "string" !== (i = Lr(r[1])) && a.push(new It(n + "[1]", r[1], "string expected, " + i + " found"));
                            for (var s = 2; s < r.length; s++) i = Lr(r[s]), "$type" === zt(r[1]) ? a = a.concat(tn({
                                key: n + "[" + s + "]",
                                value: r[s],
                                valueSpec: o.geometry_type,
                                style: e.style,
                                styleSpec: e.styleSpec
                            })) : "string" !== i && "number" !== i && "boolean" !== i && a.push(new It(n + "[" + s + "]", r[s], "string, number, or boolean expected, " + i + " found"));
                            break;
                        case "any":
                        case "all":
                        case "none":
                            for (var u = 1; u < r.length; u++) a = a.concat(t({
                                key: n + "[" + u + "]",
                                value: r[u],
                                style: e.style,
                                styleSpec: e.styleSpec
                            }));
                            break;
                        case "has":
                        case "!has":
                            i = Lr(r[1]), 2 !== r.length ? a.push(new It(n, r, 'filter array for "' + r[0] + '" operator must have 2 elements')) : "string" !== i && a.push(new It(n + "[1]", r[1], "string expected, " + i + " found"));
                            break;
                        case "within":
                            i = Lr(r[1]), 2 !== r.length ? a.push(new It(n, r, 'filter array for "' + r[0] + '" operator must have 2 elements')) : "object" !== i && a.push(new It(n + "[1]", r[1], "object expected, " + i + " found"))
                    }
                    return a
                }(t)
            }

            function hn(t, e) {
                var r = t.key,
                    n = t.style,
                    i = t.styleSpec,
                    o = t.value,
                    a = t.objectKey,
                    s = i[e + "_" + t.layerType];
                if (!s) return [];
                var u = a.match(/^(.*)-transition$/);
                if ("paint" === e && u && s[u[1]] && s[u[1]].transition) return bn({
                    key: r,
                    value: o,
                    valueSpec: i.transition,
                    style: n,
                    styleSpec: i
                });
                var l, c = t.valueSpec || s[a];
                if (!c) return [new It(r, o, 'unknown property "' + a + '"')];
                if ("string" === Lr(o) && zr(c) && !c.tokens && (l = /^{([^}]+)}$/.exec(o))) return [new It(r, o, '"' + a + '" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ' + JSON.stringify(l[1]) + " }`.")];
                var p = [];
                return "symbol" === t.layerType && ("text-field" === a && n && !n.glyphs && p.push(new It(r, o, 'use of "text-field" requires a style "glyphs" property')), "text-font" === a && Or(Mt(o)) && "identity" === zt(o.type) && p.push(new It(r, o, '"text-font" does not support identity functions'))), p.concat(bn({
                    key: t.key,
                    value: o,
                    valueSpec: c,
                    style: n,
                    styleSpec: i,
                    expressionContext: "property",
                    propertyType: e,
                    propertyKey: a
                }))
            }

            function fn(t) {
                return hn(t, "paint")
            }

            function dn(t) {
                return hn(t, "layout")
            }

            function mn(t) {
                var e = [],
                    r = t.value,
                    n = t.key,
                    i = t.style,
                    o = t.styleSpec;
                r.type || r.ref || e.push(new It(n, r, 'either "type" or "ref" is required'));
                var a, s = zt(r.type),
                    u = zt(r.ref);
                if (r.id)
                    for (var l = zt(r.id), c = 0; c < t.arrayIndex; c++) {
                        var p = i.layers[c];
                        zt(p.id) === l && e.push(new It(n, r.id, 'duplicate layer id "' + r.id + '", previously used at line ' + p.id.__line__))
                    }
                if ("ref" in r)["type", "source", "source-layer", "filter", "layout"].forEach((function(t) {
                    t in r && e.push(new It(n, r[t], '"' + t + '" is prohibited for ref layers'))
                })), i.layers.forEach((function(t) {
                    zt(t.id) === u && (a = t)
                })), a ? a.ref ? e.push(new It(n, r.ref, "ref cannot reference another ref layer")) : s = zt(a.type) : e.push(new It(n, r.ref, 'ref layer "' + u + '" not found'));
                else if ("background" !== s)
                    if (r.source) {
                        var h = i.sources && i.sources[r.source],
                            f = h && zt(h.type);
                        h ? "vector" === f && "raster" === s ? e.push(new It(n, r.source, 'layer "' + r.id + '" requires a raster source')) : "raster" === f && "raster" !== s ? e.push(new It(n, r.source, 'layer "' + r.id + '" requires a vector source')) : "vector" !== f || r["source-layer"] ? "raster-dem" === f && "hillshade" !== s ? e.push(new It(n, r.source, "raster-dem source can only be used with layer type 'hillshade'.")) : "line" !== s || !r.paint || !r.paint["line-gradient"] || "geojson" === f && h.lineMetrics || e.push(new It(n, r, 'layer "' + r.id + '" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')) : e.push(new It(n, r, 'layer "' + r.id + '" must specify a "source-layer"')) : e.push(new It(n, r.source, 'source "' + r.source + '" not found'))
                    } else e.push(new It(n, r, 'missing required property "source"'));
                return e = e.concat(Xr({
                    key: n,
                    value: r,
                    valueSpec: o.layer,
                    style: t.style,
                    styleSpec: t.styleSpec,
                    objectElementValidators: {
                        "*": function() {
                            return []
                        },
                        type: function() {
                            return bn({
                                key: n + ".type",
                                value: r.type,
                                valueSpec: o.layer.type,
                                style: t.style,
                                styleSpec: t.styleSpec,
                                object: r,
                                objectKey: "type"
                            })
                        },
                        filter: pn,
                        layout: function(t) {
                            return Xr({
                                layer: r,
                                key: t.key,
                                value: t.value,
                                style: t.style,
                                styleSpec: t.styleSpec,
                                objectElementValidators: {
                                    "*": function(t) {
                                        return dn(Pt({
                                            layerType: s
                                        }, t))
                                    }
                                }
                            })
                        },
                        paint: function(t) {
                            return Xr({
                                layer: r,
                                key: t.key,
                                value: t.value,
                                style: t.style,
                                styleSpec: t.styleSpec,
                                objectElementValidators: {
                                    "*": function(t) {
                                        return fn(Pt({
                                            layerType: s
                                        }, t))
                                    }
                                }
                            })
                        }
                    }
                }))
            }

            function yn(t) {
                var e = t.value,
                    r = t.key,
                    n = Lr(e);
                return "string" !== n ? [new It(r, e, "string expected, " + n + " found")] : []
            }
            var vn = {
                promoteId: function(t) {
                    var e = t.key,
                        r = t.value;
                    if ("string" === Lr(r)) return yn({
                        key: e,
                        value: r
                    });
                    var n = [];
                    for (var i in r) n.push.apply(n, yn({
                        key: e + "." + i,
                        value: r[i]
                    }));
                    return n
                }
            };

            function gn(t) {
                var e = t.value,
                    r = t.key,
                    n = t.styleSpec,
                    i = t.style;
                if (!e.type) return [new It(r, e, '"type" is required')];
                var o, a = zt(e.type);
                switch (a) {
                    case "vector":
                    case "raster":
                    case "raster-dem":
                        return Xr({
                            key: r,
                            value: e,
                            valueSpec: n["source_" + a.replace("-", "_")],
                            style: t.style,
                            styleSpec: n,
                            objectElementValidators: vn
                        });
                    case "geojson":
                        if (o = Xr({
                                key: r,
                                value: e,
                                valueSpec: n.source_geojson,
                                style: i,
                                styleSpec: n,
                                objectElementValidators: vn
                            }), e.cluster)
                            for (var s in e.clusterProperties) {
                                var u = e.clusterProperties[s],
                                    l = u[0],
                                    c = "string" == typeof l ? [l, ["accumulated"],
                                        ["get", s]
                                    ] : l;
                                o.push.apply(o, Qr({
                                    key: r + "." + s + ".map",
                                    value: u[1],
                                    expressionContext: "cluster-map"
                                })), o.push.apply(o, Qr({
                                    key: r + "." + s + ".reduce",
                                    value: c,
                                    expressionContext: "cluster-reduce"
                                }))
                            }
                        return o;
                    case "video":
                        return Xr({
                            key: r,
                            value: e,
                            valueSpec: n.source_video,
                            style: i,
                            styleSpec: n
                        });
                    case "image":
                        return Xr({
                            key: r,
                            value: e,
                            valueSpec: n.source_image,
                            style: i,
                            styleSpec: n
                        });
                    case "canvas":
                        return [new It(r, null, "Please use runtime APIs to add canvas sources, rather than including them in stylesheets.", "source.canvas")];
                    default:
                        return tn({
                            key: r + ".type",
                            value: e.type,
                            valueSpec: {
                                values: ["vector", "raster", "raster-dem", "geojson", "video", "image"]
                            },
                            style: i,
                            styleSpec: n
                        })
                }
            }

            function _n(t) {
                var e = t.value,
                    r = t.styleSpec,
                    n = r.light,
                    i = t.style,
                    o = [],
                    a = Lr(e);
                if (void 0 === e) return o;
                if ("object" !== a) return o.concat([new It("light", e, "object expected, " + a + " found")]);
                for (var s in e) {
                    var u = s.match(/^(.*)-transition$/);
                    o = o.concat(u && n[u[1]] && n[u[1]].transition ? bn({
                        key: s,
                        value: e[s],
                        valueSpec: r.transition,
                        style: i,
                        styleSpec: r
                    }) : n[s] ? bn({
                        key: s,
                        value: e[s],
                        valueSpec: n[s],
                        style: i,
                        styleSpec: r
                    }) : [new It(s, e[s], 'unknown property "' + s + '"')])
                }
                return o
            }
            var xn = {
                "*": function() {
                    return []
                },
                array: Kr,
                boolean: function(t) {
                    var e = t.value,
                        r = t.key,
                        n = Lr(e);
                    return "boolean" !== n ? [new It(r, e, "boolean expected, " + n + " found")] : []
                },
                number: Jr,
                color: function(t) {
                    var e = t.key,
                        r = t.value,
                        n = Lr(r);
                    return "string" !== n ? [new It(e, r, "color expected, " + n + " found")] : null === Jt(r) ? [new It(e, r, 'color expected, "' + r + '" found')] : []
                },
                constants: kt,
                enum: tn,
                filter: pn,
                function: Yr,
                layer: mn,
                object: Xr,
                source: gn,
                light: _n,
                string: yn,
                formatted: function(t) {
                    return 0 === yn(t).length ? [] : Qr(t)
                },
                resolvedImage: function(t) {
                    return 0 === yn(t).length ? [] : Qr(t)
                }
            };

            function bn(t) {
                var e = t.value,
                    r = t.valueSpec,
                    n = t.styleSpec;
                return r.expression && Or(zt(e)) ? Yr(t) : r.expression && qr(Mt(e)) ? Qr(t) : r.type && xn[r.type] ? xn[r.type](t) : Xr(Pt({}, t, {
                    valueSpec: r.type ? n[r.type] : r
                }))
            }

            function wn(t) {
                var e = t.value,
                    r = t.key,
                    n = yn(t);
                return n.length || (-1 === e.indexOf("{fontstack}") && n.push(new It(r, e, '"glyphs" url must include a "{fontstack}" token')), -1 === e.indexOf("{range}") && n.push(new It(r, e, '"glyphs" url must include a "{range}" token'))), n
            }

            function Sn(t, e) {
                void 0 === e && (e = Ct);
                var r = [];
                return r = r.concat(bn({
                    key: "",
                    value: t,
                    valueSpec: e.$root,
                    styleSpec: e,
                    style: t,
                    objectElementValidators: {
                        glyphs: wn,
                        "*": function() {
                            return []
                        }
                    }
                })), t.constants && (r = r.concat(kt({
                    key: "constants",
                    value: t.constants,
                    style: t,
                    styleSpec: e
                }))), Tn(r)
            }

            function Tn(t) {
                return [].concat(t).sort((function(t, e) {
                    return t.line - e.line
                }))
            }

            function En(t) {
                return function() {
                    for (var e = [], r = arguments.length; r--;) e[r] = arguments[r];
                    return Tn(t.apply(this, e))
                }
            }
            Sn.source = En(gn), Sn.light = En(_n), Sn.layer = En(mn), Sn.filter = En(pn), Sn.paintProperty = En(fn), Sn.layoutProperty = En(dn);
            var An = Sn,
                Cn = An.light,
                In = An.paintProperty,
                kn = An.layoutProperty;

            function Pn(t, e) {
                var r = !1;
                if (e && e.length)
                    for (var n = 0, i = e; n < i.length; n += 1) t.fire(new Et(new Error(i[n].message))), r = !0;
                return r
            }
            var zn = Mn;

            function Mn(t, e, r) {
                var n = this.cells = [];
                if (t instanceof ArrayBuffer) {
                    this.arrayBuffer = t;
                    var i = new Int32Array(this.arrayBuffer);
                    t = i[0], this.d = (e = i[1]) + 2 * (r = i[2]);
                    for (var o = 0; o < this.d * this.d; o++) {
                        var a = i[3 + o],
                            s = i[3 + o + 1];
                        n.push(a === s ? null : i.subarray(a, s))
                    }
                    var u = i[3 + n.length + 1];
                    this.keys = i.subarray(i[3 + n.length], u), this.bboxes = i.subarray(u), this.insert = this._insertReadonly
                } else {
                    this.d = e + 2 * r;
                    for (var l = 0; l < this.d * this.d; l++) n.push([]);
                    this.keys = [], this.bboxes = []
                }
                this.n = e, this.extent = t, this.padding = r, this.scale = e / t, this.uid = 0;
                var c = r / e * t;
                this.min = -c, this.max = t + c
            }
            Mn.prototype.insert = function(t, e, r, n, i) {
                this._forEachCell(e, r, n, i, this._insertCell, this.uid++), this.keys.push(t), this.bboxes.push(e), this.bboxes.push(r), this.bboxes.push(n), this.bboxes.push(i)
            }, Mn.prototype._insertReadonly = function() {
                throw "Cannot insert into a GridIndex created from an ArrayBuffer."
            }, Mn.prototype._insertCell = function(t, e, r, n, i, o) {
                this.cells[i].push(o)
            }, Mn.prototype.query = function(t, e, r, n, i) {
                var o = this.min,
                    a = this.max;
                if (t <= o && e <= o && a <= r && a <= n && !i) return Array.prototype.slice.call(this.keys);
                var s = [];
                return this._forEachCell(t, e, r, n, this._queryCell, s, {}, i), s
            }, Mn.prototype._queryCell = function(t, e, r, n, i, o, a, s) {
                var u = this.cells[i];
                if (null !== u)
                    for (var l = this.keys, c = this.bboxes, p = 0; p < u.length; p++) {
                        var h = u[p];
                        if (void 0 === a[h]) {
                            var f = 4 * h;
                            (s ? s(c[f + 0], c[f + 1], c[f + 2], c[f + 3]) : t <= c[f + 2] && e <= c[f + 3] && r >= c[f + 0] && n >= c[f + 1]) ? (a[h] = !0, o.push(l[h])) : a[h] = !1
                        }
                    }
            }, Mn.prototype._forEachCell = function(t, e, r, n, i, o, a, s) {
                for (var u = this._convertToCellCoord(t), l = this._convertToCellCoord(e), c = this._convertToCellCoord(r), p = this._convertToCellCoord(n), h = u; h <= c; h++)
                    for (var f = l; f <= p; f++) {
                        var d = this.d * f + h;
                        if ((!s || s(this._convertFromCellCoord(h), this._convertFromCellCoord(f), this._convertFromCellCoord(h + 1), this._convertFromCellCoord(f + 1))) && i.call(this, t, e, r, n, d, o, a, s)) return
                    }
            }, Mn.prototype._convertFromCellCoord = function(t) {
                return (t - this.padding) / this.scale
            }, Mn.prototype._convertToCellCoord = function(t) {
                return Math.max(0, Math.min(this.d - 1, Math.floor(t * this.scale) + this.padding))
            }, Mn.prototype.toArrayBuffer = function() {
                if (this.arrayBuffer) return this.arrayBuffer;
                for (var t = this.cells, e = 3 + this.cells.length + 1 + 1, r = 0, n = 0; n < this.cells.length; n++) r += this.cells[n].length;
                var i = new Int32Array(e + r + this.keys.length + this.bboxes.length);
                i[0] = this.extent, i[1] = this.n, i[2] = this.padding;
                for (var o = e, a = 0; a < t.length; a++) {
                    var s = t[a];
                    i[3 + a] = o, i.set(s, o), o += s.length
                }
                return i[3 + t.length] = o, i.set(this.keys, o), i[3 + t.length + 1] = o += this.keys.length, i.set(this.bboxes, o), o += this.bboxes.length, i.buffer
            };
            var Dn = a.ImageData,
                Ln = a.ImageBitmap,
                On = {};

            function Rn(t, e, r) {
                void 0 === r && (r = {}), Object.defineProperty(e, "_classRegistryKey", {
                    value: t,
                    writeable: !1
                }), On[t] = {
                    klass: e,
                    omit: r.omit || [],
                    shallow: r.shallow || []
                }
            }
            for (var Bn in Rn("Object", Object), zn.serialize = function(t, e) {
                    var r = t.toArrayBuffer();
                    return e && e.push(r), {
                        buffer: r
                    }
                }, zn.deserialize = function(t) {
                    return new zn(t.buffer)
                }, Rn("Grid", zn), Rn("Color", Yt), Rn("Error", Error), Rn("ResolvedImage", re), Rn("StylePropertyFunction", Wr), Rn("StyleExpression", Vr, {
                    omit: ["_evaluator"]
                }), Rn("ZoomDependentExpression", Gr), Rn("ZoomConstantExpression", $r), Rn("CompoundExpression", ve, {
                    omit: ["_evaluate"]
                }), Tr) Tr[Bn]._classRegistryKey || Rn("Expression_" + Bn, Tr[Bn]);

            function Fn(t) {
                return t && "undefined" != typeof ArrayBuffer && (t instanceof ArrayBuffer || t.constructor && "ArrayBuffer" === t.constructor.name)
            }

            function Nn(t) {
                return Ln && t instanceof Ln
            }

            function Un(t, e) {
                if (null == t || "boolean" == typeof t || "number" == typeof t || "string" == typeof t || t instanceof Boolean || t instanceof Number || t instanceof String || t instanceof Date || t instanceof RegExp) return t;
                if (Fn(t) || Nn(t)) return e && e.push(t), t;
                if (ArrayBuffer.isView(t)) {
                    var r = t;
                    return e && e.push(r.buffer), r
                }
                if (t instanceof Dn) return e && e.push(t.data.buffer), t;
                if (Array.isArray(t)) {
                    for (var n = [], i = 0, o = t; i < o.length; i += 1) n.push(Un(o[i], e));
                    return n
                }
                if ("object" == typeof t) {
                    var a = t.constructor,
                        s = a._classRegistryKey;
                    if (!s) throw new Error("can't serialize object of unregistered class");
                    var u = a.serialize ? a.serialize(t, e) : {};
                    if (!a.serialize) {
                        for (var l in t)
                            if (t.hasOwnProperty(l) && !(On[s].omit.indexOf(l) >= 0)) {
                                var c = t[l];
                                u[l] = On[s].shallow.indexOf(l) >= 0 ? c : Un(c, e)
                            } t instanceof Error && (u.message = t.message)
                    }
                    if (u.$name) throw new Error("$name property is reserved for worker serialization logic.");
                    return "Object" !== s && (u.$name = s), u
                }
                throw new Error("can't serialize object of type " + typeof t)
            }

            function jn(t) {
                if (null == t || "boolean" == typeof t || "number" == typeof t || "string" == typeof t || t instanceof Boolean || t instanceof Number || t instanceof String || t instanceof Date || t instanceof RegExp || Fn(t) || Nn(t) || ArrayBuffer.isView(t) || t instanceof Dn) return t;
                if (Array.isArray(t)) return t.map(jn);
                if ("object" == typeof t) {
                    var e = t.$name || "Object",
                        r = On[e].klass;
                    if (!r) throw new Error("can't deserialize unregistered class " + e);
                    if (r.deserialize) return r.deserialize(t);
                    for (var n = Object.create(r.prototype), i = 0, o = Object.keys(t); i < o.length; i += 1) {
                        var a = o[i];
                        if ("$name" !== a) {
                            var s = t[a];
                            n[a] = On[e].shallow.indexOf(a) >= 0 ? s : jn(s)
                        }
                    }
                    return n
                }
                throw new Error("can't deserialize object of type " + typeof t)
            }
            var Vn = function() {
                this.first = !0
            };
            Vn.prototype.update = function(t, e) {
                var r = Math.floor(t);
                return this.first ? (this.first = !1, this.lastIntegerZoom = r, this.lastIntegerZoomTime = 0, this.lastZoom = t, this.lastFloorZoom = r, !0) : (this.lastFloorZoom > r ? (this.lastIntegerZoom = r + 1, this.lastIntegerZoomTime = e) : this.lastFloorZoom < r && (this.lastIntegerZoom = r, this.lastIntegerZoomTime = e), t !== this.lastZoom && (this.lastZoom = t, this.lastFloorZoom = r, !0))
            };
            var qn = {
                "Latin-1 Supplement": function(t) {
                    return t >= 128 && t <= 255
                },
                Arabic: function(t) {
                    return t >= 1536 && t <= 1791
                },
                "Arabic Supplement": function(t) {
                    return t >= 1872 && t <= 1919
                },
                "Arabic Extended-A": function(t) {
                    return t >= 2208 && t <= 2303
                },
                "Hangul Jamo": function(t) {
                    return t >= 4352 && t <= 4607
                },
                "Unified Canadian Aboriginal Syllabics": function(t) {
                    return t >= 5120 && t <= 5759
                },
                Khmer: function(t) {
                    return t >= 6016 && t <= 6143
                },
                "Unified Canadian Aboriginal Syllabics Extended": function(t) {
                    return t >= 6320 && t <= 6399
                },
                "General Punctuation": function(t) {
                    return t >= 8192 && t <= 8303
                },
                "Letterlike Symbols": function(t) {
                    return t >= 8448 && t <= 8527
                },
                "Number Forms": function(t) {
                    return t >= 8528 && t <= 8591
                },
                "Miscellaneous Technical": function(t) {
                    return t >= 8960 && t <= 9215
                },
                "Control Pictures": function(t) {
                    return t >= 9216 && t <= 9279
                },
                "Optical Character Recognition": function(t) {
                    return t >= 9280 && t <= 9311
                },
                "Enclosed Alphanumerics": function(t) {
                    return t >= 9312 && t <= 9471
                },
                "Geometric Shapes": function(t) {
                    return t >= 9632 && t <= 9727
                },
                "Miscellaneous Symbols": function(t) {
                    return t >= 9728 && t <= 9983
                },
                "Miscellaneous Symbols and Arrows": function(t) {
                    return t >= 11008 && t <= 11263
                },
                "CJK Radicals Supplement": function(t) {
                    return t >= 11904 && t <= 12031
                },
                "Kangxi Radicals": function(t) {
                    return t >= 12032 && t <= 12255
                },
                "Ideographic Description Characters": function(t) {
                    return t >= 12272 && t <= 12287
                },
                "CJK Symbols and Punctuation": function(t) {
                    return t >= 12288 && t <= 12351
                },
                Hiragana: function(t) {
                    return t >= 12352 && t <= 12447
                },
                Katakana: function(t) {
                    return t >= 12448 && t <= 12543
                },
                Bopomofo: function(t) {
                    return t >= 12544 && t <= 12591
                },
                "Hangul Compatibility Jamo": function(t) {
                    return t >= 12592 && t <= 12687
                },
                Kanbun: function(t) {
                    return t >= 12688 && t <= 12703
                },
                "Bopomofo Extended": function(t) {
                    return t >= 12704 && t <= 12735
                },
                "CJK Strokes": function(t) {
                    return t >= 12736 && t <= 12783
                },
                "Katakana Phonetic Extensions": function(t) {
                    return t >= 12784 && t <= 12799
                },
                "Enclosed CJK Letters and Months": function(t) {
                    return t >= 12800 && t <= 13055
                },
                "CJK Compatibility": function(t) {
                    return t >= 13056 && t <= 13311
                },
                "CJK Unified Ideographs Extension A": function(t) {
                    return t >= 13312 && t <= 19903
                },
                "Yijing Hexagram Symbols": function(t) {
                    return t >= 19904 && t <= 19967
                },
                "CJK Unified Ideographs": function(t) {
                    return t >= 19968 && t <= 40959
                },
                "Yi Syllables": function(t) {
                    return t >= 40960 && t <= 42127
                },
                "Yi Radicals": function(t) {
                    return t >= 42128 && t <= 42191
                },
                "Hangul Jamo Extended-A": function(t) {
                    return t >= 43360 && t <= 43391
                },
                "Hangul Syllables": function(t) {
                    return t >= 44032 && t <= 55215
                },
                "Hangul Jamo Extended-B": function(t) {
                    return t >= 55216 && t <= 55295
                },
                "Private Use Area": function(t) {
                    return t >= 57344 && t <= 63743
                },
                "CJK Compatibility Ideographs": function(t) {
                    return t >= 63744 && t <= 64255
                },
                "Arabic Presentation Forms-A": function(t) {
                    return t >= 64336 && t <= 65023
                },
                "Vertical Forms": function(t) {
                    return t >= 65040 && t <= 65055
                },
                "CJK Compatibility Forms": function(t) {
                    return t >= 65072 && t <= 65103
                },
                "Small Form Variants": function(t) {
                    return t >= 65104 && t <= 65135
                },
                "Arabic Presentation Forms-B": function(t) {
                    return t >= 65136 && t <= 65279
                },
                "Halfwidth and Fullwidth Forms": function(t) {
                    return t >= 65280 && t <= 65519
                }
            };

            function Zn(t) {
                for (var e = 0, r = t; e < r.length; e += 1)
                    if ($n(r[e].charCodeAt(0))) return !0;
                return !1
            }

            function $n(t) {
                return !(746 !== t && 747 !== t && (t < 4352 || !(qn["Bopomofo Extended"](t) || qn.Bopomofo(t) || qn["CJK Compatibility Forms"](t) && !(t >= 65097 && t <= 65103) || qn["CJK Compatibility Ideographs"](t) || qn["CJK Compatibility"](t) || qn["CJK Radicals Supplement"](t) || qn["CJK Strokes"](t) || !(!qn["CJK Symbols and Punctuation"](t) || t >= 12296 && t <= 12305 || t >= 12308 && t <= 12319 || 12336 === t) || qn["CJK Unified Ideographs Extension A"](t) || qn["CJK Unified Ideographs"](t) || qn["Enclosed CJK Letters and Months"](t) || qn["Hangul Compatibility Jamo"](t) || qn["Hangul Jamo Extended-A"](t) || qn["Hangul Jamo Extended-B"](t) || qn["Hangul Jamo"](t) || qn["Hangul Syllables"](t) || qn.Hiragana(t) || qn["Ideographic Description Characters"](t) || qn.Kanbun(t) || qn["Kangxi Radicals"](t) || qn["Katakana Phonetic Extensions"](t) || qn.Katakana(t) && 12540 !== t || !(!qn["Halfwidth and Fullwidth Forms"](t) || 65288 === t || 65289 === t || 65293 === t || t >= 65306 && t <= 65310 || 65339 === t || 65341 === t || 65343 === t || t >= 65371 && t <= 65503 || 65507 === t || t >= 65512 && t <= 65519) || !(!qn["Small Form Variants"](t) || t >= 65112 && t <= 65118 || t >= 65123 && t <= 65126) || qn["Unified Canadian Aboriginal Syllabics"](t) || qn["Unified Canadian Aboriginal Syllabics Extended"](t) || qn["Vertical Forms"](t) || qn["Yijing Hexagram Symbols"](t) || qn["Yi Syllables"](t) || qn["Yi Radicals"](t))))
            }

            function Gn(t) {
                return !($n(t) || function(t) {
                    return !!(qn["Latin-1 Supplement"](t) && (167 === t || 169 === t || 174 === t || 177 === t || 188 === t || 189 === t || 190 === t || 215 === t || 247 === t) || qn["General Punctuation"](t) && (8214 === t || 8224 === t || 8225 === t || 8240 === t || 8241 === t || 8251 === t || 8252 === t || 8258 === t || 8263 === t || 8264 === t || 8265 === t || 8273 === t) || qn["Letterlike Symbols"](t) || qn["Number Forms"](t) || qn["Miscellaneous Technical"](t) && (t >= 8960 && t <= 8967 || t >= 8972 && t <= 8991 || t >= 8996 && t <= 9e3 || 9003 === t || t >= 9085 && t <= 9114 || t >= 9150 && t <= 9165 || 9167 === t || t >= 9169 && t <= 9179 || t >= 9186 && t <= 9215) || qn["Control Pictures"](t) && 9251 !== t || qn["Optical Character Recognition"](t) || qn["Enclosed Alphanumerics"](t) || qn["Geometric Shapes"](t) || qn["Miscellaneous Symbols"](t) && !(t >= 9754 && t <= 9759) || qn["Miscellaneous Symbols and Arrows"](t) && (t >= 11026 && t <= 11055 || t >= 11088 && t <= 11097 || t >= 11192 && t <= 11243) || qn["CJK Symbols and Punctuation"](t) || qn.Katakana(t) || qn["Private Use Area"](t) || qn["CJK Compatibility Forms"](t) || qn["Small Form Variants"](t) || qn["Halfwidth and Fullwidth Forms"](t) || 8734 === t || 8756 === t || 8757 === t || t >= 9984 && t <= 10087 || t >= 10102 && t <= 10131 || 65532 === t || 65533 === t)
                }(t))
            }

            function Hn(t) {
                return t >= 1424 && t <= 2303 || qn["Arabic Presentation Forms-A"](t) || qn["Arabic Presentation Forms-B"](t)
            }

            function Wn(t, e) {
                return !(!e && Hn(t) || t >= 2304 && t <= 3583 || t >= 3840 && t <= 4255 || qn.Khmer(t))
            }

            function Xn(t) {
                for (var e = 0, r = t; e < r.length; e += 1)
                    if (Hn(r[e].charCodeAt(0))) return !0;
                return !1
            }
            var Kn = null,
                Jn = "unavailable",
                Yn = null,
                Qn = function(t) {
                    t && "string" == typeof t && t.indexOf("NetworkError") > -1 && (Jn = "error"), Kn && Kn(t)
                };

            function ti() {
                ei.fire(new Tt("pluginStateChange", {
                    pluginStatus: Jn,
                    pluginURL: Yn
                }))
            }
            var ei = new At,
                ri = function() {
                    return Jn
                },
                ni = function() {
                    if ("deferred" !== Jn || !Yn) throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");
                    Jn = "loading", ti(), Yn && _t({
                        url: Yn
                    }, (function(t) {
                        t ? Qn(t) : (Jn = "loaded", ti())
                    }))
                },
                ii = {
                    applyArabicShaping: null,
                    processBidirectionalText: null,
                    processStyledBidirectionalText: null,
                    isLoaded: function() {
                        return "loaded" === Jn || null != ii.applyArabicShaping
                    },
                    isLoading: function() {
                        return "loading" === Jn
                    },
                    setState: function(t) {
                        Jn = t.pluginStatus, Yn = t.pluginURL
                    },
                    isParsed: function() {
                        return null != ii.applyArabicShaping && null != ii.processBidirectionalText && null != ii.processStyledBidirectionalText
                    },
                    getPluginURL: function() {
                        return Yn
                    }
                },
                oi = function(t, e) {
                    this.zoom = t, e ? (this.now = e.now, this.fadeDuration = e.fadeDuration, this.zoomHistory = e.zoomHistory, this.transition = e.transition) : (this.now = 0, this.fadeDuration = 0, this.zoomHistory = new Vn, this.transition = {})
                };
            oi.prototype.isSupportedScript = function(t) {
                return function(t, e) {
                    for (var r = 0, n = t; r < n.length; r += 1)
                        if (!Wn(n[r].charCodeAt(0), e)) return !1;
                    return !0
                }(t, ii.isLoaded())
            }, oi.prototype.crossFadingFactor = function() {
                return 0 === this.fadeDuration ? 1 : Math.min((this.now - this.zoomHistory.lastIntegerZoomTime) / this.fadeDuration, 1)
            }, oi.prototype.getCrossfadeParameters = function() {
                var t = this.zoom,
                    e = t - Math.floor(t),
                    r = this.crossFadingFactor();
                return t > this.zoomHistory.lastIntegerZoom ? {
                    fromScale: 2,
                    toScale: 1,
                    t: e + (1 - e) * r
                } : {
                    fromScale: .5,
                    toScale: 1,
                    t: 1 - (1 - r) * e
                }
            };
            var ai = function(t, e) {
                this.property = t, this.value = e, this.expression = function(t, e) {
                    if (Or(t)) return new Wr(t, e);
                    if (qr(t)) {
                        var r = Hr(t, e);
                        if ("error" === r.result) throw new Error(r.value.map((function(t) {
                            return t.key + ": " + t.message
                        })).join(", "));
                        return r.value
                    }
                    var n = t;
                    return "string" == typeof t && "color" === e.type && (n = Yt.parse(t)), {
                        kind: "constant",
                        evaluate: function() {
                            return n
                        }
                    }
                }(void 0 === e ? t.specification.default : e, t.specification)
            };
            ai.prototype.isDataDriven = function() {
                return "source" === this.expression.kind || "composite" === this.expression.kind
            }, ai.prototype.possiblyEvaluate = function(t, e, r) {
                return this.property.possiblyEvaluate(this, t, e, r)
            };
            var si = function(t) {
                this.property = t, this.value = new ai(t, void 0)
            };
            si.prototype.transitioned = function(t, e) {
                return new li(this.property, this.value, e, p({}, t.transition, this.transition), t.now)
            }, si.prototype.untransitioned = function() {
                return new li(this.property, this.value, null, {}, 0)
            };
            var ui = function(t) {
                this._properties = t, this._values = Object.create(t.defaultTransitionablePropertyValues)
            };
            ui.prototype.getValue = function(t) {
                return x(this._values[t].value.value)
            }, ui.prototype.setValue = function(t, e) {
                this._values.hasOwnProperty(t) || (this._values[t] = new si(this._values[t].property)), this._values[t].value = new ai(this._values[t].property, null === e ? void 0 : x(e))
            }, ui.prototype.getTransition = function(t) {
                return x(this._values[t].transition)
            }, ui.prototype.setTransition = function(t, e) {
                this._values.hasOwnProperty(t) || (this._values[t] = new si(this._values[t].property)), this._values[t].transition = x(e) || void 0
            }, ui.prototype.serialize = function() {
                for (var t = {}, e = 0, r = Object.keys(this._values); e < r.length; e += 1) {
                    var n = r[e],
                        i = this.getValue(n);
                    void 0 !== i && (t[n] = i);
                    var o = this.getTransition(n);
                    void 0 !== o && (t[n + "-transition"] = o)
                }
                return t
            }, ui.prototype.transitioned = function(t, e) {
                for (var r = new ci(this._properties), n = 0, i = Object.keys(this._values); n < i.length; n += 1) {
                    var o = i[n];
                    r._values[o] = this._values[o].transitioned(t, e._values[o])
                }
                return r
            }, ui.prototype.untransitioned = function() {
                for (var t = new ci(this._properties), e = 0, r = Object.keys(this._values); e < r.length; e += 1) {
                    var n = r[e];
                    t._values[n] = this._values[n].untransitioned()
                }
                return t
            };
            var li = function(t, e, r, n, i) {
                this.property = t, this.value = e, this.begin = i + n.delay || 0, this.end = this.begin + n.duration || 0, t.specification.transition && (n.delay || n.duration) && (this.prior = r)
            };
            li.prototype.possiblyEvaluate = function(t, e, r) {
                var n = t.now || 0,
                    i = this.value.possiblyEvaluate(t, e, r),
                    o = this.prior;
                if (o) {
                    if (n > this.end) return this.prior = null, i;
                    if (this.value.isDataDriven()) return this.prior = null, i;
                    if (n < this.begin) return o.possiblyEvaluate(t, e, r);
                    var a = (n - this.begin) / (this.end - this.begin);
                    return this.property.interpolate(o.possiblyEvaluate(t, e, r), i, function(t) {
                        if (t <= 0) return 0;
                        if (t >= 1) return 1;
                        var e = t * t,
                            r = e * t;
                        return 4 * (t < .5 ? r : 3 * (t - e) + r - .75)
                    }(a))
                }
                return i
            };
            var ci = function(t) {
                this._properties = t, this._values = Object.create(t.defaultTransitioningPropertyValues)
            };
            ci.prototype.possiblyEvaluate = function(t, e, r) {
                for (var n = new fi(this._properties), i = 0, o = Object.keys(this._values); i < o.length; i += 1) {
                    var a = o[i];
                    n._values[a] = this._values[a].possiblyEvaluate(t, e, r)
                }
                return n
            }, ci.prototype.hasTransition = function() {
                for (var t = 0, e = Object.keys(this._values); t < e.length; t += 1)
                    if (this._values[e[t]].prior) return !0;
                return !1
            };
            var pi = function(t) {
                this._properties = t, this._values = Object.create(t.defaultPropertyValues)
            };
            pi.prototype.getValue = function(t) {
                return x(this._values[t].value)
            }, pi.prototype.setValue = function(t, e) {
                this._values[t] = new ai(this._values[t].property, null === e ? void 0 : x(e))
            }, pi.prototype.serialize = function() {
                for (var t = {}, e = 0, r = Object.keys(this._values); e < r.length; e += 1) {
                    var n = r[e],
                        i = this.getValue(n);
                    void 0 !== i && (t[n] = i)
                }
                return t
            }, pi.prototype.possiblyEvaluate = function(t, e, r) {
                for (var n = new fi(this._properties), i = 0, o = Object.keys(this._values); i < o.length; i += 1) {
                    var a = o[i];
                    n._values[a] = this._values[a].possiblyEvaluate(t, e, r)
                }
                return n
            };
            var hi = function(t, e, r) {
                this.property = t, this.value = e, this.parameters = r
            };
            hi.prototype.isConstant = function() {
                return "constant" === this.value.kind
            }, hi.prototype.constantOr = function(t) {
                return "constant" === this.value.kind ? this.value.value : t
            }, hi.prototype.evaluate = function(t, e, r, n) {
                return this.property.evaluate(this.value, this.parameters, t, e, r, n)
            };
            var fi = function(t) {
                this._properties = t, this._values = Object.create(t.defaultPossiblyEvaluatedValues)
            };
            fi.prototype.get = function(t) {
                return this._values[t]
            };
            var di = function(t) {
                this.specification = t
            };
            di.prototype.possiblyEvaluate = function(t, e) {
                return t.expression.evaluate(e)
            }, di.prototype.interpolate = function(t, e, r) {
                var n = qe[this.specification.type];
                return n ? n(t, e, r) : t
            };
            var mi = function(t, e) {
                this.specification = t, this.overrides = e
            };
            mi.prototype.possiblyEvaluate = function(t, e, r, n) {
                return new hi(this, "constant" === t.expression.kind || "camera" === t.expression.kind ? {
                    kind: "constant",
                    value: t.expression.evaluate(e, null, {}, r, n)
                } : t.expression, e)
            }, mi.prototype.interpolate = function(t, e, r) {
                if ("constant" !== t.value.kind || "constant" !== e.value.kind) return t;
                if (void 0 === t.value.value || void 0 === e.value.value) return new hi(this, {
                    kind: "constant",
                    value: void 0
                }, t.parameters);
                var n = qe[this.specification.type];
                return n ? new hi(this, {
                    kind: "constant",
                    value: n(t.value.value, e.value.value, r)
                }, t.parameters) : t
            }, mi.prototype.evaluate = function(t, e, r, n, i, o) {
                return "constant" === t.kind ? t.value : t.evaluate(e, r, n, i, o)
            };
            var yi = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.possiblyEvaluate = function(t, e, r, n) {
                        if (void 0 === t.value) return new hi(this, {
                            kind: "constant",
                            value: void 0
                        }, e);
                        if ("constant" === t.expression.kind) {
                            var i = t.expression.evaluate(e, null, {}, r, n),
                                o = "resolvedImage" === t.property.specification.type && "string" != typeof i ? i.name : i,
                                a = this._calculate(o, o, o, e);
                            return new hi(this, {
                                kind: "constant",
                                value: a
                            }, e)
                        }
                        if ("camera" === t.expression.kind) {
                            var s = this._calculate(t.expression.evaluate({
                                zoom: e.zoom - 1
                            }), t.expression.evaluate({
                                zoom: e.zoom
                            }), t.expression.evaluate({
                                zoom: e.zoom + 1
                            }), e);
                            return new hi(this, {
                                kind: "constant",
                                value: s
                            }, e)
                        }
                        return new hi(this, t.expression, e)
                    }, e.prototype.evaluate = function(t, e, r, n, i, o) {
                        if ("source" === t.kind) {
                            var a = t.evaluate(e, r, n, i, o);
                            return this._calculate(a, a, a, e)
                        }
                        return "composite" === t.kind ? this._calculate(t.evaluate({
                            zoom: Math.floor(e.zoom) - 1
                        }, r, n), t.evaluate({
                            zoom: Math.floor(e.zoom)
                        }, r, n), t.evaluate({
                            zoom: Math.floor(e.zoom) + 1
                        }, r, n), e) : t.value
                    }, e.prototype._calculate = function(t, e, r, n) {
                        return n.zoom > n.zoomHistory.lastIntegerZoom ? {
                            from: t,
                            to: e
                        } : {
                            from: r,
                            to: e
                        }
                    }, e.prototype.interpolate = function(t) {
                        return t
                    }, e
                }(mi),
                vi = function(t) {
                    this.specification = t
                };
            vi.prototype.possiblyEvaluate = function(t, e, r, n) {
                if (void 0 !== t.value) {
                    if ("constant" === t.expression.kind) {
                        var i = t.expression.evaluate(e, null, {}, r, n);
                        return this._calculate(i, i, i, e)
                    }
                    return this._calculate(t.expression.evaluate(new oi(Math.floor(e.zoom - 1), e)), t.expression.evaluate(new oi(Math.floor(e.zoom), e)), t.expression.evaluate(new oi(Math.floor(e.zoom + 1), e)), e)
                }
            }, vi.prototype._calculate = function(t, e, r, n) {
                return n.zoom > n.zoomHistory.lastIntegerZoom ? {
                    from: t,
                    to: e
                } : {
                    from: r,
                    to: e
                }
            }, vi.prototype.interpolate = function(t) {
                return t
            };
            var gi = function(t) {
                this.specification = t
            };
            gi.prototype.possiblyEvaluate = function(t, e, r, n) {
                return !!t.expression.evaluate(e, null, {}, r, n)
            }, gi.prototype.interpolate = function() {
                return !1
            };
            var _i = function(t) {
                for (var e in this.properties = t, this.defaultPropertyValues = {}, this.defaultTransitionablePropertyValues = {}, this.defaultTransitioningPropertyValues = {}, this.defaultPossiblyEvaluatedValues = {}, this.overridableProperties = [], t) {
                    var r = t[e];
                    r.specification.overridable && this.overridableProperties.push(e);
                    var n = this.defaultPropertyValues[e] = new ai(r, void 0),
                        i = this.defaultTransitionablePropertyValues[e] = new si(r);
                    this.defaultTransitioningPropertyValues[e] = i.untransitioned(), this.defaultPossiblyEvaluatedValues[e] = n.possiblyEvaluate({})
                }
            };
            Rn("DataDrivenProperty", mi), Rn("DataConstantProperty", di), Rn("CrossFadedDataDrivenProperty", yi), Rn("CrossFadedProperty", vi), Rn("ColorRampProperty", gi);
            var xi = function(t) {
                    function e(e, r) {
                        if (t.call(this), this.id = e.id, this.type = e.type, this._featureFilter = {
                                filter: function() {
                                    return !0
                                },
                                needGeometry: !1
                            }, "custom" !== e.type && (this.metadata = (e = e).metadata, this.minzoom = e.minzoom, this.maxzoom = e.maxzoom, "background" !== e.type && (this.source = e.source, this.sourceLayer = e["source-layer"], this.filter = e.filter), r.layout && (this._unevaluatedLayout = new pi(r.layout)), r.paint)) {
                            for (var n in this._transitionablePaint = new ui(r.paint), e.paint) this.setPaintProperty(n, e.paint[n], {
                                validate: !1
                            });
                            for (var i in e.layout) this.setLayoutProperty(i, e.layout[i], {
                                validate: !1
                            });
                            this._transitioningPaint = this._transitionablePaint.untransitioned(), this.paint = new fi(r.paint)
                        }
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getCrossfadeParameters = function() {
                        return this._crossfadeParameters
                    }, e.prototype.getLayoutProperty = function(t) {
                        return "visibility" === t ? this.visibility : this._unevaluatedLayout.getValue(t)
                    }, e.prototype.setLayoutProperty = function(t, e, r) {
                        void 0 === r && (r = {}), null != e && this._validate(kn, "layers." + this.id + ".layout." + t, t, e, r) || ("visibility" !== t ? this._unevaluatedLayout.setValue(t, e) : this.visibility = e)
                    }, e.prototype.getPaintProperty = function(t) {
                        return v(t, "-transition") ? this._transitionablePaint.getTransition(t.slice(0, -"-transition".length)) : this._transitionablePaint.getValue(t)
                    }, e.prototype.setPaintProperty = function(t, e, r) {
                        if (void 0 === r && (r = {}), null != e && this._validate(In, "layers." + this.id + ".paint." + t, t, e, r)) return !1;
                        if (v(t, "-transition")) return this._transitionablePaint.setTransition(t.slice(0, -"-transition".length), e || void 0), !1;
                        var n = this._transitionablePaint._values[t],
                            i = "cross-faded-data-driven" === n.property.specification["property-type"],
                            o = n.value.isDataDriven(),
                            a = n.value;
                        this._transitionablePaint.setValue(t, e), this._handleSpecialPaintPropertyUpdate(t);
                        var s = this._transitionablePaint._values[t].value;
                        return s.isDataDriven() || o || i || this._handleOverridablePaintPropertyUpdate(t, a, s)
                    }, e.prototype._handleSpecialPaintPropertyUpdate = function(t) {}, e.prototype._handleOverridablePaintPropertyUpdate = function(t, e, r) {
                        return !1
                    }, e.prototype.isHidden = function(t) {
                        return !!(this.minzoom && t < this.minzoom) || !!(this.maxzoom && t >= this.maxzoom) || "none" === this.visibility
                    }, e.prototype.updateTransitions = function(t) {
                        this._transitioningPaint = this._transitionablePaint.transitioned(t, this._transitioningPaint)
                    }, e.prototype.hasTransition = function() {
                        return this._transitioningPaint.hasTransition()
                    }, e.prototype.recalculate = function(t, e) {
                        t.getCrossfadeParameters && (this._crossfadeParameters = t.getCrossfadeParameters()), this._unevaluatedLayout && (this.layout = this._unevaluatedLayout.possiblyEvaluate(t, void 0, e)), this.paint = this._transitioningPaint.possiblyEvaluate(t, void 0, e)
                    }, e.prototype.serialize = function() {
                        var t = {
                            id: this.id,
                            type: this.type,
                            source: this.source,
                            "source-layer": this.sourceLayer,
                            metadata: this.metadata,
                            minzoom: this.minzoom,
                            maxzoom: this.maxzoom,
                            filter: this.filter,
                            layout: this._unevaluatedLayout && this._unevaluatedLayout.serialize(),
                            paint: this._transitionablePaint && this._transitionablePaint.serialize()
                        };
                        return this.visibility && (t.layout = t.layout || {}, t.layout.visibility = this.visibility), _(t, (function(t, e) {
                            return !(void 0 === t || "layout" === e && !Object.keys(t).length || "paint" === e && !Object.keys(t).length)
                        }))
                    }, e.prototype._validate = function(t, e, r, n, i) {
                        return void 0 === i && (i = {}), (!i || !1 !== i.validate) && Pn(this, t.call(An, {
                            key: e,
                            layerType: this.type,
                            objectKey: r,
                            value: n,
                            styleSpec: Ct,
                            style: {
                                glyphs: !0,
                                sprite: !0
                            }
                        }))
                    }, e.prototype.is3D = function() {
                        return !1
                    }, e.prototype.isTileClipped = function() {
                        return !1
                    }, e.prototype.hasOffscreenPass = function() {
                        return !1
                    }, e.prototype.resize = function() {}, e.prototype.isStateDependent = function() {
                        for (var t in this.paint._values) {
                            var e = this.paint.get(t);
                            if (e instanceof hi && zr(e.property.specification) && ("source" === e.value.kind || "composite" === e.value.kind) && e.value.isStateDependent) return !0
                        }
                        return !1
                    }, e
                }(At),
                bi = {
                    Int8: Int8Array,
                    Uint8: Uint8Array,
                    Int16: Int16Array,
                    Uint16: Uint16Array,
                    Int32: Int32Array,
                    Uint32: Uint32Array,
                    Float32: Float32Array
                },
                wi = function(t, e) {
                    this._structArray = t, this._pos1 = e * this.size, this._pos2 = this._pos1 / 2, this._pos4 = this._pos1 / 4, this._pos8 = this._pos1 / 8
                },
                Si = function() {
                    this.isTransferred = !1, this.capacity = -1, this.resize(0)
                };

            function Ti(t, e) {
                void 0 === e && (e = 1);
                var r = 0,
                    n = 0;
                return {
                    members: t.map((function(t) {
                        var i = bi[t.type].BYTES_PER_ELEMENT,
                            o = r = Ei(r, Math.max(e, i)),
                            a = t.components || 1;
                        return n = Math.max(n, i), r += i * a, {
                            name: t.name,
                            type: t.type,
                            components: a,
                            offset: o
                        }
                    })),
                    size: Ei(r, Math.max(n, e)),
                    alignment: e
                }
            }

            function Ei(t, e) {
                return Math.ceil(t / e) * e
            }
            Si.serialize = function(t, e) {
                return t._trim(), e && (t.isTransferred = !0, e.push(t.arrayBuffer)), {
                    length: t.length,
                    arrayBuffer: t.arrayBuffer
                }
            }, Si.deserialize = function(t) {
                var e = Object.create(this.prototype);
                return e.arrayBuffer = t.arrayBuffer, e.length = t.length, e.capacity = t.arrayBuffer.byteLength / e.bytesPerElement, e._refreshViews(), e
            }, Si.prototype._trim = function() {
                this.length !== this.capacity && (this.capacity = this.length, this.arrayBuffer = this.arrayBuffer.slice(0, this.length * this.bytesPerElement), this._refreshViews())
            }, Si.prototype.clear = function() {
                this.length = 0
            }, Si.prototype.resize = function(t) {
                this.reserve(t), this.length = t
            }, Si.prototype.reserve = function(t) {
                if (t > this.capacity) {
                    this.capacity = Math.max(t, Math.floor(5 * this.capacity), 128), this.arrayBuffer = new ArrayBuffer(this.capacity * this.bytesPerElement);
                    var e = this.uint8;
                    this._refreshViews(), e && this.uint8.set(e)
                }
            }, Si.prototype._refreshViews = function() {
                throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")
            };
            var Ai = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e) {
                    var r = this.length;
                    return this.resize(r + 1), this.emplace(r, t, e)
                }, e.prototype.emplace = function(t, e, r) {
                    var n = 2 * t;
                    return this.int16[n + 0] = e, this.int16[n + 1] = r, t
                }, e
            }(Si);
            Ai.prototype.bytesPerElement = 4, Rn("StructArrayLayout2i4", Ai);
            var Ci = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n) {
                    var i = this.length;
                    return this.resize(i + 1), this.emplace(i, t, e, r, n)
                }, e.prototype.emplace = function(t, e, r, n, i) {
                    var o = 4 * t;
                    return this.int16[o + 0] = e, this.int16[o + 1] = r, this.int16[o + 2] = n, this.int16[o + 3] = i, t
                }, e
            }(Si);
            Ci.prototype.bytesPerElement = 8, Rn("StructArrayLayout4i8", Ci);
            var Ii = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n, i, o) {
                    var a = this.length;
                    return this.resize(a + 1), this.emplace(a, t, e, r, n, i, o)
                }, e.prototype.emplace = function(t, e, r, n, i, o, a) {
                    var s = 6 * t;
                    return this.int16[s + 0] = e, this.int16[s + 1] = r, this.int16[s + 2] = n, this.int16[s + 3] = i, this.int16[s + 4] = o, this.int16[s + 5] = a, t
                }, e
            }(Si);
            Ii.prototype.bytesPerElement = 12, Rn("StructArrayLayout2i4i12", Ii);
            var ki = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n, i, o) {
                    var a = this.length;
                    return this.resize(a + 1), this.emplace(a, t, e, r, n, i, o)
                }, e.prototype.emplace = function(t, e, r, n, i, o, a) {
                    var s = 4 * t,
                        u = 8 * t;
                    return this.int16[s + 0] = e, this.int16[s + 1] = r, this.uint8[u + 4] = n, this.uint8[u + 5] = i, this.uint8[u + 6] = o, this.uint8[u + 7] = a, t
                }, e
            }(Si);
            ki.prototype.bytesPerElement = 8, Rn("StructArrayLayout2i4ub8", ki);
            var Pi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n, i, o, a, s, u, l) {
                    var c = this.length;
                    return this.resize(c + 1), this.emplace(c, t, e, r, n, i, o, a, s, u, l)
                }, e.prototype.emplace = function(t, e, r, n, i, o, a, s, u, l, c) {
                    var p = 10 * t;
                    return this.uint16[p + 0] = e, this.uint16[p + 1] = r, this.uint16[p + 2] = n, this.uint16[p + 3] = i, this.uint16[p + 4] = o, this.uint16[p + 5] = a, this.uint16[p + 6] = s, this.uint16[p + 7] = u, this.uint16[p + 8] = l, this.uint16[p + 9] = c, t
                }, e
            }(Si);
            Pi.prototype.bytesPerElement = 20, Rn("StructArrayLayout10ui20", Pi);
            var zi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n, i, o, a, s, u, l, c, p) {
                    var h = this.length;
                    return this.resize(h + 1), this.emplace(h, t, e, r, n, i, o, a, s, u, l, c, p)
                }, e.prototype.emplace = function(t, e, r, n, i, o, a, s, u, l, c, p, h) {
                    var f = 12 * t;
                    return this.int16[f + 0] = e, this.int16[f + 1] = r, this.int16[f + 2] = n, this.int16[f + 3] = i, this.uint16[f + 4] = o, this.uint16[f + 5] = a, this.uint16[f + 6] = s, this.uint16[f + 7] = u, this.int16[f + 8] = l, this.int16[f + 9] = c, this.int16[f + 10] = p, this.int16[f + 11] = h, t
                }, e
            }(Si);
            zi.prototype.bytesPerElement = 24, Rn("StructArrayLayout4i4ui4i24", zi);
            var Mi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r) {
                    var n = this.length;
                    return this.resize(n + 1), this.emplace(n, t, e, r)
                }, e.prototype.emplace = function(t, e, r, n) {
                    var i = 3 * t;
                    return this.float32[i + 0] = e, this.float32[i + 1] = r, this.float32[i + 2] = n, t
                }, e
            }(Si);
            Mi.prototype.bytesPerElement = 12, Rn("StructArrayLayout3f12", Mi);
            var Di = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t) {
                    var e = this.length;
                    return this.resize(e + 1), this.emplace(e, t)
                }, e.prototype.emplace = function(t, e) {
                    return this.uint32[1 * t + 0] = e, t
                }, e
            }(Si);
            Di.prototype.bytesPerElement = 4, Rn("StructArrayLayout1ul4", Di);
            var Li = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n, i, o, a, s, u) {
                    var l = this.length;
                    return this.resize(l + 1), this.emplace(l, t, e, r, n, i, o, a, s, u)
                }, e.prototype.emplace = function(t, e, r, n, i, o, a, s, u, l) {
                    var c = 10 * t,
                        p = 5 * t;
                    return this.int16[c + 0] = e, this.int16[c + 1] = r, this.int16[c + 2] = n, this.int16[c + 3] = i, this.int16[c + 4] = o, this.int16[c + 5] = a, this.uint32[p + 3] = s, this.uint16[c + 8] = u, this.uint16[c + 9] = l, t
                }, e
            }(Si);
            Li.prototype.bytesPerElement = 20, Rn("StructArrayLayout6i1ul2ui20", Li);
            var Oi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n, i, o) {
                    var a = this.length;
                    return this.resize(a + 1), this.emplace(a, t, e, r, n, i, o)
                }, e.prototype.emplace = function(t, e, r, n, i, o, a) {
                    var s = 6 * t;
                    return this.int16[s + 0] = e, this.int16[s + 1] = r, this.int16[s + 2] = n, this.int16[s + 3] = i, this.int16[s + 4] = o, this.int16[s + 5] = a, t
                }, e
            }(Si);
            Oi.prototype.bytesPerElement = 12, Rn("StructArrayLayout2i2i2i12", Oi);
            var Ri = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n, i) {
                    var o = this.length;
                    return this.resize(o + 1), this.emplace(o, t, e, r, n, i)
                }, e.prototype.emplace = function(t, e, r, n, i, o) {
                    var a = 4 * t,
                        s = 8 * t;
                    return this.float32[a + 0] = e, this.float32[a + 1] = r, this.float32[a + 2] = n, this.int16[s + 6] = i, this.int16[s + 7] = o, t
                }, e
            }(Si);
            Ri.prototype.bytesPerElement = 16, Rn("StructArrayLayout2f1f2i16", Ri);
            var Bi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n) {
                    var i = this.length;
                    return this.resize(i + 1), this.emplace(i, t, e, r, n)
                }, e.prototype.emplace = function(t, e, r, n, i) {
                    var o = 12 * t,
                        a = 3 * t;
                    return this.uint8[o + 0] = e, this.uint8[o + 1] = r, this.float32[a + 1] = n, this.float32[a + 2] = i, t
                }, e
            }(Si);
            Bi.prototype.bytesPerElement = 12, Rn("StructArrayLayout2ub2f12", Bi);
            var Fi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r) {
                    var n = this.length;
                    return this.resize(n + 1), this.emplace(n, t, e, r)
                }, e.prototype.emplace = function(t, e, r, n) {
                    var i = 3 * t;
                    return this.uint16[i + 0] = e, this.uint16[i + 1] = r, this.uint16[i + 2] = n, t
                }, e
            }(Si);
            Fi.prototype.bytesPerElement = 6, Rn("StructArrayLayout3ui6", Fi);
            var Ni = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n, i, o, a, s, u, l, c, p, h, f, d, m, y) {
                    var v = this.length;
                    return this.resize(v + 1), this.emplace(v, t, e, r, n, i, o, a, s, u, l, c, p, h, f, d, m, y)
                }, e.prototype.emplace = function(t, e, r, n, i, o, a, s, u, l, c, p, h, f, d, m, y, v) {
                    var g = 24 * t,
                        _ = 12 * t,
                        x = 48 * t;
                    return this.int16[g + 0] = e, this.int16[g + 1] = r, this.uint16[g + 2] = n, this.uint16[g + 3] = i, this.uint32[_ + 2] = o, this.uint32[_ + 3] = a, this.uint32[_ + 4] = s, this.uint16[g + 10] = u, this.uint16[g + 11] = l, this.uint16[g + 12] = c, this.float32[_ + 7] = p, this.float32[_ + 8] = h, this.uint8[x + 36] = f, this.uint8[x + 37] = d, this.uint8[x + 38] = m, this.uint32[_ + 10] = y, this.int16[g + 22] = v, t
                }, e
            }(Si);
            Ni.prototype.bytesPerElement = 48, Rn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48", Ni);
            var Ui = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n, i, o, a, s, u, l, c, p, h, f, d, m, y, v, g, _, x, b, w, S, T, E, A, C) {
                    var I = this.length;
                    return this.resize(I + 1), this.emplace(I, t, e, r, n, i, o, a, s, u, l, c, p, h, f, d, m, y, v, g, _, x, b, w, S, T, E, A, C)
                }, e.prototype.emplace = function(t, e, r, n, i, o, a, s, u, l, c, p, h, f, d, m, y, v, g, _, x, b, w, S, T, E, A, C, I) {
                    var k = 34 * t,
                        P = 17 * t;
                    return this.int16[k + 0] = e, this.int16[k + 1] = r, this.int16[k + 2] = n, this.int16[k + 3] = i, this.int16[k + 4] = o, this.int16[k + 5] = a, this.int16[k + 6] = s, this.int16[k + 7] = u, this.uint16[k + 8] = l, this.uint16[k + 9] = c, this.uint16[k + 10] = p, this.uint16[k + 11] = h, this.uint16[k + 12] = f, this.uint16[k + 13] = d, this.uint16[k + 14] = m, this.uint16[k + 15] = y, this.uint16[k + 16] = v, this.uint16[k + 17] = g, this.uint16[k + 18] = _, this.uint16[k + 19] = x, this.uint16[k + 20] = b, this.uint16[k + 21] = w, this.uint16[k + 22] = S, this.uint32[P + 12] = T, this.float32[P + 13] = E, this.float32[P + 14] = A, this.float32[P + 15] = C, this.float32[P + 16] = I, t
                }, e
            }(Si);
            Ui.prototype.bytesPerElement = 68, Rn("StructArrayLayout8i15ui1ul4f68", Ui);
            var ji = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t) {
                    var e = this.length;
                    return this.resize(e + 1), this.emplace(e, t)
                }, e.prototype.emplace = function(t, e) {
                    return this.float32[1 * t + 0] = e, t
                }, e
            }(Si);
            ji.prototype.bytesPerElement = 4, Rn("StructArrayLayout1f4", ji);
            var Vi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r) {
                    var n = this.length;
                    return this.resize(n + 1), this.emplace(n, t, e, r)
                }, e.prototype.emplace = function(t, e, r, n) {
                    var i = 3 * t;
                    return this.int16[i + 0] = e, this.int16[i + 1] = r, this.int16[i + 2] = n, t
                }, e
            }(Si);
            Vi.prototype.bytesPerElement = 6, Rn("StructArrayLayout3i6", Vi);
            var qi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r) {
                    var n = this.length;
                    return this.resize(n + 1), this.emplace(n, t, e, r)
                }, e.prototype.emplace = function(t, e, r, n) {
                    var i = 4 * t;
                    return this.uint32[2 * t + 0] = e, this.uint16[i + 2] = r, this.uint16[i + 3] = n, t
                }, e
            }(Si);
            qi.prototype.bytesPerElement = 8, Rn("StructArrayLayout1ul2ui8", qi);
            var Zi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e) {
                    var r = this.length;
                    return this.resize(r + 1), this.emplace(r, t, e)
                }, e.prototype.emplace = function(t, e, r) {
                    var n = 2 * t;
                    return this.uint16[n + 0] = e, this.uint16[n + 1] = r, t
                }, e
            }(Si);
            Zi.prototype.bytesPerElement = 4, Rn("StructArrayLayout2ui4", Zi);
            var $i = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t) {
                    var e = this.length;
                    return this.resize(e + 1), this.emplace(e, t)
                }, e.prototype.emplace = function(t, e) {
                    return this.uint16[1 * t + 0] = e, t
                }, e
            }(Si);
            $i.prototype.bytesPerElement = 2, Rn("StructArrayLayout1ui2", $i);
            var Gi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e) {
                    var r = this.length;
                    return this.resize(r + 1), this.emplace(r, t, e)
                }, e.prototype.emplace = function(t, e, r) {
                    var n = 2 * t;
                    return this.float32[n + 0] = e, this.float32[n + 1] = r, t
                }, e
            }(Si);
            Gi.prototype.bytesPerElement = 8, Rn("StructArrayLayout2f8", Gi);
            var Hi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                    this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer)
                }, e.prototype.emplaceBack = function(t, e, r, n) {
                    var i = this.length;
                    return this.resize(i + 1), this.emplace(i, t, e, r, n)
                }, e.prototype.emplace = function(t, e, r, n, i) {
                    var o = 4 * t;
                    return this.float32[o + 0] = e, this.float32[o + 1] = r, this.float32[o + 2] = n, this.float32[o + 3] = i, t
                }, e
            }(Si);
            Hi.prototype.bytesPerElement = 16, Rn("StructArrayLayout4f16", Hi);
            var Wi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var r = {
                    anchorPointX: {
                        configurable: !0
                    },
                    anchorPointY: {
                        configurable: !0
                    },
                    x1: {
                        configurable: !0
                    },
                    y1: {
                        configurable: !0
                    },
                    x2: {
                        configurable: !0
                    },
                    y2: {
                        configurable: !0
                    },
                    featureIndex: {
                        configurable: !0
                    },
                    sourceLayerIndex: {
                        configurable: !0
                    },
                    bucketIndex: {
                        configurable: !0
                    },
                    anchorPoint: {
                        configurable: !0
                    }
                };
                return r.anchorPointX.get = function() {
                    return this._structArray.int16[this._pos2 + 0]
                }, r.anchorPointY.get = function() {
                    return this._structArray.int16[this._pos2 + 1]
                }, r.x1.get = function() {
                    return this._structArray.int16[this._pos2 + 2]
                }, r.y1.get = function() {
                    return this._structArray.int16[this._pos2 + 3]
                }, r.x2.get = function() {
                    return this._structArray.int16[this._pos2 + 4]
                }, r.y2.get = function() {
                    return this._structArray.int16[this._pos2 + 5]
                }, r.featureIndex.get = function() {
                    return this._structArray.uint32[this._pos4 + 3]
                }, r.sourceLayerIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 8]
                }, r.bucketIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 9]
                }, r.anchorPoint.get = function() {
                    return new i(this.anchorPointX, this.anchorPointY)
                }, Object.defineProperties(e.prototype, r), e
            }(wi);
            Wi.prototype.size = 20;
            var Xi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.get = function(t) {
                    return new Wi(this, t)
                }, e
            }(Li);
            Rn("CollisionBoxArray", Xi);
            var Ki = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var r = {
                    anchorX: {
                        configurable: !0
                    },
                    anchorY: {
                        configurable: !0
                    },
                    glyphStartIndex: {
                        configurable: !0
                    },
                    numGlyphs: {
                        configurable: !0
                    },
                    vertexStartIndex: {
                        configurable: !0
                    },
                    lineStartIndex: {
                        configurable: !0
                    },
                    lineLength: {
                        configurable: !0
                    },
                    segment: {
                        configurable: !0
                    },
                    lowerSize: {
                        configurable: !0
                    },
                    upperSize: {
                        configurable: !0
                    },
                    lineOffsetX: {
                        configurable: !0
                    },
                    lineOffsetY: {
                        configurable: !0
                    },
                    writingMode: {
                        configurable: !0
                    },
                    placedOrientation: {
                        configurable: !0
                    },
                    hidden: {
                        configurable: !0
                    },
                    crossTileID: {
                        configurable: !0
                    },
                    associatedIconIndex: {
                        configurable: !0
                    }
                };
                return r.anchorX.get = function() {
                    return this._structArray.int16[this._pos2 + 0]
                }, r.anchorY.get = function() {
                    return this._structArray.int16[this._pos2 + 1]
                }, r.glyphStartIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 2]
                }, r.numGlyphs.get = function() {
                    return this._structArray.uint16[this._pos2 + 3]
                }, r.vertexStartIndex.get = function() {
                    return this._structArray.uint32[this._pos4 + 2]
                }, r.lineStartIndex.get = function() {
                    return this._structArray.uint32[this._pos4 + 3]
                }, r.lineLength.get = function() {
                    return this._structArray.uint32[this._pos4 + 4]
                }, r.segment.get = function() {
                    return this._structArray.uint16[this._pos2 + 10]
                }, r.lowerSize.get = function() {
                    return this._structArray.uint16[this._pos2 + 11]
                }, r.upperSize.get = function() {
                    return this._structArray.uint16[this._pos2 + 12]
                }, r.lineOffsetX.get = function() {
                    return this._structArray.float32[this._pos4 + 7]
                }, r.lineOffsetY.get = function() {
                    return this._structArray.float32[this._pos4 + 8]
                }, r.writingMode.get = function() {
                    return this._structArray.uint8[this._pos1 + 36]
                }, r.placedOrientation.get = function() {
                    return this._structArray.uint8[this._pos1 + 37]
                }, r.placedOrientation.set = function(t) {
                    this._structArray.uint8[this._pos1 + 37] = t
                }, r.hidden.get = function() {
                    return this._structArray.uint8[this._pos1 + 38]
                }, r.hidden.set = function(t) {
                    this._structArray.uint8[this._pos1 + 38] = t
                }, r.crossTileID.get = function() {
                    return this._structArray.uint32[this._pos4 + 10]
                }, r.crossTileID.set = function(t) {
                    this._structArray.uint32[this._pos4 + 10] = t
                }, r.associatedIconIndex.get = function() {
                    return this._structArray.int16[this._pos2 + 22]
                }, Object.defineProperties(e.prototype, r), e
            }(wi);
            Ki.prototype.size = 48;
            var Ji = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.get = function(t) {
                    return new Ki(this, t)
                }, e
            }(Ni);
            Rn("PlacedSymbolArray", Ji);
            var Yi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var r = {
                    anchorX: {
                        configurable: !0
                    },
                    anchorY: {
                        configurable: !0
                    },
                    rightJustifiedTextSymbolIndex: {
                        configurable: !0
                    },
                    centerJustifiedTextSymbolIndex: {
                        configurable: !0
                    },
                    leftJustifiedTextSymbolIndex: {
                        configurable: !0
                    },
                    verticalPlacedTextSymbolIndex: {
                        configurable: !0
                    },
                    placedIconSymbolIndex: {
                        configurable: !0
                    },
                    verticalPlacedIconSymbolIndex: {
                        configurable: !0
                    },
                    key: {
                        configurable: !0
                    },
                    textBoxStartIndex: {
                        configurable: !0
                    },
                    textBoxEndIndex: {
                        configurable: !0
                    },
                    verticalTextBoxStartIndex: {
                        configurable: !0
                    },
                    verticalTextBoxEndIndex: {
                        configurable: !0
                    },
                    iconBoxStartIndex: {
                        configurable: !0
                    },
                    iconBoxEndIndex: {
                        configurable: !0
                    },
                    verticalIconBoxStartIndex: {
                        configurable: !0
                    },
                    verticalIconBoxEndIndex: {
                        configurable: !0
                    },
                    featureIndex: {
                        configurable: !0
                    },
                    numHorizontalGlyphVertices: {
                        configurable: !0
                    },
                    numVerticalGlyphVertices: {
                        configurable: !0
                    },
                    numIconVertices: {
                        configurable: !0
                    },
                    numVerticalIconVertices: {
                        configurable: !0
                    },
                    useRuntimeCollisionCircles: {
                        configurable: !0
                    },
                    crossTileID: {
                        configurable: !0
                    },
                    textBoxScale: {
                        configurable: !0
                    },
                    textOffset0: {
                        configurable: !0
                    },
                    textOffset1: {
                        configurable: !0
                    },
                    collisionCircleDiameter: {
                        configurable: !0
                    }
                };
                return r.anchorX.get = function() {
                    return this._structArray.int16[this._pos2 + 0]
                }, r.anchorY.get = function() {
                    return this._structArray.int16[this._pos2 + 1]
                }, r.rightJustifiedTextSymbolIndex.get = function() {
                    return this._structArray.int16[this._pos2 + 2]
                }, r.centerJustifiedTextSymbolIndex.get = function() {
                    return this._structArray.int16[this._pos2 + 3]
                }, r.leftJustifiedTextSymbolIndex.get = function() {
                    return this._structArray.int16[this._pos2 + 4]
                }, r.verticalPlacedTextSymbolIndex.get = function() {
                    return this._structArray.int16[this._pos2 + 5]
                }, r.placedIconSymbolIndex.get = function() {
                    return this._structArray.int16[this._pos2 + 6]
                }, r.verticalPlacedIconSymbolIndex.get = function() {
                    return this._structArray.int16[this._pos2 + 7]
                }, r.key.get = function() {
                    return this._structArray.uint16[this._pos2 + 8]
                }, r.textBoxStartIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 9]
                }, r.textBoxEndIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 10]
                }, r.verticalTextBoxStartIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 11]
                }, r.verticalTextBoxEndIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 12]
                }, r.iconBoxStartIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 13]
                }, r.iconBoxEndIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 14]
                }, r.verticalIconBoxStartIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 15]
                }, r.verticalIconBoxEndIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 16]
                }, r.featureIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 17]
                }, r.numHorizontalGlyphVertices.get = function() {
                    return this._structArray.uint16[this._pos2 + 18]
                }, r.numVerticalGlyphVertices.get = function() {
                    return this._structArray.uint16[this._pos2 + 19]
                }, r.numIconVertices.get = function() {
                    return this._structArray.uint16[this._pos2 + 20]
                }, r.numVerticalIconVertices.get = function() {
                    return this._structArray.uint16[this._pos2 + 21]
                }, r.useRuntimeCollisionCircles.get = function() {
                    return this._structArray.uint16[this._pos2 + 22]
                }, r.crossTileID.get = function() {
                    return this._structArray.uint32[this._pos4 + 12]
                }, r.crossTileID.set = function(t) {
                    this._structArray.uint32[this._pos4 + 12] = t
                }, r.textBoxScale.get = function() {
                    return this._structArray.float32[this._pos4 + 13]
                }, r.textOffset0.get = function() {
                    return this._structArray.float32[this._pos4 + 14]
                }, r.textOffset1.get = function() {
                    return this._structArray.float32[this._pos4 + 15]
                }, r.collisionCircleDiameter.get = function() {
                    return this._structArray.float32[this._pos4 + 16]
                }, Object.defineProperties(e.prototype, r), e
            }(wi);
            Yi.prototype.size = 68;
            var Qi = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.get = function(t) {
                    return new Yi(this, t)
                }, e
            }(Ui);
            Rn("SymbolInstanceArray", Qi);
            var to = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getoffsetX = function(t) {
                    return this.float32[1 * t + 0]
                }, e
            }(ji);
            Rn("GlyphOffsetArray", to);
            var eo = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getx = function(t) {
                    return this.int16[3 * t + 0]
                }, e.prototype.gety = function(t) {
                    return this.int16[3 * t + 1]
                }, e.prototype.gettileUnitDistanceFromAnchor = function(t) {
                    return this.int16[3 * t + 2]
                }, e
            }(Vi);
            Rn("SymbolLineVertexArray", eo);
            var ro = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var r = {
                    featureIndex: {
                        configurable: !0
                    },
                    sourceLayerIndex: {
                        configurable: !0
                    },
                    bucketIndex: {
                        configurable: !0
                    }
                };
                return r.featureIndex.get = function() {
                    return this._structArray.uint32[this._pos4 + 0]
                }, r.sourceLayerIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 2]
                }, r.bucketIndex.get = function() {
                    return this._structArray.uint16[this._pos2 + 3]
                }, Object.defineProperties(e.prototype, r), e
            }(wi);
            ro.prototype.size = 8;
            var no = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.get = function(t) {
                    return new ro(this, t)
                }, e
            }(qi);
            Rn("FeatureIndexArray", no);
            var io = Ti([{
                    name: "a_pos",
                    components: 2,
                    type: "Int16"
                }], 4).members,
                oo = function(t) {
                    void 0 === t && (t = []), this.segments = t
                };

            function ao(t, e) {
                return 256 * (t = l(Math.floor(t), 0, 255)) + l(Math.floor(e), 0, 255)
            }
            oo.prototype.prepareSegment = function(t, e, r, n) {
                var i = this.segments[this.segments.length - 1];
                return t > oo.MAX_VERTEX_ARRAY_LENGTH && w("Max vertices per segment is " + oo.MAX_VERTEX_ARRAY_LENGTH + ": bucket requested " + t), (!i || i.vertexLength + t > oo.MAX_VERTEX_ARRAY_LENGTH || i.sortKey !== n) && (i = {
                    vertexOffset: e.length,
                    primitiveOffset: r.length,
                    vertexLength: 0,
                    primitiveLength: 0
                }, void 0 !== n && (i.sortKey = n), this.segments.push(i)), i
            }, oo.prototype.get = function() {
                return this.segments
            }, oo.prototype.destroy = function() {
                for (var t = 0, e = this.segments; t < e.length; t += 1) {
                    var r = e[t];
                    for (var n in r.vaos) r.vaos[n].destroy()
                }
            }, oo.simpleSegment = function(t, e, r, n) {
                return new oo([{
                    vertexOffset: t,
                    primitiveOffset: e,
                    vertexLength: r,
                    primitiveLength: n,
                    vaos: {},
                    sortKey: 0
                }])
            }, oo.MAX_VERTEX_ARRAY_LENGTH = Math.pow(2, 16) - 1, Rn("SegmentVector", oo);
            var so = Ti([{
                    name: "a_pattern_from",
                    components: 4,
                    type: "Uint16"
                }, {
                    name: "a_pattern_to",
                    components: 4,
                    type: "Uint16"
                }, {
                    name: "a_pixel_ratio_from",
                    components: 1,
                    type: "Uint16"
                }, {
                    name: "a_pixel_ratio_to",
                    components: 1,
                    type: "Uint16"
                }]),
                uo = e((function(t) {
                    t.exports = function(t, e) {
                        var r, n, i, o, a, s, u, l;
                        for (n = t.length - (r = 3 & t.length), i = e, a = 3432918353, s = 461845907, l = 0; l < n;) u = 255 & t.charCodeAt(l) | (255 & t.charCodeAt(++l)) << 8 | (255 & t.charCodeAt(++l)) << 16 | (255 & t.charCodeAt(++l)) << 24, ++l, i = 27492 + (65535 & (o = 5 * (65535 & (i = (i ^= u = (65535 & (u = (u = (65535 & u) * a + (((u >>> 16) * a & 65535) << 16) & 4294967295) << 15 | u >>> 17)) * s + (((u >>> 16) * s & 65535) << 16) & 4294967295) << 13 | i >>> 19)) + ((5 * (i >>> 16) & 65535) << 16) & 4294967295)) + ((58964 + (o >>> 16) & 65535) << 16);
                        switch (u = 0, r) {
                            case 3:
                                u ^= (255 & t.charCodeAt(l + 2)) << 16;
                            case 2:
                                u ^= (255 & t.charCodeAt(l + 1)) << 8;
                            case 1:
                                i ^= u = (65535 & (u = (u = (65535 & (u ^= 255 & t.charCodeAt(l))) * a + (((u >>> 16) * a & 65535) << 16) & 4294967295) << 15 | u >>> 17)) * s + (((u >>> 16) * s & 65535) << 16) & 4294967295
                        }
                        return i ^= t.length, i = 2246822507 * (65535 & (i ^= i >>> 16)) + ((2246822507 * (i >>> 16) & 65535) << 16) & 4294967295, i = 3266489909 * (65535 & (i ^= i >>> 13)) + ((3266489909 * (i >>> 16) & 65535) << 16) & 4294967295, (i ^= i >>> 16) >>> 0
                    }
                })),
                lo = e((function(t) {
                    t.exports = function(t, e) {
                        for (var r, n = t.length, i = e ^ n, o = 0; n >= 4;) r = 1540483477 * (65535 & (r = 255 & t.charCodeAt(o) | (255 & t.charCodeAt(++o)) << 8 | (255 & t.charCodeAt(++o)) << 16 | (255 & t.charCodeAt(++o)) << 24)) + ((1540483477 * (r >>> 16) & 65535) << 16), i = 1540483477 * (65535 & i) + ((1540483477 * (i >>> 16) & 65535) << 16) ^ (r = 1540483477 * (65535 & (r ^= r >>> 24)) + ((1540483477 * (r >>> 16) & 65535) << 16)), n -= 4, ++o;
                        switch (n) {
                            case 3:
                                i ^= (255 & t.charCodeAt(o + 2)) << 16;
                            case 2:
                                i ^= (255 & t.charCodeAt(o + 1)) << 8;
                            case 1:
                                i = 1540483477 * (65535 & (i ^= 255 & t.charCodeAt(o))) + ((1540483477 * (i >>> 16) & 65535) << 16)
                        }
                        return i = 1540483477 * (65535 & (i ^= i >>> 13)) + ((1540483477 * (i >>> 16) & 65535) << 16), (i ^= i >>> 15) >>> 0
                    }
                })),
                co = uo,
                po = lo;
            co.murmur3 = uo, co.murmur2 = po;
            var ho = function() {
                this.ids = [], this.positions = [], this.indexed = !1
            };
            ho.prototype.add = function(t, e, r, n) {
                this.ids.push(mo(t)), this.positions.push(e, r, n)
            }, ho.prototype.getPositions = function(t) {
                for (var e = mo(t), r = 0, n = this.ids.length - 1; r < n;) {
                    var i = r + n >> 1;
                    this.ids[i] >= e ? n = i : r = i + 1
                }
                for (var o = []; this.ids[r] === e;) o.push({
                    index: this.positions[3 * r],
                    start: this.positions[3 * r + 1],
                    end: this.positions[3 * r + 2]
                }), r++;
                return o
            }, ho.serialize = function(t, e) {
                var r = new Float64Array(t.ids),
                    n = new Uint32Array(t.positions);
                return function t(e, r, n, i) {
                    for (; n < i;) {
                        for (var o = e[n + i >> 1], a = n - 1, s = i + 1;;) {
                            do {
                                a++
                            } while (e[a] < o);
                            do {
                                s--
                            } while (e[s] > o);
                            if (a >= s) break;
                            yo(e, a, s), yo(r, 3 * a, 3 * s), yo(r, 3 * a + 1, 3 * s + 1), yo(r, 3 * a + 2, 3 * s + 2)
                        }
                        s - n < i - s ? (t(e, r, n, s), n = s + 1) : (t(e, r, s + 1, i), i = s)
                    }
                }(r, n, 0, r.length - 1), e && e.push(r.buffer, n.buffer), {
                    ids: r,
                    positions: n
                }
            }, ho.deserialize = function(t) {
                var e = new ho;
                return e.ids = t.ids, e.positions = t.positions, e.indexed = !0, e
            };
            var fo = Math.pow(2, 53) - 1;

            function mo(t) {
                var e = +t;
                return !isNaN(e) && e <= fo ? e : co(String(t))
            }

            function yo(t, e, r) {
                var n = t[e];
                t[e] = t[r], t[r] = n
            }
            Rn("FeaturePositionMap", ho);
            var vo = function(t, e) {
                    this.gl = t.gl, this.location = e
                },
                go = function(t) {
                    function e(e, r) {
                        t.call(this, e, r), this.current = 0
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                        this.current !== t && (this.current = t, this.gl.uniform1i(this.location, t))
                    }, e
                }(vo),
                _o = function(t) {
                    function e(e, r) {
                        t.call(this, e, r), this.current = 0
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                        this.current !== t && (this.current = t, this.gl.uniform1f(this.location, t))
                    }, e
                }(vo),
                xo = function(t) {
                    function e(e, r) {
                        t.call(this, e, r), this.current = [0, 0]
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                        t[0] === this.current[0] && t[1] === this.current[1] || (this.current = t, this.gl.uniform2f(this.location, t[0], t[1]))
                    }, e
                }(vo),
                bo = function(t) {
                    function e(e, r) {
                        t.call(this, e, r), this.current = [0, 0, 0]
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                        t[0] === this.current[0] && t[1] === this.current[1] && t[2] === this.current[2] || (this.current = t, this.gl.uniform3f(this.location, t[0], t[1], t[2]))
                    }, e
                }(vo),
                wo = function(t) {
                    function e(e, r) {
                        t.call(this, e, r), this.current = [0, 0, 0, 0]
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                        t[0] === this.current[0] && t[1] === this.current[1] && t[2] === this.current[2] && t[3] === this.current[3] || (this.current = t, this.gl.uniform4f(this.location, t[0], t[1], t[2], t[3]))
                    }, e
                }(vo),
                So = function(t) {
                    function e(e, r) {
                        t.call(this, e, r), this.current = Yt.transparent
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                        t.r === this.current.r && t.g === this.current.g && t.b === this.current.b && t.a === this.current.a || (this.current = t, this.gl.uniform4f(this.location, t.r, t.g, t.b, t.a))
                    }, e
                }(vo),
                To = new Float32Array(16),
                Eo = function(t) {
                    function e(e, r) {
                        t.call(this, e, r), this.current = To
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                        if (t[12] !== this.current[12] || t[0] !== this.current[0]) return this.current = t, void this.gl.uniformMatrix4fv(this.location, !1, t);
                        for (var e = 1; e < 16; e++)
                            if (t[e] !== this.current[e]) {
                                this.current = t, this.gl.uniformMatrix4fv(this.location, !1, t);
                                break
                            }
                    }, e
                }(vo);

            function Ao(t) {
                return [ao(255 * t.r, 255 * t.g), ao(255 * t.b, 255 * t.a)]
            }
            var Co = function(t, e, r) {
                this.value = t, this.uniformNames = e.map((function(t) {
                    return "u_" + t
                })), this.type = r
            };
            Co.prototype.setUniform = function(t, e, r) {
                t.set(r.constantOr(this.value))
            }, Co.prototype.getBinding = function(t, e, r) {
                return "color" === this.type ? new So(t, e) : new _o(t, e)
            };
            var Io = function(t, e) {
                this.uniformNames = e.map((function(t) {
                    return "u_" + t
                })), this.patternFrom = null, this.patternTo = null, this.pixelRatioFrom = 1, this.pixelRatioTo = 1
            };
            Io.prototype.setConstantPatternPositions = function(t, e) {
                this.pixelRatioFrom = e.pixelRatio, this.pixelRatioTo = t.pixelRatio, this.patternFrom = e.tlbr, this.patternTo = t.tlbr
            }, Io.prototype.setUniform = function(t, e, r, n) {
                var i = "u_pattern_to" === n ? this.patternTo : "u_pattern_from" === n ? this.patternFrom : "u_pixel_ratio_to" === n ? this.pixelRatioTo : "u_pixel_ratio_from" === n ? this.pixelRatioFrom : null;
                i && t.set(i)
            }, Io.prototype.getBinding = function(t, e, r) {
                return "u_pattern" === r.substr(0, 9) ? new wo(t, e) : new _o(t, e)
            };
            var ko = function(t, e, r, n) {
                this.expression = t, this.type = r, this.maxValue = 0, this.paintVertexAttributes = e.map((function(t) {
                    return {
                        name: "a_" + t,
                        type: "Float32",
                        components: "color" === r ? 2 : 1,
                        offset: 0
                    }
                })), this.paintVertexArray = new n
            };
            ko.prototype.populatePaintArray = function(t, e, r, n, i) {
                var o = this.paintVertexArray.length,
                    a = this.expression.evaluate(new oi(0), e, {}, n, [], i);
                this.paintVertexArray.resize(t), this._setPaintValue(o, t, a)
            }, ko.prototype.updatePaintArray = function(t, e, r, n) {
                var i = this.expression.evaluate({
                    zoom: 0
                }, r, n);
                this._setPaintValue(t, e, i)
            }, ko.prototype._setPaintValue = function(t, e, r) {
                if ("color" === this.type)
                    for (var n = Ao(r), i = t; i < e; i++) this.paintVertexArray.emplace(i, n[0], n[1]);
                else {
                    for (var o = t; o < e; o++) this.paintVertexArray.emplace(o, r);
                    this.maxValue = Math.max(this.maxValue, Math.abs(r))
                }
            }, ko.prototype.upload = function(t) {
                this.paintVertexArray && this.paintVertexArray.arrayBuffer && (this.paintVertexBuffer && this.paintVertexBuffer.buffer ? this.paintVertexBuffer.updateData(this.paintVertexArray) : this.paintVertexBuffer = t.createVertexBuffer(this.paintVertexArray, this.paintVertexAttributes, this.expression.isStateDependent))
            }, ko.prototype.destroy = function() {
                this.paintVertexBuffer && this.paintVertexBuffer.destroy()
            };
            var Po = function(t, e, r, n, i, o) {
                this.expression = t, this.uniformNames = e.map((function(t) {
                    return "u_" + t + "_t"
                })), this.type = r, this.useIntegerZoom = n, this.zoom = i, this.maxValue = 0, this.paintVertexAttributes = e.map((function(t) {
                    return {
                        name: "a_" + t,
                        type: "Float32",
                        components: "color" === r ? 4 : 2,
                        offset: 0
                    }
                })), this.paintVertexArray = new o
            };
            Po.prototype.populatePaintArray = function(t, e, r, n, i) {
                var o = this.expression.evaluate(new oi(this.zoom), e, {}, n, [], i),
                    a = this.expression.evaluate(new oi(this.zoom + 1), e, {}, n, [], i),
                    s = this.paintVertexArray.length;
                this.paintVertexArray.resize(t), this._setPaintValue(s, t, o, a)
            }, Po.prototype.updatePaintArray = function(t, e, r, n) {
                var i = this.expression.evaluate({
                        zoom: this.zoom
                    }, r, n),
                    o = this.expression.evaluate({
                        zoom: this.zoom + 1
                    }, r, n);
                this._setPaintValue(t, e, i, o)
            }, Po.prototype._setPaintValue = function(t, e, r, n) {
                if ("color" === this.type)
                    for (var i = Ao(r), o = Ao(n), a = t; a < e; a++) this.paintVertexArray.emplace(a, i[0], i[1], o[0], o[1]);
                else {
                    for (var s = t; s < e; s++) this.paintVertexArray.emplace(s, r, n);
                    this.maxValue = Math.max(this.maxValue, Math.abs(r), Math.abs(n))
                }
            }, Po.prototype.upload = function(t) {
                this.paintVertexArray && this.paintVertexArray.arrayBuffer && (this.paintVertexBuffer && this.paintVertexBuffer.buffer ? this.paintVertexBuffer.updateData(this.paintVertexArray) : this.paintVertexBuffer = t.createVertexBuffer(this.paintVertexArray, this.paintVertexAttributes, this.expression.isStateDependent))
            }, Po.prototype.destroy = function() {
                this.paintVertexBuffer && this.paintVertexBuffer.destroy()
            }, Po.prototype.setUniform = function(t, e) {
                var r = this.useIntegerZoom ? Math.floor(e.zoom) : e.zoom,
                    n = l(this.expression.interpolationFactor(r, this.zoom, this.zoom + 1), 0, 1);
                t.set(n)
            }, Po.prototype.getBinding = function(t, e, r) {
                return new _o(t, e)
            };
            var zo = function(t, e, r, n, i, o) {
                this.expression = t, this.type = e, this.useIntegerZoom = r, this.zoom = n, this.layerId = o, this.zoomInPaintVertexArray = new i, this.zoomOutPaintVertexArray = new i
            };
            zo.prototype.populatePaintArray = function(t, e, r) {
                var n = this.zoomInPaintVertexArray.length;
                this.zoomInPaintVertexArray.resize(t), this.zoomOutPaintVertexArray.resize(t), this._setPaintValues(n, t, e.patterns && e.patterns[this.layerId], r)
            }, zo.prototype.updatePaintArray = function(t, e, r, n, i) {
                this._setPaintValues(t, e, r.patterns && r.patterns[this.layerId], i)
            }, zo.prototype._setPaintValues = function(t, e, r, n) {
                if (n && r) {
                    var i = n[r.min],
                        o = n[r.mid],
                        a = n[r.max];
                    if (i && o && a)
                        for (var s = t; s < e; s++) this.zoomInPaintVertexArray.emplace(s, o.tl[0], o.tl[1], o.br[0], o.br[1], i.tl[0], i.tl[1], i.br[0], i.br[1], o.pixelRatio, i.pixelRatio), this.zoomOutPaintVertexArray.emplace(s, o.tl[0], o.tl[1], o.br[0], o.br[1], a.tl[0], a.tl[1], a.br[0], a.br[1], o.pixelRatio, a.pixelRatio)
                }
            }, zo.prototype.upload = function(t) {
                this.zoomInPaintVertexArray && this.zoomInPaintVertexArray.arrayBuffer && this.zoomOutPaintVertexArray && this.zoomOutPaintVertexArray.arrayBuffer && (this.zoomInPaintVertexBuffer = t.createVertexBuffer(this.zoomInPaintVertexArray, so.members, this.expression.isStateDependent), this.zoomOutPaintVertexBuffer = t.createVertexBuffer(this.zoomOutPaintVertexArray, so.members, this.expression.isStateDependent))
            }, zo.prototype.destroy = function() {
                this.zoomOutPaintVertexBuffer && this.zoomOutPaintVertexBuffer.destroy(), this.zoomInPaintVertexBuffer && this.zoomInPaintVertexBuffer.destroy()
            };
            var Mo = function(t, e, r) {
                this.binders = {}, this._buffers = [];
                var n = [];
                for (var i in t.paint._values)
                    if (r(i)) {
                        var o = t.paint.get(i);
                        if (o instanceof hi && zr(o.property.specification)) {
                            var a = Lo(i, t.type),
                                s = o.value,
                                u = o.property.specification.type,
                                l = o.property.useIntegerZoom,
                                c = o.property.specification["property-type"],
                                p = "cross-faded" === c || "cross-faded-data-driven" === c;
                            if ("constant" === s.kind) this.binders[i] = p ? new Io(s.value, a) : new Co(s.value, a, u), n.push("/u_" + i);
                            else if ("source" === s.kind || p) {
                                var h = Oo(i, u, "source");
                                this.binders[i] = p ? new zo(s, u, l, e, h, t.id) : new ko(s, a, u, h), n.push("/a_" + i)
                            } else {
                                var f = Oo(i, u, "composite");
                                this.binders[i] = new Po(s, a, u, l, e, f), n.push("/z_" + i)
                            }
                        }
                    } this.cacheKey = n.sort().join("")
            };
            Mo.prototype.getMaxValue = function(t) {
                var e = this.binders[t];
                return e instanceof ko || e instanceof Po ? e.maxValue : 0
            }, Mo.prototype.populatePaintArrays = function(t, e, r, n, i) {
                for (var o in this.binders) {
                    var a = this.binders[o];
                    (a instanceof ko || a instanceof Po || a instanceof zo) && a.populatePaintArray(t, e, r, n, i)
                }
            }, Mo.prototype.setConstantPatternPositions = function(t, e) {
                for (var r in this.binders) {
                    var n = this.binders[r];
                    n instanceof Io && n.setConstantPatternPositions(t, e)
                }
            }, Mo.prototype.updatePaintArrays = function(t, e, r, n, i) {
                var o = !1;
                for (var a in t)
                    for (var s = 0, u = e.getPositions(a); s < u.length; s += 1) {
                        var l = u[s],
                            c = r.feature(l.index);
                        for (var p in this.binders) {
                            var h = this.binders[p];
                            if ((h instanceof ko || h instanceof Po || h instanceof zo) && !0 === h.expression.isStateDependent) {
                                var f = n.paint.get(p);
                                h.expression = f.value, h.updatePaintArray(l.start, l.end, c, t[a], i), o = !0
                            }
                        }
                    }
                return o
            }, Mo.prototype.defines = function() {
                var t = [];
                for (var e in this.binders) {
                    var r = this.binders[e];
                    (r instanceof Co || r instanceof Io) && t.push.apply(t, r.uniformNames.map((function(t) {
                        return "#define HAS_UNIFORM_" + t
                    })))
                }
                return t
            }, Mo.prototype.getBinderAttributes = function() {
                var t = [];
                for (var e in this.binders) {
                    var r = this.binders[e];
                    if (r instanceof ko || r instanceof Po)
                        for (var n = 0; n < r.paintVertexAttributes.length; n++) t.push(r.paintVertexAttributes[n].name);
                    else if (r instanceof zo)
                        for (var i = 0; i < so.members.length; i++) t.push(so.members[i].name)
                }
                return t
            }, Mo.prototype.getBinderUniforms = function() {
                var t = [];
                for (var e in this.binders) {
                    var r = this.binders[e];
                    if (r instanceof Co || r instanceof Io || r instanceof Po)
                        for (var n = 0, i = r.uniformNames; n < i.length; n += 1) t.push(i[n])
                }
                return t
            }, Mo.prototype.getPaintVertexBuffers = function() {
                return this._buffers
            }, Mo.prototype.getUniforms = function(t, e) {
                var r = [];
                for (var n in this.binders) {
                    var i = this.binders[n];
                    if (i instanceof Co || i instanceof Io || i instanceof Po)
                        for (var o = 0, a = i.uniformNames; o < a.length; o += 1) {
                            var s = a[o];
                            if (e[s]) {
                                var u = i.getBinding(t, e[s], s);
                                r.push({
                                    name: s,
                                    property: n,
                                    binding: u
                                })
                            }
                        }
                }
                return r
            }, Mo.prototype.setUniforms = function(t, e, r, n) {
                for (var i = 0, o = e; i < o.length; i += 1) {
                    var a = o[i],
                        s = a.name,
                        u = a.property;
                    this.binders[u].setUniform(a.binding, n, r.get(u), s)
                }
            }, Mo.prototype.updatePaintBuffers = function(t) {
                for (var e in this._buffers = [], this.binders) {
                    var r = this.binders[e];
                    if (t && r instanceof zo) {
                        var n = 2 === t.fromScale ? r.zoomInPaintVertexBuffer : r.zoomOutPaintVertexBuffer;
                        n && this._buffers.push(n)
                    } else(r instanceof ko || r instanceof Po) && r.paintVertexBuffer && this._buffers.push(r.paintVertexBuffer)
                }
            }, Mo.prototype.upload = function(t) {
                for (var e in this.binders) {
                    var r = this.binders[e];
                    (r instanceof ko || r instanceof Po || r instanceof zo) && r.upload(t)
                }
                this.updatePaintBuffers()
            }, Mo.prototype.destroy = function() {
                for (var t in this.binders) {
                    var e = this.binders[t];
                    (e instanceof ko || e instanceof Po || e instanceof zo) && e.destroy()
                }
            };
            var Do = function(t, e, r) {
                void 0 === r && (r = function() {
                    return !0
                }), this.programConfigurations = {};
                for (var n = 0, i = t; n < i.length; n += 1) {
                    var o = i[n];
                    this.programConfigurations[o.id] = new Mo(o, e, r)
                }
                this.needsUpload = !1, this._featureMap = new ho, this._bufferOffset = 0
            };

            function Lo(t, e) {
                return {
                    "text-opacity": ["opacity"],
                    "icon-opacity": ["opacity"],
                    "text-color": ["fill_color"],
                    "icon-color": ["fill_color"],
                    "text-halo-color": ["halo_color"],
                    "icon-halo-color": ["halo_color"],
                    "text-halo-blur": ["halo_blur"],
                    "icon-halo-blur": ["halo_blur"],
                    "text-halo-width": ["halo_width"],
                    "icon-halo-width": ["halo_width"],
                    "line-gap-width": ["gapwidth"],
                    "line-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"],
                    "fill-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"],
                    "fill-extrusion-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"]
                } [t] || [t.replace(e + "-", "").replace(/-/g, "_")]
            }

            function Oo(t, e, r) {
                var n = {
                        color: {
                            source: Gi,
                            composite: Hi
                        },
                        number: {
                            source: ji,
                            composite: Gi
                        }
                    },
                    i = function(t) {
                        return {
                            "line-pattern": {
                                source: Pi,
                                composite: Pi
                            },
                            "fill-pattern": {
                                source: Pi,
                                composite: Pi
                            },
                            "fill-extrusion-pattern": {
                                source: Pi,
                                composite: Pi
                            }
                        } [t]
                    }(t);
                return i && i[r] || n[e][r]
            }
            Do.prototype.populatePaintArrays = function(t, e, r, n, i, o) {
                for (var a in this.programConfigurations) this.programConfigurations[a].populatePaintArrays(t, e, n, i, o);
                void 0 !== e.id && this._featureMap.add(e.id, r, this._bufferOffset, t), this._bufferOffset = t, this.needsUpload = !0
            }, Do.prototype.updatePaintArrays = function(t, e, r, n) {
                for (var i = 0, o = r; i < o.length; i += 1) {
                    var a = o[i];
                    this.needsUpload = this.programConfigurations[a.id].updatePaintArrays(t, this._featureMap, e, a, n) || this.needsUpload
                }
            }, Do.prototype.get = function(t) {
                return this.programConfigurations[t]
            }, Do.prototype.upload = function(t) {
                if (this.needsUpload) {
                    for (var e in this.programConfigurations) this.programConfigurations[e].upload(t);
                    this.needsUpload = !1
                }
            }, Do.prototype.destroy = function() {
                for (var t in this.programConfigurations) this.programConfigurations[t].destroy()
            }, Rn("ConstantBinder", Co), Rn("CrossFadedConstantBinder", Io), Rn("SourceExpressionBinder", ko), Rn("CrossFadedCompositeBinder", zo), Rn("CompositeExpressionBinder", Po), Rn("ProgramConfiguration", Mo, {
                omit: ["_buffers"]
            }), Rn("ProgramConfigurationSet", Do);
            var Ro = Math.pow(2, 14) - 1,
                Bo = -Ro - 1;

            function Fo(t) {
                for (var e = 8192 / t.extent, r = t.loadGeometry(), n = 0; n < r.length; n++)
                    for (var i = r[n], o = 0; o < i.length; o++) {
                        var a = i[o],
                            s = Math.round(a.x * e),
                            u = Math.round(a.y * e);
                        a.x = l(s, Bo, Ro), a.y = l(u, Bo, Ro), (s < a.x || s > a.x + 1 || u < a.y || u > a.y + 1) && w("Geometry exceeds allowed extent, reduce your vector tile buffer size")
                    }
                return r
            }

            function No(t, e, r, n, i) {
                t.emplaceBack(2 * e + (n + 1) / 2, 2 * r + (i + 1) / 2)
            }
            var Uo = function(t) {
                this.zoom = t.zoom, this.overscaling = t.overscaling, this.layers = t.layers, this.layerIds = this.layers.map((function(t) {
                    return t.id
                })), this.index = t.index, this.hasPattern = !1, this.layoutVertexArray = new Ai, this.indexArray = new Fi, this.segments = new oo, this.programConfigurations = new Do(t.layers, t.zoom), this.stateDependentLayerIds = this.layers.filter((function(t) {
                    return t.isStateDependent()
                })).map((function(t) {
                    return t.id
                }))
            };

            function jo(t, e) {
                for (var r = 0; r < t.length; r++)
                    if (Ko(e, t[r])) return !0;
                for (var n = 0; n < e.length; n++)
                    if (Ko(t, e[n])) return !0;
                return !!$o(t, e)
            }

            function Vo(t, e, r) {
                return !!Ko(t, e) || !!Ho(e, t, r)
            }

            function qo(t, e) {
                if (1 === t.length) return Xo(e, t[0]);
                for (var r = 0; r < e.length; r++)
                    for (var n = e[r], i = 0; i < n.length; i++)
                        if (Ko(t, n[i])) return !0;
                for (var o = 0; o < t.length; o++)
                    if (Xo(e, t[o])) return !0;
                for (var a = 0; a < e.length; a++)
                    if ($o(t, e[a])) return !0;
                return !1
            }

            function Zo(t, e, r) {
                if (t.length > 1) {
                    if ($o(t, e)) return !0;
                    for (var n = 0; n < e.length; n++)
                        if (Ho(e[n], t, r)) return !0
                }
                for (var i = 0; i < t.length; i++)
                    if (Ho(t[i], e, r)) return !0;
                return !1
            }

            function $o(t, e) {
                if (0 === t.length || 0 === e.length) return !1;
                for (var r = 0; r < t.length - 1; r++)
                    for (var n = t[r], i = t[r + 1], o = 0; o < e.length - 1; o++)
                        if (Go(n, i, e[o], e[o + 1])) return !0;
                return !1
            }

            function Go(t, e, r, n) {
                return S(t, r, n) !== S(e, r, n) && S(t, e, r) !== S(t, e, n)
            }

            function Ho(t, e, r) {
                var n = r * r;
                if (1 === e.length) return t.distSqr(e[0]) < n;
                for (var i = 1; i < e.length; i++)
                    if (Wo(t, e[i - 1], e[i]) < n) return !0;
                return !1
            }

            function Wo(t, e, r) {
                var n = e.distSqr(r);
                if (0 === n) return t.distSqr(e);
                var i = ((t.x - e.x) * (r.x - e.x) + (t.y - e.y) * (r.y - e.y)) / n;
                return t.distSqr(i < 0 ? e : i > 1 ? r : r.sub(e)._mult(i)._add(e))
            }

            function Xo(t, e) {
                for (var r, n, i, o = !1, a = 0; a < t.length; a++)
                    for (var s = 0, u = (r = t[a]).length - 1; s < r.length; u = s++)(n = r[s]).y > e.y != (i = r[u]).y > e.y && e.x < (i.x - n.x) * (e.y - n.y) / (i.y - n.y) + n.x && (o = !o);
                return o
            }

            function Ko(t, e) {
                for (var r = !1, n = 0, i = t.length - 1; n < t.length; i = n++) {
                    var o = t[n],
                        a = t[i];
                    o.y > e.y != a.y > e.y && e.x < (a.x - o.x) * (e.y - o.y) / (a.y - o.y) + o.x && (r = !r)
                }
                return r
            }

            function Jo(t, e, r) {
                var n = r[0],
                    i = r[2];
                if (t.x < n.x && e.x < n.x || t.x > i.x && e.x > i.x || t.y < n.y && e.y < n.y || t.y > i.y && e.y > i.y) return !1;
                var o = S(t, e, r[0]);
                return o !== S(t, e, r[1]) || o !== S(t, e, r[2]) || o !== S(t, e, r[3])
            }

            function Yo(t, e, r) {
                var n = e.paint.get(t).value;
                return "constant" === n.kind ? n.value : r.programConfigurations.get(e.id).getMaxValue(t)
            }

            function Qo(t) {
                return Math.sqrt(t[0] * t[0] + t[1] * t[1])
            }

            function ta(t, e, r, n, o) {
                if (!e[0] && !e[1]) return t;
                var a = i.convert(e)._mult(o);
                "viewport" === r && a._rotate(-n);
                for (var s = [], u = 0; u < t.length; u++) s.push(t[u].sub(a));
                return s
            }
            Uo.prototype.populate = function(t, e, r) {
                var n = this.layers[0],
                    i = [],
                    o = null;
                "circle" === n.type && (o = n.layout.get("circle-sort-key"));
                for (var a = 0, s = t; a < s.length; a += 1) {
                    var u = s[a],
                        l = u.feature,
                        c = u.id,
                        p = u.index,
                        h = u.sourceLayerIndex,
                        f = this.layers[0]._featureFilter.needGeometry,
                        d = {
                            type: l.type,
                            id: c,
                            properties: l.properties,
                            geometry: f ? Fo(l) : []
                        };
                    if (this.layers[0]._featureFilter.filter(new oi(this.zoom), d, r)) {
                        f || (d.geometry = Fo(l));
                        var m = o ? o.evaluate(d, {}, r) : void 0;
                        i.push({
                            id: c,
                            properties: l.properties,
                            type: l.type,
                            sourceLayerIndex: h,
                            index: p,
                            geometry: d.geometry,
                            patterns: {},
                            sortKey: m
                        })
                    }
                }
                o && i.sort((function(t, e) {
                    return t.sortKey - e.sortKey
                }));
                for (var y = 0, v = i; y < v.length; y += 1) {
                    var g = v[y],
                        _ = g.geometry,
                        x = g.index,
                        b = g.sourceLayerIndex,
                        w = t[x].feature;
                    this.addFeature(g, _, x, r), e.featureIndex.insert(w, _, x, b, this.index)
                }
            }, Uo.prototype.update = function(t, e, r) {
                this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t, e, this.stateDependentLayers, r)
            }, Uo.prototype.isEmpty = function() {
                return 0 === this.layoutVertexArray.length
            }, Uo.prototype.uploadPending = function() {
                return !this.uploaded || this.programConfigurations.needsUpload
            }, Uo.prototype.upload = function(t) {
                this.uploaded || (this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, io), this.indexBuffer = t.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(t), this.uploaded = !0
            }, Uo.prototype.destroy = function() {
                this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy())
            }, Uo.prototype.addFeature = function(t, e, r, n) {
                for (var i = 0, o = e; i < o.length; i += 1)
                    for (var a = 0, s = o[i]; a < s.length; a += 1) {
                        var u = s[a],
                            l = u.x,
                            c = u.y;
                        if (!(l < 0 || l >= 8192 || c < 0 || c >= 8192)) {
                            var p = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray, t.sortKey),
                                h = p.vertexLength;
                            No(this.layoutVertexArray, l, c, -1, -1), No(this.layoutVertexArray, l, c, 1, -1), No(this.layoutVertexArray, l, c, 1, 1), No(this.layoutVertexArray, l, c, -1, 1), this.indexArray.emplaceBack(h, h + 1, h + 2), this.indexArray.emplaceBack(h, h + 3, h + 2), p.vertexLength += 4, p.primitiveLength += 2
                        }
                    }
                this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t, r, {}, n)
            }, Rn("CircleBucket", Uo, {
                omit: ["layers"]
            });
            var ea = new _i({
                    "circle-sort-key": new mi(Ct.layout_circle["circle-sort-key"])
                }),
                ra = {
                    paint: new _i({
                        "circle-radius": new mi(Ct.paint_circle["circle-radius"]),
                        "circle-color": new mi(Ct.paint_circle["circle-color"]),
                        "circle-blur": new mi(Ct.paint_circle["circle-blur"]),
                        "circle-opacity": new mi(Ct.paint_circle["circle-opacity"]),
                        "circle-translate": new di(Ct.paint_circle["circle-translate"]),
                        "circle-translate-anchor": new di(Ct.paint_circle["circle-translate-anchor"]),
                        "circle-pitch-scale": new di(Ct.paint_circle["circle-pitch-scale"]),
                        "circle-pitch-alignment": new di(Ct.paint_circle["circle-pitch-alignment"]),
                        "circle-stroke-width": new mi(Ct.paint_circle["circle-stroke-width"]),
                        "circle-stroke-color": new mi(Ct.paint_circle["circle-stroke-color"]),
                        "circle-stroke-opacity": new mi(Ct.paint_circle["circle-stroke-opacity"])
                    }),
                    layout: ea
                },
                na = "undefined" != typeof Float32Array ? Float32Array : Array;

            function ia(t) {
                return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 1, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 1, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, t
            }

            function oa(t, e, r) {
                var n = e[0],
                    i = e[1],
                    o = e[2],
                    a = e[3],
                    s = e[4],
                    u = e[5],
                    l = e[6],
                    c = e[7],
                    p = e[8],
                    h = e[9],
                    f = e[10],
                    d = e[11],
                    m = e[12],
                    y = e[13],
                    v = e[14],
                    g = e[15],
                    _ = r[0],
                    x = r[1],
                    b = r[2],
                    w = r[3];
                return t[0] = _ * n + x * s + b * p + w * m, t[1] = _ * i + x * u + b * h + w * y, t[2] = _ * o + x * l + b * f + w * v, t[3] = _ * a + x * c + b * d + w * g, t[4] = (_ = r[4]) * n + (x = r[5]) * s + (b = r[6]) * p + (w = r[7]) * m, t[5] = _ * i + x * u + b * h + w * y, t[6] = _ * o + x * l + b * f + w * v, t[7] = _ * a + x * c + b * d + w * g, t[8] = (_ = r[8]) * n + (x = r[9]) * s + (b = r[10]) * p + (w = r[11]) * m, t[9] = _ * i + x * u + b * h + w * y, t[10] = _ * o + x * l + b * f + w * v, t[11] = _ * a + x * c + b * d + w * g, t[12] = (_ = r[12]) * n + (x = r[13]) * s + (b = r[14]) * p + (w = r[15]) * m, t[13] = _ * i + x * u + b * h + w * y, t[14] = _ * o + x * l + b * f + w * v, t[15] = _ * a + x * c + b * d + w * g, t
            }
            Math.hypot || (Math.hypot = function() {
                for (var t = arguments, e = 0, r = arguments.length; r--;) e += t[r] * t[r];
                return Math.sqrt(e)
            });
            var aa, sa = oa;

            function ua(t, e, r) {
                var n = e[0],
                    i = e[1],
                    o = e[2],
                    a = e[3];
                return t[0] = r[0] * n + r[4] * i + r[8] * o + r[12] * a, t[1] = r[1] * n + r[5] * i + r[9] * o + r[13] * a, t[2] = r[2] * n + r[6] * i + r[10] * o + r[14] * a, t[3] = r[3] * n + r[7] * i + r[11] * o + r[15] * a, t
            }
            aa = new na(3), na != Float32Array && (aa[0] = 0, aa[1] = 0, aa[2] = 0),
                function() {
                    var t = new na(4);
                    na != Float32Array && (t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 0)
                }();
            var la = (function() {
                var t = new na(2);
                na != Float32Array && (t[0] = 0, t[1] = 0)
            }(), function(t) {
                function e(e) {
                    t.call(this, e, ra)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.createBucket = function(t) {
                    return new Uo(t)
                }, e.prototype.queryRadius = function(t) {
                    var e = t;
                    return Yo("circle-radius", this, e) + Yo("circle-stroke-width", this, e) + Qo(this.paint.get("circle-translate"))
                }, e.prototype.queryIntersectsFeature = function(t, e, r, n, i, o, a, s) {
                    for (var u = ta(t, this.paint.get("circle-translate"), this.paint.get("circle-translate-anchor"), o.angle, a), l = this.paint.get("circle-radius").evaluate(e, r) + this.paint.get("circle-stroke-width").evaluate(e, r), c = "map" === this.paint.get("circle-pitch-alignment"), p = c ? u : function(t, e) {
                            return t.map((function(t) {
                                return ca(t, e)
                            }))
                        }(u, s), h = c ? l * a : l, f = 0, d = n; f < d.length; f += 1)
                        for (var m = 0, y = d[f]; m < y.length; m += 1) {
                            var v = y[m],
                                g = c ? v : ca(v, s),
                                _ = h,
                                x = ua([], [v.x, v.y, 0, 1], s);
                            if ("viewport" === this.paint.get("circle-pitch-scale") && "map" === this.paint.get("circle-pitch-alignment") ? _ *= x[3] / o.cameraToCenterDistance : "map" === this.paint.get("circle-pitch-scale") && "viewport" === this.paint.get("circle-pitch-alignment") && (_ *= o.cameraToCenterDistance / x[3]), Vo(p, g, _)) return !0
                        }
                    return !1
                }, e
            }(xi));

            function ca(t, e) {
                var r = ua([], [t.x, t.y, 0, 1], e);
                return new i(r[0] / r[3], r[1] / r[3])
            }
            var pa = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
            }(Uo);

            function ha(t, e, r, n) {
                var i = e.width,
                    o = e.height;
                if (n) {
                    if (n instanceof Uint8ClampedArray) n = new Uint8Array(n.buffer);
                    else if (n.length !== i * o * r) throw new RangeError("mismatched image size")
                } else n = new Uint8Array(i * o * r);
                return t.width = i, t.height = o, t.data = n, t
            }

            function fa(t, e, r) {
                var n = e.width,
                    i = e.height;
                if (n !== t.width || i !== t.height) {
                    var o = ha({}, {
                        width: n,
                        height: i
                    }, r);
                    da(t, o, {
                        x: 0,
                        y: 0
                    }, {
                        x: 0,
                        y: 0
                    }, {
                        width: Math.min(t.width, n),
                        height: Math.min(t.height, i)
                    }, r), t.width = n, t.height = i, t.data = o.data
                }
            }

            function da(t, e, r, n, i, o) {
                if (0 === i.width || 0 === i.height) return e;
                if (i.width > t.width || i.height > t.height || r.x > t.width - i.width || r.y > t.height - i.height) throw new RangeError("out of range source coordinates for image copy");
                if (i.width > e.width || i.height > e.height || n.x > e.width - i.width || n.y > e.height - i.height) throw new RangeError("out of range destination coordinates for image copy");
                for (var a = t.data, s = e.data, u = 0; u < i.height; u++)
                    for (var l = ((r.y + u) * t.width + r.x) * o, c = ((n.y + u) * e.width + n.x) * o, p = 0; p < i.width * o; p++) s[c + p] = a[l + p];
                return e
            }
            Rn("HeatmapBucket", pa, {
                omit: ["layers"]
            });
            var ma = function(t, e) {
                ha(this, t, 1, e)
            };
            ma.prototype.resize = function(t) {
                fa(this, t, 1)
            }, ma.prototype.clone = function() {
                return new ma({
                    width: this.width,
                    height: this.height
                }, new Uint8Array(this.data))
            }, ma.copy = function(t, e, r, n, i) {
                da(t, e, r, n, i, 1)
            };
            var ya = function(t, e) {
                ha(this, t, 4, e)
            };
            ya.prototype.resize = function(t) {
                fa(this, t, 4)
            }, ya.prototype.replace = function(t, e) {
                e ? this.data.set(t) : this.data = t instanceof Uint8ClampedArray ? new Uint8Array(t.buffer) : t
            }, ya.prototype.clone = function() {
                return new ya({
                    width: this.width,
                    height: this.height
                }, new Uint8Array(this.data))
            }, ya.copy = function(t, e, r, n, i) {
                da(t, e, r, n, i, 4)
            }, Rn("AlphaImage", ma), Rn("RGBAImage", ya);
            var va = {
                paint: new _i({
                    "heatmap-radius": new mi(Ct.paint_heatmap["heatmap-radius"]),
                    "heatmap-weight": new mi(Ct.paint_heatmap["heatmap-weight"]),
                    "heatmap-intensity": new di(Ct.paint_heatmap["heatmap-intensity"]),
                    "heatmap-color": new gi(Ct.paint_heatmap["heatmap-color"]),
                    "heatmap-opacity": new di(Ct.paint_heatmap["heatmap-opacity"])
                })
            };

            function ga(t, e) {
                for (var r = new Uint8Array(1024), n = {}, i = 0, o = 0; i < 256; i++, o += 4) {
                    n[e] = i / 255;
                    var a = t.evaluate(n);
                    r[o + 0] = Math.floor(255 * a.r / a.a), r[o + 1] = Math.floor(255 * a.g / a.a), r[o + 2] = Math.floor(255 * a.b / a.a), r[o + 3] = Math.floor(255 * a.a)
                }
                return new ya({
                    width: 256,
                    height: 1
                }, r)
            }
            var _a = function(t) {
                    function e(e) {
                        t.call(this, e, va), this._updateColorRamp()
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.createBucket = function(t) {
                        return new pa(t)
                    }, e.prototype._handleSpecialPaintPropertyUpdate = function(t) {
                        "heatmap-color" === t && this._updateColorRamp()
                    }, e.prototype._updateColorRamp = function() {
                        this.colorRamp = ga(this._transitionablePaint._values["heatmap-color"].value.expression, "heatmapDensity"), this.colorRampTexture = null
                    }, e.prototype.resize = function() {
                        this.heatmapFbo && (this.heatmapFbo.destroy(), this.heatmapFbo = null)
                    }, e.prototype.queryRadius = function() {
                        return 0
                    }, e.prototype.queryIntersectsFeature = function() {
                        return !1
                    }, e.prototype.hasOffscreenPass = function() {
                        return 0 !== this.paint.get("heatmap-opacity") && "none" !== this.visibility
                    }, e
                }(xi),
                xa = {
                    paint: new _i({
                        "hillshade-illumination-direction": new di(Ct.paint_hillshade["hillshade-illumination-direction"]),
                        "hillshade-illumination-anchor": new di(Ct.paint_hillshade["hillshade-illumination-anchor"]),
                        "hillshade-exaggeration": new di(Ct.paint_hillshade["hillshade-exaggeration"]),
                        "hillshade-shadow-color": new di(Ct.paint_hillshade["hillshade-shadow-color"]),
                        "hillshade-highlight-color": new di(Ct.paint_hillshade["hillshade-highlight-color"]),
                        "hillshade-accent-color": new di(Ct.paint_hillshade["hillshade-accent-color"])
                    })
                },
                ba = function(t) {
                    function e(e) {
                        t.call(this, e, xa)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.hasOffscreenPass = function() {
                        return 0 !== this.paint.get("hillshade-exaggeration") && "none" !== this.visibility
                    }, e
                }(xi),
                wa = Ti([{
                    name: "a_pos",
                    components: 2,
                    type: "Int16"
                }], 4).members,
                Sa = Ea,
                Ta = Ea;

            function Ea(t, e, r) {
                r = r || 2;
                var n, i, o, a, s, u, l, c = e && e.length,
                    p = c ? e[0] * r : t.length,
                    h = Aa(t, 0, p, r, !0),
                    f = [];
                if (!h || h.next === h.prev) return f;
                if (c && (h = function(t, e, r, n) {
                        var i, o, a, s = [];
                        for (i = 0, o = e.length; i < o; i++)(a = Aa(t, e[i] * n, i < o - 1 ? e[i + 1] * n : t.length, n, !1)) === a.next && (a.steiner = !0), s.push(Ba(a));
                        for (s.sort(Da), i = 0; i < s.length; i++) La(s[i], r), r = Ca(r, r.next);
                        return r
                    }(t, e, h, r)), t.length > 80 * r) {
                    n = o = t[0], i = a = t[1];
                    for (var d = r; d < p; d += r)(s = t[d]) < n && (n = s), (u = t[d + 1]) < i && (i = u), s > o && (o = s), u > a && (a = u);
                    l = 0 !== (l = Math.max(o - n, a - i)) ? 1 / l : 0
                }
                return Ia(h, f, r, n, i, l), f
            }

            function Aa(t, e, r, n, i) {
                var o, a;
                if (i === Ka(t, e, r, n) > 0)
                    for (o = e; o < r; o += n) a = Ha(o, t[o], t[o + 1], a);
                else
                    for (o = r - n; o >= e; o -= n) a = Ha(o, t[o], t[o + 1], a);
                return a && ja(a, a.next) && (Wa(a), a = a.next), a
            }

            function Ca(t, e) {
                if (!t) return t;
                e || (e = t);
                var r, n = t;
                do {
                    if (r = !1, n.steiner || !ja(n, n.next) && 0 !== Ua(n.prev, n, n.next)) n = n.next;
                    else {
                        if (Wa(n), (n = e = n.prev) === n.next) break;
                        r = !0
                    }
                } while (r || n !== e);
                return e
            }

            function Ia(t, e, r, n, i, o, a) {
                if (t) {
                    !a && o && function(t, e, r, n) {
                        var i = t;
                        do {
                            null === i.z && (i.z = Ra(i.x, i.y, e, r, n)), i.prevZ = i.prev, i.nextZ = i.next, i = i.next
                        } while (i !== t);
                        i.prevZ.nextZ = null, i.prevZ = null,
                            function(t) {
                                var e, r, n, i, o, a, s, u, l = 1;
                                do {
                                    for (r = t, t = null, o = null, a = 0; r;) {
                                        for (a++, n = r, s = 0, e = 0; e < l && (s++, n = n.nextZ); e++);
                                        for (u = l; s > 0 || u > 0 && n;) 0 !== s && (0 === u || !n || r.z <= n.z) ? (i = r, r = r.nextZ, s--) : (i = n, n = n.nextZ, u--), o ? o.nextZ = i : t = i, i.prevZ = o, o = i;
                                        r = n
                                    }
                                    o.nextZ = null, l *= 2
                                } while (a > 1)
                            }(i)
                    }(t, n, i, o);
                    for (var s, u, l = t; t.prev !== t.next;)
                        if (s = t.prev, u = t.next, o ? Pa(t, n, i, o) : ka(t)) e.push(s.i / r), e.push(t.i / r), e.push(u.i / r), Wa(t), t = u.next, l = u.next;
                        else if ((t = u) === l) {
                        a ? 1 === a ? Ia(t = za(Ca(t), e, r), e, r, n, i, o, 2) : 2 === a && Ma(t, e, r, n, i, o) : Ia(Ca(t), e, r, n, i, o, 1);
                        break
                    }
                }
            }

            function ka(t) {
                var e = t.prev,
                    r = t,
                    n = t.next;
                if (Ua(e, r, n) >= 0) return !1;
                for (var i = t.next.next; i !== t.prev;) {
                    if (Fa(e.x, e.y, r.x, r.y, n.x, n.y, i.x, i.y) && Ua(i.prev, i, i.next) >= 0) return !1;
                    i = i.next
                }
                return !0
            }

            function Pa(t, e, r, n) {
                var i = t.prev,
                    o = t,
                    a = t.next;
                if (Ua(i, o, a) >= 0) return !1;
                for (var s = i.x > o.x ? i.x > a.x ? i.x : a.x : o.x > a.x ? o.x : a.x, u = i.y > o.y ? i.y > a.y ? i.y : a.y : o.y > a.y ? o.y : a.y, l = Ra(i.x < o.x ? i.x < a.x ? i.x : a.x : o.x < a.x ? o.x : a.x, i.y < o.y ? i.y < a.y ? i.y : a.y : o.y < a.y ? o.y : a.y, e, r, n), c = Ra(s, u, e, r, n), p = t.prevZ, h = t.nextZ; p && p.z >= l && h && h.z <= c;) {
                    if (p !== t.prev && p !== t.next && Fa(i.x, i.y, o.x, o.y, a.x, a.y, p.x, p.y) && Ua(p.prev, p, p.next) >= 0) return !1;
                    if (p = p.prevZ, h !== t.prev && h !== t.next && Fa(i.x, i.y, o.x, o.y, a.x, a.y, h.x, h.y) && Ua(h.prev, h, h.next) >= 0) return !1;
                    h = h.nextZ
                }
                for (; p && p.z >= l;) {
                    if (p !== t.prev && p !== t.next && Fa(i.x, i.y, o.x, o.y, a.x, a.y, p.x, p.y) && Ua(p.prev, p, p.next) >= 0) return !1;
                    p = p.prevZ
                }
                for (; h && h.z <= c;) {
                    if (h !== t.prev && h !== t.next && Fa(i.x, i.y, o.x, o.y, a.x, a.y, h.x, h.y) && Ua(h.prev, h, h.next) >= 0) return !1;
                    h = h.nextZ
                }
                return !0
            }

            function za(t, e, r) {
                var n = t;
                do {
                    var i = n.prev,
                        o = n.next.next;
                    !ja(i, o) && Va(i, n, n.next, o) && $a(i, o) && $a(o, i) && (e.push(i.i / r), e.push(n.i / r), e.push(o.i / r), Wa(n), Wa(n.next), n = t = o), n = n.next
                } while (n !== t);
                return Ca(n)
            }

            function Ma(t, e, r, n, i, o) {
                var a = t;
                do {
                    for (var s = a.next.next; s !== a.prev;) {
                        if (a.i !== s.i && Na(a, s)) {
                            var u = Ga(a, s);
                            return a = Ca(a, a.next), u = Ca(u, u.next), Ia(a, e, r, n, i, o), void Ia(u, e, r, n, i, o)
                        }
                        s = s.next
                    }
                    a = a.next
                } while (a !== t)
            }

            function Da(t, e) {
                return t.x - e.x
            }

            function La(t, e) {
                if (e = function(t, e) {
                        var r, n = e,
                            i = t.x,
                            o = t.y,
                            a = -1 / 0;
                        do {
                            if (o <= n.y && o >= n.next.y && n.next.y !== n.y) {
                                var s = n.x + (o - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
                                if (s <= i && s > a) {
                                    if (a = s, s === i) {
                                        if (o === n.y) return n;
                                        if (o === n.next.y) return n.next
                                    }
                                    r = n.x < n.next.x ? n : n.next
                                }
                            }
                            n = n.next
                        } while (n !== e);
                        if (!r) return null;
                        if (i === a) return r;
                        var u, l = r,
                            c = r.x,
                            p = r.y,
                            h = 1 / 0;
                        n = r;
                        do {
                            i >= n.x && n.x >= c && i !== n.x && Fa(o < p ? i : a, o, c, p, o < p ? a : i, o, n.x, n.y) && (u = Math.abs(o - n.y) / (i - n.x), $a(n, t) && (u < h || u === h && (n.x > r.x || n.x === r.x && Oa(r, n))) && (r = n, h = u)), n = n.next
                        } while (n !== l);
                        return r
                    }(t, e)) {
                    var r = Ga(e, t);
                    Ca(e, e.next), Ca(r, r.next)
                }
            }

            function Oa(t, e) {
                return Ua(t.prev, t, e.prev) < 0 && Ua(e.next, t, t.next) < 0
            }

            function Ra(t, e, r, n, i) {
                return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - r) * i) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - n) * i) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
            }

            function Ba(t) {
                var e = t,
                    r = t;
                do {
                    (e.x < r.x || e.x === r.x && e.y < r.y) && (r = e), e = e.next
                } while (e !== t);
                return r
            }

            function Fa(t, e, r, n, i, o, a, s) {
                return (i - a) * (e - s) - (t - a) * (o - s) >= 0 && (t - a) * (n - s) - (r - a) * (e - s) >= 0 && (r - a) * (o - s) - (i - a) * (n - s) >= 0
            }

            function Na(t, e) {
                return t.next.i !== e.i && t.prev.i !== e.i && ! function(t, e) {
                    var r = t;
                    do {
                        if (r.i !== t.i && r.next.i !== t.i && r.i !== e.i && r.next.i !== e.i && Va(r, r.next, t, e)) return !0;
                        r = r.next
                    } while (r !== t);
                    return !1
                }(t, e) && ($a(t, e) && $a(e, t) && function(t, e) {
                    var r = t,
                        n = !1,
                        i = (t.x + e.x) / 2,
                        o = (t.y + e.y) / 2;
                    do {
                        r.y > o != r.next.y > o && r.next.y !== r.y && i < (r.next.x - r.x) * (o - r.y) / (r.next.y - r.y) + r.x && (n = !n), r = r.next
                    } while (r !== t);
                    return n
                }(t, e) && (Ua(t.prev, t, e.prev) || Ua(t, e.prev, e)) || ja(t, e) && Ua(t.prev, t, t.next) > 0 && Ua(e.prev, e, e.next) > 0)
            }

            function Ua(t, e, r) {
                return (e.y - t.y) * (r.x - e.x) - (e.x - t.x) * (r.y - e.y)
            }

            function ja(t, e) {
                return t.x === e.x && t.y === e.y
            }

            function Va(t, e, r, n) {
                var i = Za(Ua(t, e, r)),
                    o = Za(Ua(t, e, n)),
                    a = Za(Ua(r, n, t)),
                    s = Za(Ua(r, n, e));
                return i !== o && a !== s || !(0 !== i || !qa(t, r, e)) || !(0 !== o || !qa(t, n, e)) || !(0 !== a || !qa(r, t, n)) || !(0 !== s || !qa(r, e, n))
            }

            function qa(t, e, r) {
                return e.x <= Math.max(t.x, r.x) && e.x >= Math.min(t.x, r.x) && e.y <= Math.max(t.y, r.y) && e.y >= Math.min(t.y, r.y)
            }

            function Za(t) {
                return t > 0 ? 1 : t < 0 ? -1 : 0
            }

            function $a(t, e) {
                return Ua(t.prev, t, t.next) < 0 ? Ua(t, e, t.next) >= 0 && Ua(t, t.prev, e) >= 0 : Ua(t, e, t.prev) < 0 || Ua(t, t.next, e) < 0
            }

            function Ga(t, e) {
                var r = new Xa(t.i, t.x, t.y),
                    n = new Xa(e.i, e.x, e.y),
                    i = t.next,
                    o = e.prev;
                return t.next = e, e.prev = t, r.next = i, i.prev = r, n.next = r, r.prev = n, o.next = n, n.prev = o, n
            }

            function Ha(t, e, r, n) {
                var i = new Xa(t, e, r);
                return n ? (i.next = n.next, i.prev = n, n.next.prev = i, n.next = i) : (i.prev = i, i.next = i), i
            }

            function Wa(t) {
                t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ)
            }

            function Xa(t, e, r) {
                this.i = t, this.x = e, this.y = r, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1
            }

            function Ka(t, e, r, n) {
                for (var i = 0, o = e, a = r - n; o < r; o += n) i += (t[a] - t[o]) * (t[o + 1] + t[a + 1]), a = o;
                return i
            }

            function Ja(t, e, r, n, i) {
                ! function t(e, r, n, i, o) {
                    for (; i > n;) {
                        if (i - n > 600) {
                            var a = i - n + 1,
                                s = r - n + 1,
                                u = Math.log(a),
                                l = .5 * Math.exp(2 * u / 3),
                                c = .5 * Math.sqrt(u * l * (a - l) / a) * (s - a / 2 < 0 ? -1 : 1);
                            t(e, r, Math.max(n, Math.floor(r - s * l / a + c)), Math.min(i, Math.floor(r + (a - s) * l / a + c)), o)
                        }
                        var p = e[r],
                            h = n,
                            f = i;
                        for (Ya(e, n, r), o(e[i], p) > 0 && Ya(e, n, i); h < f;) {
                            for (Ya(e, h, f), h++, f--; o(e[h], p) < 0;) h++;
                            for (; o(e[f], p) > 0;) f--
                        }
                        0 === o(e[n], p) ? Ya(e, n, f) : Ya(e, ++f, i), f <= r && (n = f + 1), r <= f && (i = f - 1)
                    }
                }(t, e, r || 0, n || t.length - 1, i || Qa)
            }

            function Ya(t, e, r) {
                var n = t[e];
                t[e] = t[r], t[r] = n
            }

            function Qa(t, e) {
                return t < e ? -1 : t > e ? 1 : 0
            }

            function ts(t, e) {
                var r = t.length;
                if (r <= 1) return [t];
                for (var n, i, o = [], a = 0; a < r; a++) {
                    var s = T(t[a]);
                    0 !== s && (t[a].area = Math.abs(s), void 0 === i && (i = s < 0), i === s < 0 ? (n && o.push(n), n = [t[a]]) : n.push(t[a]))
                }
                if (n && o.push(n), e > 1)
                    for (var u = 0; u < o.length; u++) o[u].length <= e || (Ja(o[u], e, 1, o[u].length - 1, es), o[u] = o[u].slice(0, e));
                return o
            }

            function es(t, e) {
                return e.area - t.area
            }

            function rs(t, e, r) {
                for (var n = r.patternDependencies, i = !1, o = 0, a = e; o < a.length; o += 1) {
                    var s = a[o].paint.get(t + "-pattern");
                    s.isConstant() || (i = !0);
                    var u = s.constantOr(null);
                    u && (i = !0, n[u.to] = !0, n[u.from] = !0)
                }
                return i
            }

            function ns(t, e, r, n, i) {
                for (var o = i.patternDependencies, a = 0, s = e; a < s.length; a += 1) {
                    var u = s[a],
                        l = u.paint.get(t + "-pattern").value;
                    if ("constant" !== l.kind) {
                        var c = l.evaluate({
                                zoom: n - 1
                            }, r, {}, i.availableImages),
                            p = l.evaluate({
                                zoom: n
                            }, r, {}, i.availableImages),
                            h = l.evaluate({
                                zoom: n + 1
                            }, r, {}, i.availableImages);
                        p = p && p.name ? p.name : p, h = h && h.name ? h.name : h, o[c = c && c.name ? c.name : c] = !0, o[p] = !0, o[h] = !0, r.patterns[u.id] = {
                            min: c,
                            mid: p,
                            max: h
                        }
                    }
                }
                return r
            }
            Ea.deviation = function(t, e, r, n) {
                var i = e && e.length,
                    o = Math.abs(Ka(t, 0, i ? e[0] * r : t.length, r));
                if (i)
                    for (var a = 0, s = e.length; a < s; a++) o -= Math.abs(Ka(t, e[a] * r, a < s - 1 ? e[a + 1] * r : t.length, r));
                var u = 0;
                for (a = 0; a < n.length; a += 3) {
                    var l = n[a] * r,
                        c = n[a + 1] * r,
                        p = n[a + 2] * r;
                    u += Math.abs((t[l] - t[p]) * (t[c + 1] - t[l + 1]) - (t[l] - t[c]) * (t[p + 1] - t[l + 1]))
                }
                return 0 === o && 0 === u ? 0 : Math.abs((u - o) / o)
            }, Ea.flatten = function(t) {
                for (var e = t[0][0].length, r = {
                        vertices: [],
                        holes: [],
                        dimensions: e
                    }, n = 0, i = 0; i < t.length; i++) {
                    for (var o = 0; o < t[i].length; o++)
                        for (var a = 0; a < e; a++) r.vertices.push(t[i][o][a]);
                    i > 0 && r.holes.push(n += t[i - 1].length)
                }
                return r
            }, Sa.default = Ta;
            var is = function(t) {
                this.zoom = t.zoom, this.overscaling = t.overscaling, this.layers = t.layers, this.layerIds = this.layers.map((function(t) {
                    return t.id
                })), this.index = t.index, this.hasPattern = !1, this.patternFeatures = [], this.layoutVertexArray = new Ai, this.indexArray = new Fi, this.indexArray2 = new Zi, this.programConfigurations = new Do(t.layers, t.zoom), this.segments = new oo, this.segments2 = new oo, this.stateDependentLayerIds = this.layers.filter((function(t) {
                    return t.isStateDependent()
                })).map((function(t) {
                    return t.id
                }))
            };
            is.prototype.populate = function(t, e, r) {
                this.hasPattern = rs("fill", this.layers, e);
                for (var n = this.layers[0].layout.get("fill-sort-key"), i = [], o = 0, a = t; o < a.length; o += 1) {
                    var s = a[o],
                        u = s.feature,
                        l = s.id,
                        c = s.index,
                        p = s.sourceLayerIndex,
                        h = this.layers[0]._featureFilter.needGeometry,
                        f = {
                            type: u.type,
                            id: l,
                            properties: u.properties,
                            geometry: h ? Fo(u) : []
                        };
                    if (this.layers[0]._featureFilter.filter(new oi(this.zoom), f, r)) {
                        h || (f.geometry = Fo(u));
                        var d = n ? n.evaluate(f, {}, r, e.availableImages) : void 0;
                        i.push({
                            id: l,
                            properties: u.properties,
                            type: u.type,
                            sourceLayerIndex: p,
                            index: c,
                            geometry: f.geometry,
                            patterns: {},
                            sortKey: d
                        })
                    }
                }
                n && i.sort((function(t, e) {
                    return t.sortKey - e.sortKey
                }));
                for (var m = 0, y = i; m < y.length; m += 1) {
                    var v = y[m],
                        g = v.geometry,
                        _ = v.index,
                        x = v.sourceLayerIndex;
                    if (this.hasPattern) {
                        var b = ns("fill", this.layers, v, this.zoom, e);
                        this.patternFeatures.push(b)
                    } else this.addFeature(v, g, _, r, {});
                    e.featureIndex.insert(t[_].feature, g, _, x, this.index)
                }
            }, is.prototype.update = function(t, e, r) {
                this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t, e, this.stateDependentLayers, r)
            }, is.prototype.addFeatures = function(t, e, r) {
                for (var n = 0, i = this.patternFeatures; n < i.length; n += 1) {
                    var o = i[n];
                    this.addFeature(o, o.geometry, o.index, e, r)
                }
            }, is.prototype.isEmpty = function() {
                return 0 === this.layoutVertexArray.length
            }, is.prototype.uploadPending = function() {
                return !this.uploaded || this.programConfigurations.needsUpload
            }, is.prototype.upload = function(t) {
                this.uploaded || (this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, wa), this.indexBuffer = t.createIndexBuffer(this.indexArray), this.indexBuffer2 = t.createIndexBuffer(this.indexArray2)), this.programConfigurations.upload(t), this.uploaded = !0
            }, is.prototype.destroy = function() {
                this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.indexBuffer2.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.segments2.destroy())
            }, is.prototype.addFeature = function(t, e, r, n, i) {
                for (var o = 0, a = ts(e, 500); o < a.length; o += 1) {
                    for (var s = a[o], u = 0, l = 0, c = s; l < c.length; l += 1) u += c[l].length;
                    for (var p = this.segments.prepareSegment(u, this.layoutVertexArray, this.indexArray), h = p.vertexLength, f = [], d = [], m = 0, y = s; m < y.length; m += 1) {
                        var v = y[m];
                        if (0 !== v.length) {
                            v !== s[0] && d.push(f.length / 2);
                            var g = this.segments2.prepareSegment(v.length, this.layoutVertexArray, this.indexArray2),
                                _ = g.vertexLength;
                            this.layoutVertexArray.emplaceBack(v[0].x, v[0].y), this.indexArray2.emplaceBack(_ + v.length - 1, _), f.push(v[0].x), f.push(v[0].y);
                            for (var x = 1; x < v.length; x++) this.layoutVertexArray.emplaceBack(v[x].x, v[x].y), this.indexArray2.emplaceBack(_ + x - 1, _ + x), f.push(v[x].x), f.push(v[x].y);
                            g.vertexLength += v.length, g.primitiveLength += v.length
                        }
                    }
                    for (var b = Sa(f, d), w = 0; w < b.length; w += 3) this.indexArray.emplaceBack(h + b[w], h + b[w + 1], h + b[w + 2]);
                    p.vertexLength += u, p.primitiveLength += b.length / 3
                }
                this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t, r, i, n)
            }, Rn("FillBucket", is, {
                omit: ["layers", "patternFeatures"]
            });
            var os = new _i({
                    "fill-sort-key": new mi(Ct.layout_fill["fill-sort-key"])
                }),
                as = {
                    paint: new _i({
                        "fill-antialias": new di(Ct.paint_fill["fill-antialias"]),
                        "fill-opacity": new mi(Ct.paint_fill["fill-opacity"]),
                        "fill-color": new mi(Ct.paint_fill["fill-color"]),
                        "fill-outline-color": new mi(Ct.paint_fill["fill-outline-color"]),
                        "fill-translate": new di(Ct.paint_fill["fill-translate"]),
                        "fill-translate-anchor": new di(Ct.paint_fill["fill-translate-anchor"]),
                        "fill-pattern": new yi(Ct.paint_fill["fill-pattern"])
                    }),
                    layout: os
                },
                ss = function(t) {
                    function e(e) {
                        t.call(this, e, as)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.recalculate = function(e, r) {
                        t.prototype.recalculate.call(this, e, r);
                        var n = this.paint._values["fill-outline-color"];
                        "constant" === n.value.kind && void 0 === n.value.value && (this.paint._values["fill-outline-color"] = this.paint._values["fill-color"])
                    }, e.prototype.createBucket = function(t) {
                        return new is(t)
                    }, e.prototype.queryRadius = function() {
                        return Qo(this.paint.get("fill-translate"))
                    }, e.prototype.queryIntersectsFeature = function(t, e, r, n, i, o, a) {
                        return qo(ta(t, this.paint.get("fill-translate"), this.paint.get("fill-translate-anchor"), o.angle, a), n)
                    }, e.prototype.isTileClipped = function() {
                        return !0
                    }, e
                }(xi),
                us = Ti([{
                    name: "a_pos",
                    components: 2,
                    type: "Int16"
                }, {
                    name: "a_normal_ed",
                    components: 4,
                    type: "Int16"
                }], 4).members,
                ls = cs;

            function cs(t, e, r, n, i) {
                this.properties = {}, this.extent = r, this.type = 0, this._pbf = t, this._geometry = -1, this._keys = n, this._values = i, t.readFields(ps, this, e)
            }

            function ps(t, e, r) {
                1 == t ? e.id = r.readVarint() : 2 == t ? function(t, e) {
                    for (var r = t.readVarint() + t.pos; t.pos < r;) {
                        var n = e._keys[t.readVarint()],
                            i = e._values[t.readVarint()];
                        e.properties[n] = i
                    }
                }(r, e) : 3 == t ? e.type = r.readVarint() : 4 == t && (e._geometry = r.pos)
            }

            function hs(t) {
                for (var e, r, n = 0, i = 0, o = t.length, a = o - 1; i < o; a = i++) n += ((r = t[a]).x - (e = t[i]).x) * (e.y + r.y);
                return n
            }
            cs.types = ["Unknown", "Point", "LineString", "Polygon"], cs.prototype.loadGeometry = function() {
                var t = this._pbf;
                t.pos = this._geometry;
                for (var e, r = t.readVarint() + t.pos, n = 1, o = 0, a = 0, s = 0, u = []; t.pos < r;) {
                    if (o <= 0) {
                        var l = t.readVarint();
                        n = 7 & l, o = l >> 3
                    }
                    if (o--, 1 === n || 2 === n) a += t.readSVarint(), s += t.readSVarint(), 1 === n && (e && u.push(e), e = []), e.push(new i(a, s));
                    else {
                        if (7 !== n) throw new Error("unknown command " + n);
                        e && e.push(e[0].clone())
                    }
                }
                return e && u.push(e), u
            }, cs.prototype.bbox = function() {
                var t = this._pbf;
                t.pos = this._geometry;
                for (var e = t.readVarint() + t.pos, r = 1, n = 0, i = 0, o = 0, a = 1 / 0, s = -1 / 0, u = 1 / 0, l = -1 / 0; t.pos < e;) {
                    if (n <= 0) {
                        var c = t.readVarint();
                        r = 7 & c, n = c >> 3
                    }
                    if (n--, 1 === r || 2 === r)(i += t.readSVarint()) < a && (a = i), i > s && (s = i), (o += t.readSVarint()) < u && (u = o), o > l && (l = o);
                    else if (7 !== r) throw new Error("unknown command " + r)
                }
                return [a, u, s, l]
            }, cs.prototype.toGeoJSON = function(t, e, r) {
                var n, i, o = this.extent * Math.pow(2, r),
                    a = this.extent * t,
                    s = this.extent * e,
                    u = this.loadGeometry(),
                    l = cs.types[this.type];

                function c(t) {
                    for (var e = 0; e < t.length; e++) {
                        var r = t[e];
                        t[e] = [360 * (r.x + a) / o - 180, 360 / Math.PI * Math.atan(Math.exp((180 - 360 * (r.y + s) / o) * Math.PI / 180)) - 90]
                    }
                }
                switch (this.type) {
                    case 1:
                        var p = [];
                        for (n = 0; n < u.length; n++) p[n] = u[n][0];
                        c(u = p);
                        break;
                    case 2:
                        for (n = 0; n < u.length; n++) c(u[n]);
                        break;
                    case 3:
                        for (u = function(t) {
                                var e = t.length;
                                if (e <= 1) return [t];
                                for (var r, n, i = [], o = 0; o < e; o++) {
                                    var a = hs(t[o]);
                                    0 !== a && (void 0 === n && (n = a < 0), n === a < 0 ? (r && i.push(r), r = [t[o]]) : r.push(t[o]))
                                }
                                return r && i.push(r), i
                            }(u), n = 0; n < u.length; n++)
                            for (i = 0; i < u[n].length; i++) c(u[n][i])
                }
                1 === u.length ? u = u[0] : l = "Multi" + l;
                var h = {
                    type: "Feature",
                    geometry: {
                        type: l,
                        coordinates: u
                    },
                    properties: this.properties
                };
                return "id" in this && (h.id = this.id), h
            };
            var fs = ds;

            function ds(t, e) {
                this.version = 1, this.name = null, this.extent = 4096, this.length = 0, this._pbf = t, this._keys = [], this._values = [], this._features = [], t.readFields(ms, this, e), this.length = this._features.length
            }

            function ms(t, e, r) {
                15 === t ? e.version = r.readVarint() : 1 === t ? e.name = r.readString() : 5 === t ? e.extent = r.readVarint() : 2 === t ? e._features.push(r.pos) : 3 === t ? e._keys.push(r.readString()) : 4 === t && e._values.push(function(t) {
                    for (var e = null, r = t.readVarint() + t.pos; t.pos < r;) {
                        var n = t.readVarint() >> 3;
                        e = 1 === n ? t.readString() : 2 === n ? t.readFloat() : 3 === n ? t.readDouble() : 4 === n ? t.readVarint64() : 5 === n ? t.readVarint() : 6 === n ? t.readSVarint() : 7 === n ? t.readBoolean() : null
                    }
                    return e
                }(r))
            }

            function ys(t, e, r) {
                if (3 === t) {
                    var n = new fs(r, r.readVarint() + r.pos);
                    n.length && (e[n.name] = n)
                }
            }
            ds.prototype.feature = function(t) {
                if (t < 0 || t >= this._features.length) throw new Error("feature index out of bounds");
                this._pbf.pos = this._features[t];
                var e = this._pbf.readVarint() + this._pbf.pos;
                return new ls(this._pbf, e, this.extent, this._keys, this._values)
            };
            var vs = {
                    VectorTile: function(t, e) {
                        this.layers = t.readFields(ys, {}, e)
                    },
                    VectorTileFeature: ls,
                    VectorTileLayer: fs
                },
                gs = vs.VectorTileFeature.types,
                _s = Math.pow(2, 13);

            function xs(t, e, r, n, i, o, a, s) {
                t.emplaceBack(e, r, 2 * Math.floor(n * _s) + a, i * _s * 2, o * _s * 2, Math.round(s))
            }
            var bs = function(t) {
                this.zoom = t.zoom, this.overscaling = t.overscaling, this.layers = t.layers, this.layerIds = this.layers.map((function(t) {
                    return t.id
                })), this.index = t.index, this.hasPattern = !1, this.layoutVertexArray = new Ii, this.indexArray = new Fi, this.programConfigurations = new Do(t.layers, t.zoom), this.segments = new oo, this.stateDependentLayerIds = this.layers.filter((function(t) {
                    return t.isStateDependent()
                })).map((function(t) {
                    return t.id
                }))
            };

            function ws(t, e) {
                return t.x === e.x && (t.x < 0 || t.x > 8192) || t.y === e.y && (t.y < 0 || t.y > 8192)
            }
            bs.prototype.populate = function(t, e, r) {
                this.features = [], this.hasPattern = rs("fill-extrusion", this.layers, e);
                for (var n = 0, i = t; n < i.length; n += 1) {
                    var o = i[n],
                        a = o.feature,
                        s = o.id,
                        u = o.index,
                        l = o.sourceLayerIndex,
                        c = this.layers[0]._featureFilter.needGeometry,
                        p = {
                            type: a.type,
                            id: s,
                            properties: a.properties,
                            geometry: c ? Fo(a) : []
                        };
                    if (this.layers[0]._featureFilter.filter(new oi(this.zoom), p, r)) {
                        var h = {
                            id: s,
                            sourceLayerIndex: l,
                            index: u,
                            geometry: c ? p.geometry : Fo(a),
                            properties: a.properties,
                            type: a.type,
                            patterns: {}
                        };
                        void 0 !== a.id && (h.id = a.id), this.hasPattern ? this.features.push(ns("fill-extrusion", this.layers, h, this.zoom, e)) : this.addFeature(h, h.geometry, u, r, {}), e.featureIndex.insert(a, h.geometry, u, l, this.index, !0)
                    }
                }
            }, bs.prototype.addFeatures = function(t, e, r) {
                for (var n = 0, i = this.features; n < i.length; n += 1) {
                    var o = i[n];
                    this.addFeature(o, o.geometry, o.index, e, r)
                }
            }, bs.prototype.update = function(t, e, r) {
                this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t, e, this.stateDependentLayers, r)
            }, bs.prototype.isEmpty = function() {
                return 0 === this.layoutVertexArray.length
            }, bs.prototype.uploadPending = function() {
                return !this.uploaded || this.programConfigurations.needsUpload
            }, bs.prototype.upload = function(t) {
                this.uploaded || (this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, us), this.indexBuffer = t.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(t), this.uploaded = !0
            }, bs.prototype.destroy = function() {
                this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy())
            }, bs.prototype.addFeature = function(t, e, r, n, i) {
                for (var o = 0, a = ts(e, 500); o < a.length; o += 1) {
                    for (var s = a[o], u = 0, l = 0, c = s; l < c.length; l += 1) u += c[l].length;
                    for (var p = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray), h = 0, f = s; h < f.length; h += 1) {
                        var d = f[h];
                        if (0 !== d.length && !((M = d).every((function(t) {
                                return t.x < 0
                            })) || M.every((function(t) {
                                return t.x > 8192
                            })) || M.every((function(t) {
                                return t.y < 0
                            })) || M.every((function(t) {
                                return t.y > 8192
                            }))))
                            for (var m = 0, y = 0; y < d.length; y++) {
                                var v = d[y];
                                if (y >= 1) {
                                    var g = d[y - 1];
                                    if (!ws(v, g)) {
                                        p.vertexLength + 4 > oo.MAX_VERTEX_ARRAY_LENGTH && (p = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray));
                                        var _ = v.sub(g)._perp()._unit(),
                                            x = g.dist(v);
                                        m + x > 32768 && (m = 0), xs(this.layoutVertexArray, v.x, v.y, _.x, _.y, 0, 0, m), xs(this.layoutVertexArray, v.x, v.y, _.x, _.y, 0, 1, m), xs(this.layoutVertexArray, g.x, g.y, _.x, _.y, 0, 0, m += x), xs(this.layoutVertexArray, g.x, g.y, _.x, _.y, 0, 1, m);
                                        var b = p.vertexLength;
                                        this.indexArray.emplaceBack(b, b + 2, b + 1), this.indexArray.emplaceBack(b + 1, b + 2, b + 3), p.vertexLength += 4, p.primitiveLength += 2
                                    }
                                }
                            }
                    }
                    if (p.vertexLength + u > oo.MAX_VERTEX_ARRAY_LENGTH && (p = this.segments.prepareSegment(u, this.layoutVertexArray, this.indexArray)), "Polygon" === gs[t.type]) {
                        for (var w = [], S = [], T = p.vertexLength, E = 0, A = s; E < A.length; E += 1) {
                            var C = A[E];
                            if (0 !== C.length) {
                                C !== s[0] && S.push(w.length / 2);
                                for (var I = 0; I < C.length; I++) {
                                    var k = C[I];
                                    xs(this.layoutVertexArray, k.x, k.y, 0, 0, 1, 1, 0), w.push(k.x), w.push(k.y)
                                }
                            }
                        }
                        for (var P = Sa(w, S), z = 0; z < P.length; z += 3) this.indexArray.emplaceBack(T + P[z], T + P[z + 2], T + P[z + 1]);
                        p.primitiveLength += P.length / 3, p.vertexLength += u
                    }
                }
                var M;
                this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t, r, i, n)
            }, Rn("FillExtrusionBucket", bs, {
                omit: ["layers", "features"]
            });
            var Ss = {
                    paint: new _i({
                        "fill-extrusion-opacity": new di(Ct["paint_fill-extrusion"]["fill-extrusion-opacity"]),
                        "fill-extrusion-color": new mi(Ct["paint_fill-extrusion"]["fill-extrusion-color"]),
                        "fill-extrusion-translate": new di(Ct["paint_fill-extrusion"]["fill-extrusion-translate"]),
                        "fill-extrusion-translate-anchor": new di(Ct["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),
                        "fill-extrusion-pattern": new yi(Ct["paint_fill-extrusion"]["fill-extrusion-pattern"]),
                        "fill-extrusion-height": new mi(Ct["paint_fill-extrusion"]["fill-extrusion-height"]),
                        "fill-extrusion-base": new mi(Ct["paint_fill-extrusion"]["fill-extrusion-base"]),
                        "fill-extrusion-vertical-gradient": new di(Ct["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])
                    })
                },
                Ts = function(t) {
                    function e(e) {
                        t.call(this, e, Ss)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.createBucket = function(t) {
                        return new bs(t)
                    }, e.prototype.queryRadius = function() {
                        return Qo(this.paint.get("fill-extrusion-translate"))
                    }, e.prototype.is3D = function() {
                        return !0
                    }, e.prototype.queryIntersectsFeature = function(t, e, r, n, o, a, s, u) {
                        var l = ta(t, this.paint.get("fill-extrusion-translate"), this.paint.get("fill-extrusion-translate-anchor"), a.angle, s),
                            c = this.paint.get("fill-extrusion-height").evaluate(e, r),
                            p = this.paint.get("fill-extrusion-base").evaluate(e, r),
                            h = function(t, e, r, n) {
                                for (var o = [], a = 0, s = t; a < s.length; a += 1) {
                                    var u = s[a],
                                        l = [u.x, u.y, 0, 1];
                                    ua(l, l, e), o.push(new i(l[0] / l[3], l[1] / l[3]))
                                }
                                return o
                            }(l, u),
                            f = function(t, e, r, n) {
                                for (var o = [], a = [], s = n[8] * e, u = n[9] * e, l = n[10] * e, c = n[11] * e, p = n[8] * r, h = n[9] * r, f = n[10] * r, d = n[11] * r, m = 0, y = t; m < y.length; m += 1) {
                                    for (var v = [], g = [], _ = 0, x = y[m]; _ < x.length; _ += 1) {
                                        var b = x[_],
                                            w = b.x,
                                            S = b.y,
                                            T = n[0] * w + n[4] * S + n[12],
                                            E = n[1] * w + n[5] * S + n[13],
                                            A = n[2] * w + n[6] * S + n[14],
                                            C = n[3] * w + n[7] * S + n[15],
                                            I = A + l,
                                            k = C + c,
                                            P = T + p,
                                            z = E + h,
                                            M = A + f,
                                            D = C + d,
                                            L = new i((T + s) / k, (E + u) / k);
                                        L.z = I / k, v.push(L);
                                        var O = new i(P / D, z / D);
                                        O.z = M / D, g.push(O)
                                    }
                                    o.push(v), a.push(g)
                                }
                                return [o, a]
                            }(n, p, c, u);
                        return function(t, e, r) {
                            var n = 1 / 0;
                            qo(r, e) && (n = As(r, e[0]));
                            for (var i = 0; i < e.length; i++)
                                for (var o = e[i], a = t[i], s = 0; s < o.length - 1; s++) {
                                    var u = o[s],
                                        l = [u, o[s + 1], a[s + 1], a[s], u];
                                    jo(r, l) && (n = Math.min(n, As(r, l)))
                                }
                            return n !== 1 / 0 && n
                        }(f[0], f[1], h)
                    }, e
                }(xi);

            function Es(t, e) {
                return t.x * e.x + t.y * e.y
            }

            function As(t, e) {
                if (1 === t.length) {
                    for (var r, n = 0, i = e[n++]; !r || i.equals(r);)
                        if (!(r = e[n++])) return 1 / 0;
                    for (; n < e.length; n++) {
                        var o = e[n],
                            a = t[0],
                            s = r.sub(i),
                            u = o.sub(i),
                            l = a.sub(i),
                            c = Es(s, s),
                            p = Es(s, u),
                            h = Es(u, u),
                            f = Es(l, s),
                            d = Es(l, u),
                            m = c * h - p * p,
                            y = (h * f - p * d) / m,
                            v = (c * d - p * f) / m,
                            g = i.z * (1 - y - v) + r.z * y + o.z * v;
                        if (isFinite(g)) return g
                    }
                    return 1 / 0
                }
                for (var _ = 1 / 0, x = 0, b = e; x < b.length; x += 1) _ = Math.min(_, b[x].z);
                return _
            }
            var Cs = Ti([{
                    name: "a_pos_normal",
                    components: 2,
                    type: "Int16"
                }, {
                    name: "a_data",
                    components: 4,
                    type: "Uint8"
                }], 4).members,
                Is = vs.VectorTileFeature.types,
                ks = Math.cos(Math.PI / 180 * 37.5),
                Ps = Math.pow(2, 14) / .5,
                zs = function(t) {
                    this.zoom = t.zoom, this.overscaling = t.overscaling, this.layers = t.layers, this.layerIds = this.layers.map((function(t) {
                        return t.id
                    })), this.index = t.index, this.hasPattern = !1, this.patternFeatures = [], this.layoutVertexArray = new ki, this.indexArray = new Fi, this.programConfigurations = new Do(t.layers, t.zoom), this.segments = new oo, this.stateDependentLayerIds = this.layers.filter((function(t) {
                        return t.isStateDependent()
                    })).map((function(t) {
                        return t.id
                    }))
                };
            zs.prototype.populate = function(t, e, r) {
                this.hasPattern = rs("line", this.layers, e);
                for (var n = this.layers[0].layout.get("line-sort-key"), i = [], o = 0, a = t; o < a.length; o += 1) {
                    var s = a[o],
                        u = s.feature,
                        l = s.id,
                        c = s.index,
                        p = s.sourceLayerIndex,
                        h = this.layers[0]._featureFilter.needGeometry,
                        f = {
                            type: u.type,
                            id: l,
                            properties: u.properties,
                            geometry: h ? Fo(u) : []
                        };
                    if (this.layers[0]._featureFilter.filter(new oi(this.zoom), f, r)) {
                        h || (f.geometry = Fo(u));
                        var d = n ? n.evaluate(f, {}, r) : void 0;
                        i.push({
                            id: l,
                            properties: u.properties,
                            type: u.type,
                            sourceLayerIndex: p,
                            index: c,
                            geometry: f.geometry,
                            patterns: {},
                            sortKey: d
                        })
                    }
                }
                n && i.sort((function(t, e) {
                    return t.sortKey - e.sortKey
                }));
                for (var m = 0, y = i; m < y.length; m += 1) {
                    var v = y[m],
                        g = v.geometry,
                        _ = v.index,
                        x = v.sourceLayerIndex;
                    if (this.hasPattern) {
                        var b = ns("line", this.layers, v, this.zoom, e);
                        this.patternFeatures.push(b)
                    } else this.addFeature(v, g, _, r, {});
                    e.featureIndex.insert(t[_].feature, g, _, x, this.index)
                }
            }, zs.prototype.update = function(t, e, r) {
                this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t, e, this.stateDependentLayers, r)
            }, zs.prototype.addFeatures = function(t, e, r) {
                for (var n = 0, i = this.patternFeatures; n < i.length; n += 1) {
                    var o = i[n];
                    this.addFeature(o, o.geometry, o.index, e, r)
                }
            }, zs.prototype.isEmpty = function() {
                return 0 === this.layoutVertexArray.length
            }, zs.prototype.uploadPending = function() {
                return !this.uploaded || this.programConfigurations.needsUpload
            }, zs.prototype.upload = function(t) {
                this.uploaded || (this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, Cs), this.indexBuffer = t.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(t), this.uploaded = !0
            }, zs.prototype.destroy = function() {
                this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy())
            }, zs.prototype.addFeature = function(t, e, r, n, i) {
                for (var o = this.layers[0].layout, a = o.get("line-join").evaluate(t, {}), s = o.get("line-cap"), u = o.get("line-miter-limit"), l = o.get("line-round-limit"), c = 0, p = e; c < p.length; c += 1) this.addLine(p[c], t, a, s, u, l);
                this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t, r, i, n)
            }, zs.prototype.addLine = function(t, e, r, n, i, o) {
                if (this.distance = 0, this.scaledDistance = 0, this.totalDistance = 0, e.properties && e.properties.hasOwnProperty("mapbox_clip_start") && e.properties.hasOwnProperty("mapbox_clip_end")) {
                    this.clipStart = +e.properties.mapbox_clip_start, this.clipEnd = +e.properties.mapbox_clip_end;
                    for (var a = 0; a < t.length - 1; a++) this.totalDistance += t[a].dist(t[a + 1]);
                    this.updateScaledDistance()
                }
                for (var s = "Polygon" === Is[e.type], u = t.length; u >= 2 && t[u - 1].equals(t[u - 2]);) u--;
                for (var l = 0; l < u - 1 && t[l].equals(t[l + 1]);) l++;
                if (!(u < (s ? 3 : 2))) {
                    "bevel" === r && (i = 1.05);
                    var c, p = this.overscaling <= 16 ? 122880 / (512 * this.overscaling) : 0,
                        h = this.segments.prepareSegment(10 * u, this.layoutVertexArray, this.indexArray),
                        f = void 0,
                        d = void 0,
                        m = void 0,
                        y = void 0;
                    this.e1 = this.e2 = -1, s && (y = t[l].sub(c = t[u - 2])._unit()._perp());
                    for (var v = l; v < u; v++)
                        if (!(d = v === u - 1 ? s ? t[l + 1] : void 0 : t[v + 1]) || !t[v].equals(d)) {
                            y && (m = y), c && (f = c), c = t[v], y = d ? d.sub(c)._unit()._perp() : m;
                            var g = (m = m || y).add(y);
                            0 === g.x && 0 === g.y || g._unit();
                            var _ = m.x * y.x + m.y * y.y,
                                x = g.x * y.x + g.y * y.y,
                                b = 0 !== x ? 1 / x : 1 / 0,
                                w = 2 * Math.sqrt(2 - 2 * x),
                                S = x < ks && f && d,
                                T = m.x * y.y - m.y * y.x > 0;
                            if (S && v > l) {
                                var E = c.dist(f);
                                if (E > 2 * p) {
                                    var A = c.sub(c.sub(f)._mult(p / E)._round());
                                    this.updateDistance(f, A), this.addCurrentVertex(A, m, 0, 0, h), f = A
                                }
                            }
                            var C = f && d,
                                I = C ? r : s ? "butt" : n;
                            if (C && "round" === I && (b < o ? I = "miter" : b <= 2 && (I = "fakeround")), "miter" === I && b > i && (I = "bevel"), "bevel" === I && (b > 2 && (I = "flipbevel"), b < i && (I = "miter")), f && this.updateDistance(f, c), "miter" === I) g._mult(b), this.addCurrentVertex(c, g, 0, 0, h);
                            else if ("flipbevel" === I) {
                                if (b > 100) g = y.mult(-1);
                                else {
                                    var k = b * m.add(y).mag() / m.sub(y).mag();
                                    g._perp()._mult(k * (T ? -1 : 1))
                                }
                                this.addCurrentVertex(c, g, 0, 0, h), this.addCurrentVertex(c, g.mult(-1), 0, 0, h)
                            } else if ("bevel" === I || "fakeround" === I) {
                                var P = -Math.sqrt(b * b - 1),
                                    z = T ? P : 0,
                                    M = T ? 0 : P;
                                if (f && this.addCurrentVertex(c, m, z, M, h), "fakeround" === I)
                                    for (var D = Math.round(180 * w / Math.PI / 20), L = 1; L < D; L++) {
                                        var O = L / D;
                                        if (.5 !== O) {
                                            var R = O - .5;
                                            O += O * R * (O - 1) * ((1.0904 + _ * (_ * (3.55645 - 1.43519 * _) - 3.2452)) * R * R + (.848013 + _ * (.215638 * _ - 1.06021)))
                                        }
                                        var B = y.sub(m)._mult(O)._add(m)._unit()._mult(T ? -1 : 1);
                                        this.addHalfVertex(c, B.x, B.y, !1, T, 0, h)
                                    }
                                d && this.addCurrentVertex(c, y, -z, -M, h)
                            } else if ("butt" === I) this.addCurrentVertex(c, g, 0, 0, h);
                            else if ("square" === I) {
                                var F = f ? 1 : -1;
                                this.addCurrentVertex(c, g, F, F, h)
                            } else "round" === I && (f && (this.addCurrentVertex(c, m, 0, 0, h), this.addCurrentVertex(c, m, 1, 1, h, !0)), d && (this.addCurrentVertex(c, y, -1, -1, h, !0), this.addCurrentVertex(c, y, 0, 0, h)));
                            if (S && v < u - 1) {
                                var N = c.dist(d);
                                if (N > 2 * p) {
                                    var U = c.add(d.sub(c)._mult(p / N)._round());
                                    this.updateDistance(c, U), this.addCurrentVertex(U, y, 0, 0, h), c = U
                                }
                            }
                        }
                }
            }, zs.prototype.addCurrentVertex = function(t, e, r, n, i, o) {
                void 0 === o && (o = !1);
                var a = e.y * n - e.x,
                    s = -e.y - e.x * n;
                this.addHalfVertex(t, e.x + e.y * r, e.y - e.x * r, o, !1, r, i), this.addHalfVertex(t, a, s, o, !0, -n, i), this.distance > Ps / 2 && 0 === this.totalDistance && (this.distance = 0, this.addCurrentVertex(t, e, r, n, i, o))
            }, zs.prototype.addHalfVertex = function(t, e, r, n, i, o, a) {
                var s = .5 * this.scaledDistance;
                this.layoutVertexArray.emplaceBack((t.x << 1) + (n ? 1 : 0), (t.y << 1) + (i ? 1 : 0), Math.round(63 * e) + 128, Math.round(63 * r) + 128, 1 + (0 === o ? 0 : o < 0 ? -1 : 1) | (63 & s) << 2, s >> 6);
                var u = a.vertexLength++;
                this.e1 >= 0 && this.e2 >= 0 && (this.indexArray.emplaceBack(this.e1, this.e2, u), a.primitiveLength++), i ? this.e2 = u : this.e1 = u
            }, zs.prototype.updateScaledDistance = function() {
                this.scaledDistance = this.totalDistance > 0 ? (this.clipStart + (this.clipEnd - this.clipStart) * this.distance / this.totalDistance) * (Ps - 1) : this.distance
            }, zs.prototype.updateDistance = function(t, e) {
                this.distance += t.dist(e), this.updateScaledDistance()
            }, Rn("LineBucket", zs, {
                omit: ["layers", "patternFeatures"]
            });
            var Ms = new _i({
                    "line-cap": new di(Ct.layout_line["line-cap"]),
                    "line-join": new mi(Ct.layout_line["line-join"]),
                    "line-miter-limit": new di(Ct.layout_line["line-miter-limit"]),
                    "line-round-limit": new di(Ct.layout_line["line-round-limit"]),
                    "line-sort-key": new mi(Ct.layout_line["line-sort-key"])
                }),
                Ds = {
                    paint: new _i({
                        "line-opacity": new mi(Ct.paint_line["line-opacity"]),
                        "line-color": new mi(Ct.paint_line["line-color"]),
                        "line-translate": new di(Ct.paint_line["line-translate"]),
                        "line-translate-anchor": new di(Ct.paint_line["line-translate-anchor"]),
                        "line-width": new mi(Ct.paint_line["line-width"]),
                        "line-gap-width": new mi(Ct.paint_line["line-gap-width"]),
                        "line-offset": new mi(Ct.paint_line["line-offset"]),
                        "line-blur": new mi(Ct.paint_line["line-blur"]),
                        "line-dasharray": new vi(Ct.paint_line["line-dasharray"]),
                        "line-pattern": new yi(Ct.paint_line["line-pattern"]),
                        "line-gradient": new gi(Ct.paint_line["line-gradient"])
                    }),
                    layout: Ms
                },
                Ls = new(function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.possiblyEvaluate = function(e, r) {
                        return r = new oi(Math.floor(r.zoom), {
                            now: r.now,
                            fadeDuration: r.fadeDuration,
                            zoomHistory: r.zoomHistory,
                            transition: r.transition
                        }), t.prototype.possiblyEvaluate.call(this, e, r)
                    }, e.prototype.evaluate = function(e, r, n, i) {
                        return r = p({}, r, {
                            zoom: Math.floor(r.zoom)
                        }), t.prototype.evaluate.call(this, e, r, n, i)
                    }, e
                }(mi))(Ds.paint.properties["line-width"].specification);
            Ls.useIntegerZoom = !0;
            var Os = function(t) {
                function e(e) {
                    t.call(this, e, Ds)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._handleSpecialPaintPropertyUpdate = function(t) {
                    "line-gradient" === t && this._updateGradient()
                }, e.prototype._updateGradient = function() {
                    this.gradient = ga(this._transitionablePaint._values["line-gradient"].value.expression, "lineProgress"), this.gradientTexture = null
                }, e.prototype.recalculate = function(e, r) {
                    t.prototype.recalculate.call(this, e, r), this.paint._values["line-floorwidth"] = Ls.possiblyEvaluate(this._transitioningPaint._values["line-width"].value, e)
                }, e.prototype.createBucket = function(t) {
                    return new zs(t)
                }, e.prototype.queryRadius = function(t) {
                    var e = t,
                        r = Rs(Yo("line-width", this, e), Yo("line-gap-width", this, e)),
                        n = Yo("line-offset", this, e);
                    return r / 2 + Math.abs(n) + Qo(this.paint.get("line-translate"))
                }, e.prototype.queryIntersectsFeature = function(t, e, r, n, o, a, s) {
                    var u = ta(t, this.paint.get("line-translate"), this.paint.get("line-translate-anchor"), a.angle, s),
                        l = s / 2 * Rs(this.paint.get("line-width").evaluate(e, r), this.paint.get("line-gap-width").evaluate(e, r)),
                        c = this.paint.get("line-offset").evaluate(e, r);
                    return c && (n = function(t, e) {
                            for (var r = [], n = new i(0, 0), o = 0; o < t.length; o++) {
                                for (var a = t[o], s = [], u = 0; u < a.length; u++) {
                                    var l = a[u],
                                        c = a[u + 1],
                                        p = 0 === u ? n : l.sub(a[u - 1])._unit()._perp(),
                                        h = u === a.length - 1 ? n : c.sub(l)._unit()._perp(),
                                        f = p._add(h)._unit();
                                    f._mult(1 / (f.x * h.x + f.y * h.y)), s.push(f._mult(e)._add(l))
                                }
                                r.push(s)
                            }
                            return r
                        }(n, c * s)),
                        function(t, e, r) {
                            for (var n = 0; n < e.length; n++) {
                                var i = e[n];
                                if (t.length >= 3)
                                    for (var o = 0; o < i.length; o++)
                                        if (Ko(t, i[o])) return !0;
                                if (Zo(t, i, r)) return !0
                            }
                            return !1
                        }(u, n, l)
                }, e.prototype.isTileClipped = function() {
                    return !0
                }, e
            }(xi);

            function Rs(t, e) {
                return e > 0 ? e + 2 * t : t
            }
            var Bs = Ti([{
                    name: "a_pos_offset",
                    components: 4,
                    type: "Int16"
                }, {
                    name: "a_data",
                    components: 4,
                    type: "Uint16"
                }, {
                    name: "a_pixeloffset",
                    components: 4,
                    type: "Int16"
                }], 4),
                Fs = Ti([{
                    name: "a_projected_pos",
                    components: 3,
                    type: "Float32"
                }], 4),
                Ns = (Ti([{
                    name: "a_fade_opacity",
                    components: 1,
                    type: "Uint32"
                }], 4), Ti([{
                    name: "a_placed",
                    components: 2,
                    type: "Uint8"
                }, {
                    name: "a_shift",
                    components: 2,
                    type: "Float32"
                }])),
                Us = (Ti([{
                    type: "Int16",
                    name: "anchorPointX"
                }, {
                    type: "Int16",
                    name: "anchorPointY"
                }, {
                    type: "Int16",
                    name: "x1"
                }, {
                    type: "Int16",
                    name: "y1"
                }, {
                    type: "Int16",
                    name: "x2"
                }, {
                    type: "Int16",
                    name: "y2"
                }, {
                    type: "Uint32",
                    name: "featureIndex"
                }, {
                    type: "Uint16",
                    name: "sourceLayerIndex"
                }, {
                    type: "Uint16",
                    name: "bucketIndex"
                }]), Ti([{
                    name: "a_pos",
                    components: 2,
                    type: "Int16"
                }, {
                    name: "a_anchor_pos",
                    components: 2,
                    type: "Int16"
                }, {
                    name: "a_extrude",
                    components: 2,
                    type: "Int16"
                }], 4)),
                js = Ti([{
                    name: "a_pos",
                    components: 2,
                    type: "Float32"
                }, {
                    name: "a_radius",
                    components: 1,
                    type: "Float32"
                }, {
                    name: "a_flags",
                    components: 2,
                    type: "Int16"
                }], 4);

            function Vs(t, e, r) {
                return t.sections.forEach((function(t) {
                    t.text = function(t, e, r) {
                        var n = e.layout.get("text-transform").evaluate(r, {});
                        return "uppercase" === n ? t = t.toLocaleUpperCase() : "lowercase" === n && (t = t.toLocaleLowerCase()), ii.applyArabicShaping && (t = ii.applyArabicShaping(t)), t
                    }(t.text, e, r)
                })), t
            }
            Ti([{
                name: "triangle",
                components: 3,
                type: "Uint16"
            }]), Ti([{
                type: "Int16",
                name: "anchorX"
            }, {
                type: "Int16",
                name: "anchorY"
            }, {
                type: "Uint16",
                name: "glyphStartIndex"
            }, {
                type: "Uint16",
                name: "numGlyphs"
            }, {
                type: "Uint32",
                name: "vertexStartIndex"
            }, {
                type: "Uint32",
                name: "lineStartIndex"
            }, {
                type: "Uint32",
                name: "lineLength"
            }, {
                type: "Uint16",
                name: "segment"
            }, {
                type: "Uint16",
                name: "lowerSize"
            }, {
                type: "Uint16",
                name: "upperSize"
            }, {
                type: "Float32",
                name: "lineOffsetX"
            }, {
                type: "Float32",
                name: "lineOffsetY"
            }, {
                type: "Uint8",
                name: "writingMode"
            }, {
                type: "Uint8",
                name: "placedOrientation"
            }, {
                type: "Uint8",
                name: "hidden"
            }, {
                type: "Uint32",
                name: "crossTileID"
            }, {
                type: "Int16",
                name: "associatedIconIndex"
            }]), Ti([{
                type: "Int16",
                name: "anchorX"
            }, {
                type: "Int16",
                name: "anchorY"
            }, {
                type: "Int16",
                name: "rightJustifiedTextSymbolIndex"
            }, {
                type: "Int16",
                name: "centerJustifiedTextSymbolIndex"
            }, {
                type: "Int16",
                name: "leftJustifiedTextSymbolIndex"
            }, {
                type: "Int16",
                name: "verticalPlacedTextSymbolIndex"
            }, {
                type: "Int16",
                name: "placedIconSymbolIndex"
            }, {
                type: "Int16",
                name: "verticalPlacedIconSymbolIndex"
            }, {
                type: "Uint16",
                name: "key"
            }, {
                type: "Uint16",
                name: "textBoxStartIndex"
            }, {
                type: "Uint16",
                name: "textBoxEndIndex"
            }, {
                type: "Uint16",
                name: "verticalTextBoxStartIndex"
            }, {
                type: "Uint16",
                name: "verticalTextBoxEndIndex"
            }, {
                type: "Uint16",
                name: "iconBoxStartIndex"
            }, {
                type: "Uint16",
                name: "iconBoxEndIndex"
            }, {
                type: "Uint16",
                name: "verticalIconBoxStartIndex"
            }, {
                type: "Uint16",
                name: "verticalIconBoxEndIndex"
            }, {
                type: "Uint16",
                name: "featureIndex"
            }, {
                type: "Uint16",
                name: "numHorizontalGlyphVertices"
            }, {
                type: "Uint16",
                name: "numVerticalGlyphVertices"
            }, {
                type: "Uint16",
                name: "numIconVertices"
            }, {
                type: "Uint16",
                name: "numVerticalIconVertices"
            }, {
                type: "Uint16",
                name: "useRuntimeCollisionCircles"
            }, {
                type: "Uint32",
                name: "crossTileID"
            }, {
                type: "Float32",
                name: "textBoxScale"
            }, {
                type: "Float32",
                components: 2,
                name: "textOffset"
            }, {
                type: "Float32",
                name: "collisionCircleDiameter"
            }]), Ti([{
                type: "Float32",
                name: "offsetX"
            }]), Ti([{
                type: "Int16",
                name: "x"
            }, {
                type: "Int16",
                name: "y"
            }, {
                type: "Int16",
                name: "tileUnitDistanceFromAnchor"
            }]);
            var qs = {
                    "!": "ï¸•",
                    "#": "ï¼ƒ",
                    $: "ï¼„",
                    "%": "ï¼…",
                    "&": "ï¼†",
                    "(": "ï¸µ",
                    ")": "ï¸¶",
                    "*": "ï¼Š",
                    "+": "ï¼‹",
                    ",": "ï¸",
                    "-": "ï¸²",
                    ".": "ãƒ»",
                    "/": "ï¼",
                    ":": "ï¸“",
                    ";": "ï¸”",
                    "<": "ï¸¿",
                    "=": "ï¼",
                    ">": "ï¹€",
                    "?": "ï¸–",
                    "@": "ï¼ ",
                    "[": "ï¹‡",
                    "\\": "ï¼¼",
                    "]": "ï¹ˆ",
                    "^": "ï¼¾",
                    _: "ï¸³",
                    "`": "ï½€",
                    "{": "ï¸·",
                    "|": "â€•",
                    "}": "ï¸¸",
                    "~": "ï½ž",
                    "Â¢": "ï¿ ",
                    "Â£": "ï¿¡",
                    "Â¥": "ï¿¥",
                    "Â¦": "ï¿¤",
                    "Â¬": "ï¿¢",
                    "Â¯": "ï¿£",
                    "â€“": "ï¸²",
                    "â€”": "ï¸±",
                    "â€˜": "ï¹ƒ",
                    "â€™": "ï¹„",
                    "â€œ": "ï¹",
                    "â€": "ï¹‚",
                    "â€¦": "ï¸™",
                    "â€§": "ãƒ»",
                    "â‚©": "ï¿¦",
                    "ã€": "ï¸‘",
                    "ã€‚": "ï¸’",
                    "ã€ˆ": "ï¸¿",
                    "ã€‰": "ï¹€",
                    "ã€Š": "ï¸½",
                    "ã€‹": "ï¸¾",
                    "ã€Œ": "ï¹",
                    "ã€": "ï¹‚",
                    "ã€Ž": "ï¹ƒ",
                    "ã€": "ï¹„",
                    "ã€": "ï¸»",
                    "ã€‘": "ï¸¼",
                    "ã€”": "ï¸¹",
                    "ã€•": "ï¸º",
                    "ã€–": "ï¸—",
                    "ã€—": "ï¸˜",
                    "ï¼": "ï¸•",
                    "ï¼ˆ": "ï¸µ",
                    "ï¼‰": "ï¸¶",
                    "ï¼Œ": "ï¸",
                    "ï¼": "ï¸²",
                    "ï¼Ž": "ãƒ»",
                    "ï¼š": "ï¸“",
                    "ï¼›": "ï¸”",
                    "ï¼œ": "ï¸¿",
                    "ï¼ž": "ï¹€",
                    "ï¼Ÿ": "ï¸–",
                    "ï¼»": "ï¹‡",
                    "ï¼½": "ï¹ˆ",
                    "ï¼¿": "ï¸³",
                    "ï½›": "ï¸·",
                    "ï½œ": "â€•",
                    "ï½": "ï¸¸",
                    "ï½Ÿ": "ï¸µ",
                    "ï½ ": "ï¸¶",
                    "ï½¡": "ï¸’",
                    "ï½¢": "ï¹",
                    "ï½£": "ï¹‚"
                },
                Zs = function(t, e, r, n, i) {
                    var o, a, s = 8 * i - n - 1,
                        u = (1 << s) - 1,
                        l = u >> 1,
                        c = -7,
                        p = r ? i - 1 : 0,
                        h = r ? -1 : 1,
                        f = t[e + p];
                    for (p += h, o = f & (1 << -c) - 1, f >>= -c, c += s; c > 0; o = 256 * o + t[e + p], p += h, c -= 8);
                    for (a = o & (1 << -c) - 1, o >>= -c, c += n; c > 0; a = 256 * a + t[e + p], p += h, c -= 8);
                    if (0 === o) o = 1 - l;
                    else {
                        if (o === u) return a ? NaN : 1 / 0 * (f ? -1 : 1);
                        a += Math.pow(2, n), o -= l
                    }
                    return (f ? -1 : 1) * a * Math.pow(2, o - n)
                },
                $s = function(t, e, r, n, i, o) {
                    var a, s, u, l = 8 * o - i - 1,
                        c = (1 << l) - 1,
                        p = c >> 1,
                        h = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
                        f = n ? 0 : o - 1,
                        d = n ? 1 : -1,
                        m = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
                    for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (s = isNaN(e) ? 1 : 0, a = c) : (a = Math.floor(Math.log(e) / Math.LN2), e * (u = Math.pow(2, -a)) < 1 && (a--, u *= 2), (e += a + p >= 1 ? h / u : h * Math.pow(2, 1 - p)) * u >= 2 && (a++, u /= 2), a + p >= c ? (s = 0, a = c) : a + p >= 1 ? (s = (e * u - 1) * Math.pow(2, i), a += p) : (s = e * Math.pow(2, p - 1) * Math.pow(2, i), a = 0)); i >= 8; t[r + f] = 255 & s, f += d, s /= 256, i -= 8);
                    for (a = a << i | s, l += i; l > 0; t[r + f] = 255 & a, f += d, a /= 256, l -= 8);
                    t[r + f - d] |= 128 * m
                },
                Gs = Hs;

            function Hs(t) {
                this.buf = ArrayBuffer.isView && ArrayBuffer.isView(t) ? t : new Uint8Array(t || 0), this.pos = 0, this.type = 0, this.length = this.buf.length
            }
            Hs.Varint = 0, Hs.Fixed64 = 1, Hs.Bytes = 2, Hs.Fixed32 = 5;
            var Ws = "undefined" == typeof TextDecoder ? null : new TextDecoder("utf8");

            function Xs(t) {
                return t.type === Hs.Bytes ? t.readVarint() + t.pos : t.pos + 1
            }

            function Ks(t, e, r) {
                return r ? 4294967296 * e + (t >>> 0) : 4294967296 * (e >>> 0) + (t >>> 0)
            }

            function Js(t, e, r) {
                var n = e <= 16383 ? 1 : e <= 2097151 ? 2 : e <= 268435455 ? 3 : Math.floor(Math.log(e) / (7 * Math.LN2));
                r.realloc(n);
                for (var i = r.pos - 1; i >= t; i--) r.buf[i + n] = r.buf[i]
            }

            function Ys(t, e) {
                for (var r = 0; r < t.length; r++) e.writeVarint(t[r])
            }

            function Qs(t, e) {
                for (var r = 0; r < t.length; r++) e.writeSVarint(t[r])
            }

            function tu(t, e) {
                for (var r = 0; r < t.length; r++) e.writeFloat(t[r])
            }

            function eu(t, e) {
                for (var r = 0; r < t.length; r++) e.writeDouble(t[r])
            }

            function ru(t, e) {
                for (var r = 0; r < t.length; r++) e.writeBoolean(t[r])
            }

            function nu(t, e) {
                for (var r = 0; r < t.length; r++) e.writeFixed32(t[r])
            }

            function iu(t, e) {
                for (var r = 0; r < t.length; r++) e.writeSFixed32(t[r])
            }

            function ou(t, e) {
                for (var r = 0; r < t.length; r++) e.writeFixed64(t[r])
            }

            function au(t, e) {
                for (var r = 0; r < t.length; r++) e.writeSFixed64(t[r])
            }

            function su(t, e) {
                return (t[e] | t[e + 1] << 8 | t[e + 2] << 16) + 16777216 * t[e + 3]
            }

            function uu(t, e, r) {
                t[r] = e, t[r + 1] = e >>> 8, t[r + 2] = e >>> 16, t[r + 3] = e >>> 24
            }

            function lu(t, e) {
                return (t[e] | t[e + 1] << 8 | t[e + 2] << 16) + (t[e + 3] << 24)
            }

            function cu(t, e, r) {
                1 === t && r.readMessage(pu, e)
            }

            function pu(t, e, r) {
                if (3 === t) {
                    var n = r.readMessage(hu, {}),
                        i = n.width,
                        o = n.height,
                        a = n.left,
                        s = n.top,
                        u = n.advance;
                    e.push({
                        id: n.id,
                        bitmap: new ma({
                            width: i + 6,
                            height: o + 6
                        }, n.bitmap),
                        metrics: {
                            width: i,
                            height: o,
                            left: a,
                            top: s,
                            advance: u
                        }
                    })
                }
            }

            function hu(t, e, r) {
                1 === t ? e.id = r.readVarint() : 2 === t ? e.bitmap = r.readBytes() : 3 === t ? e.width = r.readVarint() : 4 === t ? e.height = r.readVarint() : 5 === t ? e.left = r.readSVarint() : 6 === t ? e.top = r.readSVarint() : 7 === t && (e.advance = r.readVarint())
            }

            function fu(t) {
                for (var e = 0, r = 0, n = 0, i = t; n < i.length; n += 1) {
                    var o = i[n];
                    e += o.w * o.h, r = Math.max(r, o.w)
                }
                t.sort((function(t, e) {
                    return e.h - t.h
                }));
                for (var a = [{
                        x: 0,
                        y: 0,
                        w: Math.max(Math.ceil(Math.sqrt(e / .95)), r),
                        h: 1 / 0
                    }], s = 0, u = 0, l = 0, c = t; l < c.length; l += 1)
                    for (var p = c[l], h = a.length - 1; h >= 0; h--) {
                        var f = a[h];
                        if (!(p.w > f.w || p.h > f.h)) {
                            if (p.x = f.x, p.y = f.y, u = Math.max(u, p.y + p.h), s = Math.max(s, p.x + p.w), p.w === f.w && p.h === f.h) {
                                var d = a.pop();
                                h < a.length && (a[h] = d)
                            } else p.h === f.h ? (f.x += p.w, f.w -= p.w) : p.w === f.w ? (f.y += p.h, f.h -= p.h) : (a.push({
                                x: f.x + p.w,
                                y: f.y,
                                w: f.w - p.w,
                                h: p.h
                            }), f.y += p.h, f.h -= p.h);
                            break
                        }
                    }
                return {
                    w: s,
                    h: u,
                    fill: e / (s * u) || 0
                }
            }
            Hs.prototype = {
                destroy: function() {
                    this.buf = null
                },
                readFields: function(t, e, r) {
                    for (r = r || this.length; this.pos < r;) {
                        var n = this.readVarint(),
                            i = n >> 3,
                            o = this.pos;
                        this.type = 7 & n, t(i, e, this), this.pos === o && this.skip(n)
                    }
                    return e
                },
                readMessage: function(t, e) {
                    return this.readFields(t, e, this.readVarint() + this.pos)
                },
                readFixed32: function() {
                    var t = su(this.buf, this.pos);
                    return this.pos += 4, t
                },
                readSFixed32: function() {
                    var t = lu(this.buf, this.pos);
                    return this.pos += 4, t
                },
                readFixed64: function() {
                    var t = su(this.buf, this.pos) + 4294967296 * su(this.buf, this.pos + 4);
                    return this.pos += 8, t
                },
                readSFixed64: function() {
                    var t = su(this.buf, this.pos) + 4294967296 * lu(this.buf, this.pos + 4);
                    return this.pos += 8, t
                },
                readFloat: function() {
                    var t = Zs(this.buf, this.pos, !0, 23, 4);
                    return this.pos += 4, t
                },
                readDouble: function() {
                    var t = Zs(this.buf, this.pos, !0, 52, 8);
                    return this.pos += 8, t
                },
                readVarint: function(t) {
                    var e, r, n = this.buf;
                    return e = 127 & (r = n[this.pos++]), r < 128 ? e : (e |= (127 & (r = n[this.pos++])) << 7, r < 128 ? e : (e |= (127 & (r = n[this.pos++])) << 14, r < 128 ? e : (e |= (127 & (r = n[this.pos++])) << 21, r < 128 ? e : function(t, e, r) {
                        var n, i, o = r.buf;
                        if (n = (112 & (i = o[r.pos++])) >> 4, i < 128) return Ks(t, n, e);
                        if (n |= (127 & (i = o[r.pos++])) << 3, i < 128) return Ks(t, n, e);
                        if (n |= (127 & (i = o[r.pos++])) << 10, i < 128) return Ks(t, n, e);
                        if (n |= (127 & (i = o[r.pos++])) << 17, i < 128) return Ks(t, n, e);
                        if (n |= (127 & (i = o[r.pos++])) << 24, i < 128) return Ks(t, n, e);
                        if (n |= (1 & (i = o[r.pos++])) << 31, i < 128) return Ks(t, n, e);
                        throw new Error("Expected varint not more than 10 bytes")
                    }(e |= (15 & (r = n[this.pos])) << 28, t, this))))
                },
                readVarint64: function() {
                    return this.readVarint(!0)
                },
                readSVarint: function() {
                    var t = this.readVarint();
                    return t % 2 == 1 ? (t + 1) / -2 : t / 2
                },
                readBoolean: function() {
                    return Boolean(this.readVarint())
                },
                readString: function() {
                    var t = this.readVarint() + this.pos,
                        e = this.pos;
                    return this.pos = t, t - e >= 12 && Ws ? function(t, e, r) {
                        return Ws.decode(t.subarray(e, r))
                    }(this.buf, e, t) : function(t, e, r) {
                        for (var n = "", i = e; i < r;) {
                            var o, a, s, u = t[i],
                                l = null,
                                c = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
                            if (i + c > r) break;
                            1 === c ? u < 128 && (l = u) : 2 === c ? 128 == (192 & (o = t[i + 1])) && (l = (31 & u) << 6 | 63 & o) <= 127 && (l = null) : 3 === c ? (a = t[i + 2], 128 == (192 & (o = t[i + 1])) && 128 == (192 & a) && ((l = (15 & u) << 12 | (63 & o) << 6 | 63 & a) <= 2047 || l >= 55296 && l <= 57343) && (l = null)) : 4 === c && (a = t[i + 2], s = t[i + 3], 128 == (192 & (o = t[i + 1])) && 128 == (192 & a) && 128 == (192 & s) && ((l = (15 & u) << 18 | (63 & o) << 12 | (63 & a) << 6 | 63 & s) <= 65535 || l >= 1114112) && (l = null)), null === l ? (l = 65533, c = 1) : l > 65535 && (l -= 65536, n += String.fromCharCode(l >>> 10 & 1023 | 55296), l = 56320 | 1023 & l), n += String.fromCharCode(l), i += c
                        }
                        return n
                    }(this.buf, e, t)
                },
                readBytes: function() {
                    var t = this.readVarint() + this.pos,
                        e = this.buf.subarray(this.pos, t);
                    return this.pos = t, e
                },
                readPackedVarint: function(t, e) {
                    if (this.type !== Hs.Bytes) return t.push(this.readVarint(e));
                    var r = Xs(this);
                    for (t = t || []; this.pos < r;) t.push(this.readVarint(e));
                    return t
                },
                readPackedSVarint: function(t) {
                    if (this.type !== Hs.Bytes) return t.push(this.readSVarint());
                    var e = Xs(this);
                    for (t = t || []; this.pos < e;) t.push(this.readSVarint());
                    return t
                },
                readPackedBoolean: function(t) {
                    if (this.type !== Hs.Bytes) return t.push(this.readBoolean());
                    var e = Xs(this);
                    for (t = t || []; this.pos < e;) t.push(this.readBoolean());
                    return t
                },
                readPackedFloat: function(t) {
                    if (this.type !== Hs.Bytes) return t.push(this.readFloat());
                    var e = Xs(this);
                    for (t = t || []; this.pos < e;) t.push(this.readFloat());
                    return t
                },
                readPackedDouble: function(t) {
                    if (this.type !== Hs.Bytes) return t.push(this.readDouble());
                    var e = Xs(this);
                    for (t = t || []; this.pos < e;) t.push(this.readDouble());
                    return t
                },
                readPackedFixed32: function(t) {
                    if (this.type !== Hs.Bytes) return t.push(this.readFixed32());
                    var e = Xs(this);
                    for (t = t || []; this.pos < e;) t.push(this.readFixed32());
                    return t
                },
                readPackedSFixed32: function(t) {
                    if (this.type !== Hs.Bytes) return t.push(this.readSFixed32());
                    var e = Xs(this);
                    for (t = t || []; this.pos < e;) t.push(this.readSFixed32());
                    return t
                },
                readPackedFixed64: function(t) {
                    if (this.type !== Hs.Bytes) return t.push(this.readFixed64());
                    var e = Xs(this);
                    for (t = t || []; this.pos < e;) t.push(this.readFixed64());
                    return t
                },
                readPackedSFixed64: function(t) {
                    if (this.type !== Hs.Bytes) return t.push(this.readSFixed64());
                    var e = Xs(this);
                    for (t = t || []; this.pos < e;) t.push(this.readSFixed64());
                    return t
                },
                skip: function(t) {
                    var e = 7 & t;
                    if (e === Hs.Varint)
                        for (; this.buf[this.pos++] > 127;);
                    else if (e === Hs.Bytes) this.pos = this.readVarint() + this.pos;
                    else if (e === Hs.Fixed32) this.pos += 4;
                    else {
                        if (e !== Hs.Fixed64) throw new Error("Unimplemented type: " + e);
                        this.pos += 8
                    }
                },
                writeTag: function(t, e) {
                    this.writeVarint(t << 3 | e)
                },
                realloc: function(t) {
                    for (var e = this.length || 16; e < this.pos + t;) e *= 2;
                    if (e !== this.length) {
                        var r = new Uint8Array(e);
                        r.set(this.buf), this.buf = r, this.length = e
                    }
                },
                finish: function() {
                    return this.length = this.pos, this.pos = 0, this.buf.subarray(0, this.length)
                },
                writeFixed32: function(t) {
                    this.realloc(4), uu(this.buf, t, this.pos), this.pos += 4
                },
                writeSFixed32: function(t) {
                    this.realloc(4), uu(this.buf, t, this.pos), this.pos += 4
                },
                writeFixed64: function(t) {
                    this.realloc(8), uu(this.buf, -1 & t, this.pos), uu(this.buf, Math.floor(t * (1 / 4294967296)), this.pos + 4), this.pos += 8
                },
                writeSFixed64: function(t) {
                    this.realloc(8), uu(this.buf, -1 & t, this.pos), uu(this.buf, Math.floor(t * (1 / 4294967296)), this.pos + 4), this.pos += 8
                },
                writeVarint: function(t) {
                    (t = +t || 0) > 268435455 || t < 0 ? function(t, e) {
                        var r, n;
                        if (t >= 0 ? (r = t % 4294967296 | 0, n = t / 4294967296 | 0) : (n = ~(-t / 4294967296), 4294967295 ^ (r = ~(-t % 4294967296)) ? r = r + 1 | 0 : (r = 0, n = n + 1 | 0)), t >= 0x10000000000000000 || t < -0x10000000000000000) throw new Error("Given varint doesn't fit into 10 bytes");
                        e.realloc(10),
                            function(t, e, r) {
                                r.buf[r.pos++] = 127 & t | 128, t >>>= 7, r.buf[r.pos++] = 127 & t | 128, t >>>= 7, r.buf[r.pos++] = 127 & t | 128, t >>>= 7, r.buf[r.pos++] = 127 & t | 128, r.buf[r.pos] = 127 & (t >>>= 7)
                            }(r, 0, e),
                            function(t, e) {
                                var r = (7 & t) << 4;
                                e.buf[e.pos++] |= r | ((t >>>= 3) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t)))))
                            }(n, e)
                    }(t, this) : (this.realloc(4), this.buf[this.pos++] = 127 & t | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = 127 & (t >>>= 7) | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = 127 & (t >>>= 7) | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = t >>> 7 & 127))))
                },
                writeSVarint: function(t) {
                    this.writeVarint(t < 0 ? 2 * -t - 1 : 2 * t)
                },
                writeBoolean: function(t) {
                    this.writeVarint(Boolean(t))
                },
                writeString: function(t) {
                    t = String(t), this.realloc(4 * t.length), this.pos++;
                    var e = this.pos;
                    this.pos = function(t, e, r) {
                        for (var n, i, o = 0; o < e.length; o++) {
                            if ((n = e.charCodeAt(o)) > 55295 && n < 57344) {
                                if (!i) {
                                    n > 56319 || o + 1 === e.length ? (t[r++] = 239, t[r++] = 191, t[r++] = 189) : i = n;
                                    continue
                                }
                                if (n < 56320) {
                                    t[r++] = 239, t[r++] = 191, t[r++] = 189, i = n;
                                    continue
                                }
                                n = i - 55296 << 10 | n - 56320 | 65536, i = null
                            } else i && (t[r++] = 239, t[r++] = 191, t[r++] = 189, i = null);
                            n < 128 ? t[r++] = n : (n < 2048 ? t[r++] = n >> 6 | 192 : (n < 65536 ? t[r++] = n >> 12 | 224 : (t[r++] = n >> 18 | 240, t[r++] = n >> 12 & 63 | 128), t[r++] = n >> 6 & 63 | 128), t[r++] = 63 & n | 128)
                        }
                        return r
                    }(this.buf, t, this.pos);
                    var r = this.pos - e;
                    r >= 128 && Js(e, r, this), this.pos = e - 1, this.writeVarint(r), this.pos += r
                },
                writeFloat: function(t) {
                    this.realloc(4), $s(this.buf, t, this.pos, !0, 23, 4), this.pos += 4
                },
                writeDouble: function(t) {
                    this.realloc(8), $s(this.buf, t, this.pos, !0, 52, 8), this.pos += 8
                },
                writeBytes: function(t) {
                    var e = t.length;
                    this.writeVarint(e), this.realloc(e);
                    for (var r = 0; r < e; r++) this.buf[this.pos++] = t[r]
                },
                writeRawMessage: function(t, e) {
                    this.pos++;
                    var r = this.pos;
                    t(e, this);
                    var n = this.pos - r;
                    n >= 128 && Js(r, n, this), this.pos = r - 1, this.writeVarint(n), this.pos += n
                },
                writeMessage: function(t, e, r) {
                    this.writeTag(t, Hs.Bytes), this.writeRawMessage(e, r)
                },
                writePackedVarint: function(t, e) {
                    e.length && this.writeMessage(t, Ys, e)
                },
                writePackedSVarint: function(t, e) {
                    e.length && this.writeMessage(t, Qs, e)
                },
                writePackedBoolean: function(t, e) {
                    e.length && this.writeMessage(t, ru, e)
                },
                writePackedFloat: function(t, e) {
                    e.length && this.writeMessage(t, tu, e)
                },
                writePackedDouble: function(t, e) {
                    e.length && this.writeMessage(t, eu, e)
                },
                writePackedFixed32: function(t, e) {
                    e.length && this.writeMessage(t, nu, e)
                },
                writePackedSFixed32: function(t, e) {
                    e.length && this.writeMessage(t, iu, e)
                },
                writePackedFixed64: function(t, e) {
                    e.length && this.writeMessage(t, ou, e)
                },
                writePackedSFixed64: function(t, e) {
                    e.length && this.writeMessage(t, au, e)
                },
                writeBytesField: function(t, e) {
                    this.writeTag(t, Hs.Bytes), this.writeBytes(e)
                },
                writeFixed32Field: function(t, e) {
                    this.writeTag(t, Hs.Fixed32), this.writeFixed32(e)
                },
                writeSFixed32Field: function(t, e) {
                    this.writeTag(t, Hs.Fixed32), this.writeSFixed32(e)
                },
                writeFixed64Field: function(t, e) {
                    this.writeTag(t, Hs.Fixed64), this.writeFixed64(e)
                },
                writeSFixed64Field: function(t, e) {
                    this.writeTag(t, Hs.Fixed64), this.writeSFixed64(e)
                },
                writeVarintField: function(t, e) {
                    this.writeTag(t, Hs.Varint), this.writeVarint(e)
                },
                writeSVarintField: function(t, e) {
                    this.writeTag(t, Hs.Varint), this.writeSVarint(e)
                },
                writeStringField: function(t, e) {
                    this.writeTag(t, Hs.Bytes), this.writeString(e)
                },
                writeFloatField: function(t, e) {
                    this.writeTag(t, Hs.Fixed32), this.writeFloat(e)
                },
                writeDoubleField: function(t, e) {
                    this.writeTag(t, Hs.Fixed64), this.writeDouble(e)
                },
                writeBooleanField: function(t, e) {
                    this.writeVarintField(t, Boolean(e))
                }
            };
            var du = function(t, e) {
                    var r = e.pixelRatio,
                        n = e.version,
                        i = e.stretchX,
                        o = e.stretchY,
                        a = e.content;
                    this.paddedRect = t, this.pixelRatio = r, this.stretchX = i, this.stretchY = o, this.content = a, this.version = n
                },
                mu = {
                    tl: {
                        configurable: !0
                    },
                    br: {
                        configurable: !0
                    },
                    tlbr: {
                        configurable: !0
                    },
                    displaySize: {
                        configurable: !0
                    }
                };
            mu.tl.get = function() {
                return [this.paddedRect.x + 1, this.paddedRect.y + 1]
            }, mu.br.get = function() {
                return [this.paddedRect.x + this.paddedRect.w - 1, this.paddedRect.y + this.paddedRect.h - 1]
            }, mu.tlbr.get = function() {
                return this.tl.concat(this.br)
            }, mu.displaySize.get = function() {
                return [(this.paddedRect.w - 2) / this.pixelRatio, (this.paddedRect.h - 2) / this.pixelRatio]
            }, Object.defineProperties(du.prototype, mu);
            var yu = function(t, e) {
                var r = {},
                    n = {};
                this.haveRenderCallbacks = [];
                var i = [];
                this.addImages(t, r, i), this.addImages(e, n, i);
                var o = fu(i),
                    a = new ya({
                        width: o.w || 1,
                        height: o.h || 1
                    });
                for (var s in t) {
                    var u = t[s],
                        l = r[s].paddedRect;
                    ya.copy(u.data, a, {
                        x: 0,
                        y: 0
                    }, {
                        x: l.x + 1,
                        y: l.y + 1
                    }, u.data)
                }
                for (var c in e) {
                    var p = e[c],
                        h = n[c].paddedRect,
                        f = h.x + 1,
                        d = h.y + 1,
                        m = p.data.width,
                        y = p.data.height;
                    ya.copy(p.data, a, {
                        x: 0,
                        y: 0
                    }, {
                        x: f,
                        y: d
                    }, p.data), ya.copy(p.data, a, {
                        x: 0,
                        y: y - 1
                    }, {
                        x: f,
                        y: d - 1
                    }, {
                        width: m,
                        height: 1
                    }), ya.copy(p.data, a, {
                        x: 0,
                        y: 0
                    }, {
                        x: f,
                        y: d + y
                    }, {
                        width: m,
                        height: 1
                    }), ya.copy(p.data, a, {
                        x: m - 1,
                        y: 0
                    }, {
                        x: f - 1,
                        y: d
                    }, {
                        width: 1,
                        height: y
                    }), ya.copy(p.data, a, {
                        x: 0,
                        y: 0
                    }, {
                        x: f + m,
                        y: d
                    }, {
                        width: 1,
                        height: y
                    })
                }
                this.image = a, this.iconPositions = r, this.patternPositions = n
            };
            yu.prototype.addImages = function(t, e, r) {
                for (var n in t) {
                    var i = t[n],
                        o = {
                            x: 0,
                            y: 0,
                            w: i.data.width + 2,
                            h: i.data.height + 2
                        };
                    r.push(o), e[n] = new du(o, i), i.hasRenderCallback && this.haveRenderCallbacks.push(n)
                }
            }, yu.prototype.patchUpdatedImages = function(t, e) {
                for (var r in t.dispatchRenderCallbacks(this.haveRenderCallbacks), t.updatedImages) this.patchUpdatedImage(this.iconPositions[r], t.getImage(r), e), this.patchUpdatedImage(this.patternPositions[r], t.getImage(r), e)
            }, yu.prototype.patchUpdatedImage = function(t, e, r) {
                if (t && e && t.version !== e.version) {
                    t.version = e.version;
                    var n = t.tl;
                    r.update(e.data, void 0, {
                        x: n[0],
                        y: n[1]
                    })
                }
            }, Rn("ImagePosition", du), Rn("ImageAtlas", yu);
            var vu = {
                    horizontal: 1,
                    vertical: 2,
                    horizontalOnly: 3
                },
                gu = function() {
                    this.scale = 1, this.fontStack = "", this.imageName = null
                };
            gu.forText = function(t, e) {
                var r = new gu;
                return r.scale = t || 1, r.fontStack = e, r
            }, gu.forImage = function(t) {
                var e = new gu;
                return e.imageName = t, e
            };
            var _u = function() {
                this.text = "", this.sectionIndex = [], this.sections = [], this.imageSectionID = null
            };

            function xu(t, e, r, n, i, o, a, s, u, l, c, p, h, f, d, m) {
                var y, v = _u.fromFeature(t, i);
                p === vu.vertical && v.verticalizePunctuation();
                var g = ii.processBidirectionalText,
                    _ = ii.processStyledBidirectionalText;
                if (g && 1 === v.sections.length) {
                    y = [];
                    for (var x = 0, b = g(v.toString(), Cu(v, l, o, e, n, f, d)); x < b.length; x += 1) {
                        var w = b[x],
                            S = new _u;
                        S.text = w, S.sections = v.sections;
                        for (var T = 0; T < w.length; T++) S.sectionIndex.push(0);
                        y.push(S)
                    }
                } else if (_) {
                    y = [];
                    for (var E = 0, A = _(v.text, v.sectionIndex, Cu(v, l, o, e, n, f, d)); E < A.length; E += 1) {
                        var C = A[E],
                            I = new _u;
                        I.text = C[0], I.sectionIndex = C[1], I.sections = v.sections, y.push(I)
                    }
                } else y = function(t, e) {
                    for (var r = [], n = t.text, i = 0, o = 0, a = e; o < a.length; o += 1) {
                        var s = a[o];
                        r.push(t.substring(i, s)), i = s
                    }
                    return i < n.length && r.push(t.substring(i, n.length)), r
                }(v, Cu(v, l, o, e, n, f, d));
                var k = [],
                    P = {
                        positionedLines: k,
                        text: v.toString(),
                        top: c[1],
                        bottom: c[1],
                        left: c[0],
                        right: c[0],
                        writingMode: p,
                        iconsInText: !1,
                        verticalizable: !1
                    };
                return function(t, e, r, n, i, o, a, s, u, l, c, p) {
                    for (var h = 0, f = -17, d = 0, m = 0, y = "right" === s ? 1 : "left" === s ? 0 : .5, v = 0, g = 0, _ = i; g < _.length; g += 1) {
                        var x = _[g];
                        x.trim();
                        var b = x.getMaxScale(),
                            w = 24 * (b - 1),
                            S = {
                                positionedGlyphs: [],
                                lineOffset: 0
                            };
                        t.positionedLines[v] = S;
                        var T = S.positionedGlyphs,
                            E = 0;
                        if (x.length()) {
                            for (var A = 0; A < x.length(); A++) {
                                var C = x.getSection(A),
                                    I = x.getSectionIndex(A),
                                    k = x.getCharCode(A),
                                    P = 0,
                                    z = null,
                                    M = null,
                                    D = null,
                                    L = 24,
                                    O = !(u === vu.horizontal || !c && !$n(k) || c && (bu[k] || (Z = k, qn.Arabic(Z) || qn["Arabic Supplement"](Z) || qn["Arabic Extended-A"](Z) || qn["Arabic Presentation Forms-A"](Z) || qn["Arabic Presentation Forms-B"](Z))));
                                if (C.imageName) {
                                    var R = n[C.imageName];
                                    if (!R) continue;
                                    D = C.imageName, t.iconsInText = t.iconsInText || !0, M = R.paddedRect;
                                    var B = R.displaySize;
                                    C.scale = 24 * C.scale / p, P = w + (24 - B[1] * C.scale), L = (z = {
                                        width: B[0],
                                        height: B[1],
                                        left: 1,
                                        top: -3,
                                        advance: O ? B[1] : B[0]
                                    }).advance;
                                    var F = O ? B[0] * C.scale - 24 * b : B[1] * C.scale - 24 * b;
                                    F > 0 && F > E && (E = F)
                                } else {
                                    var N = r[C.fontStack],
                                        U = N && N[k];
                                    if (U && U.rect) M = U.rect, z = U.metrics;
                                    else {
                                        var j = e[C.fontStack],
                                            V = j && j[k];
                                        if (!V) continue;
                                        z = V.metrics
                                    }
                                    P = 24 * (b - C.scale)
                                }
                                O ? (t.verticalizable = !0, T.push({
                                    glyph: k,
                                    imageName: D,
                                    x: h,
                                    y: f + P,
                                    vertical: O,
                                    scale: C.scale,
                                    fontStack: C.fontStack,
                                    sectionIndex: I,
                                    metrics: z,
                                    rect: M
                                }), h += L * C.scale + l) : (T.push({
                                    glyph: k,
                                    imageName: D,
                                    x: h,
                                    y: f + P,
                                    vertical: O,
                                    scale: C.scale,
                                    fontStack: C.fontStack,
                                    sectionIndex: I,
                                    metrics: z,
                                    rect: M
                                }), h += z.advance * C.scale + l)
                            }
                            0 !== T.length && (d = Math.max(h - l, d), ku(T, 0, T.length - 1, y, E)), h = 0;
                            var q = o * b + E;
                            S.lineOffset = Math.max(E, w), f += q, m = Math.max(q, m), ++v
                        } else f += o, ++v
                    }
                    var Z, $ = f - -17,
                        G = Iu(a),
                        H = G.horizontalAlign,
                        W = G.verticalAlign;
                    (function(t, e, r, n, i, o, a, s, u) {
                        var l, c = (e - r) * i;
                        l = o !== a ? -s * n - -17 : (-n * u + .5) * a;
                        for (var p = 0, h = t; p < h.length; p += 1)
                            for (var f = 0, d = h[p].positionedGlyphs; f < d.length; f += 1) {
                                var m = d[f];
                                m.x += c, m.y += l
                            }
                    })(t.positionedLines, y, H, W, d, m, o, $, i.length), t.top += -W * $, t.bottom = t.top + $, t.left += -H * d, t.right = t.left + d
                }(P, e, r, n, y, a, s, u, p, l, h, m), ! function(t) {
                    for (var e = 0, r = t; e < r.length; e += 1)
                        if (0 !== r[e].positionedGlyphs.length) return !1;
                    return !0
                }(k) && P
            }
            _u.fromFeature = function(t, e) {
                for (var r = new _u, n = 0; n < t.sections.length; n++) {
                    var i = t.sections[n];
                    i.image ? r.addImageSection(i) : r.addTextSection(i, e)
                }
                return r
            }, _u.prototype.length = function() {
                return this.text.length
            }, _u.prototype.getSection = function(t) {
                return this.sections[this.sectionIndex[t]]
            }, _u.prototype.getSectionIndex = function(t) {
                return this.sectionIndex[t]
            }, _u.prototype.getCharCode = function(t) {
                return this.text.charCodeAt(t)
            }, _u.prototype.verticalizePunctuation = function() {
                this.text = function(t) {
                    for (var e = "", r = 0; r < t.length; r++) {
                        var n = t.charCodeAt(r + 1) || null,
                            i = t.charCodeAt(r - 1) || null;
                        e += n && Gn(n) && !qs[t[r + 1]] || i && Gn(i) && !qs[t[r - 1]] || !qs[t[r]] ? t[r] : qs[t[r]]
                    }
                    return e
                }(this.text)
            }, _u.prototype.trim = function() {
                for (var t = 0, e = 0; e < this.text.length && bu[this.text.charCodeAt(e)]; e++) t++;
                for (var r = this.text.length, n = this.text.length - 1; n >= 0 && n >= t && bu[this.text.charCodeAt(n)]; n--) r--;
                this.text = this.text.substring(t, r), this.sectionIndex = this.sectionIndex.slice(t, r)
            }, _u.prototype.substring = function(t, e) {
                var r = new _u;
                return r.text = this.text.substring(t, e), r.sectionIndex = this.sectionIndex.slice(t, e), r.sections = this.sections, r
            }, _u.prototype.toString = function() {
                return this.text
            }, _u.prototype.getMaxScale = function() {
                var t = this;
                return this.sectionIndex.reduce((function(e, r) {
                    return Math.max(e, t.sections[r].scale)
                }), 0)
            }, _u.prototype.addTextSection = function(t, e) {
                this.text += t.text, this.sections.push(gu.forText(t.scale, t.fontStack || e));
                for (var r = this.sections.length - 1, n = 0; n < t.text.length; ++n) this.sectionIndex.push(r)
            }, _u.prototype.addImageSection = function(t) {
                var e = t.image ? t.image.name : "";
                if (0 !== e.length) {
                    var r = this.getNextImageSectionCharCode();
                    r ? (this.text += String.fromCharCode(r), this.sections.push(gu.forImage(e)), this.sectionIndex.push(this.sections.length - 1)) : w("Reached maximum number of images 6401")
                } else w("Can't add FormattedSection with an empty image.")
            }, _u.prototype.getNextImageSectionCharCode = function() {
                return this.imageSectionID ? this.imageSectionID >= 63743 ? null : ++this.imageSectionID : (this.imageSectionID = 57344, this.imageSectionID)
            };
            var bu = {
                    9: !0,
                    10: !0,
                    11: !0,
                    12: !0,
                    13: !0,
                    32: !0
                },
                wu = {};

            function Su(t, e, r, n, i, o) {
                if (e.imageName) {
                    var a = n[e.imageName];
                    return a ? a.displaySize[0] * e.scale * 24 / o + i : 0
                }
                var s = r[e.fontStack],
                    u = s && s[t];
                return u ? u.metrics.advance * e.scale + i : 0
            }

            function Tu(t, e, r, n) {
                var i = Math.pow(t - e, 2);
                return n ? t < e ? i / 2 : 2 * i : i + Math.abs(r) * r
            }

            function Eu(t, e, r) {
                var n = 0;
                return 10 === t && (n -= 1e4), r && (n += 150), 40 !== t && 65288 !== t || (n += 50), 41 !== e && 65289 !== e || (n += 50), n
            }

            function Au(t, e, r, n, i, o) {
                for (var a = null, s = Tu(e, r, i, o), u = 0, l = n; u < l.length; u += 1) {
                    var c = l[u],
                        p = Tu(e - c.x, r, i, o) + c.badness;
                    p <= s && (a = c, s = p)
                }
                return {
                    index: t,
                    x: e,
                    priorBreak: a,
                    badness: s
                }
            }

            function Cu(t, e, r, n, i, o, a) {
                if ("point" !== o) return [];
                if (!t) return [];
                for (var s, u = [], l = function(t, e, r, n, i, o) {
                        for (var a = 0, s = 0; s < t.length(); s++) {
                            var u = t.getSection(s);
                            a += Su(t.getCharCode(s), u, n, i, e, o)
                        }
                        return a / Math.max(1, Math.ceil(a / r))
                    }(t, e, r, n, i, a), c = t.text.indexOf("â€‹") >= 0, p = 0, h = 0; h < t.length(); h++) {
                    var f = t.getSection(h),
                        d = t.getCharCode(h);
                    if (bu[d] || (p += Su(d, f, n, i, e, a)), h < t.length() - 1) {
                        var m = !((s = d) < 11904 || !(qn["Bopomofo Extended"](s) || qn.Bopomofo(s) || qn["CJK Compatibility Forms"](s) || qn["CJK Compatibility Ideographs"](s) || qn["CJK Compatibility"](s) || qn["CJK Radicals Supplement"](s) || qn["CJK Strokes"](s) || qn["CJK Symbols and Punctuation"](s) || qn["CJK Unified Ideographs Extension A"](s) || qn["CJK Unified Ideographs"](s) || qn["Enclosed CJK Letters and Months"](s) || qn["Halfwidth and Fullwidth Forms"](s) || qn.Hiragana(s) || qn["Ideographic Description Characters"](s) || qn["Kangxi Radicals"](s) || qn["Katakana Phonetic Extensions"](s) || qn.Katakana(s) || qn["Vertical Forms"](s) || qn["Yi Radicals"](s) || qn["Yi Syllables"](s)));
                        (wu[d] || m || f.imageName) && u.push(Au(h + 1, p, l, u, Eu(d, t.getCharCode(h + 1), m && c), !1))
                    }
                }
                return function t(e) {
                    return e ? t(e.priorBreak).concat(e.index) : []
                }(Au(t.length(), p, l, u, 0, !0))
            }

            function Iu(t) {
                var e = .5,
                    r = .5;
                switch (t) {
                    case "right":
                    case "top-right":
                    case "bottom-right":
                        e = 1;
                        break;
                    case "left":
                    case "top-left":
                    case "bottom-left":
                        e = 0
                }
                switch (t) {
                    case "bottom":
                    case "bottom-right":
                    case "bottom-left":
                        r = 1;
                        break;
                    case "top":
                    case "top-right":
                    case "top-left":
                        r = 0
                }
                return {
                    horizontalAlign: e,
                    verticalAlign: r
                }
            }

            function ku(t, e, r, n, i) {
                if (n || i)
                    for (var o = t[r], a = (t[r].x + o.metrics.advance * o.scale) * n, s = e; s <= r; s++) t[s].x -= a, t[s].y += i
            }

            function Pu(t, e, r, n, i, o) {
                var a, s = t.image;
                if (s.content) {
                    var u = s.content,
                        l = s.pixelRatio || 1;
                    a = [u[0] / l, u[1] / l, s.displaySize[0] - u[2] / l, s.displaySize[1] - u[3] / l]
                }
                var c, p, h, f, d = e.left * o,
                    m = e.right * o;
                "width" === r || "both" === r ? (f = i[0] + d - n[3], p = i[0] + m + n[1]) : p = (f = i[0] + (d + m - s.displaySize[0]) / 2) + s.displaySize[0];
                var y = e.top * o,
                    v = e.bottom * o;
                return "height" === r || "both" === r ? (c = i[1] + y - n[0], h = i[1] + v + n[2]) : h = (c = i[1] + (y + v - s.displaySize[1]) / 2) + s.displaySize[1], {
                    image: s,
                    top: c,
                    right: p,
                    bottom: h,
                    left: f,
                    collisionPadding: a
                }
            }
            wu[10] = !0, wu[32] = !0, wu[38] = !0, wu[40] = !0, wu[41] = !0, wu[43] = !0, wu[45] = !0, wu[47] = !0, wu[173] = !0, wu[183] = !0, wu[8203] = !0, wu[8208] = !0, wu[8211] = !0, wu[8231] = !0;
            var zu = function(t) {
                function e(e, r, n, i) {
                    t.call(this, e, r), this.angle = n, void 0 !== i && (this.segment = i)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.clone = function() {
                    return new e(this.x, this.y, this.angle, this.segment)
                }, e
            }(i);

            function Mu(t, e) {
                var r = e.expression;
                if ("constant" === r.kind) return {
                    kind: "constant",
                    layoutSize: r.evaluate(new oi(t + 1))
                };
                if ("source" === r.kind) return {
                    kind: "source"
                };
                for (var n = r.zoomStops, i = r.interpolationType, o = 0; o < n.length && n[o] <= t;) o++;
                for (var a = o = Math.max(0, o - 1); a < n.length && n[a] < t + 1;) a++;
                a = Math.min(n.length - 1, a);
                var s = n[o],
                    u = n[a];
                return "composite" === r.kind ? {
                    kind: "composite",
                    minZoom: s,
                    maxZoom: u,
                    interpolationType: i
                } : {
                    kind: "camera",
                    minZoom: s,
                    maxZoom: u,
                    minSize: r.evaluate(new oi(s)),
                    maxSize: r.evaluate(new oi(u)),
                    interpolationType: i
                }
            }

            function Du(t, e, r) {
                var n = e.uSize,
                    i = r.lowerSize;
                return "source" === t.kind ? i / 128 : "composite" === t.kind ? Ve(i / 128, r.upperSize / 128, e.uSizeT) : n
            }

            function Lu(t, e) {
                var r = 0,
                    n = 0;
                if ("constant" === t.kind) n = t.layoutSize;
                else if ("source" !== t.kind) {
                    var i = t.interpolationType,
                        o = i ? l(nr.interpolationFactor(i, e, t.minZoom, t.maxZoom), 0, 1) : 0;
                    "camera" === t.kind ? n = Ve(t.minSize, t.maxSize, o) : r = o
                }
                return {
                    uSizeT: r,
                    uSize: n
                }
            }
            Rn("Anchor", zu);
            var Ou = Object.freeze({
                __proto__: null,
                getSizeData: Mu,
                evaluateSizeForFeature: Du,
                evaluateSizeForZoom: Lu,
                SIZE_PACK_FACTOR: 128
            });

            function Ru(t, e, r, n, i) {
                if (void 0 === e.segment) return !0;
                for (var o = e, a = e.segment + 1, s = 0; s > -r / 2;) {
                    if (--a < 0) return !1;
                    s -= t[a].dist(o), o = t[a]
                }
                s += t[a].dist(t[a + 1]), a++;
                for (var u = [], l = 0; s < r / 2;) {
                    var c = t[a],
                        p = t[a + 1];
                    if (!p) return !1;
                    var h = t[a - 1].angleTo(c) - c.angleTo(p);
                    for (h = Math.abs((h + 3 * Math.PI) % (2 * Math.PI) - Math.PI), u.push({
                            distance: s,
                            angleDelta: h
                        }), l += h; s - u[0].distance > n;) l -= u.shift().angleDelta;
                    if (l > i) return !1;
                    a++, s += c.dist(p)
                }
                return !0
            }

            function Bu(t) {
                for (var e = 0, r = 0; r < t.length - 1; r++) e += t[r].dist(t[r + 1]);
                return e
            }

            function Fu(t, e, r) {
                return t ? .6 * e * r : 0
            }

            function Nu(t, e) {
                return Math.max(t ? t.right - t.left : 0, e ? e.right - e.left : 0)
            }

            function Uu(t, e, r, n, i, o) {
                for (var a = Fu(r, i, o), s = Nu(r, n) * o, u = 0, l = Bu(t) / 2, c = 0; c < t.length - 1; c++) {
                    var p = t[c],
                        h = t[c + 1],
                        f = p.dist(h);
                    if (u + f > l) {
                        var d = (l - u) / f,
                            m = Ve(p.x, h.x, d),
                            y = Ve(p.y, h.y, d),
                            v = new zu(m, y, h.angleTo(p), c);
                        return v._round(), !a || Ru(t, v, s, a, e) ? v : void 0
                    }
                    u += f
                }
            }

            function ju(t, e, r, n, i, o, a, s, u) {
                var l = Fu(n, o, a),
                    c = Nu(n, i),
                    p = c * a,
                    h = 0 === t[0].x || t[0].x === u || 0 === t[0].y || t[0].y === u;
                return e - p < e / 4 && (e = p + e / 4),
                    function t(e, r, n, i, o, a, s, u, l) {
                        for (var c = a / 2, p = Bu(e), h = 0, f = r - n, d = [], m = 0; m < e.length - 1; m++) {
                            for (var y = e[m], v = e[m + 1], g = y.dist(v), _ = v.angleTo(y); f + n < h + g;) {
                                var x = ((f += n) - h) / g,
                                    b = Ve(y.x, v.x, x),
                                    w = Ve(y.y, v.y, x);
                                if (b >= 0 && b < l && w >= 0 && w < l && f - c >= 0 && f + c <= p) {
                                    var S = new zu(b, w, _, m);
                                    S._round(), i && !Ru(e, S, a, i, o) || d.push(S)
                                }
                            }
                            h += g
                        }
                        return u || d.length || s || (d = t(e, h / 2, n, i, o, a, s, !0, l)), d
                    }(t, h ? e / 2 * s % e : (c / 2 + 2 * o) * a * s % e, e, l, r, p, h, !1, u)
            }

            function Vu(t, e, r, n, o) {
                for (var a = [], s = 0; s < t.length; s++)
                    for (var u = t[s], l = void 0, c = 0; c < u.length - 1; c++) {
                        var p = u[c],
                            h = u[c + 1];
                        p.x < e && h.x < e || (p.x < e ? p = new i(e, p.y + (e - p.x) / (h.x - p.x) * (h.y - p.y))._round() : h.x < e && (h = new i(e, p.y + (e - p.x) / (h.x - p.x) * (h.y - p.y))._round()), p.y < r && h.y < r || (p.y < r ? p = new i(p.x + (r - p.y) / (h.y - p.y) * (h.x - p.x), r)._round() : h.y < r && (h = new i(p.x + (r - p.y) / (h.y - p.y) * (h.x - p.x), r)._round()), p.x >= n && h.x >= n || (p.x >= n ? p = new i(n, p.y + (n - p.x) / (h.x - p.x) * (h.y - p.y))._round() : h.x >= n && (h = new i(n, p.y + (n - p.x) / (h.x - p.x) * (h.y - p.y))._round()), p.y >= o && h.y >= o || (p.y >= o ? p = new i(p.x + (o - p.y) / (h.y - p.y) * (h.x - p.x), o)._round() : h.y >= o && (h = new i(p.x + (o - p.y) / (h.y - p.y) * (h.x - p.x), o)._round()), l && p.equals(l[l.length - 1]) || a.push(l = [p]), l.push(h)))))
                    }
                return a
            }

            function qu(t, e, r, n) {
                var o = [],
                    a = t.image,
                    s = a.pixelRatio,
                    u = a.paddedRect.w - 2,
                    l = a.paddedRect.h - 2,
                    c = t.right - t.left,
                    p = t.bottom - t.top,
                    h = a.stretchX || [
                        [0, u]
                    ],
                    f = a.stretchY || [
                        [0, l]
                    ],
                    d = function(t, e) {
                        return t + e[1] - e[0]
                    },
                    m = h.reduce(d, 0),
                    y = f.reduce(d, 0),
                    v = u - m,
                    g = l - y,
                    _ = 0,
                    x = m,
                    b = 0,
                    w = y,
                    S = 0,
                    T = v,
                    E = 0,
                    A = g;
                if (a.content && n) {
                    var C = a.content;
                    _ = Zu(h, 0, C[0]), b = Zu(f, 0, C[1]), x = Zu(h, C[0], C[2]), w = Zu(f, C[1], C[3]), S = C[0] - _, E = C[1] - b, T = C[2] - C[0] - x, A = C[3] - C[1] - w
                }
                var I = function(n, o, u, l) {
                    var h = Gu(n.stretch - _, x, c, t.left),
                        f = Hu(n.fixed - S, T, n.stretch, m),
                        d = Gu(o.stretch - b, w, p, t.top),
                        v = Hu(o.fixed - E, A, o.stretch, y),
                        g = Gu(u.stretch - _, x, c, t.left),
                        C = Hu(u.fixed - S, T, u.stretch, m),
                        I = Gu(l.stretch - b, w, p, t.top),
                        k = Hu(l.fixed - E, A, l.stretch, y),
                        P = new i(h, d),
                        z = new i(g, d),
                        M = new i(g, I),
                        D = new i(h, I),
                        L = new i(f / s, v / s),
                        O = new i(C / s, k / s),
                        R = e * Math.PI / 180;
                    if (R) {
                        var B = Math.sin(R),
                            F = Math.cos(R),
                            N = [F, -B, B, F];
                        P._matMult(N), z._matMult(N), D._matMult(N), M._matMult(N)
                    }
                    var U = n.stretch + n.fixed,
                        j = o.stretch + o.fixed;
                    return {
                        tl: P,
                        tr: z,
                        bl: D,
                        br: M,
                        tex: {
                            x: a.paddedRect.x + 1 + U,
                            y: a.paddedRect.y + 1 + j,
                            w: u.stretch + u.fixed - U,
                            h: l.stretch + l.fixed - j
                        },
                        writingMode: void 0,
                        glyphOffset: [0, 0],
                        sectionIndex: 0,
                        pixelOffsetTL: L,
                        pixelOffsetBR: O,
                        minFontScaleX: T / s / c,
                        minFontScaleY: A / s / p,
                        isSDF: r
                    }
                };
                if (n && (a.stretchX || a.stretchY))
                    for (var k = $u(h, v, m), P = $u(f, g, y), z = 0; z < k.length - 1; z++)
                        for (var M = k[z], D = k[z + 1], L = 0; L < P.length - 1; L++) o.push(I(M, P[L], D, P[L + 1]));
                else o.push(I({
                    fixed: 0,
                    stretch: -1
                }, {
                    fixed: 0,
                    stretch: -1
                }, {
                    fixed: 0,
                    stretch: u + 1
                }, {
                    fixed: 0,
                    stretch: l + 1
                }));
                return o
            }

            function Zu(t, e, r) {
                for (var n = 0, i = 0, o = t; i < o.length; i += 1) {
                    var a = o[i];
                    n += Math.max(e, Math.min(r, a[1])) - Math.max(e, Math.min(r, a[0]))
                }
                return n
            }

            function $u(t, e, r) {
                for (var n = [{
                        fixed: -1,
                        stretch: 0
                    }], i = 0, o = t; i < o.length; i += 1) {
                    var a = o[i],
                        s = a[0],
                        u = a[1],
                        l = n[n.length - 1];
                    n.push({
                        fixed: s - l.stretch,
                        stretch: l.stretch
                    }), n.push({
                        fixed: s - l.stretch,
                        stretch: l.stretch + (u - s)
                    })
                }
                return n.push({
                    fixed: e + 1,
                    stretch: r
                }), n
            }

            function Gu(t, e, r, n) {
                return t / e * r + n
            }

            function Hu(t, e, r, n) {
                return t - e * r / n
            }
            var Wu = function(t, e, r, n, o, a, s, u, l, c) {
                    if (this.boxStartIndex = t.length, l) {
                        var p = a.top,
                            h = a.bottom,
                            f = a.collisionPadding;
                        f && (p -= f[1], h += f[3]);
                        var d = h - p;
                        d > 0 && (d = Math.max(10, d), this.circleDiameter = d)
                    } else {
                        var m = a.top * s - u,
                            y = a.bottom * s + u,
                            v = a.left * s - u,
                            g = a.right * s + u,
                            _ = a.collisionPadding;
                        if (_ && (v -= _[0] * s, m -= _[1] * s, g += _[2] * s, y += _[3] * s), c) {
                            var x = new i(v, m),
                                b = new i(g, m),
                                w = new i(v, y),
                                S = new i(g, y),
                                T = c * Math.PI / 180;
                            x._rotate(T), b._rotate(T), w._rotate(T), S._rotate(T), v = Math.min(x.x, b.x, w.x, S.x), g = Math.max(x.x, b.x, w.x, S.x), m = Math.min(x.y, b.y, w.y, S.y), y = Math.max(x.y, b.y, w.y, S.y)
                        }
                        t.emplaceBack(e.x, e.y, v, m, g, y, r, n, o)
                    }
                    this.boxEndIndex = t.length
                },
                Xu = function(t, e) {
                    if (void 0 === t && (t = []), void 0 === e && (e = Ku), this.data = t, this.length = this.data.length, this.compare = e, this.length > 0)
                        for (var r = (this.length >> 1) - 1; r >= 0; r--) this._down(r)
                };

            function Ku(t, e) {
                return t < e ? -1 : t > e ? 1 : 0
            }

            function Ju(t, e, r) {
                void 0 === e && (e = 1), void 0 === r && (r = !1);
                for (var n = 1 / 0, o = 1 / 0, a = -1 / 0, s = -1 / 0, u = t[0], l = 0; l < u.length; l++) {
                    var c = u[l];
                    (!l || c.x < n) && (n = c.x), (!l || c.y < o) && (o = c.y), (!l || c.x > a) && (a = c.x), (!l || c.y > s) && (s = c.y)
                }
                var p = Math.min(a - n, s - o),
                    h = p / 2,
                    f = new Xu([], Yu);
                if (0 === p) return new i(n, o);
                for (var d = n; d < a; d += p)
                    for (var m = o; m < s; m += p) f.push(new Qu(d + h, m + h, h, t));
                for (var y = function(t) {
                        for (var e = 0, r = 0, n = 0, i = t[0], o = 0, a = i.length, s = a - 1; o < a; s = o++) {
                            var u = i[o],
                                l = i[s],
                                c = u.x * l.y - l.x * u.y;
                            r += (u.x + l.x) * c, n += (u.y + l.y) * c, e += 3 * c
                        }
                        return new Qu(r / e, n / e, 0, t)
                    }(t), v = f.length; f.length;) {
                    var g = f.pop();
                    (g.d > y.d || !y.d) && (y = g, r && console.log("found best %d after %d probes", Math.round(1e4 * g.d) / 1e4, v)), g.max - y.d <= e || (f.push(new Qu(g.p.x - (h = g.h / 2), g.p.y - h, h, t)), f.push(new Qu(g.p.x + h, g.p.y - h, h, t)), f.push(new Qu(g.p.x - h, g.p.y + h, h, t)), f.push(new Qu(g.p.x + h, g.p.y + h, h, t)), v += 4)
                }
                return r && (console.log("num probes: " + v), console.log("best distance: " + y.d)), y.p
            }

            function Yu(t, e) {
                return e.max - t.max
            }

            function Qu(t, e, r, n) {
                this.p = new i(t, e), this.h = r, this.d = function(t, e) {
                    for (var r = !1, n = 1 / 0, i = 0; i < e.length; i++)
                        for (var o = e[i], a = 0, s = o.length, u = s - 1; a < s; u = a++) {
                            var l = o[a],
                                c = o[u];
                            l.y > t.y != c.y > t.y && t.x < (c.x - l.x) * (t.y - l.y) / (c.y - l.y) + l.x && (r = !r), n = Math.min(n, Wo(t, l, c))
                        }
                    return (r ? 1 : -1) * Math.sqrt(n)
                }(this.p, n), this.max = this.d + this.h * Math.SQRT2
            }
            Xu.prototype.push = function(t) {
                this.data.push(t), this.length++, this._up(this.length - 1)
            }, Xu.prototype.pop = function() {
                if (0 !== this.length) {
                    var t = this.data[0],
                        e = this.data.pop();
                    return this.length--, this.length > 0 && (this.data[0] = e, this._down(0)), t
                }
            }, Xu.prototype.peek = function() {
                return this.data[0]
            }, Xu.prototype._up = function(t) {
                for (var e = this.data, r = this.compare, n = e[t]; t > 0;) {
                    var i = t - 1 >> 1,
                        o = e[i];
                    if (r(n, o) >= 0) break;
                    e[t] = o, t = i
                }
                e[t] = n
            }, Xu.prototype._down = function(t) {
                for (var e = this.data, r = this.compare, n = this.length >> 1, i = e[t]; t < n;) {
                    var o = 1 + (t << 1),
                        a = e[o],
                        s = o + 1;
                    if (s < this.length && r(e[s], a) < 0 && (o = s, a = e[s]), r(a, i) >= 0) break;
                    e[t] = a, t = o
                }
                e[t] = i
            };
            var tl = Number.POSITIVE_INFINITY;

            function el(t, e) {
                return e[1] !== tl ? function(t, e, r) {
                    var n = 0,
                        i = 0;
                    switch (e = Math.abs(e), r = Math.abs(r), t) {
                        case "top-right":
                        case "top-left":
                        case "top":
                            i = r - 7;
                            break;
                        case "bottom-right":
                        case "bottom-left":
                        case "bottom":
                            i = 7 - r
                    }
                    switch (t) {
                        case "top-right":
                        case "bottom-right":
                        case "right":
                            n = -e;
                            break;
                        case "top-left":
                        case "bottom-left":
                        case "left":
                            n = e
                    }
                    return [n, i]
                }(t, e[0], e[1]) : function(t, e) {
                    var r = 0,
                        n = 0;
                    e < 0 && (e = 0);
                    var i = e / Math.sqrt(2);
                    switch (t) {
                        case "top-right":
                        case "top-left":
                            n = i - 7;
                            break;
                        case "bottom-right":
                        case "bottom-left":
                            n = 7 - i;
                            break;
                        case "bottom":
                            n = 7 - e;
                            break;
                        case "top":
                            n = e - 7
                    }
                    switch (t) {
                        case "top-right":
                        case "bottom-right":
                            r = -i;
                            break;
                        case "top-left":
                        case "bottom-left":
                            r = i;
                            break;
                        case "left":
                            r = e;
                            break;
                        case "right":
                            r = -e
                    }
                    return [r, n]
                }(t, e[0])
            }

            function rl(t) {
                switch (t) {
                    case "right":
                    case "top-right":
                    case "bottom-right":
                        return "right";
                    case "left":
                    case "top-left":
                    case "bottom-left":
                        return "left"
                }
                return "center"
            }

            function nl(t, e, r, n, o, a, s, u, l, c, p, h, f, d, m) {
                var y = function(t, e, r, n, o, a, s, u) {
                        for (var l = n.layout.get("text-rotate").evaluate(a, {}) * Math.PI / 180, c = [], p = 0, h = e.positionedLines; p < h.length; p += 1)
                            for (var f = h[p], d = 0, m = f.positionedGlyphs; d < m.length; d += 1) {
                                var y = m[d];
                                if (y.rect) {
                                    var v = y.rect || {},
                                        g = 4,
                                        _ = !0,
                                        x = 1,
                                        b = 0,
                                        w = (o || u) && y.vertical,
                                        S = y.metrics.advance * y.scale / 2;
                                    if (u && e.verticalizable && (b = f.lineOffset / 2 - (y.imageName ? -(24 - y.metrics.width * y.scale) / 2 : 24 * (y.scale - 1))), y.imageName) {
                                        var T = s[y.imageName];
                                        _ = T.sdf, g = 1 / (x = T.pixelRatio)
                                    }
                                    var E = o ? [y.x + S, y.y] : [0, 0],
                                        A = o ? [0, 0] : [y.x + S + r[0], y.y + r[1] - b],
                                        C = [0, 0];
                                    w && (C = A, A = [0, 0]);
                                    var I = (y.metrics.left - g) * y.scale - S + A[0],
                                        k = (-y.metrics.top - g) * y.scale + A[1],
                                        P = I + v.w * y.scale / x,
                                        z = k + v.h * y.scale / x,
                                        M = new i(I, k),
                                        D = new i(P, k),
                                        L = new i(I, z),
                                        O = new i(P, z);
                                    if (w) {
                                        var R = new i(-S, S - -17),
                                            B = -Math.PI / 2,
                                            F = 12 - S,
                                            N = new i(22 - F, -(y.imageName ? F : 0)),
                                            U = new(Function.prototype.bind.apply(i, [null].concat(C)));
                                        M._rotateAround(B, R)._add(N)._add(U), D._rotateAround(B, R)._add(N)._add(U), L._rotateAround(B, R)._add(N)._add(U), O._rotateAround(B, R)._add(N)._add(U)
                                    }
                                    if (l) {
                                        var j = Math.sin(l),
                                            V = Math.cos(l),
                                            q = [V, -j, j, V];
                                        M._matMult(q), D._matMult(q), L._matMult(q), O._matMult(q)
                                    }
                                    var Z = new i(0, 0),
                                        $ = new i(0, 0);
                                    c.push({
                                        tl: M,
                                        tr: D,
                                        bl: L,
                                        br: O,
                                        tex: v,
                                        writingMode: e.writingMode,
                                        glyphOffset: E,
                                        sectionIndex: y.sectionIndex,
                                        isSDF: _,
                                        pixelOffsetTL: Z,
                                        pixelOffsetBR: $,
                                        minFontScaleX: 0,
                                        minFontScaleY: 0
                                    })
                                }
                            }
                        return c
                    }(0, r, u, o, a, s, n, t.allowVerticalPlacement),
                    v = t.textSizeData,
                    g = null;
                "source" === v.kind ? (g = [128 * o.layout.get("text-size").evaluate(s, {})])[0] > 32640 && w(t.layerIds[0] + ': Value for "text-size" is >= 255. Reduce your "text-size".') : "composite" === v.kind && ((g = [128 * d.compositeTextSizes[0].evaluate(s, {}, m), 128 * d.compositeTextSizes[1].evaluate(s, {}, m)])[0] > 32640 || g[1] > 32640) && w(t.layerIds[0] + ': Value for "text-size" is >= 255. Reduce your "text-size".'), t.addSymbols(t.text, y, g, u, a, s, c, e, l.lineStartIndex, l.lineLength, f, m);
                for (var _ = 0, x = p; _ < x.length; _ += 1) h[x[_]] = t.text.placedSymbolArray.length - 1;
                return 4 * y.length
            }

            function il(t) {
                for (var e in t) return t[e];
                return null
            }

            function ol(t, e, r, n) {
                var i = t.compareText;
                if (e in i) {
                    for (var o = i[e], a = o.length - 1; a >= 0; a--)
                        if (n.dist(o[a]) < r) return !0
                } else i[e] = [];
                return i[e].push(n), !1
            }
            var al = vs.VectorTileFeature.types,
                sl = [{
                    name: "a_fade_opacity",
                    components: 1,
                    type: "Uint8",
                    offset: 0
                }];

            function ul(t, e, r, n, i, o, a, s, u, l, c, p, h) {
                var f = s ? Math.min(32640, Math.round(s[0])) : 0,
                    d = s ? Math.min(32640, Math.round(s[1])) : 0;
                t.emplaceBack(e, r, Math.round(32 * n), Math.round(32 * i), o, a, (f << 1) + (u ? 1 : 0), d, 16 * l, 16 * c, 256 * p, 256 * h)
            }

            function ll(t, e, r) {
                t.emplaceBack(e.x, e.y, r), t.emplaceBack(e.x, e.y, r), t.emplaceBack(e.x, e.y, r), t.emplaceBack(e.x, e.y, r)
            }

            function cl(t) {
                for (var e = 0, r = t.sections; e < r.length; e += 1)
                    if (Xn(r[e].text)) return !0;
                return !1
            }
            var pl = function(t) {
                this.layoutVertexArray = new zi, this.indexArray = new Fi, this.programConfigurations = t, this.segments = new oo, this.dynamicLayoutVertexArray = new Mi, this.opacityVertexArray = new Di, this.placedSymbolArray = new Ji
            };
            pl.prototype.isEmpty = function() {
                return 0 === this.layoutVertexArray.length && 0 === this.indexArray.length && 0 === this.dynamicLayoutVertexArray.length && 0 === this.opacityVertexArray.length
            }, pl.prototype.upload = function(t, e, r, n) {
                this.isEmpty() || (r && (this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, Bs.members), this.indexBuffer = t.createIndexBuffer(this.indexArray, e), this.dynamicLayoutVertexBuffer = t.createVertexBuffer(this.dynamicLayoutVertexArray, Fs.members, !0), this.opacityVertexBuffer = t.createVertexBuffer(this.opacityVertexArray, sl, !0), this.opacityVertexBuffer.itemSize = 1), (r || n) && this.programConfigurations.upload(t))
            }, pl.prototype.destroy = function() {
                this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.dynamicLayoutVertexBuffer.destroy(), this.opacityVertexBuffer.destroy())
            }, Rn("SymbolBuffers", pl);
            var hl = function(t, e, r) {
                this.layoutVertexArray = new t, this.layoutAttributes = e, this.indexArray = new r, this.segments = new oo, this.collisionVertexArray = new Bi
            };
            hl.prototype.upload = function(t) {
                this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, this.layoutAttributes), this.indexBuffer = t.createIndexBuffer(this.indexArray), this.collisionVertexBuffer = t.createVertexBuffer(this.collisionVertexArray, Ns.members, !0)
            }, hl.prototype.destroy = function() {
                this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.segments.destroy(), this.collisionVertexBuffer.destroy())
            }, Rn("CollisionBuffers", hl);
            var fl = function(t) {
                this.collisionBoxArray = t.collisionBoxArray, this.zoom = t.zoom, this.overscaling = t.overscaling, this.layers = t.layers, this.layerIds = this.layers.map((function(t) {
                    return t.id
                })), this.index = t.index, this.pixelRatio = t.pixelRatio, this.sourceLayerIndex = t.sourceLayerIndex, this.hasPattern = !1, this.hasRTLText = !1, this.sortKeyRanges = [], this.collisionCircleArray = [], this.placementInvProjMatrix = ia([]), this.placementViewportMatrix = ia([]);
                var e = this.layers[0]._unevaluatedLayout._values;
                this.textSizeData = Mu(this.zoom, e["text-size"]), this.iconSizeData = Mu(this.zoom, e["icon-size"]);
                var r = this.layers[0].layout,
                    n = r.get("symbol-sort-key"),
                    i = r.get("symbol-z-order");
                this.sortFeaturesByKey = "viewport-y" !== i && void 0 !== n.constantOr(1), this.sortFeaturesByY = ("viewport-y" === i || "auto" === i && !this.sortFeaturesByKey) && (r.get("text-allow-overlap") || r.get("icon-allow-overlap") || r.get("text-ignore-placement") || r.get("icon-ignore-placement")), "point" === r.get("symbol-placement") && (this.writingModes = r.get("text-writing-mode").map((function(t) {
                    return vu[t]
                }))), this.stateDependentLayerIds = this.layers.filter((function(t) {
                    return t.isStateDependent()
                })).map((function(t) {
                    return t.id
                })), this.sourceID = t.sourceID
            };
            fl.prototype.createArrays = function() {
                this.text = new pl(new Do(this.layers, this.zoom, (function(t) {
                    return /^text/.test(t)
                }))), this.icon = new pl(new Do(this.layers, this.zoom, (function(t) {
                    return /^icon/.test(t)
                }))), this.glyphOffsetArray = new to, this.lineVertexArray = new eo, this.symbolInstances = new Qi
            }, fl.prototype.calculateGlyphDependencies = function(t, e, r, n, i) {
                for (var o = 0; o < t.length; o++)
                    if (e[t.charCodeAt(o)] = !0, (r || n) && i) {
                        var a = qs[t.charAt(o)];
                        a && (e[a.charCodeAt(0)] = !0)
                    }
            }, fl.prototype.populate = function(t, e, r) {
                var n = this.layers[0],
                    i = n.layout,
                    o = i.get("text-font"),
                    a = i.get("text-field"),
                    s = i.get("icon-image"),
                    u = ("constant" !== a.value.kind || a.value.value instanceof ee && !a.value.value.isEmpty() || a.value.value.toString().length > 0) && ("constant" !== o.value.kind || o.value.value.length > 0),
                    l = "constant" !== s.value.kind || !!s.value.value || Object.keys(s.parameters).length > 0,
                    c = i.get("symbol-sort-key");
                if (this.features = [], u || l) {
                    for (var p = e.iconDependencies, h = e.glyphDependencies, f = e.availableImages, d = new oi(this.zoom), m = 0, y = t; m < y.length; m += 1) {
                        var v = y[m],
                            g = v.feature,
                            _ = v.id,
                            x = v.index,
                            b = v.sourceLayerIndex,
                            w = n._featureFilter.needGeometry,
                            S = {
                                type: g.type,
                                id: _,
                                properties: g.properties,
                                geometry: w ? Fo(g) : []
                            };
                        if (n._featureFilter.filter(d, S, r)) {
                            w || (S.geometry = Fo(g));
                            var T = void 0;
                            if (u) {
                                var E = n.getValueAndResolveTokens("text-field", S, r, f),
                                    A = ee.factory(E);
                                cl(A) && (this.hasRTLText = !0), (!this.hasRTLText || "unavailable" === ri() || this.hasRTLText && ii.isParsed()) && (T = Vs(A, n, S))
                            }
                            var C = void 0;
                            if (l) {
                                var I = n.getValueAndResolveTokens("icon-image", S, r, f);
                                C = I instanceof re ? I : re.fromString(I)
                            }
                            if (T || C) {
                                var k = this.sortFeaturesByKey ? c.evaluate(S, {}, r) : void 0,
                                    P = {
                                        id: _,
                                        text: T,
                                        icon: C,
                                        index: x,
                                        sourceLayerIndex: b,
                                        geometry: Fo(g),
                                        properties: g.properties,
                                        type: al[g.type],
                                        sortKey: k
                                    };
                                if (this.features.push(P), C && (p[C.name] = !0), T) {
                                    var z = o.evaluate(S, {}, r).join(","),
                                        M = "map" === i.get("text-rotation-alignment") && "point" !== i.get("symbol-placement");
                                    this.allowVerticalPlacement = this.writingModes && this.writingModes.indexOf(vu.vertical) >= 0;
                                    for (var D = 0, L = T.sections; D < L.length; D += 1) {
                                        var O = L[D];
                                        if (O.image) p[O.image.name] = !0;
                                        else {
                                            var R = Zn(T.toString()),
                                                B = O.fontStack || z,
                                                F = h[B] = h[B] || {};
                                            this.calculateGlyphDependencies(O.text, F, M, this.allowVerticalPlacement, R)
                                        }
                                    }
                                }
                            }
                        }
                    }
                    "line" === i.get("symbol-placement") && (this.features = function(t) {
                        var e = {},
                            r = {},
                            n = [],
                            i = 0;

                        function o(e) {
                            n.push(t[e]), i++
                        }

                        function a(t, e, i) {
                            var o = r[t];
                            return delete r[t], r[e] = o, n[o].geometry[0].pop(), n[o].geometry[0] = n[o].geometry[0].concat(i[0]), o
                        }

                        function s(t, r, i) {
                            var o = e[r];
                            return delete e[r], e[t] = o, n[o].geometry[0].shift(), n[o].geometry[0] = i[0].concat(n[o].geometry[0]), o
                        }

                        function u(t, e, r) {
                            var n = r ? e[0][e[0].length - 1] : e[0][0];
                            return t + ":" + n.x + ":" + n.y
                        }
                        for (var l = 0; l < t.length; l++) {
                            var c = t[l],
                                p = c.geometry,
                                h = c.text ? c.text.toString() : null;
                            if (h) {
                                var f = u(h, p),
                                    d = u(h, p, !0);
                                if (f in r && d in e && r[f] !== e[d]) {
                                    var m = s(f, d, p),
                                        y = a(f, d, n[m].geometry);
                                    delete e[f], delete r[d], r[u(h, n[y].geometry, !0)] = y, n[m].geometry = null
                                } else f in r ? a(f, d, p) : d in e ? s(f, d, p) : (o(l), e[f] = i - 1, r[d] = i - 1)
                            } else o(l)
                        }
                        return n.filter((function(t) {
                            return t.geometry
                        }))
                    }(this.features)), this.sortFeaturesByKey && this.features.sort((function(t, e) {
                        return t.sortKey - e.sortKey
                    }))
                }
            }, fl.prototype.update = function(t, e, r) {
                this.stateDependentLayers.length && (this.text.programConfigurations.updatePaintArrays(t, e, this.layers, r), this.icon.programConfigurations.updatePaintArrays(t, e, this.layers, r))
            }, fl.prototype.isEmpty = function() {
                return 0 === this.symbolInstances.length && !this.hasRTLText
            }, fl.prototype.uploadPending = function() {
                return !this.uploaded || this.text.programConfigurations.needsUpload || this.icon.programConfigurations.needsUpload
            }, fl.prototype.upload = function(t) {
                !this.uploaded && this.hasDebugData() && (this.textCollisionBox.upload(t), this.iconCollisionBox.upload(t)), this.text.upload(t, this.sortFeaturesByY, !this.uploaded, this.text.programConfigurations.needsUpload), this.icon.upload(t, this.sortFeaturesByY, !this.uploaded, this.icon.programConfigurations.needsUpload), this.uploaded = !0
            }, fl.prototype.destroyDebugData = function() {
                this.textCollisionBox.destroy(), this.iconCollisionBox.destroy()
            }, fl.prototype.destroy = function() {
                this.text.destroy(), this.icon.destroy(), this.hasDebugData() && this.destroyDebugData()
            }, fl.prototype.addToLineVertexArray = function(t, e) {
                var r = this.lineVertexArray.length;
                if (void 0 !== t.segment) {
                    for (var n = t.dist(e[t.segment + 1]), i = t.dist(e[t.segment]), o = {}, a = t.segment + 1; a < e.length; a++) o[a] = {
                        x: e[a].x,
                        y: e[a].y,
                        tileUnitDistanceFromAnchor: n
                    }, a < e.length - 1 && (n += e[a + 1].dist(e[a]));
                    for (var s = t.segment || 0; s >= 0; s--) o[s] = {
                        x: e[s].x,
                        y: e[s].y,
                        tileUnitDistanceFromAnchor: i
                    }, s > 0 && (i += e[s - 1].dist(e[s]));
                    for (var u = 0; u < e.length; u++) {
                        var l = o[u];
                        this.lineVertexArray.emplaceBack(l.x, l.y, l.tileUnitDistanceFromAnchor)
                    }
                }
                return {
                    lineStartIndex: r,
                    lineLength: this.lineVertexArray.length - r
                }
            }, fl.prototype.addSymbols = function(t, e, r, n, i, o, a, s, u, l, c, p) {
                for (var h = t.indexArray, f = t.layoutVertexArray, d = t.segments.prepareSegment(4 * e.length, f, h, o.sortKey), m = this.glyphOffsetArray.length, y = d.vertexLength, v = this.allowVerticalPlacement && a === vu.vertical ? Math.PI / 2 : 0, g = o.text && o.text.sections, _ = 0; _ < e.length; _++) {
                    var x = e[_],
                        b = x.tl,
                        w = x.tr,
                        S = x.bl,
                        T = x.br,
                        E = x.tex,
                        A = x.pixelOffsetTL,
                        C = x.pixelOffsetBR,
                        I = x.minFontScaleX,
                        k = x.minFontScaleY,
                        P = x.glyphOffset,
                        z = x.isSDF,
                        M = x.sectionIndex,
                        D = d.vertexLength,
                        L = P[1];
                    ul(f, s.x, s.y, b.x, L + b.y, E.x, E.y, r, z, A.x, A.y, I, k), ul(f, s.x, s.y, w.x, L + w.y, E.x + E.w, E.y, r, z, C.x, A.y, I, k), ul(f, s.x, s.y, S.x, L + S.y, E.x, E.y + E.h, r, z, A.x, C.y, I, k), ul(f, s.x, s.y, T.x, L + T.y, E.x + E.w, E.y + E.h, r, z, C.x, C.y, I, k), ll(t.dynamicLayoutVertexArray, s, v), h.emplaceBack(D, D + 1, D + 2), h.emplaceBack(D + 1, D + 2, D + 3), d.vertexLength += 4, d.primitiveLength += 2, this.glyphOffsetArray.emplaceBack(P[0]), _ !== e.length - 1 && M === e[_ + 1].sectionIndex || t.programConfigurations.populatePaintArrays(f.length, o, o.index, {}, p, g && g[M])
                }
                t.placedSymbolArray.emplaceBack(s.x, s.y, m, this.glyphOffsetArray.length - m, y, u, l, s.segment, r ? r[0] : 0, r ? r[1] : 0, n[0], n[1], a, 0, !1, 0, c)
            }, fl.prototype._addCollisionDebugVertex = function(t, e, r, n, i, o) {
                return e.emplaceBack(0, 0), t.emplaceBack(r.x, r.y, n, i, Math.round(o.x), Math.round(o.y))
            }, fl.prototype.addCollisionDebugVertices = function(t, e, r, n, o, a, s) {
                var u = o.segments.prepareSegment(4, o.layoutVertexArray, o.indexArray),
                    l = u.vertexLength,
                    c = o.layoutVertexArray,
                    p = o.collisionVertexArray,
                    h = s.anchorX,
                    f = s.anchorY;
                this._addCollisionDebugVertex(c, p, a, h, f, new i(t, e)), this._addCollisionDebugVertex(c, p, a, h, f, new i(r, e)), this._addCollisionDebugVertex(c, p, a, h, f, new i(r, n)), this._addCollisionDebugVertex(c, p, a, h, f, new i(t, n)), u.vertexLength += 4;
                var d = o.indexArray;
                d.emplaceBack(l, l + 1), d.emplaceBack(l + 1, l + 2), d.emplaceBack(l + 2, l + 3), d.emplaceBack(l + 3, l), u.primitiveLength += 4
            }, fl.prototype.addDebugCollisionBoxes = function(t, e, r, n) {
                for (var i = t; i < e; i++) {
                    var o = this.collisionBoxArray.get(i);
                    this.addCollisionDebugVertices(o.x1, o.y1, o.x2, o.y2, n ? this.textCollisionBox : this.iconCollisionBox, o.anchorPoint, r)
                }
            }, fl.prototype.generateCollisionDebugBuffers = function() {
                this.hasDebugData() && this.destroyDebugData(), this.textCollisionBox = new hl(Oi, Us.members, Zi), this.iconCollisionBox = new hl(Oi, Us.members, Zi);
                for (var t = 0; t < this.symbolInstances.length; t++) {
                    var e = this.symbolInstances.get(t);
                    this.addDebugCollisionBoxes(e.textBoxStartIndex, e.textBoxEndIndex, e, !0), this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex, e.verticalTextBoxEndIndex, e, !0), this.addDebugCollisionBoxes(e.iconBoxStartIndex, e.iconBoxEndIndex, e, !1), this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex, e.verticalIconBoxEndIndex, e, !1)
                }
            }, fl.prototype._deserializeCollisionBoxesForSymbol = function(t, e, r, n, i, o, a, s, u) {
                for (var l = {}, c = e; c < r; c++) {
                    var p = t.get(c);
                    l.textBox = {
                        x1: p.x1,
                        y1: p.y1,
                        x2: p.x2,
                        y2: p.y2,
                        anchorPointX: p.anchorPointX,
                        anchorPointY: p.anchorPointY
                    }, l.textFeatureIndex = p.featureIndex;
                    break
                }
                for (var h = n; h < i; h++) {
                    var f = t.get(h);
                    l.verticalTextBox = {
                        x1: f.x1,
                        y1: f.y1,
                        x2: f.x2,
                        y2: f.y2,
                        anchorPointX: f.anchorPointX,
                        anchorPointY: f.anchorPointY
                    }, l.verticalTextFeatureIndex = f.featureIndex;
                    break
                }
                for (var d = o; d < a; d++) {
                    var m = t.get(d);
                    l.iconBox = {
                        x1: m.x1,
                        y1: m.y1,
                        x2: m.x2,
                        y2: m.y2,
                        anchorPointX: m.anchorPointX,
                        anchorPointY: m.anchorPointY
                    }, l.iconFeatureIndex = m.featureIndex;
                    break
                }
                for (var y = s; y < u; y++) {
                    var v = t.get(y);
                    l.verticalIconBox = {
                        x1: v.x1,
                        y1: v.y1,
                        x2: v.x2,
                        y2: v.y2,
                        anchorPointX: v.anchorPointX,
                        anchorPointY: v.anchorPointY
                    }, l.verticalIconFeatureIndex = v.featureIndex;
                    break
                }
                return l
            }, fl.prototype.deserializeCollisionBoxes = function(t) {
                this.collisionArrays = [];
                for (var e = 0; e < this.symbolInstances.length; e++) {
                    var r = this.symbolInstances.get(e);
                    this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t, r.textBoxStartIndex, r.textBoxEndIndex, r.verticalTextBoxStartIndex, r.verticalTextBoxEndIndex, r.iconBoxStartIndex, r.iconBoxEndIndex, r.verticalIconBoxStartIndex, r.verticalIconBoxEndIndex))
                }
            }, fl.prototype.hasTextData = function() {
                return this.text.segments.get().length > 0
            }, fl.prototype.hasIconData = function() {
                return this.icon.segments.get().length > 0
            }, fl.prototype.hasDebugData = function() {
                return this.textCollisionBox && this.iconCollisionBox
            }, fl.prototype.hasTextCollisionBoxData = function() {
                return this.hasDebugData() && this.textCollisionBox.segments.get().length > 0
            }, fl.prototype.hasIconCollisionBoxData = function() {
                return this.hasDebugData() && this.iconCollisionBox.segments.get().length > 0
            }, fl.prototype.addIndicesForPlacedSymbol = function(t, e) {
                for (var r = t.placedSymbolArray.get(e), n = r.vertexStartIndex + 4 * r.numGlyphs, i = r.vertexStartIndex; i < n; i += 4) t.indexArray.emplaceBack(i, i + 1, i + 2), t.indexArray.emplaceBack(i + 1, i + 2, i + 3)
            }, fl.prototype.getSortedSymbolIndexes = function(t) {
                if (this.sortedAngle === t && void 0 !== this.symbolInstanceIndexes) return this.symbolInstanceIndexes;
                for (var e = Math.sin(t), r = Math.cos(t), n = [], i = [], o = [], a = 0; a < this.symbolInstances.length; ++a) {
                    o.push(a);
                    var s = this.symbolInstances.get(a);
                    n.push(0 | Math.round(e * s.anchorX + r * s.anchorY)), i.push(s.featureIndex)
                }
                return o.sort((function(t, e) {
                    return n[t] - n[e] || i[e] - i[t]
                })), o
            }, fl.prototype.addToSortKeyRanges = function(t, e) {
                var r = this.sortKeyRanges[this.sortKeyRanges.length - 1];
                r && r.sortKey === e ? r.symbolInstanceEnd = t + 1 : this.sortKeyRanges.push({
                    sortKey: e,
                    symbolInstanceStart: t,
                    symbolInstanceEnd: t + 1
                })
            }, fl.prototype.sortFeatures = function(t) {
                var e = this;
                if (this.sortFeaturesByY && this.sortedAngle !== t && !(this.text.segments.get().length > 1 || this.icon.segments.get().length > 1)) {
                    this.symbolInstanceIndexes = this.getSortedSymbolIndexes(t), this.sortedAngle = t, this.text.indexArray.clear(), this.icon.indexArray.clear(), this.featureSortOrder = [];
                    for (var r = 0, n = this.symbolInstanceIndexes; r < n.length; r += 1) {
                        var i = this.symbolInstances.get(n[r]);
                        this.featureSortOrder.push(i.featureIndex), [i.rightJustifiedTextSymbolIndex, i.centerJustifiedTextSymbolIndex, i.leftJustifiedTextSymbolIndex].forEach((function(t, r, n) {
                            t >= 0 && n.indexOf(t) === r && e.addIndicesForPlacedSymbol(e.text, t)
                        })), i.verticalPlacedTextSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.text, i.verticalPlacedTextSymbolIndex), i.placedIconSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.icon, i.placedIconSymbolIndex), i.verticalPlacedIconSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.icon, i.verticalPlacedIconSymbolIndex)
                    }
                    this.text.indexBuffer && this.text.indexBuffer.updateData(this.text.indexArray), this.icon.indexBuffer && this.icon.indexBuffer.updateData(this.icon.indexArray)
                }
            }, Rn("SymbolBucket", fl, {
                omit: ["layers", "collisionBoxArray", "features", "compareText"]
            }), fl.MAX_GLYPHS = 65535, fl.addDynamicAttributes = ll;
            var dl = new _i({
                    "symbol-placement": new di(Ct.layout_symbol["symbol-placement"]),
                    "symbol-spacing": new di(Ct.layout_symbol["symbol-spacing"]),
                    "symbol-avoid-edges": new di(Ct.layout_symbol["symbol-avoid-edges"]),
                    "symbol-sort-key": new mi(Ct.layout_symbol["symbol-sort-key"]),
                    "symbol-z-order": new di(Ct.layout_symbol["symbol-z-order"]),
                    "icon-allow-overlap": new di(Ct.layout_symbol["icon-allow-overlap"]),
                    "icon-ignore-placement": new di(Ct.layout_symbol["icon-ignore-placement"]),
                    "icon-optional": new di(Ct.layout_symbol["icon-optional"]),
                    "icon-rotation-alignment": new di(Ct.layout_symbol["icon-rotation-alignment"]),
                    "icon-size": new mi(Ct.layout_symbol["icon-size"]),
                    "icon-text-fit": new di(Ct.layout_symbol["icon-text-fit"]),
                    "icon-text-fit-padding": new di(Ct.layout_symbol["icon-text-fit-padding"]),
                    "icon-image": new mi(Ct.layout_symbol["icon-image"]),
                    "icon-rotate": new mi(Ct.layout_symbol["icon-rotate"]),
                    "icon-padding": new di(Ct.layout_symbol["icon-padding"]),
                    "icon-keep-upright": new di(Ct.layout_symbol["icon-keep-upright"]),
                    "icon-offset": new mi(Ct.layout_symbol["icon-offset"]),
                    "icon-anchor": new mi(Ct.layout_symbol["icon-anchor"]),
                    "icon-pitch-alignment": new di(Ct.layout_symbol["icon-pitch-alignment"]),
                    "text-pitch-alignment": new di(Ct.layout_symbol["text-pitch-alignment"]),
                    "text-rotation-alignment": new di(Ct.layout_symbol["text-rotation-alignment"]),
                    "text-field": new mi(Ct.layout_symbol["text-field"]),
                    "text-font": new mi(Ct.layout_symbol["text-font"]),
                    "text-size": new mi(Ct.layout_symbol["text-size"]),
                    "text-max-width": new mi(Ct.layout_symbol["text-max-width"]),
                    "text-line-height": new di(Ct.layout_symbol["text-line-height"]),
                    "text-letter-spacing": new mi(Ct.layout_symbol["text-letter-spacing"]),
                    "text-justify": new mi(Ct.layout_symbol["text-justify"]),
                    "text-radial-offset": new mi(Ct.layout_symbol["text-radial-offset"]),
                    "text-variable-anchor": new di(Ct.layout_symbol["text-variable-anchor"]),
                    "text-anchor": new mi(Ct.layout_symbol["text-anchor"]),
                    "text-max-angle": new di(Ct.layout_symbol["text-max-angle"]),
                    "text-writing-mode": new di(Ct.layout_symbol["text-writing-mode"]),
                    "text-rotate": new mi(Ct.layout_symbol["text-rotate"]),
                    "text-padding": new di(Ct.layout_symbol["text-padding"]),
                    "text-keep-upright": new di(Ct.layout_symbol["text-keep-upright"]),
                    "text-transform": new mi(Ct.layout_symbol["text-transform"]),
                    "text-offset": new mi(Ct.layout_symbol["text-offset"]),
                    "text-allow-overlap": new di(Ct.layout_symbol["text-allow-overlap"]),
                    "text-ignore-placement": new di(Ct.layout_symbol["text-ignore-placement"]),
                    "text-optional": new di(Ct.layout_symbol["text-optional"])
                }),
                ml = {
                    paint: new _i({
                        "icon-opacity": new mi(Ct.paint_symbol["icon-opacity"]),
                        "icon-color": new mi(Ct.paint_symbol["icon-color"]),
                        "icon-halo-color": new mi(Ct.paint_symbol["icon-halo-color"]),
                        "icon-halo-width": new mi(Ct.paint_symbol["icon-halo-width"]),
                        "icon-halo-blur": new mi(Ct.paint_symbol["icon-halo-blur"]),
                        "icon-translate": new di(Ct.paint_symbol["icon-translate"]),
                        "icon-translate-anchor": new di(Ct.paint_symbol["icon-translate-anchor"]),
                        "text-opacity": new mi(Ct.paint_symbol["text-opacity"]),
                        "text-color": new mi(Ct.paint_symbol["text-color"], {
                            runtimeType: Nt,
                            getOverride: function(t) {
                                return t.textColor
                            },
                            hasOverride: function(t) {
                                return !!t.textColor
                            }
                        }),
                        "text-halo-color": new mi(Ct.paint_symbol["text-halo-color"]),
                        "text-halo-width": new mi(Ct.paint_symbol["text-halo-width"]),
                        "text-halo-blur": new mi(Ct.paint_symbol["text-halo-blur"]),
                        "text-translate": new di(Ct.paint_symbol["text-translate"]),
                        "text-translate-anchor": new di(Ct.paint_symbol["text-translate-anchor"])
                    }),
                    layout: dl
                },
                yl = function(t) {
                    this.type = t.property.overrides ? t.property.overrides.runtimeType : Ot, this.defaultValue = t
                };
            yl.prototype.evaluate = function(t) {
                if (t.formattedSection) {
                    var e = this.defaultValue.property.overrides;
                    if (e && e.hasOverride(t.formattedSection)) return e.getOverride(t.formattedSection)
                }
                return t.feature && t.featureState ? this.defaultValue.evaluate(t.feature, t.featureState) : this.defaultValue.property.specification.default
            }, yl.prototype.eachChild = function(t) {
                this.defaultValue.isConstant() || t(this.defaultValue.value._styleExpression.expression)
            }, yl.prototype.outputDefined = function() {
                return !1
            }, yl.prototype.serialize = function() {
                return null
            }, Rn("FormatSectionOverride", yl, {
                omit: ["defaultValue"]
            });
            var vl = function(t) {
                    function e(e) {
                        t.call(this, e, ml)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.recalculate = function(e, r) {
                        if (t.prototype.recalculate.call(this, e, r), "auto" === this.layout.get("icon-rotation-alignment") && (this.layout._values["icon-rotation-alignment"] = "point" !== this.layout.get("symbol-placement") ? "map" : "viewport"), "auto" === this.layout.get("text-rotation-alignment") && (this.layout._values["text-rotation-alignment"] = "point" !== this.layout.get("symbol-placement") ? "map" : "viewport"), "auto" === this.layout.get("text-pitch-alignment") && (this.layout._values["text-pitch-alignment"] = this.layout.get("text-rotation-alignment")), "auto" === this.layout.get("icon-pitch-alignment") && (this.layout._values["icon-pitch-alignment"] = this.layout.get("icon-rotation-alignment")), "point" === this.layout.get("symbol-placement")) {
                            var n = this.layout.get("text-writing-mode");
                            if (n) {
                                for (var i = [], o = 0, a = n; o < a.length; o += 1) {
                                    var s = a[o];
                                    i.indexOf(s) < 0 && i.push(s)
                                }
                                this.layout._values["text-writing-mode"] = i
                            } else this.layout._values["text-writing-mode"] = ["horizontal"]
                        }
                        this._setPaintOverrides()
                    }, e.prototype.getValueAndResolveTokens = function(t, e, r, n) {
                        var i = this.layout.get(t).evaluate(e, {}, r, n),
                            o = this._unevaluatedLayout._values[t];
                        return o.isDataDriven() || qr(o.value) || !i ? i : function(t, e) {
                            return e.replace(/{([^{}]+)}/g, (function(e, r) {
                                return r in t ? String(t[r]) : ""
                            }))
                        }(e.properties, i)
                    }, e.prototype.createBucket = function(t) {
                        return new fl(t)
                    }, e.prototype.queryRadius = function() {
                        return 0
                    }, e.prototype.queryIntersectsFeature = function() {
                        return !1
                    }, e.prototype._setPaintOverrides = function() {
                        for (var t = 0, r = ml.paint.overridableProperties; t < r.length; t += 1) {
                            var n = r[t];
                            if (e.hasPaintOverride(this.layout, n)) {
                                var i, o = this.paint.get(n),
                                    a = new yl(o),
                                    s = new Vr(a, o.property.specification);
                                i = "constant" === o.value.kind || "source" === o.value.kind ? new $r("source", s) : new Gr("composite", s, o.value.zoomStops, o.value._interpolationType), this.paint._values[n] = new hi(o.property, i, o.parameters)
                            }
                        }
                    }, e.prototype._handleOverridablePaintPropertyUpdate = function(t, r, n) {
                        return !(!this.layout || r.isDataDriven() || n.isDataDriven()) && e.hasPaintOverride(this.layout, t)
                    }, e.hasPaintOverride = function(t, e) {
                        var r = t.get("text-field"),
                            n = ml.paint.properties[e],
                            i = !1,
                            o = function(t) {
                                for (var e = 0, r = t; e < r.length; e += 1)
                                    if (n.overrides && n.overrides.hasOverride(r[e])) return void(i = !0)
                            };
                        if ("constant" === r.value.kind && r.value.value instanceof ee) o(r.value.value.sections);
                        else if ("source" === r.value.kind) {
                            var a = function(t) {
                                    i || (t instanceof se && oe(t.value) === qt ? o(t.value.sections) : t instanceof pe ? o(t.sections) : t.eachChild(a))
                                },
                                s = r.value;
                            s._styleExpression && a(s._styleExpression.expression)
                        }
                        return i
                    }, e
                }(xi),
                gl = {
                    paint: new _i({
                        "background-color": new di(Ct.paint_background["background-color"]),
                        "background-pattern": new vi(Ct.paint_background["background-pattern"]),
                        "background-opacity": new di(Ct.paint_background["background-opacity"])
                    })
                },
                _l = function(t) {
                    function e(e) {
                        t.call(this, e, gl)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
                }(xi),
                xl = {
                    paint: new _i({
                        "raster-opacity": new di(Ct.paint_raster["raster-opacity"]),
                        "raster-hue-rotate": new di(Ct.paint_raster["raster-hue-rotate"]),
                        "raster-brightness-min": new di(Ct.paint_raster["raster-brightness-min"]),
                        "raster-brightness-max": new di(Ct.paint_raster["raster-brightness-max"]),
                        "raster-saturation": new di(Ct.paint_raster["raster-saturation"]),
                        "raster-contrast": new di(Ct.paint_raster["raster-contrast"]),
                        "raster-resampling": new di(Ct.paint_raster["raster-resampling"]),
                        "raster-fade-duration": new di(Ct.paint_raster["raster-fade-duration"])
                    })
                },
                bl = function(t) {
                    function e(e) {
                        t.call(this, e, xl)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
                }(xi),
                wl = function(t) {
                    function e(e) {
                        t.call(this, e, {}), this.implementation = e
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.is3D = function() {
                        return "3d" === this.implementation.renderingMode
                    }, e.prototype.hasOffscreenPass = function() {
                        return void 0 !== this.implementation.prerender
                    }, e.prototype.recalculate = function() {}, e.prototype.updateTransitions = function() {}, e.prototype.hasTransition = function() {}, e.prototype.serialize = function() {}, e.prototype.onAdd = function(t) {
                        this.implementation.onAdd && this.implementation.onAdd(t, t.painter.context.gl)
                    }, e.prototype.onRemove = function(t) {
                        this.implementation.onRemove && this.implementation.onRemove(t, t.painter.context.gl)
                    }, e
                }(xi),
                Sl = {
                    circle: la,
                    heatmap: _a,
                    hillshade: ba,
                    fill: ss,
                    "fill-extrusion": Ts,
                    line: Os,
                    symbol: vl,
                    background: _l,
                    raster: bl
                },
                Tl = a.HTMLImageElement,
                El = a.HTMLCanvasElement,
                Al = a.HTMLVideoElement,
                Cl = a.ImageData,
                Il = a.ImageBitmap,
                kl = function(t, e, r, n) {
                    this.context = t, this.format = r, this.texture = t.gl.createTexture(), this.update(e, n)
                };
            kl.prototype.update = function(t, e, r) {
                var n = t.width,
                    i = t.height,
                    o = !(this.size && this.size[0] === n && this.size[1] === i || r),
                    a = this.context,
                    s = a.gl;
                if (this.useMipmap = Boolean(e && e.useMipmap), s.bindTexture(s.TEXTURE_2D, this.texture), a.pixelStoreUnpackFlipY.set(!1), a.pixelStoreUnpack.set(1), a.pixelStoreUnpackPremultiplyAlpha.set(this.format === s.RGBA && (!e || !1 !== e.premultiply)), o) this.size = [n, i], t instanceof Tl || t instanceof El || t instanceof Al || t instanceof Cl || Il && t instanceof Il ? s.texImage2D(s.TEXTURE_2D, 0, this.format, this.format, s.UNSIGNED_BYTE, t) : s.texImage2D(s.TEXTURE_2D, 0, this.format, n, i, 0, this.format, s.UNSIGNED_BYTE, t.data);
                else {
                    var u = r || {
                            x: 0,
                            y: 0
                        },
                        l = u.x,
                        c = u.y;
                    t instanceof Tl || t instanceof El || t instanceof Al || t instanceof Cl || Il && t instanceof Il ? s.texSubImage2D(s.TEXTURE_2D, 0, l, c, s.RGBA, s.UNSIGNED_BYTE, t) : s.texSubImage2D(s.TEXTURE_2D, 0, l, c, n, i, s.RGBA, s.UNSIGNED_BYTE, t.data)
                }
                this.useMipmap && this.isSizePowerOfTwo() && s.generateMipmap(s.TEXTURE_2D)
            }, kl.prototype.bind = function(t, e, r) {
                var n = this.context.gl;
                n.bindTexture(n.TEXTURE_2D, this.texture), r !== n.LINEAR_MIPMAP_NEAREST || this.isSizePowerOfTwo() || (r = n.LINEAR), t !== this.filter && (n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MAG_FILTER, t), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MIN_FILTER, r || t), this.filter = t), e !== this.wrap && (n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_S, e), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_T, e), this.wrap = e)
            }, kl.prototype.isSizePowerOfTwo = function() {
                return this.size[0] === this.size[1] && Math.log(this.size[0]) / Math.LN2 % 1 == 0
            }, kl.prototype.destroy = function() {
                this.context.gl.deleteTexture(this.texture), this.texture = null
            };
            var Pl = function(t) {
                var e = this;
                this._callback = t, this._triggered = !1, "undefined" != typeof MessageChannel && (this._channel = new MessageChannel, this._channel.port2.onmessage = function() {
                    e._triggered = !1, e._callback()
                })
            };
            Pl.prototype.trigger = function() {
                var t = this;
                this._triggered || (this._triggered = !0, this._channel ? this._channel.port1.postMessage(!0) : setTimeout((function() {
                    t._triggered = !1, t._callback()
                }), 0))
            }, Pl.prototype.remove = function() {
                delete this._channel, this._callback = function() {}
            };
            var zl = function(t, e, r) {
                this.target = t, this.parent = e, this.mapId = r, this.callbacks = {}, this.tasks = {}, this.taskQueue = [], this.cancelCallbacks = {}, y(["receive", "process"], this), this.invoker = new Pl(this.process), this.target.addEventListener("message", this.receive, !1), this.globalScope = E() ? t : a
            };

            function Ml(t, e, r) {
                var n = 2 * Math.PI * 6378137 / 256 / Math.pow(2, r);
                return [t * n - 2 * Math.PI * 6378137 / 2, e * n - 2 * Math.PI * 6378137 / 2]
            }
            zl.prototype.send = function(t, e, r, n, i) {
                var o = this;
                void 0 === i && (i = !1);
                var a = Math.round(1e18 * Math.random()).toString(36).substring(0, 10);
                r && (this.callbacks[a] = r);
                var s = I(this.globalScope) ? void 0 : [];
                return this.target.postMessage({
                    id: a,
                    type: t,
                    hasCallback: !!r,
                    targetMapId: n,
                    mustQueue: i,
                    sourceMapId: this.mapId,
                    data: Un(e, s)
                }, s), {
                    cancel: function() {
                        r && delete o.callbacks[a], o.target.postMessage({
                            id: a,
                            type: "<cancel>",
                            targetMapId: n,
                            sourceMapId: o.mapId
                        })
                    }
                }
            }, zl.prototype.receive = function(t) {
                var e = t.data,
                    r = e.id;
                if (r && (!e.targetMapId || this.mapId === e.targetMapId))
                    if ("<cancel>" === e.type) {
                        delete this.tasks[r];
                        var n = this.cancelCallbacks[r];
                        delete this.cancelCallbacks[r], n && n()
                    } else E() || e.mustQueue ? (this.tasks[r] = e, this.taskQueue.push(r), this.invoker.trigger()) : this.processTask(r, e)
            }, zl.prototype.process = function() {
                if (this.taskQueue.length) {
                    var t = this.taskQueue.shift(),
                        e = this.tasks[t];
                    delete this.tasks[t], this.taskQueue.length && this.invoker.trigger(), e && this.processTask(t, e)
                }
            }, zl.prototype.processTask = function(t, e) {
                var r = this;
                if ("<response>" === e.type) {
                    var n = this.callbacks[t];
                    delete this.callbacks[t], n && (e.error ? n(jn(e.error)) : n(null, jn(e.data)))
                } else {
                    var i = !1,
                        o = I(this.globalScope) ? void 0 : [],
                        a = e.hasCallback ? function(e, n) {
                            i = !0, delete r.cancelCallbacks[t], r.target.postMessage({
                                id: t,
                                type: "<response>",
                                sourceMapId: r.mapId,
                                error: e ? Un(e) : null,
                                data: Un(n, o)
                            }, o)
                        } : function(t) {
                            i = !0
                        },
                        s = null,
                        u = jn(e.data);
                    if (this.parent[e.type]) s = this.parent[e.type](e.sourceMapId, u, a);
                    else if (this.parent.getWorkerSource) {
                        var l = e.type.split(".");
                        s = this.parent.getWorkerSource(e.sourceMapId, l[0], u.source)[l[1]](u, a)
                    } else a(new Error("Could not find function " + e.type));
                    !i && s && s.cancel && (this.cancelCallbacks[t] = s.cancel)
                }
            }, zl.prototype.remove = function() {
                this.invoker.remove(), this.target.removeEventListener("message", this.receive, !1)
            };
            var Dl = function(t, e) {
                t && (e ? this.setSouthWest(t).setNorthEast(e) : 4 === t.length ? this.setSouthWest([t[0], t[1]]).setNorthEast([t[2], t[3]]) : this.setSouthWest(t[0]).setNorthEast(t[1]))
            };
            Dl.prototype.setNorthEast = function(t) {
                return this._ne = t instanceof Ll ? new Ll(t.lng, t.lat) : Ll.convert(t), this
            }, Dl.prototype.setSouthWest = function(t) {
                return this._sw = t instanceof Ll ? new Ll(t.lng, t.lat) : Ll.convert(t), this
            }, Dl.prototype.extend = function(t) {
                var e, r, n = this._sw,
                    i = this._ne;
                if (t instanceof Ll) e = t, r = t;
                else {
                    if (!(t instanceof Dl)) return Array.isArray(t) ? 4 === t.length || t.every(Array.isArray) ? this.extend(Dl.convert(t)) : this.extend(Ll.convert(t)) : this;
                    if (r = t._ne, !(e = t._sw) || !r) return this
                }
                return n || i ? (n.lng = Math.min(e.lng, n.lng), n.lat = Math.min(e.lat, n.lat), i.lng = Math.max(r.lng, i.lng), i.lat = Math.max(r.lat, i.lat)) : (this._sw = new Ll(e.lng, e.lat), this._ne = new Ll(r.lng, r.lat)), this
            }, Dl.prototype.getCenter = function() {
                return new Ll((this._sw.lng + this._ne.lng) / 2, (this._sw.lat + this._ne.lat) / 2)
            }, Dl.prototype.getSouthWest = function() {
                return this._sw
            }, Dl.prototype.getNorthEast = function() {
                return this._ne
            }, Dl.prototype.getNorthWest = function() {
                return new Ll(this.getWest(), this.getNorth())
            }, Dl.prototype.getSouthEast = function() {
                return new Ll(this.getEast(), this.getSouth())
            }, Dl.prototype.getWest = function() {
                return this._sw.lng
            }, Dl.prototype.getSouth = function() {
                return this._sw.lat
            }, Dl.prototype.getEast = function() {
                return this._ne.lng
            }, Dl.prototype.getNorth = function() {
                return this._ne.lat
            }, Dl.prototype.toArray = function() {
                return [this._sw.toArray(), this._ne.toArray()]
            }, Dl.prototype.toString = function() {
                return "LngLatBounds(" + this._sw.toString() + ", " + this._ne.toString() + ")"
            }, Dl.prototype.isEmpty = function() {
                return !(this._sw && this._ne)
            }, Dl.prototype.contains = function(t) {
                var e = Ll.convert(t),
                    r = e.lng,
                    n = e.lat,
                    i = this._sw.lng <= r && r <= this._ne.lng;
                return this._sw.lng > this._ne.lng && (i = this._sw.lng >= r && r >= this._ne.lng), this._sw.lat <= n && n <= this._ne.lat && i
            }, Dl.convert = function(t) {
                return !t || t instanceof Dl ? t : new Dl(t)
            };
            var Ll = function(t, e) {
                if (isNaN(t) || isNaN(e)) throw new Error("Invalid LngLat object: (" + t + ", " + e + ")");
                if (this.lng = +t, this.lat = +e, this.lat > 90 || this.lat < -90) throw new Error("Invalid LngLat latitude value: must be between -90 and 90")
            };
            Ll.prototype.wrap = function() {
                return new Ll(c(this.lng, -180, 180), this.lat)
            }, Ll.prototype.toArray = function() {
                return [this.lng, this.lat]
            }, Ll.prototype.toString = function() {
                return "LngLat(" + this.lng + ", " + this.lat + ")"
            }, Ll.prototype.distanceTo = function(t) {
                var e = Math.PI / 180,
                    r = this.lat * e,
                    n = t.lat * e,
                    i = Math.sin(r) * Math.sin(n) + Math.cos(r) * Math.cos(n) * Math.cos((t.lng - this.lng) * e);
                return 6371008.8 * Math.acos(Math.min(i, 1))
            }, Ll.prototype.toBounds = function(t) {
                void 0 === t && (t = 0);
                var e = 360 * t / 40075017,
                    r = e / Math.cos(Math.PI / 180 * this.lat);
                return new Dl(new Ll(this.lng - r, this.lat - e), new Ll(this.lng + r, this.lat + e))
            }, Ll.convert = function(t) {
                if (t instanceof Ll) return t;
                if (Array.isArray(t) && (2 === t.length || 3 === t.length)) return new Ll(Number(t[0]), Number(t[1]));
                if (!Array.isArray(t) && "object" == typeof t && null !== t) return new Ll(Number("lng" in t ? t.lng : t.lon), Number(t.lat));
                throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")
            };
            var Ol = 2 * Math.PI * 6371008.8;

            function Rl(t) {
                return Ol * Math.cos(t * Math.PI / 180)
            }

            function Bl(t) {
                return (180 + t) / 360
            }

            function Fl(t) {
                return (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + t * Math.PI / 360))) / 360
            }

            function Nl(t, e) {
                return t / Rl(e)
            }

            function Ul(t) {
                return 360 / Math.PI * Math.atan(Math.exp((180 - 360 * t) * Math.PI / 180)) - 90
            }
            var jl = function(t, e, r) {
                void 0 === r && (r = 0), this.x = +t, this.y = +e, this.z = +r
            };
            jl.fromLngLat = function(t, e) {
                void 0 === e && (e = 0);
                var r = Ll.convert(t);
                return new jl(Bl(r.lng), Fl(r.lat), Nl(e, r.lat))
            }, jl.prototype.toLngLat = function() {
                return new Ll(360 * this.x - 180, Ul(this.y))
            }, jl.prototype.toAltitude = function() {
                return this.z * Rl(Ul(this.y))
            }, jl.prototype.meterInMercatorCoordinateUnits = function() {
                return 1 / Ol * (t = Ul(this.y), 1 / Math.cos(t * Math.PI / 180));
                var t
            };
            var Vl = function(t, e, r) {
                this.z = t, this.x = e, this.y = r, this.key = $l(0, t, t, e, r)
            };
            Vl.prototype.equals = function(t) {
                return this.z === t.z && this.x === t.x && this.y === t.y
            }, Vl.prototype.url = function(t, e) {
                var r, n, i, o, a, s = (n = this.y, i = this.z, o = Ml(256 * (r = this.x), 256 * (n = Math.pow(2, i) - n - 1), i), a = Ml(256 * (r + 1), 256 * (n + 1), i), o[0] + "," + o[1] + "," + a[0] + "," + a[1]),
                    u = function(t, e, r) {
                        for (var n, i = "", o = t; o > 0; o--) i += (e & (n = 1 << o - 1) ? 1 : 0) + (r & n ? 2 : 0);
                        return i
                    }(this.z, this.x, this.y);
                return t[(this.x + this.y) % t.length].replace("{prefix}", (this.x % 16).toString(16) + (this.y % 16).toString(16)).replace("{z}", String(this.z)).replace("{x}", String(this.x)).replace("{y}", String("tms" === e ? Math.pow(2, this.z) - this.y - 1 : this.y)).replace("{quadkey}", u).replace("{bbox-epsg-3857}", s)
            }, Vl.prototype.getTilePoint = function(t) {
                var e = Math.pow(2, this.z);
                return new i(8192 * (t.x * e - this.x), 8192 * (t.y * e - this.y))
            }, Vl.prototype.toString = function() {
                return this.z + "/" + this.x + "/" + this.y
            };
            var ql = function(t, e) {
                    this.wrap = t, this.canonical = e, this.key = $l(t, e.z, e.z, e.x, e.y)
                },
                Zl = function(t, e, r, n, i) {
                    this.overscaledZ = t, this.wrap = e, this.canonical = new Vl(r, +n, +i), this.key = $l(e, t, r, n, i)
                };

            function $l(t, e, r, n, i) {
                (t *= 2) < 0 && (t = -1 * t - 1);
                var o = 1 << r;
                return (o * o * t + o * i + n).toString(36) + r.toString(36) + e.toString(36)
            }
            Zl.prototype.equals = function(t) {
                return this.overscaledZ === t.overscaledZ && this.wrap === t.wrap && this.canonical.equals(t.canonical)
            }, Zl.prototype.scaledTo = function(t) {
                var e = this.canonical.z - t;
                return t > this.canonical.z ? new Zl(t, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y) : new Zl(t, this.wrap, t, this.canonical.x >> e, this.canonical.y >> e)
            }, Zl.prototype.calculateScaledKey = function(t, e) {
                var r = this.canonical.z - t;
                return t > this.canonical.z ? $l(this.wrap * +e, t, this.canonical.z, this.canonical.x, this.canonical.y) : $l(this.wrap * +e, t, t, this.canonical.x >> r, this.canonical.y >> r)
            }, Zl.prototype.isChildOf = function(t) {
                if (t.wrap !== this.wrap) return !1;
                var e = this.canonical.z - t.canonical.z;
                return 0 === t.overscaledZ || t.overscaledZ < this.overscaledZ && t.canonical.x === this.canonical.x >> e && t.canonical.y === this.canonical.y >> e
            }, Zl.prototype.children = function(t) {
                if (this.overscaledZ >= t) return [new Zl(this.overscaledZ + 1, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y)];
                var e = this.canonical.z + 1,
                    r = 2 * this.canonical.x,
                    n = 2 * this.canonical.y;
                return [new Zl(e, this.wrap, e, r, n), new Zl(e, this.wrap, e, r + 1, n), new Zl(e, this.wrap, e, r, n + 1), new Zl(e, this.wrap, e, r + 1, n + 1)]
            }, Zl.prototype.isLessThan = function(t) {
                return this.wrap < t.wrap || !(this.wrap > t.wrap) && (this.overscaledZ < t.overscaledZ || !(this.overscaledZ > t.overscaledZ) && (this.canonical.x < t.canonical.x || !(this.canonical.x > t.canonical.x) && this.canonical.y < t.canonical.y))
            }, Zl.prototype.wrapped = function() {
                return new Zl(this.overscaledZ, 0, this.canonical.z, this.canonical.x, this.canonical.y)
            }, Zl.prototype.unwrapTo = function(t) {
                return new Zl(this.overscaledZ, t, this.canonical.z, this.canonical.x, this.canonical.y)
            }, Zl.prototype.overscaleFactor = function() {
                return Math.pow(2, this.overscaledZ - this.canonical.z)
            }, Zl.prototype.toUnwrapped = function() {
                return new ql(this.wrap, this.canonical)
            }, Zl.prototype.toString = function() {
                return this.overscaledZ + "/" + this.canonical.x + "/" + this.canonical.y
            }, Zl.prototype.getTilePoint = function(t) {
                return this.canonical.getTilePoint(new jl(t.x - this.wrap, t.y))
            }, Rn("CanonicalTileID", Vl), Rn("OverscaledTileID", Zl, {
                omit: ["posMatrix"]
            });
            var Gl = function(t, e, r) {
                if (this.uid = t, e.height !== e.width) throw new RangeError("DEM tiles must be square");
                if (r && "mapbox" !== r && "terrarium" !== r) return w('"' + r + '" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');
                this.stride = e.height;
                var n = this.dim = e.height - 2;
                this.data = new Uint32Array(e.data.buffer), this.encoding = r || "mapbox";
                for (var i = 0; i < n; i++) this.data[this._idx(-1, i)] = this.data[this._idx(0, i)], this.data[this._idx(n, i)] = this.data[this._idx(n - 1, i)], this.data[this._idx(i, -1)] = this.data[this._idx(i, 0)], this.data[this._idx(i, n)] = this.data[this._idx(i, n - 1)];
                this.data[this._idx(-1, -1)] = this.data[this._idx(0, 0)], this.data[this._idx(n, -1)] = this.data[this._idx(n - 1, 0)], this.data[this._idx(-1, n)] = this.data[this._idx(0, n - 1)], this.data[this._idx(n, n)] = this.data[this._idx(n - 1, n - 1)]
            };
            Gl.prototype.get = function(t, e) {
                var r = new Uint8Array(this.data.buffer),
                    n = 4 * this._idx(t, e);
                return ("terrarium" === this.encoding ? this._unpackTerrarium : this._unpackMapbox)(r[n], r[n + 1], r[n + 2])
            }, Gl.prototype.getUnpackVector = function() {
                return "terrarium" === this.encoding ? [256, 1, 1 / 256, 32768] : [6553.6, 25.6, .1, 1e4]
            }, Gl.prototype._idx = function(t, e) {
                if (t < -1 || t >= this.dim + 1 || e < -1 || e >= this.dim + 1) throw new RangeError("out of range source coordinates for DEM data");
                return (e + 1) * this.stride + (t + 1)
            }, Gl.prototype._unpackMapbox = function(t, e, r) {
                return (256 * t * 256 + 256 * e + r) / 10 - 1e4
            }, Gl.prototype._unpackTerrarium = function(t, e, r) {
                return 256 * t + e + r / 256 - 32768
            }, Gl.prototype.getPixels = function() {
                return new ya({
                    width: this.stride,
                    height: this.stride
                }, new Uint8Array(this.data.buffer))
            }, Gl.prototype.backfillBorder = function(t, e, r) {
                if (this.dim !== t.dim) throw new Error("dem dimension mismatch");
                var n = e * this.dim,
                    i = e * this.dim + this.dim,
                    o = r * this.dim,
                    a = r * this.dim + this.dim;
                switch (e) {
                    case -1:
                        n = i - 1;
                        break;
                    case 1:
                        i = n + 1
                }
                switch (r) {
                    case -1:
                        o = a - 1;
                        break;
                    case 1:
                        a = o + 1
                }
                for (var s = -e * this.dim, u = -r * this.dim, l = o; l < a; l++)
                    for (var c = n; c < i; c++) this.data[this._idx(c, l)] = t.data[this._idx(c + s, l + u)]
            }, Rn("DEMData", Gl);
            var Hl = function(t) {
                this._stringToNumber = {}, this._numberToString = [];
                for (var e = 0; e < t.length; e++) {
                    var r = t[e];
                    this._stringToNumber[r] = e, this._numberToString[e] = r
                }
            };
            Hl.prototype.encode = function(t) {
                return this._stringToNumber[t]
            }, Hl.prototype.decode = function(t) {
                return this._numberToString[t]
            };
            var Wl = function(t, e, r, n, i) {
                    this.type = "Feature", this._vectorTileFeature = t, t._z = e, t._x = r, t._y = n, this.properties = t.properties, this.id = i
                },
                Xl = {
                    geometry: {
                        configurable: !0
                    }
                };
            Xl.geometry.get = function() {
                return void 0 === this._geometry && (this._geometry = this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x, this._vectorTileFeature._y, this._vectorTileFeature._z).geometry), this._geometry
            }, Xl.geometry.set = function(t) {
                this._geometry = t
            }, Wl.prototype.toJSON = function() {
                var t = {
                    geometry: this.geometry
                };
                for (var e in this) "_geometry" !== e && "_vectorTileFeature" !== e && (t[e] = this[e]);
                return t
            }, Object.defineProperties(Wl.prototype, Xl);
            var Kl = function() {
                this.state = {}, this.stateChanges = {}, this.deletedStates = {}
            };
            Kl.prototype.updateState = function(t, e, r) {
                var n = String(e);
                if (this.stateChanges[t] = this.stateChanges[t] || {}, this.stateChanges[t][n] = this.stateChanges[t][n] || {}, p(this.stateChanges[t][n], r), null === this.deletedStates[t])
                    for (var i in this.deletedStates[t] = {}, this.state[t]) i !== n && (this.deletedStates[t][i] = null);
                else if (this.deletedStates[t] && null === this.deletedStates[t][n])
                    for (var o in this.deletedStates[t][n] = {}, this.state[t][n]) r[o] || (this.deletedStates[t][n][o] = null);
                else
                    for (var a in r) this.deletedStates[t] && this.deletedStates[t][n] && null === this.deletedStates[t][n][a] && delete this.deletedStates[t][n][a]
            }, Kl.prototype.removeFeatureState = function(t, e, r) {
                if (null !== this.deletedStates[t]) {
                    var n = String(e);
                    if (this.deletedStates[t] = this.deletedStates[t] || {}, r && void 0 !== e) null !== this.deletedStates[t][n] && (this.deletedStates[t][n] = this.deletedStates[t][n] || {}, this.deletedStates[t][n][r] = null);
                    else if (void 0 !== e)
                        if (this.stateChanges[t] && this.stateChanges[t][n])
                            for (r in this.deletedStates[t][n] = {}, this.stateChanges[t][n]) this.deletedStates[t][n][r] = null;
                        else this.deletedStates[t][n] = null;
                    else this.deletedStates[t] = null
                }
            }, Kl.prototype.getState = function(t, e) {
                var r = String(e),
                    n = p({}, (this.state[t] || {})[r], (this.stateChanges[t] || {})[r]);
                if (null === this.deletedStates[t]) return {};
                if (this.deletedStates[t]) {
                    var i = this.deletedStates[t][e];
                    if (null === i) return {};
                    for (var o in i) delete n[o]
                }
                return n
            }, Kl.prototype.initializeTileState = function(t, e) {
                t.setFeatureState(this.state, e)
            }, Kl.prototype.coalesceChanges = function(t, e) {
                var r = {};
                for (var n in this.stateChanges) {
                    this.state[n] = this.state[n] || {};
                    var i = {};
                    for (var o in this.stateChanges[n]) this.state[n][o] || (this.state[n][o] = {}), p(this.state[n][o], this.stateChanges[n][o]), i[o] = this.state[n][o];
                    r[n] = i
                }
                for (var a in this.deletedStates) {
                    this.state[a] = this.state[a] || {};
                    var s = {};
                    if (null === this.deletedStates[a])
                        for (var u in this.state[a]) s[u] = {}, this.state[a][u] = {};
                    else
                        for (var l in this.deletedStates[a]) {
                            if (null === this.deletedStates[a][l]) this.state[a][l] = {};
                            else
                                for (var c = 0, h = Object.keys(this.deletedStates[a][l]); c < h.length; c += 1) delete this.state[a][l][h[c]];
                            s[l] = this.state[a][l]
                        }
                    r[a] = r[a] || {}, p(r[a], s)
                }
                if (this.stateChanges = {}, this.deletedStates = {}, 0 !== Object.keys(r).length)
                    for (var f in t) t[f].setFeatureState(r, e)
            };
            var Jl = function(t, e) {
                this.tileID = t, this.x = t.canonical.x, this.y = t.canonical.y, this.z = t.canonical.z, this.grid = new zn(8192, 16, 0), this.grid3D = new zn(8192, 16, 0), this.featureIndexArray = new no, this.promoteId = e
            };

            function Yl(t, e, r, n, i) {
                return g(t, (function(t, o) {
                    var a = e instanceof fi ? e.get(o) : null;
                    return a && a.evaluate ? a.evaluate(r, n, i) : a
                }))
            }

            function Ql(t) {
                for (var e = 1 / 0, r = 1 / 0, n = -1 / 0, i = -1 / 0, o = 0, a = t; o < a.length; o += 1) {
                    var s = a[o];
                    e = Math.min(e, s.x), r = Math.min(r, s.y), n = Math.max(n, s.x), i = Math.max(i, s.y)
                }
                return {
                    minX: e,
                    minY: r,
                    maxX: n,
                    maxY: i
                }
            }

            function tc(t, e) {
                return e - t
            }
            Jl.prototype.insert = function(t, e, r, n, i, o) {
                var a = this.featureIndexArray.length;
                this.featureIndexArray.emplaceBack(r, n, i);
                for (var s = o ? this.grid3D : this.grid, u = 0; u < e.length; u++) {
                    for (var l = e[u], c = [1 / 0, 1 / 0, -1 / 0, -1 / 0], p = 0; p < l.length; p++) {
                        var h = l[p];
                        c[0] = Math.min(c[0], h.x), c[1] = Math.min(c[1], h.y), c[2] = Math.max(c[2], h.x), c[3] = Math.max(c[3], h.y)
                    }
                    c[0] < 8192 && c[1] < 8192 && c[2] >= 0 && c[3] >= 0 && s.insert(a, c[0], c[1], c[2], c[3])
                }
            }, Jl.prototype.loadVTLayers = function() {
                return this.vtLayers || (this.vtLayers = new vs.VectorTile(new Gs(this.rawTileData)).layers, this.sourceLayerCoder = new Hl(this.vtLayers ? Object.keys(this.vtLayers).sort() : ["_geojsonTileLayer"])), this.vtLayers
            }, Jl.prototype.query = function(t, e, r, n) {
                var o = this;
                this.loadVTLayers();
                for (var a = t.params || {}, s = 8192 / t.tileSize / t.scale, u = nn(a.filter), l = t.queryGeometry, c = t.queryPadding * s, p = Ql(l), h = this.grid.query(p.minX - c, p.minY - c, p.maxX + c, p.maxY + c), f = Ql(t.cameraQueryGeometry), d = 0, m = this.grid3D.query(f.minX - c, f.minY - c, f.maxX + c, f.maxY + c, (function(e, r, n, o) {
                        return function(t, e, r, n, o) {
                            for (var a = 0, s = t; a < s.length; a += 1) {
                                var u = s[a];
                                if (e <= u.x && r <= u.y && n >= u.x && o >= u.y) return !0
                            }
                            var l = [new i(e, r), new i(e, o), new i(n, o), new i(n, r)];
                            if (t.length > 2)
                                for (var c = 0, p = l; c < p.length; c += 1)
                                    if (Ko(t, p[c])) return !0;
                            for (var h = 0; h < t.length - 1; h++)
                                if (Jo(t[h], t[h + 1], l)) return !0;
                            return !1
                        }(t.cameraQueryGeometry, e - c, r - c, n + c, o + c)
                    })); d < m.length; d += 1) h.push(m[d]);
                h.sort(tc);
                for (var y, v = {}, g = function(i) {
                        var c = h[i];
                        if (c !== y) {
                            y = c;
                            var p = o.featureIndexArray.get(c),
                                f = null;
                            o.loadMatchingFeature(v, p.bucketIndex, p.sourceLayerIndex, p.featureIndex, u, a.layers, a.availableImages, e, r, n, (function(e, r, n) {
                                return f || (f = Fo(e)), r.queryIntersectsFeature(l, e, n, f, o.z, t.transform, s, t.pixelPosMatrix)
                            }))
                        }
                    }, _ = 0; _ < h.length; _++) g(_);
                return v
            }, Jl.prototype.loadMatchingFeature = function(t, e, r, n, i, o, a, s, u, l, c) {
                var p = this.bucketLayerIDs[e];
                if (!o || function(t, e) {
                        for (var r = 0; r < t.length; r++)
                            if (e.indexOf(t[r]) >= 0) return !0;
                        return !1
                    }(o, p)) {
                    var h = this.sourceLayerCoder.decode(r),
                        f = this.vtLayers[h].feature(n);
                    if (i.filter(new oi(this.tileID.overscaledZ), f))
                        for (var d = this.getId(f, h), m = 0; m < p.length; m++) {
                            var y = p[m];
                            if (!(o && o.indexOf(y) < 0)) {
                                var v = s[y];
                                if (v) {
                                    var g = {};
                                    void 0 !== d && l && (g = l.getState(v.sourceLayer || "_geojsonTileLayer", d));
                                    var _ = u[y];
                                    _.paint = Yl(_.paint, v.paint, f, g, a), _.layout = Yl(_.layout, v.layout, f, g, a);
                                    var x = !c || c(f, v, g);
                                    if (x) {
                                        var b = new Wl(f, this.z, this.x, this.y, d);
                                        b.layer = _;
                                        var w = t[y];
                                        void 0 === w && (w = t[y] = []), w.push({
                                            featureIndex: n,
                                            feature: b,
                                            intersectionZ: x
                                        })
                                    }
                                }
                            }
                        }
                }
            }, Jl.prototype.lookupSymbolFeatures = function(t, e, r, n, i, o, a, s) {
                var u = {};
                this.loadVTLayers();
                for (var l = nn(i), c = 0, p = t; c < p.length; c += 1) this.loadMatchingFeature(u, r, n, p[c], l, o, a, s, e);
                return u
            }, Jl.prototype.hasLayer = function(t) {
                for (var e = 0, r = this.bucketLayerIDs; e < r.length; e += 1)
                    for (var n = 0, i = r[e]; n < i.length; n += 1)
                        if (t === i[n]) return !0;
                return !1
            }, Jl.prototype.getId = function(t, e) {
                var r = t.id;
                return this.promoteId && "boolean" == typeof(r = t.properties["string" == typeof this.promoteId ? this.promoteId : this.promoteId[e]]) && (r = Number(r)), r
            }, Rn("FeatureIndex", Jl, {
                omit: ["rawTileData", "sourceLayerCoder"]
            });
            var ec = function(t, e) {
                this.tileID = t, this.uid = f(), this.uses = 0, this.tileSize = e, this.buckets = {}, this.expirationTime = null, this.queryPadding = 0, this.hasSymbolBuckets = !1, this.hasRTLText = !1, this.dependencies = {}, this.expiredRequestCount = 0, this.state = "loading"
            };
            ec.prototype.registerFadeDuration = function(t) {
                var e = t + this.timeAdded;
                e < B.now() || this.fadeEndTime && e < this.fadeEndTime || (this.fadeEndTime = e)
            }, ec.prototype.wasRequested = function() {
                return "errored" === this.state || "loaded" === this.state || "reloading" === this.state
            }, ec.prototype.loadVectorData = function(t, e, r) {
                if (this.hasData() && this.unloadVectorData(), this.state = "loaded", t) {
                    for (var n in t.featureIndex && (this.latestFeatureIndex = t.featureIndex, t.rawTileData ? (this.latestRawTileData = t.rawTileData, this.latestFeatureIndex.rawTileData = t.rawTileData) : this.latestRawTileData && (this.latestFeatureIndex.rawTileData = this.latestRawTileData)), this.collisionBoxArray = t.collisionBoxArray, this.buckets = function(t, e) {
                            var r = {};
                            if (!e) return r;
                            for (var n = function() {
                                    var t = o[i],
                                        n = t.layerIds.map((function(t) {
                                            return e.getLayer(t)
                                        })).filter(Boolean);
                                    if (0 !== n.length) {
                                        t.layers = n, t.stateDependentLayerIds && (t.stateDependentLayers = t.stateDependentLayerIds.map((function(t) {
                                            return n.filter((function(e) {
                                                return e.id === t
                                            }))[0]
                                        })));
                                        for (var a = 0, s = n; a < s.length; a += 1) r[s[a].id] = t
                                    }
                                }, i = 0, o = t; i < o.length; i += 1) n();
                            return r
                        }(t.buckets, e.style), this.hasSymbolBuckets = !1, this.buckets) {
                        var i = this.buckets[n];
                        if (i instanceof fl) {
                            if (this.hasSymbolBuckets = !0, !r) break;
                            i.justReloaded = !0
                        }
                    }
                    if (this.hasRTLText = !1, this.hasSymbolBuckets)
                        for (var o in this.buckets) {
                            var a = this.buckets[o];
                            if (a instanceof fl && a.hasRTLText) {
                                this.hasRTLText = !0, ii.isLoading() || ii.isLoaded() || "deferred" !== ri() || ni();
                                break
                            }
                        }
                    for (var s in this.queryPadding = 0, this.buckets) {
                        var u = this.buckets[s];
                        this.queryPadding = Math.max(this.queryPadding, e.style.getLayer(s).queryRadius(u))
                    }
                    t.imageAtlas && (this.imageAtlas = t.imageAtlas), t.glyphAtlasImage && (this.glyphAtlasImage = t.glyphAtlasImage)
                } else this.collisionBoxArray = new Xi
            }, ec.prototype.unloadVectorData = function() {
                for (var t in this.buckets) this.buckets[t].destroy();
                this.buckets = {}, this.imageAtlasTexture && this.imageAtlasTexture.destroy(), this.imageAtlas && (this.imageAtlas = null), this.glyphAtlasTexture && this.glyphAtlasTexture.destroy(), this.latestFeatureIndex = null, this.state = "unloaded"
            }, ec.prototype.getBucket = function(t) {
                return this.buckets[t.id]
            }, ec.prototype.upload = function(t) {
                for (var e in this.buckets) {
                    var r = this.buckets[e];
                    r.uploadPending() && r.upload(t)
                }
                var n = t.gl;
                this.imageAtlas && !this.imageAtlas.uploaded && (this.imageAtlasTexture = new kl(t, this.imageAtlas.image, n.RGBA), this.imageAtlas.uploaded = !0), this.glyphAtlasImage && (this.glyphAtlasTexture = new kl(t, this.glyphAtlasImage, n.ALPHA), this.glyphAtlasImage = null)
            }, ec.prototype.prepare = function(t) {
                this.imageAtlas && this.imageAtlas.patchUpdatedImages(t, this.imageAtlasTexture)
            }, ec.prototype.queryRenderedFeatures = function(t, e, r, n, i, o, a, s, u, l) {
                return this.latestFeatureIndex && this.latestFeatureIndex.rawTileData ? this.latestFeatureIndex.query({
                    queryGeometry: n,
                    cameraQueryGeometry: i,
                    scale: o,
                    tileSize: this.tileSize,
                    pixelPosMatrix: l,
                    transform: s,
                    params: a,
                    queryPadding: this.queryPadding * u
                }, t, e, r) : {}
            }, ec.prototype.querySourceFeatures = function(t, e) {
                var r = this.latestFeatureIndex;
                if (r && r.rawTileData) {
                    var n = r.loadVTLayers(),
                        i = e ? e.sourceLayer : "",
                        o = n._geojsonTileLayer || n[i];
                    if (o)
                        for (var a = nn(e && e.filter), s = this.tileID.canonical, u = s.z, l = s.x, c = s.y, p = {
                                z: u,
                                x: l,
                                y: c
                            }, h = 0; h < o.length; h++) {
                            var f = o.feature(h);
                            if (a.filter(new oi(this.tileID.overscaledZ), f)) {
                                var d = r.getId(f, i),
                                    m = new Wl(f, u, l, c, d);
                                m.tile = p, t.push(m)
                            }
                        }
                }
            }, ec.prototype.hasData = function() {
                return "loaded" === this.state || "reloading" === this.state || "expired" === this.state
            }, ec.prototype.patternsLoaded = function() {
                return this.imageAtlas && !!Object.keys(this.imageAtlas.patternPositions).length
            }, ec.prototype.setExpiryData = function(t) {
                var e = this.expirationTime;
                if (t.cacheControl) {
                    var r = A(t.cacheControl);
                    r["max-age"] && (this.expirationTime = Date.now() + 1e3 * r["max-age"])
                } else t.expires && (this.expirationTime = new Date(t.expires).getTime());
                if (this.expirationTime) {
                    var n = Date.now(),
                        i = !1;
                    if (this.expirationTime > n) i = !1;
                    else if (e)
                        if (this.expirationTime < e) i = !0;
                        else {
                            var o = this.expirationTime - e;
                            o ? this.expirationTime = n + Math.max(o, 3e4) : i = !0
                        }
                    else i = !0;
                    i ? (this.expiredRequestCount++, this.state = "expired") : this.expiredRequestCount = 0
                }
            }, ec.prototype.getExpiryTimeout = function() {
                if (this.expirationTime) return this.expiredRequestCount ? 1e3 * (1 << Math.min(this.expiredRequestCount - 1, 31)) : Math.min(this.expirationTime - (new Date).getTime(), Math.pow(2, 31) - 1)
            }, ec.prototype.setFeatureState = function(t, e) {
                if (this.latestFeatureIndex && this.latestFeatureIndex.rawTileData && 0 !== Object.keys(t).length) {
                    var r = this.latestFeatureIndex.loadVTLayers();
                    for (var n in this.buckets)
                        if (e.style.hasLayer(n)) {
                            var i = this.buckets[n],
                                o = i.layers[0].sourceLayer || "_geojsonTileLayer",
                                a = r[o],
                                s = t[o];
                            if (a && s && 0 !== Object.keys(s).length) {
                                i.update(s, a, this.imageAtlas && this.imageAtlas.patternPositions || {});
                                var u = e && e.style && e.style.getLayer(n);
                                u && (this.queryPadding = Math.max(this.queryPadding, u.queryRadius(i)))
                            }
                        }
                }
            }, ec.prototype.holdingForFade = function() {
                return void 0 !== this.symbolFadeHoldUntil
            }, ec.prototype.symbolFadeFinished = function() {
                return !this.symbolFadeHoldUntil || this.symbolFadeHoldUntil < B.now()
            }, ec.prototype.clearFadeHold = function() {
                this.symbolFadeHoldUntil = void 0
            }, ec.prototype.setHoldDuration = function(t) {
                this.symbolFadeHoldUntil = B.now() + t
            }, ec.prototype.setDependencies = function(t, e) {
                for (var r = {}, n = 0, i = e; n < i.length; n += 1) r[i[n]] = !0;
                this.dependencies[t] = r
            }, ec.prototype.hasDependency = function(t, e) {
                for (var r = 0, n = t; r < n.length; r += 1) {
                    var i = this.dependencies[n[r]];
                    if (i)
                        for (var o = 0, a = e; o < a.length; o += 1)
                            if (i[a[o]]) return !0
                }
                return !1
            };
            var rc = a.performance,
                nc = function(t) {
                    this._marks = {
                        start: [t.url, "start"].join("#"),
                        end: [t.url, "end"].join("#"),
                        measure: t.url.toString()
                    }, rc.mark(this._marks.start)
                };
            nc.prototype.finish = function() {
                rc.mark(this._marks.end);
                var t = rc.getEntriesByName(this._marks.measure);
                return 0 === t.length && (rc.measure(this._marks.measure, this._marks.start, this._marks.end), t = rc.getEntriesByName(this._marks.measure), rc.clearMarks(this._marks.start), rc.clearMarks(this._marks.end), rc.clearMeasures(this._marks.measure)), t
            }, t.Actor = zl, t.AlphaImage = ma, t.CanonicalTileID = Vl, t.CollisionBoxArray = Xi, t.Color = Yt, t.DEMData = Gl, t.DataConstantProperty = di, t.DictionaryCoder = Hl, t.EXTENT = 8192, t.ErrorEvent = Et, t.EvaluationParameters = oi, t.Event = Tt, t.Evented = At, t.FeatureIndex = Jl, t.FillBucket = is, t.FillExtrusionBucket = bs, t.ImageAtlas = yu, t.ImagePosition = du, t.LineBucket = zs, t.LngLat = Ll, t.LngLatBounds = Dl, t.MercatorCoordinate = jl, t.ONE_EM = 24, t.OverscaledTileID = Zl, t.Point = i, t.Point$1 = i, t.Properties = _i, t.Protobuf = Gs, t.RGBAImage = ya, t.RequestManager = Z, t.RequestPerformance = nc, t.ResourceType = ft, t.SegmentVector = oo, t.SourceFeatureState = Kl, t.StructArrayLayout1ui2 = $i, t.StructArrayLayout2f1f2i16 = Ri, t.StructArrayLayout2i4 = Ai, t.StructArrayLayout3ui6 = Fi, t.StructArrayLayout4i8 = Ci, t.SymbolBucket = fl, t.Texture = kl, t.Tile = ec, t.Transitionable = ui, t.Uniform1f = _o, t.Uniform1i = go, t.Uniform2f = xo, t.Uniform3f = bo, t.Uniform4f = wo, t.UniformColor = So, t.UniformMatrix4f = Eo, t.UnwrappedTileID = ql, t.ValidationError = It, t.WritingMode = vu, t.ZoomHistory = Vn, t.add = function(t, e, r) {
                return t[0] = e[0] + r[0], t[1] = e[1] + r[1], t[2] = e[2] + r[2], t
            }, t.addDynamicAttributes = ll, t.asyncAll = function(t, e, r) {
                if (!t.length) return r(null, []);
                var n = t.length,
                    i = new Array(t.length),
                    o = null;
                t.forEach((function(t, a) {
                    e(t, (function(t, e) {
                        t && (o = t), i[a] = e, 0 == --n && r(o, i)
                    }))
                }))
            }, t.bezier = s, t.bindAll = y, t.browser = B, t.cacheEntryPossiblyAdded = function(t) {
                ++pt > st && (t.getActor().send("enforceCacheSizeLimit", at), pt = 0)
            }, t.clamp = l, t.clearTileCache = function(t) {
                var e = a.caches.delete("mapbox-tiles");
                t && e.catch(t).then((function() {
                    return t()
                }))
            }, t.clipLine = Vu, t.clone = function(t) {
                var e = new na(16);
                return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[8] = t[8], e[9] = t[9], e[10] = t[10], e[11] = t[11], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15], e
            }, t.clone$1 = x, t.clone$2 = function(t) {
                var e = new na(3);
                return e[0] = t[0], e[1] = t[1], e[2] = t[2], e
            }, t.collisionCircleLayout = js, t.config = F, t.create = function() {
                var t = new na(16);
                return na != Float32Array && (t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0), t[0] = 1, t[5] = 1, t[10] = 1, t[15] = 1, t
            }, t.create$1 = function() {
                var t = new na(9);
                return na != Float32Array && (t[1] = 0, t[2] = 0, t[3] = 0, t[5] = 0, t[6] = 0, t[7] = 0), t[0] = 1, t[4] = 1, t[8] = 1, t
            }, t.create$2 = function() {
                var t = new na(4);
                return na != Float32Array && (t[1] = 0, t[2] = 0), t[0] = 1, t[3] = 1, t
            }, t.createCommonjsModule = e, t.createExpression = Zr, t.createLayout = Ti, t.createStyleLayer = function(t) {
                return "custom" === t.type ? new wl(t) : new Sl[t.type](t)
            }, t.cross = function(t, e, r) {
                var n = e[0],
                    i = e[1],
                    o = e[2],
                    a = r[0],
                    s = r[1],
                    u = r[2];
                return t[0] = i * u - o * s, t[1] = o * a - n * u, t[2] = n * s - i * a, t
            }, t.deepEqual = function t(e, r) {
                if (Array.isArray(e)) {
                    if (!Array.isArray(r) || e.length !== r.length) return !1;
                    for (var n = 0; n < e.length; n++)
                        if (!t(e[n], r[n])) return !1;
                    return !0
                }
                if ("object" == typeof e && null !== e && null !== r) {
                    if ("object" != typeof r) return !1;
                    if (Object.keys(e).length !== Object.keys(r).length) return !1;
                    for (var i in e)
                        if (!t(e[i], r[i])) return !1;
                    return !0
                }
                return e === r
            }, t.dot = function(t, e) {
                return t[0] * e[0] + t[1] * e[1] + t[2] * e[2]
            }, t.dot$1 = function(t, e) {
                return t[0] * e[0] + t[1] * e[1] + t[2] * e[2] + t[3] * e[3]
            }, t.ease = u, t.emitValidationErrors = Pn, t.endsWith = v, t.enforceCacheSizeLimit = function(t) {
                ut(), Q && Q.then((function(e) {
                    e.keys().then((function(r) {
                        for (var n = 0; n < r.length - t; n++) e.delete(r[n])
                    }))
                }))
            }, t.evaluateSizeForFeature = Du, t.evaluateSizeForZoom = Lu, t.evaluateVariableOffset = el, t.evented = ei, t.extend = p, t.featureFilter = nn, t.filterObject = _, t.fromRotation = function(t, e) {
                var r = Math.sin(e),
                    n = Math.cos(e);
                return t[0] = n, t[1] = r, t[2] = 0, t[3] = -r, t[4] = n, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t
            }, t.getAnchorAlignment = Iu, t.getAnchorJustification = rl, t.getArrayBuffer = _t, t.getImage = bt, t.getJSON = function(t, e) {
                return gt(p(t, {
                    type: "json"
                }), e)
            }, t.getRTLTextPluginStatus = ri, t.getReferrer = vt, t.getVideo = function(t, e) {
                var r, n, i = a.document.createElement("video");
                i.muted = !0, i.onloadstart = function() {
                    e(null, i)
                };
                for (var o = 0; o < t.length; o++) {
                    var s = a.document.createElement("source");
                    r = t[o], n = void 0, (n = a.document.createElement("a")).href = r, (n.protocol !== a.document.location.protocol || n.host !== a.document.location.host) && (i.crossOrigin = "Anonymous"), s.src = t[o], i.appendChild(s)
                }
                return {
                    cancel: function() {}
                }
            }, t.identity = ia, t.invert = function(t, e) {
                var r = e[0],
                    n = e[1],
                    i = e[2],
                    o = e[3],
                    a = e[4],
                    s = e[5],
                    u = e[6],
                    l = e[7],
                    c = e[8],
                    p = e[9],
                    h = e[10],
                    f = e[11],
                    d = e[12],
                    m = e[13],
                    y = e[14],
                    v = e[15],
                    g = r * s - n * a,
                    _ = r * u - i * a,
                    x = r * l - o * a,
                    b = n * u - i * s,
                    w = n * l - o * s,
                    S = i * l - o * u,
                    T = c * m - p * d,
                    E = c * y - h * d,
                    A = c * v - f * d,
                    C = p * y - h * m,
                    I = p * v - f * m,
                    k = h * v - f * y,
                    P = g * k - _ * I + x * C + b * A - w * E + S * T;
                return P ? (t[0] = (s * k - u * I + l * C) * (P = 1 / P), t[1] = (i * I - n * k - o * C) * P, t[2] = (m * S - y * w + v * b) * P, t[3] = (h * w - p * S - f * b) * P, t[4] = (u * A - a * k - l * E) * P, t[5] = (r * k - i * A + o * E) * P, t[6] = (y * x - d * S - v * _) * P, t[7] = (c * S - h * x + f * _) * P, t[8] = (a * I - s * A + l * T) * P, t[9] = (n * A - r * I - o * T) * P, t[10] = (d * w - m * x + v * g) * P, t[11] = (p * x - c * w - f * g) * P, t[12] = (s * E - a * C - u * T) * P, t[13] = (r * C - n * E + i * T) * P, t[14] = (m * _ - d * b - y * g) * P, t[15] = (c * b - p * _ + h * g) * P, t) : null
            }, t.isChar = qn, t.isMapboxURL = $, t.keysDifference = function(t, e) {
                var r = [];
                for (var n in t) n in e || r.push(n);
                return r
            }, t.makeRequest = gt, t.mapObject = g, t.mercatorXfromLng = Bl, t.mercatorYfromLat = Fl, t.mercatorZfromAltitude = Nl, t.mul = sa, t.multiply = oa, t.mvt = vs, t.normalize = function(t, e) {
                var r = e[0],
                    n = e[1],
                    i = e[2],
                    o = r * r + n * n + i * i;
                return o > 0 && (o = 1 / Math.sqrt(o)), t[0] = e[0] * o, t[1] = e[1] * o, t[2] = e[2] * o, t
            }, t.number = Ve, t.offscreenCanvasSupported = ht, t.ortho = function(t, e, r, n, i, o, a) {
                var s = 1 / (e - r),
                    u = 1 / (n - i),
                    l = 1 / (o - a);
                return t[0] = -2 * s, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = -2 * u, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 2 * l, t[11] = 0, t[12] = (e + r) * s, t[13] = (i + n) * u, t[14] = (a + o) * l, t[15] = 1, t
            }, t.parseGlyphPBF = function(t) {
                return new Gs(t).readFields(cu, [])
            }, t.pbf = Gs, t.performSymbolLayout = function(t, e, r, n, i, o, a) {
                t.createArrays(), t.tilePixelRatio = 8192 / (512 * t.overscaling), t.compareText = {}, t.iconsNeedLinear = !1;
                var s = t.layers[0].layout,
                    u = t.layers[0]._unevaluatedLayout._values,
                    l = {};
                if ("composite" === t.textSizeData.kind) {
                    var c = t.textSizeData,
                        p = c.maxZoom;
                    l.compositeTextSizes = [u["text-size"].possiblyEvaluate(new oi(c.minZoom), a), u["text-size"].possiblyEvaluate(new oi(p), a)]
                }
                if ("composite" === t.iconSizeData.kind) {
                    var h = t.iconSizeData,
                        f = h.maxZoom;
                    l.compositeIconSizes = [u["icon-size"].possiblyEvaluate(new oi(h.minZoom), a), u["icon-size"].possiblyEvaluate(new oi(f), a)]
                }
                l.layoutTextSize = u["text-size"].possiblyEvaluate(new oi(t.zoom + 1), a), l.layoutIconSize = u["icon-size"].possiblyEvaluate(new oi(t.zoom + 1), a), l.textMaxSize = u["text-size"].possiblyEvaluate(new oi(18));
                for (var d = 24 * s.get("text-line-height"), m = "map" === s.get("text-rotation-alignment") && "point" !== s.get("symbol-placement"), y = s.get("text-keep-upright"), v = s.get("text-size"), g = function() {
                        var o = x[_],
                            u = s.get("text-font").evaluate(o, {}, a).join(","),
                            c = v.evaluate(o, {}, a),
                            p = l.layoutTextSize.evaluate(o, {}, a),
                            h = l.layoutIconSize.evaluate(o, {}, a),
                            f = {
                                horizontal: {},
                                vertical: void 0
                            },
                            g = o.text,
                            b = [0, 0];
                        if (g) {
                            var S = g.toString(),
                                T = 24 * s.get("text-letter-spacing").evaluate(o, {}, a),
                                E = function(t) {
                                    for (var e = 0, r = t; e < r.length; e += 1)
                                        if (n = r[e].charCodeAt(0), qn.Arabic(n) || qn["Arabic Supplement"](n) || qn["Arabic Extended-A"](n) || qn["Arabic Presentation Forms-A"](n) || qn["Arabic Presentation Forms-B"](n)) return !1;
                                    var n;
                                    return !0
                                }(S) ? T : 0,
                                A = s.get("text-anchor").evaluate(o, {}, a),
                                C = s.get("text-variable-anchor");
                            if (!C) {
                                var I = s.get("text-radial-offset").evaluate(o, {}, a);
                                b = I ? el(A, [24 * I, tl]) : s.get("text-offset").evaluate(o, {}, a).map((function(t) {
                                    return 24 * t
                                }))
                            }
                            var k = m ? "center" : s.get("text-justify").evaluate(o, {}, a),
                                P = s.get("symbol-placement"),
                                z = "point" === P ? 24 * s.get("text-max-width").evaluate(o, {}, a) : 0,
                                M = function() {
                                    t.allowVerticalPlacement && Zn(S) && (f.vertical = xu(g, e, r, i, u, z, d, A, "left", E, b, vu.vertical, !0, P, p, c))
                                };
                            if (!m && C) {
                                for (var D = "auto" === k ? C.map((function(t) {
                                        return rl(t)
                                    })) : [k], L = !1, O = 0; O < D.length; O++) {
                                    var R = D[O];
                                    if (!f.horizontal[R])
                                        if (L) f.horizontal[R] = f.horizontal[0];
                                        else {
                                            var B = xu(g, e, r, i, u, z, d, "center", R, E, b, vu.horizontal, !1, P, p, c);
                                            B && (f.horizontal[R] = B, L = 1 === B.positionedLines.length)
                                        }
                                }
                                M()
                            } else {
                                "auto" === k && (k = rl(A));
                                var F = xu(g, e, r, i, u, z, d, A, k, E, b, vu.horizontal, !1, P, p, c);
                                F && (f.horizontal[k] = F), M(), Zn(S) && m && y && (f.vertical = xu(g, e, r, i, u, z, d, A, k, E, b, vu.vertical, !1, P, p, c))
                            }
                        }
                        var N = void 0,
                            U = !1;
                        if (o.icon && o.icon.name) {
                            var j = n[o.icon.name];
                            j && (N = function(t, e, r) {
                                var n = Iu(r),
                                    i = e[0] - t.displaySize[0] * n.horizontalAlign,
                                    o = e[1] - t.displaySize[1] * n.verticalAlign;
                                return {
                                    image: t,
                                    top: o,
                                    bottom: o + t.displaySize[1],
                                    left: i,
                                    right: i + t.displaySize[0]
                                }
                            }(i[o.icon.name], s.get("icon-offset").evaluate(o, {}, a), s.get("icon-anchor").evaluate(o, {}, a)), U = j.sdf, void 0 === t.sdfIcons ? t.sdfIcons = j.sdf : t.sdfIcons !== j.sdf && w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"), (j.pixelRatio !== t.pixelRatio || 0 !== s.get("icon-rotate").constantOr(1)) && (t.iconsNeedLinear = !0))
                        }
                        var V = il(f.horizontal) || f.vertical;
                        t.iconsInText = !!V && V.iconsInText, (V || N) && function(t, e, r, n, i, o, a, s, u, l, c) {
                            var p = o.textMaxSize.evaluate(e, {});
                            void 0 === p && (p = a);
                            var h, f = t.layers[0].layout,
                                d = f.get("icon-offset").evaluate(e, {}, c),
                                m = il(r.horizontal),
                                y = a / 24,
                                v = t.tilePixelRatio * y,
                                g = t.tilePixelRatio * p / 24,
                                _ = t.tilePixelRatio * s,
                                x = t.tilePixelRatio * f.get("symbol-spacing"),
                                b = f.get("text-padding") * t.tilePixelRatio,
                                S = f.get("icon-padding") * t.tilePixelRatio,
                                T = f.get("text-max-angle") / 180 * Math.PI,
                                E = "map" === f.get("text-rotation-alignment") && "point" !== f.get("symbol-placement"),
                                A = "map" === f.get("icon-rotation-alignment") && "point" !== f.get("symbol-placement"),
                                C = f.get("symbol-placement"),
                                I = x / 2,
                                k = f.get("icon-text-fit");
                            n && "none" !== k && (t.allowVerticalPlacement && r.vertical && (h = Pu(n, r.vertical, k, f.get("icon-text-fit-padding"), d, y)), m && (n = Pu(n, m, k, f.get("icon-text-fit-padding"), d, y)));
                            var P = function(s, p) {
                                p.x < 0 || p.x >= 8192 || p.y < 0 || p.y >= 8192 || function(t, e, r, n, i, o, a, s, u, l, c, p, h, f, d, m, y, v, g, _, x, b, S, T, E) {
                                    var A, C, I, k, P, z = t.addToLineVertexArray(e, r),
                                        M = 0,
                                        D = 0,
                                        L = 0,
                                        O = 0,
                                        R = -1,
                                        B = -1,
                                        F = {},
                                        N = co(""),
                                        U = 0,
                                        j = 0;
                                    if (void 0 === s._unevaluatedLayout.getValue("text-radial-offset") ? (U = (A = s.layout.get("text-offset").evaluate(x, {}, T).map((function(t) {
                                            return 24 * t
                                        })))[0], j = A[1]) : (U = 24 * s.layout.get("text-radial-offset").evaluate(x, {}, T), j = tl), t.allowVerticalPlacement && n.vertical) {
                                        var V = s.layout.get("text-rotate").evaluate(x, {}, T) + 90;
                                        k = new Wu(u, e, l, c, p, n.vertical, h, f, d, V), a && (P = new Wu(u, e, l, c, p, a, y, v, d, V))
                                    }
                                    if (i) {
                                        var q = s.layout.get("icon-rotate").evaluate(x, {}),
                                            Z = "none" !== s.layout.get("icon-text-fit"),
                                            $ = qu(i, q, S, Z),
                                            G = a ? qu(a, q, S, Z) : void 0;
                                        I = new Wu(u, e, l, c, p, i, y, v, !1, q), M = 4 * $.length;
                                        var H = t.iconSizeData,
                                            W = null;
                                        "source" === H.kind ? (W = [128 * s.layout.get("icon-size").evaluate(x, {})])[0] > 32640 && w(t.layerIds[0] + ': Value for "icon-size" is >= 255. Reduce your "icon-size".') : "composite" === H.kind && ((W = [128 * b.compositeIconSizes[0].evaluate(x, {}, T), 128 * b.compositeIconSizes[1].evaluate(x, {}, T)])[0] > 32640 || W[1] > 32640) && w(t.layerIds[0] + ': Value for "icon-size" is >= 255. Reduce your "icon-size".'), t.addSymbols(t.icon, $, W, _, g, x, !1, e, z.lineStartIndex, z.lineLength, -1, T), R = t.icon.placedSymbolArray.length - 1, G && (D = 4 * G.length, t.addSymbols(t.icon, G, W, _, g, x, vu.vertical, e, z.lineStartIndex, z.lineLength, -1, T), B = t.icon.placedSymbolArray.length - 1)
                                    }
                                    for (var X in n.horizontal) {
                                        var K = n.horizontal[X];
                                        if (!C) {
                                            N = co(K.text);
                                            var J = s.layout.get("text-rotate").evaluate(x, {}, T);
                                            C = new Wu(u, e, l, c, p, K, h, f, d, J)
                                        }
                                        var Y = 1 === K.positionedLines.length;
                                        if (L += nl(t, e, K, o, s, d, x, m, z, n.vertical ? vu.horizontal : vu.horizontalOnly, Y ? Object.keys(n.horizontal) : [X], F, R, b, T), Y) break
                                    }
                                    n.vertical && (O += nl(t, e, n.vertical, o, s, d, x, m, z, vu.vertical, ["vertical"], F, B, b, T));
                                    var Q = C ? C.boxStartIndex : t.collisionBoxArray.length,
                                        tt = C ? C.boxEndIndex : t.collisionBoxArray.length,
                                        et = k ? k.boxStartIndex : t.collisionBoxArray.length,
                                        rt = k ? k.boxEndIndex : t.collisionBoxArray.length,
                                        nt = I ? I.boxStartIndex : t.collisionBoxArray.length,
                                        it = I ? I.boxEndIndex : t.collisionBoxArray.length,
                                        ot = P ? P.boxStartIndex : t.collisionBoxArray.length,
                                        at = P ? P.boxEndIndex : t.collisionBoxArray.length,
                                        st = -1,
                                        ut = function(t, e) {
                                            return t && t.circleDiameter ? Math.max(t.circleDiameter, e) : e
                                        };
                                    st = ut(C, st), st = ut(k, st), st = ut(I, st);
                                    var lt = (st = ut(P, st)) > -1 ? 1 : 0;
                                    lt && (st *= E / 24), t.glyphOffsetArray.length >= fl.MAX_GLYPHS && w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"), void 0 !== x.sortKey && t.addToSortKeyRanges(t.symbolInstances.length, x.sortKey), t.symbolInstances.emplaceBack(e.x, e.y, F.right >= 0 ? F.right : -1, F.center >= 0 ? F.center : -1, F.left >= 0 ? F.left : -1, F.vertical || -1, R, B, N, Q, tt, et, rt, nt, it, ot, at, l, L, O, M, D, lt, 0, h, U, j, st)
                                }(t, p, s, r, n, i, h, t.layers[0], t.collisionBoxArray, e.index, e.sourceLayerIndex, t.index, v, b, E, u, _, S, A, d, e, o, l, c, a)
                            };
                            if ("line" === C)
                                for (var z = 0, M = Vu(e.geometry, 0, 0, 8192, 8192); z < M.length; z += 1)
                                    for (var D = M[z], L = 0, O = ju(D, x, T, r.vertical || m, n, 24, g, t.overscaling, 8192); L < O.length; L += 1) {
                                        var R = O[L];
                                        m && ol(t, m.text, I, R) || P(D, R)
                                    } else if ("line-center" === C)
                                        for (var B = 0, F = e.geometry; B < F.length; B += 1) {
                                            var N = F[B];
                                            if (N.length > 1) {
                                                var U = Uu(N, T, r.vertical || m, n, 24, g);
                                                U && P(N, U)
                                            }
                                        } else if ("Polygon" === e.type)
                                            for (var j = 0, V = ts(e.geometry, 0); j < V.length; j += 1) {
                                                var q = V[j],
                                                    Z = Ju(q, 16);
                                                P(q[0], new zu(Z.x, Z.y, 0))
                                            } else if ("LineString" === e.type)
                                                for (var $ = 0, G = e.geometry; $ < G.length; $ += 1) {
                                                    var H = G[$];
                                                    P(H, new zu(H[0].x, H[0].y, 0))
                                                } else if ("Point" === e.type)
                                                    for (var W = 0, X = e.geometry; W < X.length; W += 1)
                                                        for (var K = 0, J = X[W]; K < J.length; K += 1) {
                                                            var Y = J[K];
                                                            P([Y], new zu(Y.x, Y.y, 0))
                                                        }
                        }(t, o, f, N, n, l, p, h, b, U, a)
                    }, _ = 0, x = t.features; _ < x.length; _ += 1) g();
                o && t.generateCollisionDebugBuffers()
            }, t.perspective = function(t, e, r, n, i) {
                var o, a = 1 / Math.tan(e / 2);
                return t[0] = a / r, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = a, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[11] = -1, t[12] = 0, t[13] = 0, t[15] = 0, null != i && i !== 1 / 0 ? (t[10] = (i + n) * (o = 1 / (n - i)), t[14] = 2 * i * n * o) : (t[10] = -1, t[14] = -2 * n), t
            }, t.pick = function(t, e) {
                for (var r = {}, n = 0; n < e.length; n++) {
                    var i = e[n];
                    i in t && (r[i] = t[i])
                }
                return r
            }, t.plugin = ii, t.polygonIntersectsPolygon = jo, t.postMapLoadEvent = ot, t.postTurnstileEvent = nt, t.potpack = fu, t.refProperties = ["type", "source", "source-layer", "minzoom", "maxzoom", "filter", "layout"], t.register = Rn, t.registerForPluginStateChange = function(t) {
                return t({
                    pluginStatus: Jn,
                    pluginURL: Yn
                }), ei.on("pluginStateChange", t), t
            }, t.rotate = function(t, e, r) {
                var n = e[0],
                    i = e[1],
                    o = e[2],
                    a = e[3],
                    s = Math.sin(r),
                    u = Math.cos(r);
                return t[0] = n * u + o * s, t[1] = i * u + a * s, t[2] = n * -s + o * u, t[3] = i * -s + a * u, t
            }, t.rotateX = function(t, e, r) {
                var n = Math.sin(r),
                    i = Math.cos(r),
                    o = e[4],
                    a = e[5],
                    s = e[6],
                    u = e[7],
                    l = e[8],
                    c = e[9],
                    p = e[10],
                    h = e[11];
                return e !== t && (t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[12] = e[12], t[13] = e[13], t[14] = e[14], t[15] = e[15]), t[4] = o * i + l * n, t[5] = a * i + c * n, t[6] = s * i + p * n, t[7] = u * i + h * n, t[8] = l * i - o * n, t[9] = c * i - a * n, t[10] = p * i - s * n, t[11] = h * i - u * n, t
            }, t.rotateZ = function(t, e, r) {
                var n = Math.sin(r),
                    i = Math.cos(r),
                    o = e[0],
                    a = e[1],
                    s = e[2],
                    u = e[3],
                    l = e[4],
                    c = e[5],
                    p = e[6],
                    h = e[7];
                return e !== t && (t[8] = e[8], t[9] = e[9], t[10] = e[10], t[11] = e[11], t[12] = e[12], t[13] = e[13], t[14] = e[14], t[15] = e[15]), t[0] = o * i + l * n, t[1] = a * i + c * n, t[2] = s * i + p * n, t[3] = u * i + h * n, t[4] = l * i - o * n, t[5] = c * i - a * n, t[6] = p * i - s * n, t[7] = h * i - u * n, t
            }, t.scale = function(t, e, r) {
                var n = r[0],
                    i = r[1],
                    o = r[2];
                return t[0] = e[0] * n, t[1] = e[1] * n, t[2] = e[2] * n, t[3] = e[3] * n, t[4] = e[4] * i, t[5] = e[5] * i, t[6] = e[6] * i, t[7] = e[7] * i, t[8] = e[8] * o, t[9] = e[9] * o, t[10] = e[10] * o, t[11] = e[11] * o, t[12] = e[12], t[13] = e[13], t[14] = e[14], t[15] = e[15], t
            }, t.scale$1 = function(t, e, r) {
                return t[0] = e[0] * r, t[1] = e[1] * r, t[2] = e[2] * r, t[3] = e[3] * r, t
            }, t.scale$2 = function(t, e, r) {
                return t[0] = e[0] * r, t[1] = e[1] * r, t[2] = e[2] * r, t
            }, t.setCacheLimits = function(t, e) {
                at = t, st = e
            }, t.setRTLTextPlugin = function(t, e, r) {
                if (void 0 === r && (r = !1), "deferred" === Jn || "loading" === Jn || "loaded" === Jn) throw new Error("setRTLTextPlugin cannot be called multiple times.");
                Yn = B.resolveURL(t), Jn = "deferred", Kn = e, ti(), r || ni()
            }, t.sphericalToCartesian = function(t) {
                var e = t[0],
                    r = t[1],
                    n = t[2];
                return r += 90, r *= Math.PI / 180, n *= Math.PI / 180, {
                    x: e * Math.cos(r) * Math.sin(n),
                    y: e * Math.sin(r) * Math.sin(n),
                    z: e * Math.cos(n)
                }
            }, t.sqrLen = function(t) {
                var e = t[0],
                    r = t[1];
                return e * e + r * r
            }, t.styleSpec = Ct, t.sub = function(t, e, r) {
                return t[0] = e[0] - r[0], t[1] = e[1] - r[1], t[2] = e[2] - r[2], t
            }, t.symbolSize = Ou, t.transformMat3 = function(t, e, r) {
                var n = e[0],
                    i = e[1],
                    o = e[2];
                return t[0] = n * r[0] + i * r[3] + o * r[6], t[1] = n * r[1] + i * r[4] + o * r[7], t[2] = n * r[2] + i * r[5] + o * r[8], t
            }, t.transformMat4 = ua, t.translate = function(t, e, r) {
                var n, i, o, a, s, u, l, c, p, h, f, d, m = r[0],
                    y = r[1],
                    v = r[2];
                return e === t ? (t[12] = e[0] * m + e[4] * y + e[8] * v + e[12], t[13] = e[1] * m + e[5] * y + e[9] * v + e[13], t[14] = e[2] * m + e[6] * y + e[10] * v + e[14], t[15] = e[3] * m + e[7] * y + e[11] * v + e[15]) : (i = e[1], o = e[2], a = e[3], s = e[4], u = e[5], l = e[6], c = e[7], p = e[8], h = e[9], f = e[10], d = e[11], t[0] = n = e[0], t[1] = i, t[2] = o, t[3] = a, t[4] = s, t[5] = u, t[6] = l, t[7] = c, t[8] = p, t[9] = h, t[10] = f, t[11] = d, t[12] = n * m + s * y + p * v + e[12], t[13] = i * m + u * y + h * v + e[13], t[14] = o * m + l * y + f * v + e[14], t[15] = a * m + c * y + d * v + e[15]), t
            }, t.triggerPluginCompletionEvent = Qn, t.uniqueId = f, t.validateCustomStyleLayer = function(t) {
                var e = [],
                    r = t.id;
                return void 0 === r && e.push({
                    message: "layers." + r + ': missing required property "id"'
                }), void 0 === t.render && e.push({
                    message: "layers." + r + ': missing required method "render"'
                }), t.renderingMode && "2d" !== t.renderingMode && "3d" !== t.renderingMode && e.push({
                    message: "layers." + r + ': property "renderingMode" must be either "2d" or "3d"'
                }), e
            }, t.validateLight = Cn, t.validateStyle = An, t.values = function(t) {
                var e = [];
                for (var r in t) e.push(t[r]);
                return e
            }, t.vectorTile = vs, t.version = "1.11.0", t.warnOnce = w, t.webpSupported = N, t.window = a, t.wrap = c
        })), n(0, (function(t) {
            function e(t) {
                var r = typeof t;
                if ("number" === r || "boolean" === r || "string" === r || null == t) return JSON.stringify(t);
                if (Array.isArray(t)) {
                    for (var n = "[", i = 0, o = t; i < o.length; i += 1) n += e(o[i]) + ",";
                    return n + "]"
                }
                for (var a = Object.keys(t).sort(), s = "{", u = 0; u < a.length; u++) s += JSON.stringify(a[u]) + ":" + e(t[a[u]]) + ",";
                return s + "}"
            }

            function r(r) {
                for (var n = "", i = 0, o = t.refProperties; i < o.length; i += 1) n += "/" + e(r[o[i]]);
                return n
            }
            var n = function(t) {
                this.keyCache = {}, t && this.replace(t)
            };
            n.prototype.replace = function(t) {
                this._layerConfigs = {}, this._layers = {}, this.update(t, [])
            }, n.prototype.update = function(e, n) {
                for (var i = this, o = 0, a = e; o < a.length; o += 1) {
                    var s = a[o];
                    this._layerConfigs[s.id] = s;
                    var u = this._layers[s.id] = t.createStyleLayer(s);
                    u._featureFilter = t.featureFilter(u.filter), this.keyCache[s.id] && delete this.keyCache[s.id]
                }
                for (var l = 0, c = n; l < c.length; l += 1) {
                    var p = c[l];
                    delete this.keyCache[p], delete this._layerConfigs[p], delete this._layers[p]
                }
                this.familiesBySource = {};
                for (var h = 0, f = function(t, e) {
                        for (var n = {}, i = 0; i < t.length; i++) {
                            var o = e && e[t[i].id] || r(t[i]);
                            e && (e[t[i].id] = o);
                            var a = n[o];
                            a || (a = n[o] = []), a.push(t[i])
                        }
                        var s = [];
                        for (var u in n) s.push(n[u]);
                        return s
                    }(t.values(this._layerConfigs), this.keyCache); h < f.length; h += 1) {
                    var d = f[h].map((function(t) {
                            return i._layers[t.id]
                        })),
                        m = d[0];
                    if ("none" !== m.visibility) {
                        var y = m.source || "",
                            v = this.familiesBySource[y];
                        v || (v = this.familiesBySource[y] = {});
                        var g = m.sourceLayer || "_geojsonTileLayer",
                            _ = v[g];
                        _ || (_ = v[g] = []), _.push(d)
                    }
                }
            };
            var i = function(e) {
                var r = {},
                    n = [];
                for (var i in e) {
                    var o = e[i],
                        a = r[i] = {};
                    for (var s in o) {
                        var u = o[+s];
                        if (u && 0 !== u.bitmap.width && 0 !== u.bitmap.height) {
                            var l = {
                                x: 0,
                                y: 0,
                                w: u.bitmap.width + 2,
                                h: u.bitmap.height + 2
                            };
                            n.push(l), a[s] = {
                                rect: l,
                                metrics: u.metrics
                            }
                        }
                    }
                }
                var c = t.potpack(n),
                    p = new t.AlphaImage({
                        width: c.w || 1,
                        height: c.h || 1
                    });
                for (var h in e) {
                    var f = e[h];
                    for (var d in f) {
                        var m = f[+d];
                        if (m && 0 !== m.bitmap.width && 0 !== m.bitmap.height) {
                            var y = r[h][d].rect;
                            t.AlphaImage.copy(m.bitmap, p, {
                                x: 0,
                                y: 0
                            }, {
                                x: y.x + 1,
                                y: y.y + 1
                            }, m.bitmap)
                        }
                    }
                }
                this.image = p, this.positions = r
            };
            t.register("GlyphAtlas", i);
            var o = function(e) {
                this.tileID = new t.OverscaledTileID(e.tileID.overscaledZ, e.tileID.wrap, e.tileID.canonical.z, e.tileID.canonical.x, e.tileID.canonical.y), this.uid = e.uid, this.zoom = e.zoom, this.pixelRatio = e.pixelRatio, this.tileSize = e.tileSize, this.source = e.source, this.overscaling = this.tileID.overscaleFactor(), this.showCollisionBoxes = e.showCollisionBoxes, this.collectResourceTiming = !!e.collectResourceTiming, this.returnDependencies = !!e.returnDependencies, this.promoteId = e.promoteId
            };

            function a(e, r, n) {
                for (var i = new t.EvaluationParameters(r), o = 0, a = e; o < a.length; o += 1) a[o].recalculate(i, n)
            }

            function s(e, r) {
                var n = t.getArrayBuffer(e.request, (function(e, n, i, o) {
                    e ? r(e) : n && r(null, {
                        vectorTile: new t.vectorTile.VectorTile(new t.pbf(n)),
                        rawData: n,
                        cacheControl: i,
                        expires: o
                    })
                }));
                return function() {
                    n.cancel(), r()
                }
            }
            o.prototype.parse = function(e, r, n, o, s) {
                var u = this;
                this.status = "parsing", this.data = e, this.collisionBoxArray = new t.CollisionBoxArray;
                var l = new t.DictionaryCoder(Object.keys(e.layers).sort()),
                    c = new t.FeatureIndex(this.tileID, this.promoteId);
                c.bucketLayerIDs = [];
                var p, h, f, d, m = {},
                    y = {
                        featureIndex: c,
                        iconDependencies: {},
                        patternDependencies: {},
                        glyphDependencies: {},
                        availableImages: n
                    },
                    v = r.familiesBySource[this.source];
                for (var g in v) {
                    var _ = e.layers[g];
                    if (_) {
                        1 === _.version && t.warnOnce('Vector tile source "' + this.source + '" layer "' + g + '" does not use vector tile spec v2 and therefore may have some rendering errors.');
                        for (var x = l.encode(g), b = [], w = 0; w < _.length; w++) {
                            var S = _.feature(w),
                                T = c.getId(S, g);
                            b.push({
                                feature: S,
                                id: T,
                                index: w,
                                sourceLayerIndex: x
                            })
                        }
                        for (var E = 0, A = v[g]; E < A.length; E += 1) {
                            var C = A[E],
                                I = C[0];
                            I.minzoom && this.zoom < Math.floor(I.minzoom) || I.maxzoom && this.zoom >= I.maxzoom || "none" !== I.visibility && (a(C, this.zoom, n), (m[I.id] = I.createBucket({
                                index: c.bucketLayerIDs.length,
                                layers: C,
                                zoom: this.zoom,
                                pixelRatio: this.pixelRatio,
                                overscaling: this.overscaling,
                                collisionBoxArray: this.collisionBoxArray,
                                sourceLayerIndex: x,
                                sourceID: this.source
                            })).populate(b, y, this.tileID.canonical), c.bucketLayerIDs.push(C.map((function(t) {
                                return t.id
                            }))))
                        }
                    }
                }
                var k = t.mapObject(y.glyphDependencies, (function(t) {
                    return Object.keys(t).map(Number)
                }));
                Object.keys(k).length ? o.send("getGlyphs", {
                    uid: this.uid,
                    stacks: k
                }, (function(t, e) {
                    p || (p = t, h = e, M.call(u))
                })) : h = {};
                var P = Object.keys(y.iconDependencies);
                P.length ? o.send("getImages", {
                    icons: P,
                    source: this.source,
                    tileID: this.tileID,
                    type: "icons"
                }, (function(t, e) {
                    p || (p = t, f = e, M.call(u))
                })) : f = {};
                var z = Object.keys(y.patternDependencies);

                function M() {
                    if (p) return s(p);
                    if (h && f && d) {
                        var e = new i(h),
                            r = new t.ImageAtlas(f, d);
                        for (var o in m) {
                            var u = m[o];
                            u instanceof t.SymbolBucket ? (a(u.layers, this.zoom, n), t.performSymbolLayout(u, h, e.positions, f, r.iconPositions, this.showCollisionBoxes, this.tileID.canonical)) : u.hasPattern && (u instanceof t.LineBucket || u instanceof t.FillBucket || u instanceof t.FillExtrusionBucket) && (a(u.layers, this.zoom, n), u.addFeatures(y, this.tileID.canonical, r.patternPositions))
                        }
                        this.status = "done", s(null, {
                            buckets: t.values(m).filter((function(t) {
                                return !t.isEmpty()
                            })),
                            featureIndex: c,
                            collisionBoxArray: this.collisionBoxArray,
                            glyphAtlasImage: e.image,
                            imageAtlas: r,
                            glyphMap: this.returnDependencies ? h : null,
                            iconMap: this.returnDependencies ? f : null,
                            glyphPositions: this.returnDependencies ? e.positions : null
                        })
                    }
                }
                z.length ? o.send("getImages", {
                    icons: z,
                    source: this.source,
                    tileID: this.tileID,
                    type: "patterns"
                }, (function(t, e) {
                    p || (p = t, d = e, M.call(u))
                })) : d = {}, M.call(this)
            };
            var u = function(t, e, r, n) {
                this.actor = t, this.layerIndex = e, this.availableImages = r, this.loadVectorData = n || s, this.loading = {}, this.loaded = {}
            };
            u.prototype.loadTile = function(e, r) {
                var n = this,
                    i = e.uid;
                this.loading || (this.loading = {});
                var a = !!(e && e.request && e.request.collectResourceTiming) && new t.RequestPerformance(e.request),
                    s = this.loading[i] = new o(e);
                s.abort = this.loadVectorData(e, (function(e, o) {
                    if (delete n.loading[i], e || !o) return s.status = "done", n.loaded[i] = s, r(e);
                    var u = o.rawData,
                        l = {};
                    o.expires && (l.expires = o.expires), o.cacheControl && (l.cacheControl = o.cacheControl);
                    var c = {};
                    if (a) {
                        var p = a.finish();
                        p && (c.resourceTiming = JSON.parse(JSON.stringify(p)))
                    }
                    s.vectorTile = o.vectorTile, s.parse(o.vectorTile, n.layerIndex, n.availableImages, n.actor, (function(e, n) {
                        if (e || !n) return r(e);
                        r(null, t.extend({
                            rawTileData: u.slice(0)
                        }, n, l, c))
                    })), n.loaded = n.loaded || {}, n.loaded[i] = s
                }))
            }, u.prototype.reloadTile = function(t, e) {
                var r = this,
                    n = this.loaded,
                    i = t.uid,
                    o = this;
                if (n && n[i]) {
                    var a = n[i];
                    a.showCollisionBoxes = t.showCollisionBoxes;
                    var s = function(t, n) {
                        var i = a.reloadCallback;
                        i && (delete a.reloadCallback, a.parse(a.vectorTile, o.layerIndex, r.availableImages, o.actor, i)), e(t, n)
                    };
                    "parsing" === a.status ? a.reloadCallback = s : "done" === a.status && (a.vectorTile ? a.parse(a.vectorTile, this.layerIndex, this.availableImages, this.actor, s) : s())
                }
            }, u.prototype.abortTile = function(t, e) {
                var r = this.loading,
                    n = t.uid;
                r && r[n] && r[n].abort && (r[n].abort(), delete r[n]), e()
            }, u.prototype.removeTile = function(t, e) {
                var r = this.loaded,
                    n = t.uid;
                r && r[n] && delete r[n], e()
            };
            var l = t.window.ImageBitmap,
                c = function() {
                    this.loaded = {}
                };

            function p(t, e) {
                if (0 !== t.length) {
                    h(t[0], e);
                    for (var r = 1; r < t.length; r++) h(t[r], !e)
                }
            }

            function h(t, e) {
                for (var r = 0, n = 0, i = t.length, o = i - 1; n < i; o = n++) r += (t[n][0] - t[o][0]) * (t[o][1] + t[n][1]);
                r >= 0 != !!e && t.reverse()
            }
            c.prototype.loadTile = function(e, r) {
                var n = e.uid,
                    i = e.encoding,
                    o = e.rawImageData,
                    a = l && o instanceof l ? this.getImageData(o) : o,
                    s = new t.DEMData(n, a, i);
                this.loaded = this.loaded || {}, this.loaded[n] = s, r(null, s)
            }, c.prototype.getImageData = function(e) {
                this.offscreenCanvas && this.offscreenCanvasContext || (this.offscreenCanvas = new OffscreenCanvas(e.width, e.height), this.offscreenCanvasContext = this.offscreenCanvas.getContext("2d")), this.offscreenCanvas.width = e.width, this.offscreenCanvas.height = e.height, this.offscreenCanvasContext.drawImage(e, 0, 0, e.width, e.height);
                var r = this.offscreenCanvasContext.getImageData(-1, -1, e.width + 2, e.height + 2);
                return this.offscreenCanvasContext.clearRect(0, 0, this.offscreenCanvas.width, this.offscreenCanvas.height), new t.RGBAImage({
                    width: r.width,
                    height: r.height
                }, r.data)
            }, c.prototype.removeTile = function(t) {
                var e = this.loaded,
                    r = t.uid;
                e && e[r] && delete e[r]
            };
            var f = t.vectorTile.VectorTileFeature.prototype.toGeoJSON,
                d = function(e) {
                    this._feature = e, this.extent = t.EXTENT, this.type = e.type, this.properties = e.tags, "id" in e && !isNaN(e.id) && (this.id = parseInt(e.id, 10))
                };
            d.prototype.loadGeometry = function() {
                if (1 === this._feature.type) {
                    for (var e = [], r = 0, n = this._feature.geometry; r < n.length; r += 1) {
                        var i = n[r];
                        e.push([new t.Point$1(i[0], i[1])])
                    }
                    return e
                }
                for (var o = [], a = 0, s = this._feature.geometry; a < s.length; a += 1) {
                    for (var u = [], l = 0, c = s[a]; l < c.length; l += 1) {
                        var p = c[l];
                        u.push(new t.Point$1(p[0], p[1]))
                    }
                    o.push(u)
                }
                return o
            }, d.prototype.toGeoJSON = function(t, e, r) {
                return f.call(this, t, e, r)
            };
            var m = function(e) {
                this.layers = {
                    _geojsonTileLayer: this
                }, this.name = "_geojsonTileLayer", this.extent = t.EXTENT, this.length = e.length, this._features = e
            };
            m.prototype.feature = function(t) {
                return new d(this._features[t])
            };
            var y = t.vectorTile.VectorTileFeature,
                v = g;

            function g(t, e) {
                this.options = e || {}, this.features = t, this.length = t.length
            }

            function _(t, e) {
                this.id = "number" == typeof t.id ? t.id : void 0, this.type = t.type, this.rawGeometry = 1 === t.type ? [t.geometry] : t.geometry, this.properties = t.tags, this.extent = e || 4096
            }
            g.prototype.feature = function(t) {
                return new _(this.features[t], this.options.extent)
            }, _.prototype.loadGeometry = function() {
                var e = this.rawGeometry;
                this.geometry = [];
                for (var r = 0; r < e.length; r++) {
                    for (var n = e[r], i = [], o = 0; o < n.length; o++) i.push(new t.Point$1(n[o][0], n[o][1]));
                    this.geometry.push(i)
                }
                return this.geometry
            }, _.prototype.bbox = function() {
                this.geometry || this.loadGeometry();
                for (var t = this.geometry, e = 1 / 0, r = -1 / 0, n = 1 / 0, i = -1 / 0, o = 0; o < t.length; o++)
                    for (var a = t[o], s = 0; s < a.length; s++) {
                        var u = a[s];
                        e = Math.min(e, u.x), r = Math.max(r, u.x), n = Math.min(n, u.y), i = Math.max(i, u.y)
                    }
                return [e, n, r, i]
            }, _.prototype.toGeoJSON = y.prototype.toGeoJSON;
            var x = w,
                b = v;

            function w(e) {
                var r = new t.pbf;
                return function(t, e) {
                    for (var r in t.layers) e.writeMessage(3, S, t.layers[r])
                }(e, r), r.finish()
            }

            function S(t, e) {
                var r;
                e.writeVarintField(15, t.version || 1), e.writeStringField(1, t.name || ""), e.writeVarintField(5, t.extent || 4096);
                var n = {
                    keys: [],
                    values: [],
                    keycache: {},
                    valuecache: {}
                };
                for (r = 0; r < t.length; r++) n.feature = t.feature(r), e.writeMessage(2, T, n);
                var i = n.keys;
                for (r = 0; r < i.length; r++) e.writeStringField(3, i[r]);
                var o = n.values;
                for (r = 0; r < o.length; r++) e.writeMessage(4, k, o[r])
            }

            function T(t, e) {
                var r = t.feature;
                void 0 !== r.id && e.writeVarintField(1, r.id), e.writeMessage(2, E, t), e.writeVarintField(3, r.type), e.writeMessage(4, I, r)
            }

            function E(t, e) {
                var r = t.feature,
                    n = t.keys,
                    i = t.values,
                    o = t.keycache,
                    a = t.valuecache;
                for (var s in r.properties) {
                    var u = o[s];
                    void 0 === u && (n.push(s), o[s] = u = n.length - 1), e.writeVarint(u);
                    var l = r.properties[s],
                        c = typeof l;
                    "string" !== c && "boolean" !== c && "number" !== c && (l = JSON.stringify(l));
                    var p = c + ":" + l,
                        h = a[p];
                    void 0 === h && (i.push(l), a[p] = h = i.length - 1), e.writeVarint(h)
                }
            }

            function A(t, e) {
                return (e << 3) + (7 & t)
            }

            function C(t) {
                return t << 1 ^ t >> 31
            }

            function I(t, e) {
                for (var r = t.loadGeometry(), n = t.type, i = 0, o = 0, a = r.length, s = 0; s < a; s++) {
                    var u = r[s],
                        l = 1;
                    1 === n && (l = u.length), e.writeVarint(A(1, l));
                    for (var c = 3 === n ? u.length - 1 : u.length, p = 0; p < c; p++) {
                        1 === p && 1 !== n && e.writeVarint(A(2, c - 1));
                        var h = u[p].x - i,
                            f = u[p].y - o;
                        e.writeVarint(C(h)), e.writeVarint(C(f)), i += h, o += f
                    }
                    3 === n && e.writeVarint(A(7, 1))
                }
            }

            function k(t, e) {
                var r = typeof t;
                "string" === r ? e.writeStringField(1, t) : "boolean" === r ? e.writeBooleanField(7, t) : "number" === r && (t % 1 != 0 ? e.writeDoubleField(3, t) : t < 0 ? e.writeSVarintField(6, t) : e.writeVarintField(5, t))
            }

            function P(t, e, r, n) {
                z(t, r, n), z(e, 2 * r, 2 * n), z(e, 2 * r + 1, 2 * n + 1)
            }

            function z(t, e, r) {
                var n = t[e];
                t[e] = t[r], t[r] = n
            }

            function M(t, e, r, n) {
                var i = t - r,
                    o = e - n;
                return i * i + o * o
            }
            x.fromVectorTileJs = w, x.fromGeojsonVt = function(t, e) {
                e = e || {};
                var r = {};
                for (var n in t) r[n] = new v(t[n].features, e), r[n].name = n, r[n].version = e.version, r[n].extent = e.extent;
                return w({
                    layers: r
                })
            }, x.GeoJSONWrapper = b;
            var D = function(t) {
                    return t[0]
                },
                L = function(t) {
                    return t[1]
                },
                O = function(t, e, r, n, i) {
                    void 0 === e && (e = D), void 0 === r && (r = L), void 0 === n && (n = 64), void 0 === i && (i = Float64Array), this.nodeSize = n, this.points = t;
                    for (var o = t.length < 65536 ? Uint16Array : Uint32Array, a = this.ids = new o(t.length), s = this.coords = new i(2 * t.length), u = 0; u < t.length; u++) a[u] = u, s[2 * u] = e(t[u]), s[2 * u + 1] = r(t[u]);
                    ! function t(e, r, n, i, o, a) {
                        if (!(o - i <= n)) {
                            var s = i + o >> 1;
                            ! function t(e, r, n, i, o, a) {
                                for (; o > i;) {
                                    if (o - i > 600) {
                                        var s = o - i + 1,
                                            u = n - i + 1,
                                            l = Math.log(s),
                                            c = .5 * Math.exp(2 * l / 3),
                                            p = .5 * Math.sqrt(l * c * (s - c) / s) * (u - s / 2 < 0 ? -1 : 1);
                                        t(e, r, n, Math.max(i, Math.floor(n - u * c / s + p)), Math.min(o, Math.floor(n + (s - u) * c / s + p)), a)
                                    }
                                    var h = r[2 * n + a],
                                        f = i,
                                        d = o;
                                    for (P(e, r, i, n), r[2 * o + a] > h && P(e, r, i, o); f < d;) {
                                        for (P(e, r, f, d), f++, d--; r[2 * f + a] < h;) f++;
                                        for (; r[2 * d + a] > h;) d--
                                    }
                                    r[2 * i + a] === h ? P(e, r, i, d) : P(e, r, ++d, o), d <= n && (i = d + 1), n <= d && (o = d - 1)
                                }
                            }(e, r, s, i, o, a % 2), t(e, r, n, i, s - 1, a + 1), t(e, r, n, s + 1, o, a + 1)
                        }
                    }(a, s, n, 0, a.length - 1, 0)
                };
            O.prototype.range = function(t, e, r, n) {
                return function(t, e, r, n, i, o, a) {
                    for (var s, u, l = [0, t.length - 1, 0], c = []; l.length;) {
                        var p = l.pop(),
                            h = l.pop(),
                            f = l.pop();
                        if (h - f <= a)
                            for (var d = f; d <= h; d++) u = e[2 * d + 1], (s = e[2 * d]) >= r && s <= i && u >= n && u <= o && c.push(t[d]);
                        else {
                            var m = Math.floor((f + h) / 2);
                            u = e[2 * m + 1], (s = e[2 * m]) >= r && s <= i && u >= n && u <= o && c.push(t[m]);
                            var y = (p + 1) % 2;
                            (0 === p ? r <= s : n <= u) && (l.push(f), l.push(m - 1), l.push(y)), (0 === p ? i >= s : o >= u) && (l.push(m + 1), l.push(h), l.push(y))
                        }
                    }
                    return c
                }(this.ids, this.coords, t, e, r, n, this.nodeSize)
            }, O.prototype.within = function(t, e, r) {
                return function(t, e, r, n, i, o) {
                    for (var a = [0, t.length - 1, 0], s = [], u = i * i; a.length;) {
                        var l = a.pop(),
                            c = a.pop(),
                            p = a.pop();
                        if (c - p <= o)
                            for (var h = p; h <= c; h++) M(e[2 * h], e[2 * h + 1], r, n) <= u && s.push(t[h]);
                        else {
                            var f = Math.floor((p + c) / 2),
                                d = e[2 * f],
                                m = e[2 * f + 1];
                            M(d, m, r, n) <= u && s.push(t[f]);
                            var y = (l + 1) % 2;
                            (0 === l ? r - i <= d : n - i <= m) && (a.push(p), a.push(f - 1), a.push(y)), (0 === l ? r + i >= d : n + i >= m) && (a.push(f + 1), a.push(c), a.push(y))
                        }
                    }
                    return s
                }(this.ids, this.coords, t, e, r, this.nodeSize)
            };
            var R = {
                    minZoom: 0,
                    maxZoom: 16,
                    minPoints: 2,
                    radius: 40,
                    extent: 512,
                    nodeSize: 64,
                    log: !1,
                    generateId: !1,
                    reduce: null,
                    map: function(t) {
                        return t
                    }
                },
                B = function(t) {
                    this.options = Z(Object.create(R), t), this.trees = new Array(this.options.maxZoom + 1)
                };

            function F(t, e, r, n, i) {
                return {
                    x: t,
                    y: e,
                    zoom: 1 / 0,
                    id: r,
                    parentId: -1,
                    numPoints: n,
                    properties: i
                }
            }

            function N(t, e) {
                var r = t.geometry.coordinates,
                    n = r[1];
                return {
                    x: V(r[0]),
                    y: q(n),
                    zoom: 1 / 0,
                    index: e,
                    parentId: -1
                }
            }

            function U(t) {
                return {
                    type: "Feature",
                    id: t.id,
                    properties: j(t),
                    geometry: {
                        type: "Point",
                        coordinates: [(n = t.x, 360 * (n - .5)), (e = t.y, r = (180 - 360 * e) * Math.PI / 180, 360 * Math.atan(Math.exp(r)) / Math.PI - 90)]
                    }
                };
                var e, r, n
            }

            function j(t) {
                var e = t.numPoints,
                    r = e >= 1e4 ? Math.round(e / 1e3) + "k" : e >= 1e3 ? Math.round(e / 100) / 10 + "k" : e;
                return Z(Z({}, t.properties), {
                    cluster: !0,
                    cluster_id: t.id,
                    point_count: e,
                    point_count_abbreviated: r
                })
            }

            function V(t) {
                return t / 360 + .5
            }

            function q(t) {
                var e = Math.sin(t * Math.PI / 180),
                    r = .5 - .25 * Math.log((1 + e) / (1 - e)) / Math.PI;
                return r < 0 ? 0 : r > 1 ? 1 : r
            }

            function Z(t, e) {
                for (var r in e) t[r] = e[r];
                return t
            }

            function $(t) {
                return t.x
            }

            function G(t) {
                return t.y
            }

            function H(t, e, r, n, i, o) {
                var a = i - r,
                    s = o - n;
                if (0 !== a || 0 !== s) {
                    var u = ((t - r) * a + (e - n) * s) / (a * a + s * s);
                    u > 1 ? (r = i, n = o) : u > 0 && (r += a * u, n += s * u)
                }
                return (a = t - r) * a + (s = e - n) * s
            }

            function W(t, e, r, n) {
                var i = {
                    id: void 0 === t ? null : t,
                    type: e,
                    geometry: r,
                    tags: n,
                    minX: 1 / 0,
                    minY: 1 / 0,
                    maxX: -1 / 0,
                    maxY: -1 / 0
                };
                return function(t) {
                    var e = t.geometry,
                        r = t.type;
                    if ("Point" === r || "MultiPoint" === r || "LineString" === r) X(t, e);
                    else if ("Polygon" === r || "MultiLineString" === r)
                        for (var n = 0; n < e.length; n++) X(t, e[n]);
                    else if ("MultiPolygon" === r)
                        for (n = 0; n < e.length; n++)
                            for (var i = 0; i < e[n].length; i++) X(t, e[n][i])
                }(i), i
            }

            function X(t, e) {
                for (var r = 0; r < e.length; r += 3) t.minX = Math.min(t.minX, e[r]), t.minY = Math.min(t.minY, e[r + 1]), t.maxX = Math.max(t.maxX, e[r]), t.maxY = Math.max(t.maxY, e[r + 1])
            }

            function K(t, e, r, n) {
                if (e.geometry) {
                    var i = e.geometry.coordinates,
                        o = e.geometry.type,
                        a = Math.pow(r.tolerance / ((1 << r.maxZoom) * r.extent), 2),
                        s = [],
                        u = e.id;
                    if (r.promoteId ? u = e.properties[r.promoteId] : r.generateId && (u = n || 0), "Point" === o) J(i, s);
                    else if ("MultiPoint" === o)
                        for (var l = 0; l < i.length; l++) J(i[l], s);
                    else if ("LineString" === o) Y(i, s, a, !1);
                    else if ("MultiLineString" === o) {
                        if (r.lineMetrics) {
                            for (l = 0; l < i.length; l++) Y(i[l], s = [], a, !1), t.push(W(u, "LineString", s, e.properties));
                            return
                        }
                        Q(i, s, a, !1)
                    } else if ("Polygon" === o) Q(i, s, a, !0);
                    else {
                        if ("MultiPolygon" !== o) {
                            if ("GeometryCollection" === o) {
                                for (l = 0; l < e.geometry.geometries.length; l++) K(t, {
                                    id: u,
                                    geometry: e.geometry.geometries[l],
                                    properties: e.properties
                                }, r, n);
                                return
                            }
                            throw new Error("Input data is not a valid GeoJSON object.")
                        }
                        for (l = 0; l < i.length; l++) {
                            var c = [];
                            Q(i[l], c, a, !0), s.push(c)
                        }
                    }
                    t.push(W(u, o, s, e.properties))
                }
            }

            function J(t, e) {
                e.push(tt(t[0])), e.push(et(t[1])), e.push(0)
            }

            function Y(t, e, r, n) {
                for (var i, o, a = 0, s = 0; s < t.length; s++) {
                    var u = tt(t[s][0]),
                        l = et(t[s][1]);
                    e.push(u), e.push(l), e.push(0), s > 0 && (a += n ? (i * l - u * o) / 2 : Math.sqrt(Math.pow(u - i, 2) + Math.pow(l - o, 2))), i = u, o = l
                }
                var c = e.length - 3;
                e[2] = 1,
                    function t(e, r, n, i) {
                        for (var o, a = i, s = n - r >> 1, u = n - r, l = e[r], c = e[r + 1], p = e[n], h = e[n + 1], f = r + 3; f < n; f += 3) {
                            var d = H(e[f], e[f + 1], l, c, p, h);
                            if (d > a) o = f, a = d;
                            else if (d === a) {
                                var m = Math.abs(f - s);
                                m < u && (o = f, u = m)
                            }
                        }
                        a > i && (o - r > 3 && t(e, r, o, i), e[o + 2] = a, n - o > 3 && t(e, o, n, i))
                    }(e, 0, c, r), e[c + 2] = 1, e.size = Math.abs(a), e.start = 0, e.end = e.size
            }

            function Q(t, e, r, n) {
                for (var i = 0; i < t.length; i++) {
                    var o = [];
                    Y(t[i], o, r, n), e.push(o)
                }
            }

            function tt(t) {
                return t / 360 + .5
            }

            function et(t) {
                var e = Math.sin(t * Math.PI / 180),
                    r = .5 - .25 * Math.log((1 + e) / (1 - e)) / Math.PI;
                return r < 0 ? 0 : r > 1 ? 1 : r
            }

            function rt(t, e, r, n, i, o, a, s) {
                if (n /= e, o >= (r /= e) && a < n) return t;
                if (a < r || o >= n) return null;
                for (var u = [], l = 0; l < t.length; l++) {
                    var c = t[l],
                        p = c.geometry,
                        h = c.type,
                        f = 0 === i ? c.minX : c.minY,
                        d = 0 === i ? c.maxX : c.maxY;
                    if (f >= r && d < n) u.push(c);
                    else if (!(d < r || f >= n)) {
                        var m = [];
                        if ("Point" === h || "MultiPoint" === h) nt(p, m, r, n, i);
                        else if ("LineString" === h) it(p, m, r, n, i, !1, s.lineMetrics);
                        else if ("MultiLineString" === h) at(p, m, r, n, i, !1);
                        else if ("Polygon" === h) at(p, m, r, n, i, !0);
                        else if ("MultiPolygon" === h)
                            for (var y = 0; y < p.length; y++) {
                                var v = [];
                                at(p[y], v, r, n, i, !0), v.length && m.push(v)
                            }
                        if (m.length) {
                            if (s.lineMetrics && "LineString" === h) {
                                for (y = 0; y < m.length; y++) u.push(W(c.id, h, m[y], c.tags));
                                continue
                            }
                            "LineString" !== h && "MultiLineString" !== h || (1 === m.length ? (h = "LineString", m = m[0]) : h = "MultiLineString"), "Point" !== h && "MultiPoint" !== h || (h = 3 === m.length ? "Point" : "MultiPoint"), u.push(W(c.id, h, m, c.tags))
                        }
                    }
                }
                return u.length ? u : null
            }

            function nt(t, e, r, n, i) {
                for (var o = 0; o < t.length; o += 3) {
                    var a = t[o + i];
                    a >= r && a <= n && (e.push(t[o]), e.push(t[o + 1]), e.push(t[o + 2]))
                }
            }

            function it(t, e, r, n, i, o, a) {
                for (var s, u, l = ot(t), c = 0 === i ? ut : lt, p = t.start, h = 0; h < t.length - 3; h += 3) {
                    var f = t[h],
                        d = t[h + 1],
                        m = t[h + 2],
                        y = t[h + 3],
                        v = t[h + 4],
                        g = 0 === i ? f : d,
                        _ = 0 === i ? y : v,
                        x = !1;
                    a && (s = Math.sqrt(Math.pow(f - y, 2) + Math.pow(d - v, 2))), g < r ? _ > r && (u = c(l, f, d, y, v, r), a && (l.start = p + s * u)) : g > n ? _ < n && (u = c(l, f, d, y, v, n), a && (l.start = p + s * u)) : st(l, f, d, m), _ < r && g >= r && (u = c(l, f, d, y, v, r), x = !0), _ > n && g <= n && (u = c(l, f, d, y, v, n), x = !0), !o && x && (a && (l.end = p + s * u), e.push(l), l = ot(t)), a && (p += s)
                }
                var b = t.length - 3;
                f = t[b], d = t[b + 1], m = t[b + 2], (g = 0 === i ? f : d) >= r && g <= n && st(l, f, d, m), b = l.length - 3, o && b >= 3 && (l[b] !== l[0] || l[b + 1] !== l[1]) && st(l, l[0], l[1], l[2]), l.length && e.push(l)
            }

            function ot(t) {
                var e = [];
                return e.size = t.size, e.start = t.start, e.end = t.end, e
            }

            function at(t, e, r, n, i, o) {
                for (var a = 0; a < t.length; a++) it(t[a], e, r, n, i, o, !1)
            }

            function st(t, e, r, n) {
                t.push(e), t.push(r), t.push(n)
            }

            function ut(t, e, r, n, i, o) {
                var a = (o - e) / (n - e);
                return t.push(o), t.push(r + (i - r) * a), t.push(1), a
            }

            function lt(t, e, r, n, i, o) {
                var a = (o - r) / (i - r);
                return t.push(e + (n - e) * a), t.push(o), t.push(1), a
            }

            function ct(t, e) {
                for (var r = [], n = 0; n < t.length; n++) {
                    var i, o = t[n],
                        a = o.type;
                    if ("Point" === a || "MultiPoint" === a || "LineString" === a) i = pt(o.geometry, e);
                    else if ("MultiLineString" === a || "Polygon" === a) {
                        i = [];
                        for (var s = 0; s < o.geometry.length; s++) i.push(pt(o.geometry[s], e))
                    } else if ("MultiPolygon" === a)
                        for (i = [], s = 0; s < o.geometry.length; s++) {
                            for (var u = [], l = 0; l < o.geometry[s].length; l++) u.push(pt(o.geometry[s][l], e));
                            i.push(u)
                        }
                    r.push(W(o.id, a, i, o.tags))
                }
                return r
            }

            function pt(t, e) {
                var r = [];
                r.size = t.size, void 0 !== t.start && (r.start = t.start, r.end = t.end);
                for (var n = 0; n < t.length; n += 3) r.push(t[n] + e, t[n + 1], t[n + 2]);
                return r
            }

            function ht(t, e) {
                if (t.transformed) return t;
                var r, n, i, o = 1 << t.z,
                    a = t.x,
                    s = t.y;
                for (r = 0; r < t.features.length; r++) {
                    var u = t.features[r],
                        l = u.geometry,
                        c = u.type;
                    if (u.geometry = [], 1 === c)
                        for (n = 0; n < l.length; n += 2) u.geometry.push(ft(l[n], l[n + 1], e, o, a, s));
                    else
                        for (n = 0; n < l.length; n++) {
                            var p = [];
                            for (i = 0; i < l[n].length; i += 2) p.push(ft(l[n][i], l[n][i + 1], e, o, a, s));
                            u.geometry.push(p)
                        }
                }
                return t.transformed = !0, t
            }

            function ft(t, e, r, n, i, o) {
                return [Math.round(r * (t * n - i)), Math.round(r * (e * n - o))]
            }

            function dt(t, e, r, n, i) {
                for (var o = e === i.maxZoom ? 0 : i.tolerance / ((1 << e) * i.extent), a = {
                        features: [],
                        numPoints: 0,
                        numSimplified: 0,
                        numFeatures: 0,
                        source: null,
                        x: r,
                        y: n,
                        z: e,
                        transformed: !1,
                        minX: 2,
                        minY: 1,
                        maxX: -1,
                        maxY: 0
                    }, s = 0; s < t.length; s++) {
                    a.numFeatures++, mt(a, t[s], o, i);
                    var u = t[s].minX,
                        l = t[s].minY,
                        c = t[s].maxX,
                        p = t[s].maxY;
                    u < a.minX && (a.minX = u), l < a.minY && (a.minY = l), c > a.maxX && (a.maxX = c), p > a.maxY && (a.maxY = p)
                }
                return a
            }

            function mt(t, e, r, n) {
                var i = e.geometry,
                    o = e.type,
                    a = [];
                if ("Point" === o || "MultiPoint" === o)
                    for (var s = 0; s < i.length; s += 3) a.push(i[s]), a.push(i[s + 1]), t.numPoints++, t.numSimplified++;
                else if ("LineString" === o) yt(a, i, t, r, !1, !1);
                else if ("MultiLineString" === o || "Polygon" === o)
                    for (s = 0; s < i.length; s++) yt(a, i[s], t, r, "Polygon" === o, 0 === s);
                else if ("MultiPolygon" === o)
                    for (var u = 0; u < i.length; u++) {
                        var l = i[u];
                        for (s = 0; s < l.length; s++) yt(a, l[s], t, r, !0, 0 === s)
                    }
                if (a.length) {
                    var c = e.tags || null;
                    if ("LineString" === o && n.lineMetrics) {
                        for (var p in c = {}, e.tags) c[p] = e.tags[p];
                        c.mapbox_clip_start = i.start / i.size, c.mapbox_clip_end = i.end / i.size
                    }
                    var h = {
                        geometry: a,
                        type: "Polygon" === o || "MultiPolygon" === o ? 3 : "LineString" === o || "MultiLineString" === o ? 2 : 1,
                        tags: c
                    };
                    null !== e.id && (h.id = e.id), t.features.push(h)
                }
            }

            function yt(t, e, r, n, i, o) {
                var a = n * n;
                if (n > 0 && e.size < (i ? a : n)) r.numPoints += e.length / 3;
                else {
                    for (var s = [], u = 0; u < e.length; u += 3)(0 === n || e[u + 2] > a) && (r.numSimplified++, s.push(e[u]), s.push(e[u + 1])), r.numPoints++;
                    i && function(t, e) {
                        for (var r = 0, n = 0, i = t.length, o = i - 2; n < i; o = n, n += 2) r += (t[n] - t[o]) * (t[n + 1] + t[o + 1]);
                        if (r > 0 === e)
                            for (n = 0, i = t.length; n < i / 2; n += 2) {
                                var a = t[n],
                                    s = t[n + 1];
                                t[n] = t[i - 2 - n], t[n + 1] = t[i - 1 - n], t[i - 2 - n] = a, t[i - 1 - n] = s
                            }
                    }(s, o), t.push(s)
                }
            }

            function vt(t, e) {
                var r = (e = this.options = function(t, e) {
                    for (var r in e) t[r] = e[r];
                    return t
                }(Object.create(this.options), e)).debug;
                if (r && console.time("preprocess data"), e.maxZoom < 0 || e.maxZoom > 24) throw new Error("maxZoom should be in the 0-24 range");
                if (e.promoteId && e.generateId) throw new Error("promoteId and generateId cannot be used together.");
                var n = function(t, e) {
                    var r = [];
                    if ("FeatureCollection" === t.type)
                        for (var n = 0; n < t.features.length; n++) K(r, t.features[n], e, n);
                    else K(r, "Feature" === t.type ? t : {
                        geometry: t
                    }, e);
                    return r
                }(t, e);
                this.tiles = {}, this.tileCoords = [], r && (console.timeEnd("preprocess data"), console.log("index: maxZoom: %d, maxPoints: %d", e.indexMaxZoom, e.indexMaxPoints), console.time("generate tiles"), this.stats = {}, this.total = 0), (n = function(t, e) {
                    var r = e.buffer / e.extent,
                        n = t,
                        i = rt(t, 1, -1 - r, r, 0, -1, 2, e),
                        o = rt(t, 1, 1 - r, 2 + r, 0, -1, 2, e);
                    return (i || o) && (n = rt(t, 1, -r, 1 + r, 0, -1, 2, e) || [], i && (n = ct(i, 1).concat(n)), o && (n = n.concat(ct(o, -1)))), n
                }(n, e)).length && this.splitTile(n, 0, 0, 0), r && (n.length && console.log("features: %d, points: %d", this.tiles[0].numFeatures, this.tiles[0].numPoints), console.timeEnd("generate tiles"), console.log("tiles generated:", this.total, JSON.stringify(this.stats)))
            }

            function gt(t, e, r) {
                return 32 * ((1 << t) * r + e) + t
            }

            function _t(t, e) {
                var r = t.tileID.canonical;
                if (!this._geoJSONIndex) return e(null, null);
                var n = this._geoJSONIndex.getTile(r.z, r.x, r.y);
                if (!n) return e(null, null);
                var i = new m(n.features),
                    o = x(i);
                0 === o.byteOffset && o.byteLength === o.buffer.byteLength || (o = new Uint8Array(o)), e(null, {
                    vectorTile: i,
                    rawData: o.buffer
                })
            }
            B.prototype.load = function(t) {
                var e = this.options,
                    r = e.log,
                    n = e.minZoom,
                    i = e.maxZoom,
                    o = e.nodeSize;
                r && console.time("total time");
                var a = "prepare " + t.length + " points";
                r && console.time(a), this.points = t;
                for (var s = [], u = 0; u < t.length; u++) t[u].geometry && s.push(N(t[u], u));
                this.trees[i + 1] = new O(s, $, G, o, Float32Array), r && console.timeEnd(a);
                for (var l = i; l >= n; l--) {
                    var c = +Date.now();
                    s = this._cluster(s, l), this.trees[l] = new O(s, $, G, o, Float32Array), r && console.log("z%d: %d clusters in %dms", l, s.length, +Date.now() - c)
                }
                return r && console.timeEnd("total time"), this
            }, B.prototype.getClusters = function(t, e) {
                var r = ((t[0] + 180) % 360 + 360) % 360 - 180,
                    n = Math.max(-90, Math.min(90, t[1])),
                    i = 180 === t[2] ? 180 : ((t[2] + 180) % 360 + 360) % 360 - 180,
                    o = Math.max(-90, Math.min(90, t[3]));
                if (t[2] - t[0] >= 360) r = -180, i = 180;
                else if (r > i) {
                    var a = this.getClusters([r, n, 180, o], e),
                        s = this.getClusters([-180, n, i, o], e);
                    return a.concat(s)
                }
                for (var u = this.trees[this._limitZoom(e)], l = [], c = 0, p = u.range(V(r), q(o), V(i), q(n)); c < p.length; c += 1) {
                    var h = u.points[p[c]];
                    l.push(h.numPoints ? U(h) : this.points[h.index])
                }
                return l
            }, B.prototype.getChildren = function(t) {
                var e = this._getOriginId(t),
                    r = this._getOriginZoom(t),
                    n = "No cluster with the specified id.",
                    i = this.trees[r];
                if (!i) throw new Error(n);
                var o = i.points[e];
                if (!o) throw new Error(n);
                for (var a = this.options.radius / (this.options.extent * Math.pow(2, r - 1)), s = [], u = 0, l = i.within(o.x, o.y, a); u < l.length; u += 1) {
                    var c = i.points[l[u]];
                    c.parentId === t && s.push(c.numPoints ? U(c) : this.points[c.index])
                }
                if (0 === s.length) throw new Error(n);
                return s
            }, B.prototype.getLeaves = function(t, e, r) {
                var n = [];
                return this._appendLeaves(n, t, e = e || 10, r = r || 0, 0), n
            }, B.prototype.getTile = function(t, e, r) {
                var n = this.trees[this._limitZoom(t)],
                    i = Math.pow(2, t),
                    o = this.options,
                    a = o.radius / o.extent,
                    s = (r - a) / i,
                    u = (r + 1 + a) / i,
                    l = {
                        features: []
                    };
                return this._addTileFeatures(n.range((e - a) / i, s, (e + 1 + a) / i, u), n.points, e, r, i, l), 0 === e && this._addTileFeatures(n.range(1 - a / i, s, 1, u), n.points, i, r, i, l), e === i - 1 && this._addTileFeatures(n.range(0, s, a / i, u), n.points, -1, r, i, l), l.features.length ? l : null
            }, B.prototype.getClusterExpansionZoom = function(t) {
                for (var e = this._getOriginZoom(t) - 1; e <= this.options.maxZoom;) {
                    var r = this.getChildren(t);
                    if (e++, 1 !== r.length) break;
                    t = r[0].properties.cluster_id
                }
                return e
            }, B.prototype._appendLeaves = function(t, e, r, n, i) {
                for (var o = 0, a = this.getChildren(e); o < a.length; o += 1) {
                    var s = a[o],
                        u = s.properties;
                    if (u && u.cluster ? i + u.point_count <= n ? i += u.point_count : i = this._appendLeaves(t, u.cluster_id, r, n, i) : i < n ? i++ : t.push(s), t.length === r) break
                }
                return i
            }, B.prototype._addTileFeatures = function(t, e, r, n, i, o) {
                for (var a = 0, s = t; a < s.length; a += 1) {
                    var u = e[s[a]],
                        l = u.numPoints,
                        c = {
                            type: 1,
                            geometry: [
                                [Math.round(this.options.extent * (u.x * i - r)), Math.round(this.options.extent * (u.y * i - n))]
                            ],
                            tags: l ? j(u) : this.points[u.index].properties
                        },
                        p = void 0;
                    l ? p = u.id : this.options.generateId ? p = u.index : this.points[u.index].id && (p = this.points[u.index].id), void 0 !== p && (c.id = p), o.features.push(c)
                }
            }, B.prototype._limitZoom = function(t) {
                return Math.max(this.options.minZoom, Math.min(+t, this.options.maxZoom + 1))
            }, B.prototype._cluster = function(t, e) {
                for (var r = [], n = this.options, i = n.reduce, o = n.minPoints, a = n.radius / (n.extent * Math.pow(2, e)), s = 0; s < t.length; s++) {
                    var u = t[s];
                    if (!(u.zoom <= e)) {
                        u.zoom = e;
                        for (var l = this.trees[e + 1], c = l.within(u.x, u.y, a), p = u.numPoints || 1, h = p, f = 0, d = c; f < d.length; f += 1) {
                            var m = l.points[d[f]];
                            m.zoom > e && (h += m.numPoints || 1)
                        }
                        if (h >= o) {
                            for (var y = u.x * p, v = u.y * p, g = i && p > 1 ? this._map(u, !0) : null, _ = (s << 5) + (e + 1) + this.points.length, x = 0, b = c; x < b.length; x += 1) {
                                var w = l.points[b[x]];
                                if (!(w.zoom <= e)) {
                                    w.zoom = e;
                                    var S = w.numPoints || 1;
                                    y += w.x * S, v += w.y * S, w.parentId = _, i && (g || (g = this._map(u, !0)), i(g, this._map(w)))
                                }
                            }
                            u.parentId = _, r.push(F(y / h, v / h, _, h, g))
                        } else if (r.push(u), h > 1)
                            for (var T = 0, E = c; T < E.length; T += 1) {
                                var A = l.points[E[T]];
                                A.zoom <= e || (A.zoom = e, r.push(A))
                            }
                    }
                }
                return r
            }, B.prototype._getOriginId = function(t) {
                return t - this.points.length >> 5
            }, B.prototype._getOriginZoom = function(t) {
                return (t - this.points.length) % 32
            }, B.prototype._map = function(t, e) {
                if (t.numPoints) return e ? Z({}, t.properties) : t.properties;
                var r = this.points[t.index].properties,
                    n = this.options.map(r);
                return e && n === r ? Z({}, n) : n
            }, vt.prototype.options = {
                maxZoom: 14,
                indexMaxZoom: 5,
                indexMaxPoints: 1e5,
                tolerance: 3,
                extent: 4096,
                buffer: 64,
                lineMetrics: !1,
                promoteId: null,
                generateId: !1,
                debug: 0
            }, vt.prototype.splitTile = function(t, e, r, n, i, o, a) {
                for (var s = [t, e, r, n], u = this.options, l = u.debug; s.length;) {
                    n = s.pop(), r = s.pop(), e = s.pop(), t = s.pop();
                    var c = 1 << e,
                        p = gt(e, r, n),
                        h = this.tiles[p];
                    if (!h && (l > 1 && console.time("creation"), h = this.tiles[p] = dt(t, e, r, n, u), this.tileCoords.push({
                            z: e,
                            x: r,
                            y: n
                        }), l)) {
                        l > 1 && (console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)", e, r, n, h.numFeatures, h.numPoints, h.numSimplified), console.timeEnd("creation"));
                        var f = "z" + e;
                        this.stats[f] = (this.stats[f] || 0) + 1, this.total++
                    }
                    if (h.source = t, i) {
                        if (e === u.maxZoom || e === i) continue;
                        var d = 1 << i - e;
                        if (r !== Math.floor(o / d) || n !== Math.floor(a / d)) continue
                    } else if (e === u.indexMaxZoom || h.numPoints <= u.indexMaxPoints) continue;
                    if (h.source = null, 0 !== t.length) {
                        l > 1 && console.time("clipping");
                        var m, y, v, g, _, x, b = .5 * u.buffer / u.extent,
                            w = .5 - b,
                            S = .5 + b,
                            T = 1 + b;
                        m = y = v = g = null, _ = rt(t, c, r - b, r + S, 0, h.minX, h.maxX, u), x = rt(t, c, r + w, r + T, 0, h.minX, h.maxX, u), t = null, _ && (m = rt(_, c, n - b, n + S, 1, h.minY, h.maxY, u), y = rt(_, c, n + w, n + T, 1, h.minY, h.maxY, u), _ = null), x && (v = rt(x, c, n - b, n + S, 1, h.minY, h.maxY, u), g = rt(x, c, n + w, n + T, 1, h.minY, h.maxY, u), x = null), l > 1 && console.timeEnd("clipping"), s.push(m || [], e + 1, 2 * r, 2 * n), s.push(y || [], e + 1, 2 * r, 2 * n + 1), s.push(v || [], e + 1, 2 * r + 1, 2 * n), s.push(g || [], e + 1, 2 * r + 1, 2 * n + 1)
                    }
                }
            }, vt.prototype.getTile = function(t, e, r) {
                var n = this.options,
                    i = n.extent,
                    o = n.debug;
                if (t < 0 || t > 24) return null;
                var a = 1 << t,
                    s = gt(t, e = (e % a + a) % a, r);
                if (this.tiles[s]) return ht(this.tiles[s], i);
                o > 1 && console.log("drilling down to z%d-%d-%d", t, e, r);
                for (var u, l = t, c = e, p = r; !u && l > 0;) l--, c = Math.floor(c / 2), p = Math.floor(p / 2), u = this.tiles[gt(l, c, p)];
                return u && u.source ? (o > 1 && console.log("found parent tile z%d-%d-%d", l, c, p), o > 1 && console.time("drilling down"), this.splitTile(u.source, l, c, p, t, e, r), o > 1 && console.timeEnd("drilling down"), this.tiles[s] ? ht(this.tiles[s], i) : null) : null
            };
            var xt = function(e) {
                    function r(t, r, n, i) {
                        e.call(this, t, r, n, _t), i && (this.loadGeoJSON = i)
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.loadData = function(t, e) {
                        this._pendingCallback && this._pendingCallback(null, {
                            abandoned: !0
                        }), this._pendingCallback = e, this._pendingLoadDataParams = t, this._state && "Idle" !== this._state ? this._state = "NeedsLoadData" : (this._state = "Coalescing", this._loadData())
                    }, r.prototype._loadData = function() {
                        var e = this;
                        if (this._pendingCallback && this._pendingLoadDataParams) {
                            var r = this._pendingCallback,
                                n = this._pendingLoadDataParams;
                            delete this._pendingCallback, delete this._pendingLoadDataParams;
                            var i = !!(n && n.request && n.request.collectResourceTiming) && new t.RequestPerformance(n.request);
                            this.loadGeoJSON(n, (function(o, a) {
                                if (o || !a) return r(o);
                                if ("object" != typeof a) return r(new Error("Input data given to '" + n.source + "' is not a valid GeoJSON object."));
                                ! function t(e, r) {
                                    var n, i = e && e.type;
                                    if ("FeatureCollection" === i)
                                        for (n = 0; n < e.features.length; n++) t(e.features[n], r);
                                    else if ("GeometryCollection" === i)
                                        for (n = 0; n < e.geometries.length; n++) t(e.geometries[n], r);
                                    else if ("Feature" === i) t(e.geometry, r);
                                    else if ("Polygon" === i) p(e.coordinates, r);
                                    else if ("MultiPolygon" === i)
                                        for (n = 0; n < e.coordinates.length; n++) p(e.coordinates[n], r);
                                    return e
                                }(a, !0);
                                try {
                                    e._geoJSONIndex = n.cluster ? new B(function(e) {
                                        var r = e.superclusterOptions,
                                            n = e.clusterProperties;
                                        if (!n || !r) return r;
                                        for (var i = {}, o = {}, a = {
                                                accumulated: null,
                                                zoom: 0
                                            }, s = {
                                                properties: null
                                            }, u = Object.keys(n), l = 0, c = u; l < c.length; l += 1) {
                                            var p = c[l],
                                                h = n[p],
                                                f = h[0],
                                                d = t.createExpression(h[1]),
                                                m = t.createExpression("string" == typeof f ? [f, ["accumulated"],
                                                    ["get", p]
                                                ] : f);
                                            i[p] = d.value, o[p] = m.value
                                        }
                                        return r.map = function(t) {
                                            s.properties = t;
                                            for (var e = {}, r = 0, n = u; r < n.length; r += 1) {
                                                var o = n[r];
                                                e[o] = i[o].evaluate(a, s)
                                            }
                                            return e
                                        }, r.reduce = function(t, e) {
                                            s.properties = e;
                                            for (var r = 0, n = u; r < n.length; r += 1) {
                                                var i = n[r];
                                                a.accumulated = t[i], t[i] = o[i].evaluate(a, s)
                                            }
                                        }, r
                                    }(n)).load(a.features) : function(t, e) {
                                        return new vt(t, e)
                                    }(a, n.geojsonVtOptions)
                                } catch (o) {
                                    return r(o)
                                }
                                e.loaded = {};
                                var s = {};
                                if (i) {
                                    var u = i.finish();
                                    u && (s.resourceTiming = {}, s.resourceTiming[n.source] = JSON.parse(JSON.stringify(u)))
                                }
                                r(null, s)
                            }))
                        }
                    }, r.prototype.coalesce = function() {
                        "Coalescing" === this._state ? this._state = "Idle" : "NeedsLoadData" === this._state && (this._state = "Coalescing", this._loadData())
                    }, r.prototype.reloadTile = function(t, r) {
                        var n = this.loaded;
                        return n && n[t.uid] ? e.prototype.reloadTile.call(this, t, r) : this.loadTile(t, r)
                    }, r.prototype.loadGeoJSON = function(e, r) {
                        if (e.request) t.getJSON(e.request, r);
                        else {
                            if ("string" != typeof e.data) return r(new Error("Input data given to '" + e.source + "' is not a valid GeoJSON object."));
                            try {
                                return r(null, JSON.parse(e.data))
                            } catch (t) {
                                return r(new Error("Input data given to '" + e.source + "' is not a valid GeoJSON object."))
                            }
                        }
                    }, r.prototype.removeSource = function(t, e) {
                        this._pendingCallback && this._pendingCallback(null, {
                            abandoned: !0
                        }), e()
                    }, r.prototype.getClusterExpansionZoom = function(t, e) {
                        try {
                            e(null, this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))
                        } catch (t) {
                            e(t)
                        }
                    }, r.prototype.getClusterChildren = function(t, e) {
                        try {
                            e(null, this._geoJSONIndex.getChildren(t.clusterId))
                        } catch (t) {
                            e(t)
                        }
                    }, r.prototype.getClusterLeaves = function(t, e) {
                        try {
                            e(null, this._geoJSONIndex.getLeaves(t.clusterId, t.limit, t.offset))
                        } catch (t) {
                            e(t)
                        }
                    }, r
                }(u),
                bt = function(e) {
                    var r = this;
                    this.self = e, this.actor = new t.Actor(e, this), this.layerIndexes = {}, this.availableImages = {}, this.workerSourceTypes = {
                        vector: u,
                        geojson: xt
                    }, this.workerSources = {}, this.demWorkerSources = {}, this.self.registerWorkerSource = function(t, e) {
                        if (r.workerSourceTypes[t]) throw new Error('Worker source with name "' + t + '" already registered.');
                        r.workerSourceTypes[t] = e
                    }, this.self.registerRTLTextPlugin = function(e) {
                        if (t.plugin.isParsed()) throw new Error("RTL text plugin already registered.");
                        t.plugin.applyArabicShaping = e.applyArabicShaping, t.plugin.processBidirectionalText = e.processBidirectionalText, t.plugin.processStyledBidirectionalText = e.processStyledBidirectionalText
                    }
                };
            return bt.prototype.setReferrer = function(t, e) {
                this.referrer = e
            }, bt.prototype.setImages = function(t, e, r) {
                for (var n in this.availableImages[t] = e, this.workerSources[t]) {
                    var i = this.workerSources[t][n];
                    for (var o in i) i[o].availableImages = e
                }
                r()
            }, bt.prototype.setLayers = function(t, e, r) {
                this.getLayerIndex(t).replace(e), r()
            }, bt.prototype.updateLayers = function(t, e, r) {
                this.getLayerIndex(t).update(e.layers, e.removedIds), r()
            }, bt.prototype.loadTile = function(t, e, r) {
                this.getWorkerSource(t, e.type, e.source).loadTile(e, r)
            }, bt.prototype.loadDEMTile = function(t, e, r) {
                this.getDEMWorkerSource(t, e.source).loadTile(e, r)
            }, bt.prototype.reloadTile = function(t, e, r) {
                this.getWorkerSource(t, e.type, e.source).reloadTile(e, r)
            }, bt.prototype.abortTile = function(t, e, r) {
                this.getWorkerSource(t, e.type, e.source).abortTile(e, r)
            }, bt.prototype.removeTile = function(t, e, r) {
                this.getWorkerSource(t, e.type, e.source).removeTile(e, r)
            }, bt.prototype.removeDEMTile = function(t, e) {
                this.getDEMWorkerSource(t, e.source).removeTile(e)
            }, bt.prototype.removeSource = function(t, e, r) {
                if (this.workerSources[t] && this.workerSources[t][e.type] && this.workerSources[t][e.type][e.source]) {
                    var n = this.workerSources[t][e.type][e.source];
                    delete this.workerSources[t][e.type][e.source], void 0 !== n.removeSource ? n.removeSource(e, r) : r()
                }
            }, bt.prototype.loadWorkerSource = function(t, e, r) {
                try {
                    this.self.importScripts(e.url), r()
                } catch (t) {
                    r(t.toString())
                }
            }, bt.prototype.syncRTLPluginState = function(e, r, n) {
                try {
                    t.plugin.setState(r);
                    var i = t.plugin.getPluginURL();
                    if (t.plugin.isLoaded() && !t.plugin.isParsed() && null != i) {
                        this.self.importScripts(i);
                        var o = t.plugin.isParsed();
                        n(o ? void 0 : new Error("RTL Text Plugin failed to import scripts from " + i), o)
                    }
                } catch (t) {
                    n(t.toString())
                }
            }, bt.prototype.getAvailableImages = function(t) {
                var e = this.availableImages[t];
                return e || (e = []), e
            }, bt.prototype.getLayerIndex = function(t) {
                var e = this.layerIndexes[t];
                return e || (e = this.layerIndexes[t] = new n), e
            }, bt.prototype.getWorkerSource = function(t, e, r) {
                var n = this;
                return this.workerSources[t] || (this.workerSources[t] = {}), this.workerSources[t][e] || (this.workerSources[t][e] = {}), this.workerSources[t][e][r] || (this.workerSources[t][e][r] = new this.workerSourceTypes[e]({
                    send: function(e, r, i) {
                        n.actor.send(e, r, i, t)
                    }
                }, this.getLayerIndex(t), this.getAvailableImages(t))), this.workerSources[t][e][r]
            }, bt.prototype.getDEMWorkerSource = function(t, e) {
                return this.demWorkerSources[t] || (this.demWorkerSources[t] = {}), this.demWorkerSources[t][e] || (this.demWorkerSources[t][e] = new c), this.demWorkerSources[t][e]
            }, bt.prototype.enforceCacheSizeLimit = function(e, r) {
                t.enforceCacheSizeLimit(r)
            }, "undefined" != typeof WorkerGlobalScope && "undefined" != typeof self && self instanceof WorkerGlobalScope && (self.worker = new bt(self)), bt
        })), n(0, (function(t) {
            var e = t.createCommonjsModule((function(t) {
                    function e(t) {
                        return !r(t)
                    }

                    function r(t) {
                        return "undefined" == typeof window || "undefined" == typeof document ? "not a browser" : Array.prototype && Array.prototype.every && Array.prototype.filter && Array.prototype.forEach && Array.prototype.indexOf && Array.prototype.lastIndexOf && Array.prototype.map && Array.prototype.some && Array.prototype.reduce && Array.prototype.reduceRight && Array.isArray ? Function.prototype && Function.prototype.bind ? Object.keys && Object.create && Object.getPrototypeOf && Object.getOwnPropertyNames && Object.isSealed && Object.isFrozen && Object.isExtensible && Object.getOwnPropertyDescriptor && Object.defineProperty && Object.defineProperties && Object.seal && Object.freeze && Object.preventExtensions ? "JSON" in window && "parse" in JSON && "stringify" in JSON ? function() {
                            if (!("Worker" in window && "Blob" in window && "URL" in window)) return !1;
                            var t, e, r = new Blob([""], {
                                    type: "text/javascript"
                                }),
                                n = URL.createObjectURL(r);
                            try {
                                e = new Worker(n), t = !0
                            } catch (e) {
                                t = !1
                            }
                            return e && e.terminate(), URL.revokeObjectURL(n), t
                        }() ? "Uint8ClampedArray" in window ? ArrayBuffer.isView ? function() {
                            var t = document.createElement("canvas");
                            t.width = t.height = 1;
                            var e = t.getContext("2d");
                            if (!e) return !1;
                            var r = e.getImageData(0, 0, 1, 1);
                            return r && r.width === t.width
                        }() ? (void 0 === n[r = t && t.failIfMajorPerformanceCaveat] && (n[r] = function(t) {
                            var r = function(t) {
                                var r = document.createElement("canvas"),
                                    n = Object.create(e.webGLContextAttributes);
                                return n.failIfMajorPerformanceCaveat = t, r.probablySupportsContext ? r.probablySupportsContext("webgl", n) || r.probablySupportsContext("experimental-webgl", n) : r.supportsContext ? r.supportsContext("webgl", n) || r.supportsContext("experimental-webgl", n) : r.getContext("webgl", n) || r.getContext("experimental-webgl", n)
                            }(t);
                            if (!r) return !1;
                            var n = r.createShader(r.VERTEX_SHADER);
                            return !(!n || r.isContextLost()) && (r.shaderSource(n, "void main() {}"), r.compileShader(n), !0 === r.getShaderParameter(n, r.COMPILE_STATUS))
                        }(r)), n[r] ? void 0 : "insufficient WebGL support") : "insufficient Canvas/getImageData support" : "insufficient ArrayBuffer support" : "insufficient Uint8ClampedArray support" : "insufficient worker support" : "insufficient JSON support" : "insufficient Object support" : "insufficient Function support" : "insufficent Array support";
                        var r
                    }
                    t.exports ? t.exports = e : window && (window.mapboxgl = window.mapboxgl || {}, window.mapboxgl.supported = e, window.mapboxgl.notSupportedReason = r);
                    var n = {};
                    e.webGLContextAttributes = {
                        antialias: !1,
                        alpha: !0,
                        stencil: !0,
                        depth: !0
                    }
                })),
                r = {
                    create: function(e, r, n) {
                        var i = t.window.document.createElement(e);
                        return void 0 !== r && (i.className = r), n && n.appendChild(i), i
                    },
                    createNS: function(e, r) {
                        return t.window.document.createElementNS(e, r)
                    }
                },
                n = t.window.document && t.window.document.documentElement.style;

            function i(t) {
                if (!n) return t[0];
                for (var e = 0; e < t.length; e++)
                    if (t[e] in n) return t[e];
                return t[0]
            }
            var o, a = i(["userSelect", "MozUserSelect", "WebkitUserSelect", "msUserSelect"]);
            r.disableDrag = function() {
                n && a && (o = n[a], n[a] = "none")
            }, r.enableDrag = function() {
                n && a && (n[a] = o)
            };
            var s = i(["transform", "WebkitTransform"]);
            r.setTransform = function(t, e) {
                t.style[s] = e
            };
            var u = !1;
            try {
                var l = Object.defineProperty({}, "passive", {
                    get: function() {
                        u = !0
                    }
                });
                t.window.addEventListener("test", l, l), t.window.removeEventListener("test", l, l)
            } catch (t) {
                u = !1
            }
            r.addEventListener = function(t, e, r, n) {
                void 0 === n && (n = {}), t.addEventListener(e, r, "passive" in n && u ? n : n.capture)
            }, r.removeEventListener = function(t, e, r, n) {
                void 0 === n && (n = {}), t.removeEventListener(e, r, "passive" in n && u ? n : n.capture)
            };
            var c = function(e) {
                e.preventDefault(), e.stopPropagation(), t.window.removeEventListener("click", c, !0)
            };

            function p(t) {
                var e = t.userImage;
                return !!(e && e.render && e.render()) && (t.data.replace(new Uint8Array(e.data.buffer)), !0)
            }
            r.suppressClick = function() {
                t.window.addEventListener("click", c, !0), t.window.setTimeout((function() {
                    t.window.removeEventListener("click", c, !0)
                }), 0)
            }, r.mousePos = function(e, r) {
                var n = e.getBoundingClientRect();
                return new t.Point(r.clientX - n.left - e.clientLeft, r.clientY - n.top - e.clientTop)
            }, r.touchPos = function(e, r) {
                for (var n = e.getBoundingClientRect(), i = [], o = 0; o < r.length; o++) i.push(new t.Point(r[o].clientX - n.left - e.clientLeft, r[o].clientY - n.top - e.clientTop));
                return i
            }, r.mouseButton = function(e) {
                return void 0 !== t.window.InstallTrigger && 2 === e.button && e.ctrlKey && t.window.navigator.platform.toUpperCase().indexOf("MAC") >= 0 ? 0 : e.button
            }, r.remove = function(t) {
                t.parentNode && t.parentNode.removeChild(t)
            };
            var h = function(e) {
                    function r() {
                        e.call(this), this.images = {}, this.updatedImages = {}, this.callbackDispatchedThisFrame = {}, this.loaded = !1, this.requestors = [], this.patterns = {}, this.atlasImage = new t.RGBAImage({
                            width: 1,
                            height: 1
                        }), this.dirty = !0
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.isLoaded = function() {
                        return this.loaded
                    }, r.prototype.setLoaded = function(t) {
                        if (this.loaded !== t && (this.loaded = t, t)) {
                            for (var e = 0, r = this.requestors; e < r.length; e += 1) {
                                var n = r[e];
                                this._notify(n.ids, n.callback)
                            }
                            this.requestors = []
                        }
                    }, r.prototype.getImage = function(t) {
                        return this.images[t]
                    }, r.prototype.addImage = function(t, e) {
                        this._validate(t, e) && (this.images[t] = e)
                    }, r.prototype._validate = function(e, r) {
                        var n = !0;
                        return this._validateStretch(r.stretchX, r.data && r.data.width) || (this.fire(new t.ErrorEvent(new Error('Image "' + e + '" has invalid "stretchX" value'))), n = !1), this._validateStretch(r.stretchY, r.data && r.data.height) || (this.fire(new t.ErrorEvent(new Error('Image "' + e + '" has invalid "stretchY" value'))), n = !1), this._validateContent(r.content, r) || (this.fire(new t.ErrorEvent(new Error('Image "' + e + '" has invalid "content" value'))), n = !1), n
                    }, r.prototype._validateStretch = function(t, e) {
                        if (!t) return !0;
                        for (var r = 0, n = 0, i = t; n < i.length; n += 1) {
                            var o = i[n];
                            if (o[0] < r || o[1] < o[0] || e < o[1]) return !1;
                            r = o[1]
                        }
                        return !0
                    }, r.prototype._validateContent = function(t, e) {
                        return !(t && (4 !== t.length || t[0] < 0 || e.data.width < t[0] || t[1] < 0 || e.data.height < t[1] || t[2] < 0 || e.data.width < t[2] || t[3] < 0 || e.data.height < t[3] || t[2] < t[0] || t[3] < t[1]))
                    }, r.prototype.updateImage = function(t, e) {
                        e.version = this.images[t].version + 1, this.images[t] = e, this.updatedImages[t] = !0
                    }, r.prototype.removeImage = function(t) {
                        var e = this.images[t];
                        delete this.images[t], delete this.patterns[t], e.userImage && e.userImage.onRemove && e.userImage.onRemove()
                    }, r.prototype.listImages = function() {
                        return Object.keys(this.images)
                    }, r.prototype.getImages = function(t, e) {
                        var r = !0;
                        if (!this.isLoaded())
                            for (var n = 0, i = t; n < i.length; n += 1) this.images[i[n]] || (r = !1);
                        this.isLoaded() || r ? this._notify(t, e) : this.requestors.push({
                            ids: t,
                            callback: e
                        })
                    }, r.prototype._notify = function(e, r) {
                        for (var n = {}, i = 0, o = e; i < o.length; i += 1) {
                            var a = o[i];
                            this.images[a] || this.fire(new t.Event("styleimagemissing", {
                                id: a
                            }));
                            var s = this.images[a];
                            s ? n[a] = {
                                data: s.data.clone(),
                                pixelRatio: s.pixelRatio,
                                sdf: s.sdf,
                                version: s.version,
                                stretchX: s.stretchX,
                                stretchY: s.stretchY,
                                content: s.content,
                                hasRenderCallback: Boolean(s.userImage && s.userImage.render)
                            } : t.warnOnce('Image "' + a + '" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')
                        }
                        r(null, n)
                    }, r.prototype.getPixelSize = function() {
                        var t = this.atlasImage;
                        return {
                            width: t.width,
                            height: t.height
                        }
                    }, r.prototype.getPattern = function(e) {
                        var r = this.patterns[e],
                            n = this.getImage(e);
                        if (!n) return null;
                        if (r && r.position.version === n.version) return r.position;
                        if (r) r.position.version = n.version;
                        else {
                            var i = {
                                    w: n.data.width + 2,
                                    h: n.data.height + 2,
                                    x: 0,
                                    y: 0
                                },
                                o = new t.ImagePosition(i, n);
                            this.patterns[e] = {
                                bin: i,
                                position: o
                            }
                        }
                        return this._updatePatternAtlas(), this.patterns[e].position
                    }, r.prototype.bind = function(e) {
                        var r = e.gl;
                        this.atlasTexture ? this.dirty && (this.atlasTexture.update(this.atlasImage), this.dirty = !1) : this.atlasTexture = new t.Texture(e, this.atlasImage, r.RGBA), this.atlasTexture.bind(r.LINEAR, r.CLAMP_TO_EDGE)
                    }, r.prototype._updatePatternAtlas = function() {
                        var e = [];
                        for (var r in this.patterns) e.push(this.patterns[r].bin);
                        var n = t.potpack(e),
                            i = n.w,
                            o = n.h,
                            a = this.atlasImage;
                        for (var s in a.resize({
                                width: i || 1,
                                height: o || 1
                            }), this.patterns) {
                            var u = this.patterns[s].bin,
                                l = u.x + 1,
                                c = u.y + 1,
                                p = this.images[s].data,
                                h = p.width,
                                f = p.height;
                            t.RGBAImage.copy(p, a, {
                                x: 0,
                                y: 0
                            }, {
                                x: l,
                                y: c
                            }, {
                                width: h,
                                height: f
                            }), t.RGBAImage.copy(p, a, {
                                x: 0,
                                y: f - 1
                            }, {
                                x: l,
                                y: c - 1
                            }, {
                                width: h,
                                height: 1
                            }), t.RGBAImage.copy(p, a, {
                                x: 0,
                                y: 0
                            }, {
                                x: l,
                                y: c + f
                            }, {
                                width: h,
                                height: 1
                            }), t.RGBAImage.copy(p, a, {
                                x: h - 1,
                                y: 0
                            }, {
                                x: l - 1,
                                y: c
                            }, {
                                width: 1,
                                height: f
                            }), t.RGBAImage.copy(p, a, {
                                x: 0,
                                y: 0
                            }, {
                                x: l + h,
                                y: c
                            }, {
                                width: 1,
                                height: f
                            })
                        }
                        this.dirty = !0
                    }, r.prototype.beginFrame = function() {
                        this.callbackDispatchedThisFrame = {}
                    }, r.prototype.dispatchRenderCallbacks = function(t) {
                        for (var e = 0, r = t; e < r.length; e += 1) {
                            var n = r[e];
                            if (!this.callbackDispatchedThisFrame[n]) {
                                this.callbackDispatchedThisFrame[n] = !0;
                                var i = this.images[n];
                                p(i) && this.updateImage(n, i)
                            }
                        }
                    }, r
                }(t.Evented),
                f = y,
                d = y,
                m = 1e20;

            function y(t, e, r, n, i, o) {
                this.fontSize = t || 24, this.buffer = void 0 === e ? 3 : e, this.cutoff = n || .25, this.fontFamily = i || "sans-serif", this.fontWeight = o || "normal", this.radius = r || 8;
                var a = this.size = this.fontSize + 2 * this.buffer;
                this.canvas = document.createElement("canvas"), this.canvas.width = this.canvas.height = a, this.ctx = this.canvas.getContext("2d"), this.ctx.font = this.fontWeight + " " + this.fontSize + "px " + this.fontFamily, this.ctx.textBaseline = "middle", this.ctx.fillStyle = "black", this.gridOuter = new Float64Array(a * a), this.gridInner = new Float64Array(a * a), this.f = new Float64Array(a), this.d = new Float64Array(a), this.z = new Float64Array(a + 1), this.v = new Int16Array(a), this.middle = Math.round(a / 2 * (navigator.userAgent.indexOf("Gecko/") >= 0 ? 1.2 : 1))
            }

            function v(t, e, r, n, i, o, a) {
                for (var s = 0; s < e; s++) {
                    for (var u = 0; u < r; u++) n[u] = t[u * e + s];
                    for (g(n, i, o, a, r), u = 0; u < r; u++) t[u * e + s] = i[u]
                }
                for (u = 0; u < r; u++) {
                    for (s = 0; s < e; s++) n[s] = t[u * e + s];
                    for (g(n, i, o, a, e), s = 0; s < e; s++) t[u * e + s] = Math.sqrt(i[s])
                }
            }

            function g(t, e, r, n, i) {
                r[0] = 0, n[0] = -m, n[1] = +m;
                for (var o = 1, a = 0; o < i; o++) {
                    for (var s = (t[o] + o * o - (t[r[a]] + r[a] * r[a])) / (2 * o - 2 * r[a]); s <= n[a];) a--, s = (t[o] + o * o - (t[r[a]] + r[a] * r[a])) / (2 * o - 2 * r[a]);
                    r[++a] = o, n[a] = s, n[a + 1] = +m
                }
                for (o = 0, a = 0; o < i; o++) {
                    for (; n[a + 1] < o;) a++;
                    e[o] = (o - r[a]) * (o - r[a]) + t[r[a]]
                }
            }
            y.prototype.draw = function(t) {
                this.ctx.clearRect(0, 0, this.size, this.size), this.ctx.fillText(t, this.buffer, this.middle);
                for (var e = this.ctx.getImageData(0, 0, this.size, this.size), r = new Uint8ClampedArray(this.size * this.size), n = 0; n < this.size * this.size; n++) {
                    var i = e.data[4 * n + 3] / 255;
                    this.gridOuter[n] = 1 === i ? 0 : 0 === i ? m : Math.pow(Math.max(0, .5 - i), 2), this.gridInner[n] = 1 === i ? m : 0 === i ? 0 : Math.pow(Math.max(0, i - .5), 2)
                }
                for (v(this.gridOuter, this.size, this.size, this.f, this.d, this.v, this.z), v(this.gridInner, this.size, this.size, this.f, this.d, this.v, this.z), n = 0; n < this.size * this.size; n++) r[n] = Math.max(0, Math.min(255, Math.round(255 - 255 * ((this.gridOuter[n] - this.gridInner[n]) / this.radius + this.cutoff))));
                return r
            }, f.default = d;
            var _ = function(t, e) {
                this.requestManager = t, this.localIdeographFontFamily = e, this.entries = {}
            };
            _.prototype.setURL = function(t) {
                this.url = t
            }, _.prototype.getGlyphs = function(e, r) {
                var n = this,
                    i = [];
                for (var o in e)
                    for (var a = 0, s = e[o]; a < s.length; a += 1) i.push({
                        stack: o,
                        id: s[a]
                    });
                t.asyncAll(i, (function(t, e) {
                    var r = t.stack,
                        i = t.id,
                        o = n.entries[r];
                    o || (o = n.entries[r] = {
                        glyphs: {},
                        requests: {},
                        ranges: {}
                    });
                    var a = o.glyphs[i];
                    if (void 0 === a) {
                        if (a = n._tinySDF(o, r, i)) return o.glyphs[i] = a, void e(null, {
                            stack: r,
                            id: i,
                            glyph: a
                        });
                        var s = Math.floor(i / 256);
                        if (256 * s > 65535) e(new Error("glyphs > 65535 not supported"));
                        else if (o.ranges[s]) e(null, {
                            stack: r,
                            id: i,
                            glyph: a
                        });
                        else {
                            var u = o.requests[s];
                            u || (u = o.requests[s] = [], _.loadGlyphRange(r, s, n.url, n.requestManager, (function(t, e) {
                                if (e) {
                                    for (var r in e) n._doesCharSupportLocalGlyph(+r) || (o.glyphs[+r] = e[+r]);
                                    o.ranges[s] = !0
                                }
                                for (var i = 0, a = u; i < a.length; i += 1)(0, a[i])(t, e);
                                delete o.requests[s]
                            }))), u.push((function(t, n) {
                                t ? e(t) : n && e(null, {
                                    stack: r,
                                    id: i,
                                    glyph: n[i] || null
                                })
                            }))
                        }
                    } else e(null, {
                        stack: r,
                        id: i,
                        glyph: a
                    })
                }), (function(t, e) {
                    if (t) r(t);
                    else if (e) {
                        for (var n = {}, i = 0, o = e; i < o.length; i += 1) {
                            var a = o[i],
                                s = a.stack,
                                u = a.id,
                                l = a.glyph;
                            (n[s] || (n[s] = {}))[u] = l && {
                                id: l.id,
                                bitmap: l.bitmap.clone(),
                                metrics: l.metrics
                            }
                        }
                        r(null, n)
                    }
                }))
            }, _.prototype._doesCharSupportLocalGlyph = function(e) {
                return !!this.localIdeographFontFamily && (t.isChar["CJK Unified Ideographs"](e) || t.isChar["Hangul Syllables"](e) || t.isChar.Hiragana(e) || t.isChar.Katakana(e))
            }, _.prototype._tinySDF = function(e, r, n) {
                var i = this.localIdeographFontFamily;
                if (i && this._doesCharSupportLocalGlyph(n)) {
                    var o = e.tinySDF;
                    if (!o) {
                        var a = "400";
                        /bold/i.test(r) ? a = "900" : /medium/i.test(r) ? a = "500" : /light/i.test(r) && (a = "200"), o = e.tinySDF = new _.TinySDF(24, 3, 8, .25, i, a)
                    }
                    return {
                        id: n,
                        bitmap: new t.AlphaImage({
                            width: 30,
                            height: 30
                        }, o.draw(String.fromCharCode(n))),
                        metrics: {
                            width: 24,
                            height: 24,
                            left: 0,
                            top: -8,
                            advance: 24
                        }
                    }
                }
            }, _.loadGlyphRange = function(e, r, n, i, o) {
                var a = 256 * r,
                    s = a + 255,
                    u = i.transformRequest(i.normalizeGlyphsURL(n).replace("{fontstack}", e).replace("{range}", a + "-" + s), t.ResourceType.Glyphs);
                t.getArrayBuffer(u, (function(e, r) {
                    if (e) o(e);
                    else if (r) {
                        for (var n = {}, i = 0, a = t.parseGlyphPBF(r); i < a.length; i += 1) {
                            var s = a[i];
                            n[s.id] = s
                        }
                        o(null, n)
                    }
                }))
            }, _.TinySDF = f;
            var x = function() {
                this.specification = t.styleSpec.light.position
            };
            x.prototype.possiblyEvaluate = function(e, r) {
                return t.sphericalToCartesian(e.expression.evaluate(r))
            }, x.prototype.interpolate = function(e, r, n) {
                return {
                    x: t.number(e.x, r.x, n),
                    y: t.number(e.y, r.y, n),
                    z: t.number(e.z, r.z, n)
                }
            };
            var b = new t.Properties({
                    anchor: new t.DataConstantProperty(t.styleSpec.light.anchor),
                    position: new x,
                    color: new t.DataConstantProperty(t.styleSpec.light.color),
                    intensity: new t.DataConstantProperty(t.styleSpec.light.intensity)
                }),
                w = function(e) {
                    function r(r) {
                        e.call(this), this._transitionable = new t.Transitionable(b), this.setLight(r), this._transitioning = this._transitionable.untransitioned()
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.getLight = function() {
                        return this._transitionable.serialize()
                    }, r.prototype.setLight = function(e, r) {
                        if (void 0 === r && (r = {}), !this._validate(t.validateLight, e, r))
                            for (var n in e) {
                                var i = e[n];
                                t.endsWith(n, "-transition") ? this._transitionable.setTransition(n.slice(0, -"-transition".length), i) : this._transitionable.setValue(n, i)
                            }
                    }, r.prototype.updateTransitions = function(t) {
                        this._transitioning = this._transitionable.transitioned(t, this._transitioning)
                    }, r.prototype.hasTransition = function() {
                        return this._transitioning.hasTransition()
                    }, r.prototype.recalculate = function(t) {
                        this.properties = this._transitioning.possiblyEvaluate(t)
                    }, r.prototype._validate = function(e, r, n) {
                        return (!n || !1 !== n.validate) && t.emitValidationErrors(this, e.call(t.validateStyle, t.extend({
                            value: r,
                            style: {
                                glyphs: !0,
                                sprite: !0
                            },
                            styleSpec: t.styleSpec
                        })))
                    }, r
                }(t.Evented),
                S = function(t, e) {
                    this.width = t, this.height = e, this.nextRow = 0, this.data = new Uint8Array(this.width * this.height), this.dashEntry = {}
                };
            S.prototype.getDash = function(t, e) {
                var r = t.join(",") + String(e);
                return this.dashEntry[r] || (this.dashEntry[r] = this.addDash(t, e)), this.dashEntry[r]
            }, S.prototype.getDashRanges = function(t, e, r) {
                var n = [],
                    i = t.length % 2 == 1 ? -t[t.length - 1] * r : 0,
                    o = t[0] * r,
                    a = !0;
                n.push({
                    left: i,
                    right: o,
                    isDash: a,
                    zeroLength: 0 === t[0]
                });
                for (var s = t[0], u = 1; u < t.length; u++) {
                    var l = t[u];
                    n.push({
                        left: i = s * r,
                        right: o = (s += l) * r,
                        isDash: a = !a,
                        zeroLength: 0 === l
                    })
                }
                return n
            }, S.prototype.addRoundDash = function(t, e, r) {
                for (var n = e / 2, i = -r; i <= r; i++)
                    for (var o = this.width * (this.nextRow + r + i), a = 0, s = t[a], u = 0; u < this.width; u++) {
                        u / s.right > 1 && (s = t[++a]);
                        var l = Math.abs(u - s.left),
                            c = Math.abs(u - s.right),
                            p = Math.min(l, c),
                            h = void 0,
                            f = i / r * (n + 1);
                        if (s.isDash) {
                            var d = n - Math.abs(f);
                            h = Math.sqrt(p * p + d * d)
                        } else h = n - Math.sqrt(p * p + f * f);
                        this.data[o + u] = Math.max(0, Math.min(255, h + 128))
                    }
            }, S.prototype.addRegularDash = function(t) {
                for (var e = t.length - 1; e >= 0; --e) {
                    var r = t[e],
                        n = t[e + 1];
                    r.zeroLength ? t.splice(e, 1) : n && n.isDash === r.isDash && (n.left = r.left, t.splice(e, 1))
                }
                var i = t[0],
                    o = t[t.length - 1];
                i.isDash === o.isDash && (i.left = o.left - this.width, o.right = i.right + this.width);
                for (var a = this.width * this.nextRow, s = 0, u = t[s], l = 0; l < this.width; l++) {
                    l / u.right > 1 && (u = t[++s]);
                    var c = Math.abs(l - u.left),
                        p = Math.abs(l - u.right),
                        h = Math.min(c, p);
                    this.data[a + l] = Math.max(0, Math.min(255, (u.isDash ? h : -h) + 128))
                }
            }, S.prototype.addDash = function(e, r) {
                var n = r ? 7 : 0,
                    i = 2 * n + 1;
                if (this.nextRow + i > this.height) return t.warnOnce("LineAtlas out of space"), null;
                for (var o = 0, a = 0; a < e.length; a++) o += e[a];
                if (0 !== o) {
                    var s = this.width / o,
                        u = this.getDashRanges(e, this.width, s);
                    r ? this.addRoundDash(u, s, n) : this.addRegularDash(u)
                }
                var l = {
                    y: (this.nextRow + n + .5) / this.height,
                    height: 2 * n / this.height,
                    width: o
                };
                return this.nextRow += i, this.dirty = !0, l
            }, S.prototype.bind = function(t) {
                var e = t.gl;
                this.texture ? (e.bindTexture(e.TEXTURE_2D, this.texture), this.dirty && (this.dirty = !1, e.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, this.width, this.height, e.ALPHA, e.UNSIGNED_BYTE, this.data))) : (this.texture = e.createTexture(), e.bindTexture(e.TEXTURE_2D, this.texture), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.REPEAT), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.REPEAT), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.LINEAR), e.texImage2D(e.TEXTURE_2D, 0, e.ALPHA, this.width, this.height, 0, e.ALPHA, e.UNSIGNED_BYTE, this.data))
            };
            var T = function e(r, n) {
                this.workerPool = r, this.actors = [], this.currentActor = 0, this.id = t.uniqueId();
                for (var i = this.workerPool.acquire(this.id), o = 0; o < i.length; o++) {
                    var a = new e.Actor(i[o], n, this.id);
                    a.name = "Worker " + o, this.actors.push(a)
                }
            };

            function E(e, r, n) {
                var i = function(i, o) {
                    if (i) return n(i);
                    if (o) {
                        var a = t.pick(t.extend(o, e), ["tiles", "minzoom", "maxzoom", "attribution", "mapbox_logo", "bounds", "scheme", "tileSize", "encoding"]);
                        o.vector_layers && (a.vectorLayers = o.vector_layers, a.vectorLayerIds = a.vectorLayers.map((function(t) {
                            return t.id
                        }))), a.tiles = r.canonicalizeTileset(a, e.url), n(null, a)
                    }
                };
                return e.url ? t.getJSON(r.transformRequest(r.normalizeSourceURL(e.url), t.ResourceType.Source), i) : t.browser.frame((function() {
                    return i(null, e)
                }))
            }
            T.prototype.broadcast = function(e, r, n) {
                t.asyncAll(this.actors, (function(t, n) {
                    t.send(e, r, n)
                }), n = n || function() {})
            }, T.prototype.getActor = function() {
                return this.currentActor = (this.currentActor + 1) % this.actors.length, this.actors[this.currentActor]
            }, T.prototype.remove = function() {
                this.actors.forEach((function(t) {
                    t.remove()
                })), this.actors = [], this.workerPool.release(this.id)
            }, T.Actor = t.Actor;
            var A = function(e, r, n) {
                this.bounds = t.LngLatBounds.convert(this.validateBounds(e)), this.minzoom = r || 0, this.maxzoom = n || 24
            };
            A.prototype.validateBounds = function(t) {
                return Array.isArray(t) && 4 === t.length ? [Math.max(-180, t[0]), Math.max(-90, t[1]), Math.min(180, t[2]), Math.min(90, t[3])] : [-180, -90, 180, 90]
            }, A.prototype.contains = function(e) {
                var r = Math.pow(2, e.z),
                    n = Math.floor(t.mercatorXfromLng(this.bounds.getWest()) * r),
                    i = Math.floor(t.mercatorYfromLat(this.bounds.getNorth()) * r),
                    o = Math.ceil(t.mercatorXfromLng(this.bounds.getEast()) * r),
                    a = Math.ceil(t.mercatorYfromLat(this.bounds.getSouth()) * r);
                return e.x >= n && e.x < o && e.y >= i && e.y < a
            };
            var C = function(e) {
                    function r(r, n, i, o) {
                        if (e.call(this), this.id = r, this.dispatcher = i, this.type = "vector", this.minzoom = 0, this.maxzoom = 22, this.scheme = "xyz", this.tileSize = 512, this.reparseOverscaled = !0, this.isTileClipped = !0, this._loaded = !1, t.extend(this, t.pick(n, ["url", "scheme", "tileSize", "promoteId"])), this._options = t.extend({
                                type: "vector"
                            }, n), this._collectResourceTiming = n.collectResourceTiming, 512 !== this.tileSize) throw new Error("vector tile sources must have a tileSize of 512");
                        this.setEventedParent(o)
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.load = function() {
                        var e = this;
                        this._loaded = !1, this.fire(new t.Event("dataloading", {
                            dataType: "source"
                        })), this._tileJSONRequest = E(this._options, this.map._requestManager, (function(r, n) {
                            e._tileJSONRequest = null, e._loaded = !0, r ? e.fire(new t.ErrorEvent(r)) : n && (t.extend(e, n), n.bounds && (e.tileBounds = new A(n.bounds, e.minzoom, e.maxzoom)), t.postTurnstileEvent(n.tiles, e.map._requestManager._customAccessToken), t.postMapLoadEvent(n.tiles, e.map._getMapId(), e.map._requestManager._skuToken, e.map._requestManager._customAccessToken), e.fire(new t.Event("data", {
                                dataType: "source",
                                sourceDataType: "metadata"
                            })), e.fire(new t.Event("data", {
                                dataType: "source",
                                sourceDataType: "content"
                            })))
                        }))
                    }, r.prototype.loaded = function() {
                        return this._loaded
                    }, r.prototype.hasTile = function(t) {
                        return !this.tileBounds || this.tileBounds.contains(t.canonical)
                    }, r.prototype.onAdd = function(t) {
                        this.map = t, this.load()
                    }, r.prototype.onRemove = function() {
                        this._tileJSONRequest && (this._tileJSONRequest.cancel(), this._tileJSONRequest = null)
                    }, r.prototype.serialize = function() {
                        return t.extend({}, this._options)
                    }, r.prototype.loadTile = function(e, r) {
                        var n = this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles, this.scheme)),
                            i = {
                                request: this.map._requestManager.transformRequest(n, t.ResourceType.Tile),
                                uid: e.uid,
                                tileID: e.tileID,
                                zoom: e.tileID.overscaledZ,
                                tileSize: this.tileSize * e.tileID.overscaleFactor(),
                                type: this.type,
                                source: this.id,
                                pixelRatio: t.browser.devicePixelRatio,
                                showCollisionBoxes: this.map.showCollisionBoxes,
                                promoteId: this.promoteId
                            };

                        function o(n, i) {
                            return delete e.request, e.aborted ? r(null) : n && 404 !== n.status ? r(n) : (i && i.resourceTiming && (e.resourceTiming = i.resourceTiming), this.map._refreshExpiredTiles && i && e.setExpiryData(i), e.loadVectorData(i, this.map.painter), t.cacheEntryPossiblyAdded(this.dispatcher), r(null), void(e.reloadCallback && (this.loadTile(e, e.reloadCallback), e.reloadCallback = null)))
                        }
                        i.request.collectResourceTiming = this._collectResourceTiming, e.actor && "expired" !== e.state ? "loading" === e.state ? e.reloadCallback = r : e.request = e.actor.send("reloadTile", i, o.bind(this)) : (e.actor = this.dispatcher.getActor(), e.request = e.actor.send("loadTile", i, o.bind(this)))
                    }, r.prototype.abortTile = function(t) {
                        t.request && (t.request.cancel(), delete t.request), t.actor && t.actor.send("abortTile", {
                            uid: t.uid,
                            type: this.type,
                            source: this.id
                        }, void 0)
                    }, r.prototype.unloadTile = function(t) {
                        t.unloadVectorData(), t.actor && t.actor.send("removeTile", {
                            uid: t.uid,
                            type: this.type,
                            source: this.id
                        }, void 0)
                    }, r.prototype.hasTransition = function() {
                        return !1
                    }, r
                }(t.Evented),
                I = function(e) {
                    function r(r, n, i, o) {
                        e.call(this), this.id = r, this.dispatcher = i, this.setEventedParent(o), this.type = "raster", this.minzoom = 0, this.maxzoom = 22, this.roundZoom = !0, this.scheme = "xyz", this.tileSize = 512, this._loaded = !1, this._options = t.extend({
                            type: "raster"
                        }, n), t.extend(this, t.pick(n, ["url", "scheme", "tileSize"]))
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.load = function() {
                        var e = this;
                        this._loaded = !1, this.fire(new t.Event("dataloading", {
                            dataType: "source"
                        })), this._tileJSONRequest = E(this._options, this.map._requestManager, (function(r, n) {
                            e._tileJSONRequest = null, e._loaded = !0, r ? e.fire(new t.ErrorEvent(r)) : n && (t.extend(e, n), n.bounds && (e.tileBounds = new A(n.bounds, e.minzoom, e.maxzoom)), t.postTurnstileEvent(n.tiles), t.postMapLoadEvent(n.tiles, e.map._getMapId(), e.map._requestManager._skuToken), e.fire(new t.Event("data", {
                                dataType: "source",
                                sourceDataType: "metadata"
                            })), e.fire(new t.Event("data", {
                                dataType: "source",
                                sourceDataType: "content"
                            })))
                        }))
                    }, r.prototype.loaded = function() {
                        return this._loaded
                    }, r.prototype.onAdd = function(t) {
                        this.map = t, this.load()
                    }, r.prototype.onRemove = function() {
                        this._tileJSONRequest && (this._tileJSONRequest.cancel(), this._tileJSONRequest = null)
                    }, r.prototype.serialize = function() {
                        return t.extend({}, this._options)
                    }, r.prototype.hasTile = function(t) {
                        return !this.tileBounds || this.tileBounds.contains(t.canonical)
                    }, r.prototype.loadTile = function(e, r) {
                        var n = this,
                            i = this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles, this.scheme), this.tileSize);
                        e.request = t.getImage(this.map._requestManager.transformRequest(i, t.ResourceType.Tile), (function(i, o) {
                            if (delete e.request, e.aborted) e.state = "unloaded", r(null);
                            else if (i) e.state = "errored", r(i);
                            else if (o) {
                                n.map._refreshExpiredTiles && e.setExpiryData(o), delete o.cacheControl, delete o.expires;
                                var a = n.map.painter.context,
                                    s = a.gl;
                                e.texture = n.map.painter.getTileTexture(o.width), e.texture ? e.texture.update(o, {
                                    useMipmap: !0
                                }) : (e.texture = new t.Texture(a, o, s.RGBA, {
                                    useMipmap: !0
                                }), e.texture.bind(s.LINEAR, s.CLAMP_TO_EDGE, s.LINEAR_MIPMAP_NEAREST), a.extTextureFilterAnisotropic && s.texParameterf(s.TEXTURE_2D, a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT, a.extTextureFilterAnisotropicMax)), e.state = "loaded", t.cacheEntryPossiblyAdded(n.dispatcher), r(null)
                            }
                        }))
                    }, r.prototype.abortTile = function(t, e) {
                        t.request && (t.request.cancel(), delete t.request), e()
                    }, r.prototype.unloadTile = function(t, e) {
                        t.texture && this.map.painter.saveTileTexture(t.texture), e()
                    }, r.prototype.hasTransition = function() {
                        return !1
                    }, r
                }(t.Evented),
                k = function(e) {
                    function r(r, n, i, o) {
                        e.call(this, r, n, i, o), this.type = "raster-dem", this.maxzoom = 22, this._options = t.extend({
                            type: "raster-dem"
                        }, n), this.encoding = n.encoding || "mapbox"
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.serialize = function() {
                        return {
                            type: "raster-dem",
                            url: this.url,
                            tileSize: this.tileSize,
                            tiles: this.tiles,
                            bounds: this.bounds,
                            encoding: this.encoding
                        }
                    }, r.prototype.loadTile = function(e, r) {
                        var n = this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles, this.scheme), this.tileSize);

                        function i(t, n) {
                            t && (e.state = "errored", r(t)), n && (e.dem = n, e.needsHillshadePrepare = !0, e.state = "loaded", r(null))
                        }
                        e.request = t.getImage(this.map._requestManager.transformRequest(n, t.ResourceType.Tile), function(n, o) {
                            if (delete e.request, e.aborted) e.state = "unloaded", r(null);
                            else if (n) e.state = "errored", r(n);
                            else if (o) {
                                this.map._refreshExpiredTiles && e.setExpiryData(o), delete o.cacheControl, delete o.expires;
                                var a = t.window.ImageBitmap && o instanceof t.window.ImageBitmap && t.offscreenCanvasSupported() ? o : t.browser.getImageData(o, 1),
                                    s = {
                                        uid: e.uid,
                                        coord: e.tileID,
                                        source: this.id,
                                        rawImageData: a,
                                        encoding: this.encoding
                                    };
                                e.actor && "expired" !== e.state || (e.actor = this.dispatcher.getActor(), e.actor.send("loadDEMTile", s, i.bind(this)))
                            }
                        }.bind(this)), e.neighboringTiles = this._getNeighboringTiles(e.tileID)
                    }, r.prototype._getNeighboringTiles = function(e) {
                        var r = e.canonical,
                            n = Math.pow(2, r.z),
                            i = (r.x - 1 + n) % n,
                            o = 0 === r.x ? e.wrap - 1 : e.wrap,
                            a = (r.x + 1 + n) % n,
                            s = r.x + 1 === n ? e.wrap + 1 : e.wrap,
                            u = {};
                        return u[new t.OverscaledTileID(e.overscaledZ, o, r.z, i, r.y).key] = {
                            backfilled: !1
                        }, u[new t.OverscaledTileID(e.overscaledZ, s, r.z, a, r.y).key] = {
                            backfilled: !1
                        }, r.y > 0 && (u[new t.OverscaledTileID(e.overscaledZ, o, r.z, i, r.y - 1).key] = {
                            backfilled: !1
                        }, u[new t.OverscaledTileID(e.overscaledZ, e.wrap, r.z, r.x, r.y - 1).key] = {
                            backfilled: !1
                        }, u[new t.OverscaledTileID(e.overscaledZ, s, r.z, a, r.y - 1).key] = {
                            backfilled: !1
                        }), r.y + 1 < n && (u[new t.OverscaledTileID(e.overscaledZ, o, r.z, i, r.y + 1).key] = {
                            backfilled: !1
                        }, u[new t.OverscaledTileID(e.overscaledZ, e.wrap, r.z, r.x, r.y + 1).key] = {
                            backfilled: !1
                        }, u[new t.OverscaledTileID(e.overscaledZ, s, r.z, a, r.y + 1).key] = {
                            backfilled: !1
                        }), u
                    }, r.prototype.unloadTile = function(t) {
                        t.demTexture && this.map.painter.saveTileTexture(t.demTexture), t.fbo && (t.fbo.destroy(), delete t.fbo), t.dem && delete t.dem, delete t.neighboringTiles, t.state = "unloaded", t.actor && t.actor.send("removeDEMTile", {
                            uid: t.uid,
                            source: this.id
                        })
                    }, r
                }(I),
                P = function(e) {
                    function r(r, n, i, o) {
                        e.call(this), this.id = r, this.type = "geojson", this.minzoom = 0, this.maxzoom = 18, this.tileSize = 512, this.isTileClipped = !0, this.reparseOverscaled = !0, this._removed = !1, this._loaded = !1, this.actor = i.getActor(), this.setEventedParent(o), this._data = n.data, this._options = t.extend({}, n), this._collectResourceTiming = n.collectResourceTiming, this._resourceTiming = [], void 0 !== n.maxzoom && (this.maxzoom = n.maxzoom), n.type && (this.type = n.type), n.attribution && (this.attribution = n.attribution), this.promoteId = n.promoteId;
                        var a = t.EXTENT / this.tileSize;
                        this.workerOptions = t.extend({
                            source: this.id,
                            cluster: n.cluster || !1,
                            geojsonVtOptions: {
                                buffer: (void 0 !== n.buffer ? n.buffer : 128) * a,
                                tolerance: (void 0 !== n.tolerance ? n.tolerance : .375) * a,
                                extent: t.EXTENT,
                                maxZoom: this.maxzoom,
                                lineMetrics: n.lineMetrics || !1,
                                generateId: n.generateId || !1
                            },
                            superclusterOptions: {
                                maxZoom: void 0 !== n.clusterMaxZoom ? Math.min(n.clusterMaxZoom, this.maxzoom - 1) : this.maxzoom - 1,
                                minPoints: Math.max(2, n.clusterMinPoints || 2),
                                extent: t.EXTENT,
                                radius: (n.clusterRadius || 50) * a,
                                log: !1,
                                generateId: n.generateId || !1
                            },
                            clusterProperties: n.clusterProperties
                        }, n.workerOptions)
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.load = function() {
                        var e = this;
                        this.fire(new t.Event("dataloading", {
                            dataType: "source"
                        })), this._updateWorkerData((function(r) {
                            if (r) e.fire(new t.ErrorEvent(r));
                            else {
                                var n = {
                                    dataType: "source",
                                    sourceDataType: "metadata"
                                };
                                e._collectResourceTiming && e._resourceTiming && e._resourceTiming.length > 0 && (n.resourceTiming = e._resourceTiming, e._resourceTiming = []), e.fire(new t.Event("data", n))
                            }
                        }))
                    }, r.prototype.onAdd = function(t) {
                        this.map = t, this.load()
                    }, r.prototype.setData = function(e) {
                        var r = this;
                        return this._data = e, this.fire(new t.Event("dataloading", {
                            dataType: "source"
                        })), this._updateWorkerData((function(e) {
                            if (e) r.fire(new t.ErrorEvent(e));
                            else {
                                var n = {
                                    dataType: "source",
                                    sourceDataType: "content"
                                };
                                r._collectResourceTiming && r._resourceTiming && r._resourceTiming.length > 0 && (n.resourceTiming = r._resourceTiming, r._resourceTiming = []), r.fire(new t.Event("data", n))
                            }
                        })), this
                    }, r.prototype.getClusterExpansionZoom = function(t, e) {
                        return this.actor.send("geojson.getClusterExpansionZoom", {
                            clusterId: t,
                            source: this.id
                        }, e), this
                    }, r.prototype.getClusterChildren = function(t, e) {
                        return this.actor.send("geojson.getClusterChildren", {
                            clusterId: t,
                            source: this.id
                        }, e), this
                    }, r.prototype.getClusterLeaves = function(t, e, r, n) {
                        return this.actor.send("geojson.getClusterLeaves", {
                            source: this.id,
                            clusterId: t,
                            limit: e,
                            offset: r
                        }, n), this
                    }, r.prototype._updateWorkerData = function(e) {
                        var r = this;
                        this._loaded = !1;
                        var n = t.extend({}, this.workerOptions),
                            i = this._data;
                        "string" == typeof i ? (n.request = this.map._requestManager.transformRequest(t.browser.resolveURL(i), t.ResourceType.Source), n.request.collectResourceTiming = this._collectResourceTiming) : n.data = JSON.stringify(i), this.actor.send(this.type + ".loadData", n, (function(t, i) {
                            r._removed || i && i.abandoned || (r._loaded = !0, i && i.resourceTiming && i.resourceTiming[r.id] && (r._resourceTiming = i.resourceTiming[r.id].slice(0)), r.actor.send(r.type + ".coalesce", {
                                source: n.source
                            }, null), e(t))
                        }))
                    }, r.prototype.loaded = function() {
                        return this._loaded
                    }, r.prototype.loadTile = function(e, r) {
                        var n = this,
                            i = e.actor ? "reloadTile" : "loadTile";
                        e.actor = this.actor, e.request = this.actor.send(i, {
                            type: this.type,
                            uid: e.uid,
                            tileID: e.tileID,
                            zoom: e.tileID.overscaledZ,
                            maxZoom: this.maxzoom,
                            tileSize: this.tileSize,
                            source: this.id,
                            pixelRatio: t.browser.devicePixelRatio,
                            showCollisionBoxes: this.map.showCollisionBoxes,
                            promoteId: this.promoteId
                        }, (function(t, o) {
                            return delete e.request, e.unloadVectorData(), e.aborted ? r(null) : t ? r(t) : (e.loadVectorData(o, n.map.painter, "reloadTile" === i), r(null))
                        }))
                    }, r.prototype.abortTile = function(t) {
                        t.request && (t.request.cancel(), delete t.request), t.aborted = !0
                    }, r.prototype.unloadTile = function(t) {
                        t.unloadVectorData(), this.actor.send("removeTile", {
                            uid: t.uid,
                            type: this.type,
                            source: this.id
                        })
                    }, r.prototype.onRemove = function() {
                        this._removed = !0, this.actor.send("removeSource", {
                            type: this.type,
                            source: this.id
                        })
                    }, r.prototype.serialize = function() {
                        return t.extend({}, this._options, {
                            type: this.type,
                            data: this._data
                        })
                    }, r.prototype.hasTransition = function() {
                        return !1
                    }, r
                }(t.Evented),
                z = t.createLayout([{
                    name: "a_pos",
                    type: "Int16",
                    components: 2
                }, {
                    name: "a_texture_pos",
                    type: "Int16",
                    components: 2
                }]),
                M = function(e) {
                    function r(t, r, n, i) {
                        e.call(this), this.id = t, this.dispatcher = n, this.coordinates = r.coordinates, this.type = "image", this.minzoom = 0, this.maxzoom = 22, this.tileSize = 512, this.tiles = {}, this._loaded = !1, this.setEventedParent(i), this.options = r
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.load = function(e, r) {
                        var n = this;
                        this._loaded = !1, this.fire(new t.Event("dataloading", {
                            dataType: "source"
                        })), this.url = this.options.url, t.getImage(this.map._requestManager.transformRequest(this.url, t.ResourceType.Image), (function(i, o) {
                            n._loaded = !0, i ? n.fire(new t.ErrorEvent(i)) : o && (n.image = o, e && (n.coordinates = e), r && r(), n._finishLoading())
                        }))
                    }, r.prototype.loaded = function() {
                        return this._loaded
                    }, r.prototype.updateImage = function(t) {
                        var e = this;
                        return this.image && t.url ? (this.options.url = t.url, this.load(t.coordinates, (function() {
                            e.texture = null
                        })), this) : this
                    }, r.prototype._finishLoading = function() {
                        this.map && (this.setCoordinates(this.coordinates), this.fire(new t.Event("data", {
                            dataType: "source",
                            sourceDataType: "metadata"
                        })))
                    }, r.prototype.onAdd = function(t) {
                        this.map = t, this.load()
                    }, r.prototype.setCoordinates = function(e) {
                        var r = this;
                        this.coordinates = e;
                        var n = e.map(t.MercatorCoordinate.fromLngLat);
                        this.tileID = function(e) {
                            for (var r = 1 / 0, n = 1 / 0, i = -1 / 0, o = -1 / 0, a = 0, s = e; a < s.length; a += 1) {
                                var u = s[a];
                                r = Math.min(r, u.x), n = Math.min(n, u.y), i = Math.max(i, u.x), o = Math.max(o, u.y)
                            }
                            var l = Math.max(i - r, o - n),
                                c = Math.max(0, Math.floor(-Math.log(l) / Math.LN2)),
                                p = Math.pow(2, c);
                            return new t.CanonicalTileID(c, Math.floor((r + i) / 2 * p), Math.floor((n + o) / 2 * p))
                        }(n), this.minzoom = this.maxzoom = this.tileID.z;
                        var i = n.map((function(t) {
                            return r.tileID.getTilePoint(t)._round()
                        }));
                        return this._boundsArray = new t.StructArrayLayout4i8, this._boundsArray.emplaceBack(i[0].x, i[0].y, 0, 0), this._boundsArray.emplaceBack(i[1].x, i[1].y, t.EXTENT, 0), this._boundsArray.emplaceBack(i[3].x, i[3].y, 0, t.EXTENT), this._boundsArray.emplaceBack(i[2].x, i[2].y, t.EXTENT, t.EXTENT), this.boundsBuffer && (this.boundsBuffer.destroy(), delete this.boundsBuffer), this.fire(new t.Event("data", {
                            dataType: "source",
                            sourceDataType: "content"
                        })), this
                    }, r.prototype.prepare = function() {
                        if (0 !== Object.keys(this.tiles).length && this.image) {
                            var e = this.map.painter.context,
                                r = e.gl;
                            for (var n in this.boundsBuffer || (this.boundsBuffer = e.createVertexBuffer(this._boundsArray, z.members)), this.boundsSegments || (this.boundsSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture || (this.texture = new t.Texture(e, this.image, r.RGBA), this.texture.bind(r.LINEAR, r.CLAMP_TO_EDGE)), this.tiles) {
                                var i = this.tiles[n];
                                "loaded" !== i.state && (i.state = "loaded", i.texture = this.texture)
                            }
                        }
                    }, r.prototype.loadTile = function(t, e) {
                        this.tileID && this.tileID.equals(t.tileID.canonical) ? (this.tiles[String(t.tileID.wrap)] = t, t.buckets = {}, e(null)) : (t.state = "errored", e(null))
                    }, r.prototype.serialize = function() {
                        return {
                            type: "image",
                            url: this.options.url,
                            coordinates: this.coordinates
                        }
                    }, r.prototype.hasTransition = function() {
                        return !1
                    }, r
                }(t.Evented),
                D = function(e) {
                    function r(t, r, n, i) {
                        e.call(this, t, r, n, i), this.roundZoom = !0, this.type = "video", this.options = r
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.load = function() {
                        var e = this;
                        this._loaded = !1;
                        var r = this.options;
                        this.urls = [];
                        for (var n = 0, i = r.urls; n < i.length; n += 1) this.urls.push(this.map._requestManager.transformRequest(i[n], t.ResourceType.Source).url);
                        t.getVideo(this.urls, (function(r, n) {
                            e._loaded = !0, r ? e.fire(new t.ErrorEvent(r)) : n && (e.video = n, e.video.loop = !0, e.video.addEventListener("playing", (function() {
                                e.map.triggerRepaint()
                            })), e.map && e.video.play(), e._finishLoading())
                        }))
                    }, r.prototype.pause = function() {
                        this.video && this.video.pause()
                    }, r.prototype.play = function() {
                        this.video && this.video.play()
                    }, r.prototype.seek = function(e) {
                        if (this.video) {
                            var r = this.video.seekable;
                            e < r.start(0) || e > r.end(0) ? this.fire(new t.ErrorEvent(new t.ValidationError("sources." + this.id, null, "Playback for this video can be set only between the " + r.start(0) + " and " + r.end(0) + "-second mark."))) : this.video.currentTime = e
                        }
                    }, r.prototype.getVideo = function() {
                        return this.video
                    }, r.prototype.onAdd = function(t) {
                        this.map || (this.map = t, this.load(), this.video && (this.video.play(), this.setCoordinates(this.coordinates)))
                    }, r.prototype.prepare = function() {
                        if (!(0 === Object.keys(this.tiles).length || this.video.readyState < 2)) {
                            var e = this.map.painter.context,
                                r = e.gl;
                            for (var n in this.boundsBuffer || (this.boundsBuffer = e.createVertexBuffer(this._boundsArray, z.members)), this.boundsSegments || (this.boundsSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture ? this.video.paused || (this.texture.bind(r.LINEAR, r.CLAMP_TO_EDGE), r.texSubImage2D(r.TEXTURE_2D, 0, 0, 0, r.RGBA, r.UNSIGNED_BYTE, this.video)) : (this.texture = new t.Texture(e, this.video, r.RGBA), this.texture.bind(r.LINEAR, r.CLAMP_TO_EDGE)), this.tiles) {
                                var i = this.tiles[n];
                                "loaded" !== i.state && (i.state = "loaded", i.texture = this.texture)
                            }
                        }
                    }, r.prototype.serialize = function() {
                        return {
                            type: "video",
                            urls: this.urls,
                            coordinates: this.coordinates
                        }
                    }, r.prototype.hasTransition = function() {
                        return this.video && !this.video.paused
                    }, r
                }(M),
                L = function(e) {
                    function r(r, n, i, o) {
                        e.call(this, r, n, i, o), n.coordinates ? Array.isArray(n.coordinates) && 4 === n.coordinates.length && !n.coordinates.some((function(t) {
                            return !Array.isArray(t) || 2 !== t.length || t.some((function(t) {
                                return "number" != typeof t
                            }))
                        })) || this.fire(new t.ErrorEvent(new t.ValidationError("sources." + r, null, '"coordinates" property must be an array of 4 longitude/latitude array pairs'))) : this.fire(new t.ErrorEvent(new t.ValidationError("sources." + r, null, 'missing required property "coordinates"'))), n.animate && "boolean" != typeof n.animate && this.fire(new t.ErrorEvent(new t.ValidationError("sources." + r, null, 'optional "animate" property must be a boolean value'))), n.canvas ? "string" == typeof n.canvas || n.canvas instanceof t.window.HTMLCanvasElement || this.fire(new t.ErrorEvent(new t.ValidationError("sources." + r, null, '"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))) : this.fire(new t.ErrorEvent(new t.ValidationError("sources." + r, null, 'missing required property "canvas"'))), this.options = n, this.animate = void 0 === n.animate || n.animate
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.load = function() {
                        this._loaded = !0, this.canvas || (this.canvas = this.options.canvas instanceof t.window.HTMLCanvasElement ? this.options.canvas : t.window.document.getElementById(this.options.canvas)), this.width = this.canvas.width, this.height = this.canvas.height, this._hasInvalidDimensions() ? this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))) : (this.play = function() {
                            this._playing = !0, this.map.triggerRepaint()
                        }, this.pause = function() {
                            this._playing && (this.prepare(), this._playing = !1)
                        }, this._finishLoading())
                    }, r.prototype.getCanvas = function() {
                        return this.canvas
                    }, r.prototype.onAdd = function(t) {
                        this.map = t, this.load(), this.canvas && this.animate && this.play()
                    }, r.prototype.onRemove = function() {
                        this.pause()
                    }, r.prototype.prepare = function() {
                        var e = !1;
                        if (this.canvas.width !== this.width && (this.width = this.canvas.width, e = !0), this.canvas.height !== this.height && (this.height = this.canvas.height, e = !0), !this._hasInvalidDimensions() && 0 !== Object.keys(this.tiles).length) {
                            var r = this.map.painter.context,
                                n = r.gl;
                            for (var i in this.boundsBuffer || (this.boundsBuffer = r.createVertexBuffer(this._boundsArray, z.members)), this.boundsSegments || (this.boundsSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture ? (e || this._playing) && this.texture.update(this.canvas, {
                                    premultiply: !0
                                }) : this.texture = new t.Texture(r, this.canvas, n.RGBA, {
                                    premultiply: !0
                                }), this.tiles) {
                                var o = this.tiles[i];
                                "loaded" !== o.state && (o.state = "loaded", o.texture = this.texture)
                            }
                        }
                    }, r.prototype.serialize = function() {
                        return {
                            type: "canvas",
                            coordinates: this.coordinates
                        }
                    }, r.prototype.hasTransition = function() {
                        return this._playing
                    }, r.prototype._hasInvalidDimensions = function() {
                        for (var t = 0, e = [this.canvas.width, this.canvas.height]; t < e.length; t += 1) {
                            var r = e[t];
                            if (isNaN(r) || r <= 0) return !0
                        }
                        return !1
                    }, r
                }(M),
                O = {
                    vector: C,
                    raster: I,
                    "raster-dem": k,
                    geojson: P,
                    video: D,
                    image: M,
                    canvas: L
                };

            function R(e, r) {
                var n = t.identity([]);
                return t.translate(n, n, [1, 1, 0]), t.scale(n, n, [.5 * e.width, .5 * e.height, 1]), t.multiply(n, n, e.calculatePosMatrix(r.toUnwrapped()))
            }

            function B(t, e, r, n, i, o) {
                var a = function(t, e, r) {
                        if (t)
                            for (var n = 0, i = t; n < i.length; n += 1) {
                                var o = e[i[n]];
                                if (o && o.source === r && "fill-extrusion" === o.type) return !0
                            } else
                                for (var a in e) {
                                    var s = e[a];
                                    if (s.source === r && "fill-extrusion" === s.type) return !0
                                }
                        return !1
                    }(i && i.layers, e, t.id),
                    s = o.maxPitchScaleFactor(),
                    u = t.tilesIn(n, s, a);
                u.sort(F);
                for (var l = [], c = 0, p = u; c < p.length; c += 1) {
                    var h = p[c];
                    l.push({
                        wrappedTileID: h.tileID.wrapped().key,
                        queryResults: h.tile.queryRenderedFeatures(e, r, t._state, h.queryGeometry, h.cameraQueryGeometry, h.scale, i, o, s, R(t.transform, h.tileID))
                    })
                }
                var f = function(t) {
                    for (var e = {}, r = {}, n = 0, i = t; n < i.length; n += 1) {
                        var o = i[n],
                            a = o.queryResults,
                            s = o.wrappedTileID,
                            u = r[s] = r[s] || {};
                        for (var l in a)
                            for (var c = a[l], p = u[l] = u[l] || {}, h = e[l] = e[l] || [], f = 0, d = c; f < d.length; f += 1) {
                                var m = d[f];
                                p[m.featureIndex] || (p[m.featureIndex] = !0, h.push(m))
                            }
                    }
                    return e
                }(l);
                for (var d in f) f[d].forEach((function(e) {
                    var r = e.feature,
                        n = t.getFeatureState(r.layer["source-layer"], r.id);
                    r.source = r.layer.source, r.layer["source-layer"] && (r.sourceLayer = r.layer["source-layer"]), r.state = n
                }));
                return f
            }

            function F(t, e) {
                var r = t.tileID,
                    n = e.tileID;
                return r.overscaledZ - n.overscaledZ || r.canonical.y - n.canonical.y || r.wrap - n.wrap || r.canonical.x - n.canonical.x
            }
            var N = function(t, e) {
                this.max = t, this.onRemove = e, this.reset()
            };
            N.prototype.reset = function() {
                for (var t in this.data)
                    for (var e = 0, r = this.data[t]; e < r.length; e += 1) {
                        var n = r[e];
                        n.timeout && clearTimeout(n.timeout), this.onRemove(n.value)
                    }
                return this.data = {}, this.order = [], this
            }, N.prototype.add = function(t, e, r) {
                var n = this,
                    i = t.wrapped().key;
                void 0 === this.data[i] && (this.data[i] = []);
                var o = {
                    value: e,
                    timeout: void 0
                };
                if (void 0 !== r && (o.timeout = setTimeout((function() {
                        n.remove(t, o)
                    }), r)), this.data[i].push(o), this.order.push(i), this.order.length > this.max) {
                    var a = this._getAndRemoveByKey(this.order[0]);
                    a && this.onRemove(a)
                }
                return this
            }, N.prototype.has = function(t) {
                return t.wrapped().key in this.data
            }, N.prototype.getAndRemove = function(t) {
                return this.has(t) ? this._getAndRemoveByKey(t.wrapped().key) : null
            }, N.prototype._getAndRemoveByKey = function(t) {
                var e = this.data[t].shift();
                return e.timeout && clearTimeout(e.timeout), 0 === this.data[t].length && delete this.data[t], this.order.splice(this.order.indexOf(t), 1), e.value
            }, N.prototype.getByKey = function(t) {
                var e = this.data[t];
                return e ? e[0].value : null
            }, N.prototype.get = function(t) {
                return this.has(t) ? this.data[t.wrapped().key][0].value : null
            }, N.prototype.remove = function(t, e) {
                if (!this.has(t)) return this;
                var r = t.wrapped().key,
                    n = void 0 === e ? 0 : this.data[r].indexOf(e),
                    i = this.data[r][n];
                return this.data[r].splice(n, 1), i.timeout && clearTimeout(i.timeout), 0 === this.data[r].length && delete this.data[r], this.onRemove(i.value), this.order.splice(this.order.indexOf(r), 1), this
            }, N.prototype.setMaxSize = function(t) {
                for (this.max = t; this.order.length > this.max;) {
                    var e = this._getAndRemoveByKey(this.order[0]);
                    e && this.onRemove(e)
                }
                return this
            }, N.prototype.filter = function(t) {
                var e = [];
                for (var r in this.data)
                    for (var n = 0, i = this.data[r]; n < i.length; n += 1) {
                        var o = i[n];
                        t(o.value) || e.push(o)
                    }
                for (var a = 0, s = e; a < s.length; a += 1) {
                    var u = s[a];
                    this.remove(u.value.tileID, u)
                }
            };
            var U = function(t, e, r) {
                this.context = t;
                var n = t.gl;
                this.buffer = n.createBuffer(), this.dynamicDraw = Boolean(r), this.context.unbindVAO(), t.bindElementBuffer.set(this.buffer), n.bufferData(n.ELEMENT_ARRAY_BUFFER, e.arrayBuffer, this.dynamicDraw ? n.DYNAMIC_DRAW : n.STATIC_DRAW), this.dynamicDraw || delete e.arrayBuffer
            };
            U.prototype.bind = function() {
                this.context.bindElementBuffer.set(this.buffer)
            }, U.prototype.updateData = function(t) {
                var e = this.context.gl;
                this.context.unbindVAO(), this.bind(), e.bufferSubData(e.ELEMENT_ARRAY_BUFFER, 0, t.arrayBuffer)
            }, U.prototype.destroy = function() {
                this.buffer && (this.context.gl.deleteBuffer(this.buffer), delete this.buffer)
            };
            var j = {
                    Int8: "BYTE",
                    Uint8: "UNSIGNED_BYTE",
                    Int16: "SHORT",
                    Uint16: "UNSIGNED_SHORT",
                    Int32: "INT",
                    Uint32: "UNSIGNED_INT",
                    Float32: "FLOAT"
                },
                V = function(t, e, r, n) {
                    this.length = e.length, this.attributes = r, this.itemSize = e.bytesPerElement, this.dynamicDraw = n, this.context = t;
                    var i = t.gl;
                    this.buffer = i.createBuffer(), t.bindVertexBuffer.set(this.buffer), i.bufferData(i.ARRAY_BUFFER, e.arrayBuffer, this.dynamicDraw ? i.DYNAMIC_DRAW : i.STATIC_DRAW), this.dynamicDraw || delete e.arrayBuffer
                };
            V.prototype.bind = function() {
                this.context.bindVertexBuffer.set(this.buffer)
            }, V.prototype.updateData = function(t) {
                var e = this.context.gl;
                this.bind(), e.bufferSubData(e.ARRAY_BUFFER, 0, t.arrayBuffer)
            }, V.prototype.enableAttributes = function(t, e) {
                for (var r = 0; r < this.attributes.length; r++) {
                    var n = e.attributes[this.attributes[r].name];
                    void 0 !== n && t.enableVertexAttribArray(n)
                }
            }, V.prototype.setVertexAttribPointers = function(t, e, r) {
                for (var n = 0; n < this.attributes.length; n++) {
                    var i = this.attributes[n],
                        o = e.attributes[i.name];
                    void 0 !== o && t.vertexAttribPointer(o, i.components, t[j[i.type]], !1, this.itemSize, i.offset + this.itemSize * (r || 0))
                }
            }, V.prototype.destroy = function() {
                this.buffer && (this.context.gl.deleteBuffer(this.buffer), delete this.buffer)
            };
            var q = function(t) {
                this.gl = t.gl, this.default = this.getDefault(), this.current = this.default, this.dirty = !1
            };
            q.prototype.get = function() {
                return this.current
            }, q.prototype.set = function(t) {}, q.prototype.getDefault = function() {
                return this.default
            }, q.prototype.setDefault = function() {
                this.set(this.default)
            };
            var Z = function(e) {
                    function r() {
                        e.apply(this, arguments)
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.getDefault = function() {
                        return t.Color.transparent
                    }, r.prototype.set = function(t) {
                        var e = this.current;
                        (t.r !== e.r || t.g !== e.g || t.b !== e.b || t.a !== e.a || this.dirty) && (this.gl.clearColor(t.r, t.g, t.b, t.a), this.current = t, this.dirty = !1)
                    }, r
                }(q),
                $ = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return 1
                    }, e.prototype.set = function(t) {
                        (t !== this.current || this.dirty) && (this.gl.clearDepth(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                G = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return 0
                    }, e.prototype.set = function(t) {
                        (t !== this.current || this.dirty) && (this.gl.clearStencil(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                H = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return [!0, !0, !0, !0]
                    }, e.prototype.set = function(t) {
                        var e = this.current;
                        (t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || t[3] !== e[3] || this.dirty) && (this.gl.colorMask(t[0], t[1], t[2], t[3]), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                W = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return !0
                    }, e.prototype.set = function(t) {
                        (t !== this.current || this.dirty) && (this.gl.depthMask(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                X = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return 255
                    }, e.prototype.set = function(t) {
                        (t !== this.current || this.dirty) && (this.gl.stencilMask(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                K = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return {
                            func: this.gl.ALWAYS,
                            ref: 0,
                            mask: 255
                        }
                    }, e.prototype.set = function(t) {
                        var e = this.current;
                        (t.func !== e.func || t.ref !== e.ref || t.mask !== e.mask || this.dirty) && (this.gl.stencilFunc(t.func, t.ref, t.mask), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                J = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        var t = this.gl;
                        return [t.KEEP, t.KEEP, t.KEEP]
                    }, e.prototype.set = function(t) {
                        var e = this.current;
                        (t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || this.dirty) && (this.gl.stencilOp(t[0], t[1], t[2]), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                Y = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return !1
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            t ? e.enable(e.STENCIL_TEST) : e.disable(e.STENCIL_TEST), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                Q = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return [0, 1]
                    }, e.prototype.set = function(t) {
                        var e = this.current;
                        (t[0] !== e[0] || t[1] !== e[1] || this.dirty) && (this.gl.depthRange(t[0], t[1]), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                tt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return !1
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            t ? e.enable(e.DEPTH_TEST) : e.disable(e.DEPTH_TEST), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                et = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return this.gl.LESS
                    }, e.prototype.set = function(t) {
                        (t !== this.current || this.dirty) && (this.gl.depthFunc(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                rt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return !1
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            t ? e.enable(e.BLEND) : e.disable(e.BLEND), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                nt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        var t = this.gl;
                        return [t.ONE, t.ZERO]
                    }, e.prototype.set = function(t) {
                        var e = this.current;
                        (t[0] !== e[0] || t[1] !== e[1] || this.dirty) && (this.gl.blendFunc(t[0], t[1]), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                it = function(e) {
                    function r() {
                        e.apply(this, arguments)
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.getDefault = function() {
                        return t.Color.transparent
                    }, r.prototype.set = function(t) {
                        var e = this.current;
                        (t.r !== e.r || t.g !== e.g || t.b !== e.b || t.a !== e.a || this.dirty) && (this.gl.blendColor(t.r, t.g, t.b, t.a), this.current = t, this.dirty = !1)
                    }, r
                }(q),
                ot = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return this.gl.FUNC_ADD
                    }, e.prototype.set = function(t) {
                        (t !== this.current || this.dirty) && (this.gl.blendEquation(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                at = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return !1
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            t ? e.enable(e.CULL_FACE) : e.disable(e.CULL_FACE), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                st = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return this.gl.BACK
                    }, e.prototype.set = function(t) {
                        (t !== this.current || this.dirty) && (this.gl.cullFace(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                ut = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return this.gl.CCW
                    }, e.prototype.set = function(t) {
                        (t !== this.current || this.dirty) && (this.gl.frontFace(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                lt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return null
                    }, e.prototype.set = function(t) {
                        (t !== this.current || this.dirty) && (this.gl.useProgram(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                ct = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return this.gl.TEXTURE0
                    }, e.prototype.set = function(t) {
                        (t !== this.current || this.dirty) && (this.gl.activeTexture(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                pt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        var t = this.gl;
                        return [0, 0, t.drawingBufferWidth, t.drawingBufferHeight]
                    }, e.prototype.set = function(t) {
                        var e = this.current;
                        (t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || t[3] !== e[3] || this.dirty) && (this.gl.viewport(t[0], t[1], t[2], t[3]), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                ht = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return null
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            e.bindFramebuffer(e.FRAMEBUFFER, t), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                ft = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return null
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            e.bindRenderbuffer(e.RENDERBUFFER, t), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                dt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return null
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            e.bindTexture(e.TEXTURE_2D, t), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                mt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return null
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            e.bindBuffer(e.ARRAY_BUFFER, t), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                yt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return null
                    }, e.prototype.set = function(t) {
                        var e = this.gl;
                        e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, t), this.current = t, this.dirty = !1
                    }, e
                }(q),
                vt = function(t) {
                    function e(e) {
                        t.call(this, e), this.vao = e.extVertexArrayObject
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return null
                    }, e.prototype.set = function(t) {
                        this.vao && (t !== this.current || this.dirty) && (this.vao.bindVertexArrayOES(t), this.current = t, this.dirty = !1)
                    }, e
                }(q),
                gt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return 4
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            e.pixelStorei(e.UNPACK_ALIGNMENT, t), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                _t = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return !1
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                xt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return !1
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            var e = this.gl;
                            e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, t), this.current = t, this.dirty = !1
                        }
                    }, e
                }(q),
                bt = function(t) {
                    function e(e, r) {
                        t.call(this, e), this.context = e, this.parent = r
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                        return null
                    }, e
                }(q),
                wt = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.setDirty = function() {
                        this.dirty = !0
                    }, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            this.context.bindFramebuffer.set(this.parent);
                            var e = this.gl;
                            e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, t, 0), this.current = t, this.dirty = !1
                        }
                    }, e
                }(bt),
                St = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                        if (t !== this.current || this.dirty) {
                            this.context.bindFramebuffer.set(this.parent);
                            var e = this.gl;
                            e.framebufferRenderbuffer(e.FRAMEBUFFER, e.DEPTH_ATTACHMENT, e.RENDERBUFFER, t), this.current = t, this.dirty = !1
                        }
                    }, e
                }(bt),
                Tt = function(t, e, r, n) {
                    this.context = t, this.width = e, this.height = r;
                    var i = this.framebuffer = t.gl.createFramebuffer();
                    this.colorAttachment = new wt(t, i), n && (this.depthAttachment = new St(t, i))
                };
            Tt.prototype.destroy = function() {
                var t = this.context.gl,
                    e = this.colorAttachment.get();
                if (e && t.deleteTexture(e), this.depthAttachment) {
                    var r = this.depthAttachment.get();
                    r && t.deleteRenderbuffer(r)
                }
                t.deleteFramebuffer(this.framebuffer)
            };
            var Et = function(t, e, r) {
                this.func = t, this.mask = e, this.range = r
            };
            Et.ReadOnly = !1, Et.ReadWrite = !0, Et.disabled = new Et(519, Et.ReadOnly, [0, 1]);
            var At = function(t, e, r, n, i, o) {
                this.test = t, this.ref = e, this.mask = r, this.fail = n, this.depthFail = i, this.pass = o
            };
            At.disabled = new At({
                func: 519,
                mask: 0
            }, 0, 0, 7680, 7680, 7680);
            var Ct = function(t, e, r) {
                this.blendFunction = t, this.blendColor = e, this.mask = r
            };
            Ct.disabled = new Ct(Ct.Replace = [1, 0], t.Color.transparent, [!1, !1, !1, !1]), Ct.unblended = new Ct(Ct.Replace, t.Color.transparent, [!0, !0, !0, !0]), Ct.alphaBlended = new Ct([1, 771], t.Color.transparent, [!0, !0, !0, !0]);
            var It = function(t, e, r) {
                this.enable = t, this.mode = e, this.frontFace = r
            };
            It.disabled = new It(!1, 1029, 2305), It.backCCW = new It(!0, 1029, 2305);
            var kt = function(t) {
                this.gl = t, this.extVertexArrayObject = this.gl.getExtension("OES_vertex_array_object"), this.clearColor = new Z(this), this.clearDepth = new $(this), this.clearStencil = new G(this), this.colorMask = new H(this), this.depthMask = new W(this), this.stencilMask = new X(this), this.stencilFunc = new K(this), this.stencilOp = new J(this), this.stencilTest = new Y(this), this.depthRange = new Q(this), this.depthTest = new tt(this), this.depthFunc = new et(this), this.blend = new rt(this), this.blendFunc = new nt(this), this.blendColor = new it(this), this.blendEquation = new ot(this), this.cullFace = new at(this), this.cullFaceSide = new st(this), this.frontFace = new ut(this), this.program = new lt(this), this.activeTexture = new ct(this), this.viewport = new pt(this), this.bindFramebuffer = new ht(this), this.bindRenderbuffer = new ft(this), this.bindTexture = new dt(this), this.bindVertexBuffer = new mt(this), this.bindElementBuffer = new yt(this), this.bindVertexArrayOES = this.extVertexArrayObject && new vt(this), this.pixelStoreUnpack = new gt(this), this.pixelStoreUnpackPremultiplyAlpha = new _t(this), this.pixelStoreUnpackFlipY = new xt(this), this.extTextureFilterAnisotropic = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"), this.extTextureFilterAnisotropic && (this.extTextureFilterAnisotropicMax = t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)), this.extTextureHalfFloat = t.getExtension("OES_texture_half_float"), this.extTextureHalfFloat && (t.getExtension("OES_texture_half_float_linear"), this.extRenderToTextureHalfFloat = t.getExtension("EXT_color_buffer_half_float")), this.extTimerQuery = t.getExtension("EXT_disjoint_timer_query")
            };
            kt.prototype.setDefault = function() {
                this.unbindVAO(), this.clearColor.setDefault(), this.clearDepth.setDefault(), this.clearStencil.setDefault(), this.colorMask.setDefault(), this.depthMask.setDefault(), this.stencilMask.setDefault(), this.stencilFunc.setDefault(), this.stencilOp.setDefault(), this.stencilTest.setDefault(), this.depthRange.setDefault(), this.depthTest.setDefault(), this.depthFunc.setDefault(), this.blend.setDefault(), this.blendFunc.setDefault(), this.blendColor.setDefault(), this.blendEquation.setDefault(), this.cullFace.setDefault(), this.cullFaceSide.setDefault(), this.frontFace.setDefault(), this.program.setDefault(), this.activeTexture.setDefault(), this.bindFramebuffer.setDefault(), this.pixelStoreUnpack.setDefault(), this.pixelStoreUnpackPremultiplyAlpha.setDefault(), this.pixelStoreUnpackFlipY.setDefault()
            }, kt.prototype.setDirty = function() {
                this.clearColor.dirty = !0, this.clearDepth.dirty = !0, this.clearStencil.dirty = !0, this.colorMask.dirty = !0, this.depthMask.dirty = !0, this.stencilMask.dirty = !0, this.stencilFunc.dirty = !0, this.stencilOp.dirty = !0, this.stencilTest.dirty = !0, this.depthRange.dirty = !0, this.depthTest.dirty = !0, this.depthFunc.dirty = !0, this.blend.dirty = !0, this.blendFunc.dirty = !0, this.blendColor.dirty = !0, this.blendEquation.dirty = !0, this.cullFace.dirty = !0, this.cullFaceSide.dirty = !0, this.frontFace.dirty = !0, this.program.dirty = !0, this.activeTexture.dirty = !0, this.viewport.dirty = !0, this.bindFramebuffer.dirty = !0, this.bindRenderbuffer.dirty = !0, this.bindTexture.dirty = !0, this.bindVertexBuffer.dirty = !0, this.bindElementBuffer.dirty = !0, this.extVertexArrayObject && (this.bindVertexArrayOES.dirty = !0), this.pixelStoreUnpack.dirty = !0, this.pixelStoreUnpackPremultiplyAlpha.dirty = !0, this.pixelStoreUnpackFlipY.dirty = !0
            }, kt.prototype.createIndexBuffer = function(t, e) {
                return new U(this, t, e)
            }, kt.prototype.createVertexBuffer = function(t, e, r) {
                return new V(this, t, e, r)
            }, kt.prototype.createRenderbuffer = function(t, e, r) {
                var n = this.gl,
                    i = n.createRenderbuffer();
                return this.bindRenderbuffer.set(i), n.renderbufferStorage(n.RENDERBUFFER, t, e, r), this.bindRenderbuffer.set(null), i
            }, kt.prototype.createFramebuffer = function(t, e, r) {
                return new Tt(this, t, e, r)
            }, kt.prototype.clear = function(t) {
                var e = t.color,
                    r = t.depth,
                    n = this.gl,
                    i = 0;
                e && (i |= n.COLOR_BUFFER_BIT, this.clearColor.set(e), this.colorMask.set([!0, !0, !0, !0])), void 0 !== r && (i |= n.DEPTH_BUFFER_BIT, this.depthRange.set([0, 1]), this.clearDepth.set(r), this.depthMask.set(!0)), n.clear(i)
            }, kt.prototype.setCullFace = function(t) {
                !1 === t.enable ? this.cullFace.set(!1) : (this.cullFace.set(!0), this.cullFaceSide.set(t.mode), this.frontFace.set(t.frontFace))
            }, kt.prototype.setDepthMode = function(t) {
                t.func !== this.gl.ALWAYS || t.mask ? (this.depthTest.set(!0), this.depthFunc.set(t.func), this.depthMask.set(t.mask), this.depthRange.set(t.range)) : this.depthTest.set(!1)
            }, kt.prototype.setStencilMode = function(t) {
                t.test.func !== this.gl.ALWAYS || t.mask ? (this.stencilTest.set(!0), this.stencilMask.set(t.mask), this.stencilOp.set([t.fail, t.depthFail, t.pass]), this.stencilFunc.set({
                    func: t.test.func,
                    ref: t.ref,
                    mask: t.test.mask
                })) : this.stencilTest.set(!1)
            }, kt.prototype.setColorMode = function(e) {
                t.deepEqual(e.blendFunction, Ct.Replace) ? this.blend.set(!1) : (this.blend.set(!0), this.blendFunc.set(e.blendFunction), this.blendColor.set(e.blendColor)), this.colorMask.set(e.mask)
            }, kt.prototype.unbindVAO = function() {
                this.extVertexArrayObject && this.bindVertexArrayOES.set(null)
            };
            var Pt = function(e) {
                function r(r, n, i) {
                    var o = this;
                    e.call(this), this.id = r, this.dispatcher = i, this.on("data", (function(t) {
                        "source" === t.dataType && "metadata" === t.sourceDataType && (o._sourceLoaded = !0), o._sourceLoaded && !o._paused && "source" === t.dataType && "content" === t.sourceDataType && (o.reload(), o.transform && o.update(o.transform))
                    })), this.on("error", (function() {
                        o._sourceErrored = !0
                    })), this._source = function(e, r, n, i) {
                        var o = new O[r.type](e, r, n, i);
                        if (o.id !== e) throw new Error("Expected Source id to be " + e + " instead of " + o.id);
                        return t.bindAll(["load", "abort", "unload", "serialize", "prepare"], o), o
                    }(r, n, i, this), this._tiles = {}, this._cache = new N(0, this._unloadTile.bind(this)), this._timers = {}, this._cacheTimers = {}, this._maxTileCacheSize = null, this._loadedParentTiles = {}, this._coveredTiles = {}, this._state = new t.SourceFeatureState
                }
                return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.onAdd = function(t) {
                    this.map = t, this._maxTileCacheSize = t ? t._maxTileCacheSize : null, this._source && this._source.onAdd && this._source.onAdd(t)
                }, r.prototype.onRemove = function(t) {
                    this._source && this._source.onRemove && this._source.onRemove(t)
                }, r.prototype.loaded = function() {
                    if (this._sourceErrored) return !0;
                    if (!this._sourceLoaded) return !1;
                    if (!this._source.loaded()) return !1;
                    for (var t in this._tiles) {
                        var e = this._tiles[t];
                        if ("loaded" !== e.state && "errored" !== e.state) return !1
                    }
                    return !0
                }, r.prototype.getSource = function() {
                    return this._source
                }, r.prototype.pause = function() {
                    this._paused = !0
                }, r.prototype.resume = function() {
                    if (this._paused) {
                        var t = this._shouldReloadOnResume;
                        this._paused = !1, this._shouldReloadOnResume = !1, t && this.reload(), this.transform && this.update(this.transform)
                    }
                }, r.prototype._loadTile = function(t, e) {
                    return this._source.loadTile(t, e)
                }, r.prototype._unloadTile = function(t) {
                    if (this._source.unloadTile) return this._source.unloadTile(t, (function() {}))
                }, r.prototype._abortTile = function(t) {
                    if (this._source.abortTile) return this._source.abortTile(t, (function() {}))
                }, r.prototype.serialize = function() {
                    return this._source.serialize()
                }, r.prototype.prepare = function(t) {
                    for (var e in this._source.prepare && this._source.prepare(), this._state.coalesceChanges(this._tiles, this.map ? this.map.painter : null), this._tiles) {
                        var r = this._tiles[e];
                        r.upload(t), r.prepare(this.map.style.imageManager)
                    }
                }, r.prototype.getIds = function() {
                    return t.values(this._tiles).map((function(t) {
                        return t.tileID
                    })).sort(zt).map((function(t) {
                        return t.key
                    }))
                }, r.prototype.getRenderableIds = function(e) {
                    var r = this,
                        n = [];
                    for (var i in this._tiles) this._isIdRenderable(i, e) && n.push(this._tiles[i]);
                    return e ? n.sort((function(e, n) {
                        var i = e.tileID,
                            o = n.tileID,
                            a = new t.Point(i.canonical.x, i.canonical.y)._rotate(r.transform.angle),
                            s = new t.Point(o.canonical.x, o.canonical.y)._rotate(r.transform.angle);
                        return i.overscaledZ - o.overscaledZ || s.y - a.y || s.x - a.x
                    })).map((function(t) {
                        return t.tileID.key
                    })) : n.map((function(t) {
                        return t.tileID
                    })).sort(zt).map((function(t) {
                        return t.key
                    }))
                }, r.prototype.hasRenderableParent = function(t) {
                    var e = this.findLoadedParent(t, 0);
                    return !!e && this._isIdRenderable(e.tileID.key)
                }, r.prototype._isIdRenderable = function(t, e) {
                    return this._tiles[t] && this._tiles[t].hasData() && !this._coveredTiles[t] && (e || !this._tiles[t].holdingForFade())
                }, r.prototype.reload = function() {
                    if (this._paused) this._shouldReloadOnResume = !0;
                    else
                        for (var t in this._cache.reset(), this._tiles) "errored" !== this._tiles[t].state && this._reloadTile(t, "reloading")
                }, r.prototype._reloadTile = function(t, e) {
                    var r = this._tiles[t];
                    r && ("loading" !== r.state && (r.state = e), this._loadTile(r, this._tileLoaded.bind(this, r, t, e)))
                }, r.prototype._tileLoaded = function(e, r, n, i) {
                    if (i) return e.state = "errored", void(404 !== i.status ? this._source.fire(new t.ErrorEvent(i, {
                        tile: e
                    })) : this.update(this.transform));
                    e.timeAdded = t.browser.now(), "expired" === n && (e.refreshedUponExpiration = !0), this._setTileReloadTimer(r, e), "raster-dem" === this.getSource().type && e.dem && this._backfillDEM(e), this._state.initializeTileState(e, this.map ? this.map.painter : null), this._source.fire(new t.Event("data", {
                        dataType: "source",
                        tile: e,
                        coord: e.tileID
                    }))
                }, r.prototype._backfillDEM = function(t) {
                    for (var e = this.getRenderableIds(), r = 0; r < e.length; r++) {
                        var n = e[r];
                        if (t.neighboringTiles && t.neighboringTiles[n]) {
                            var i = this.getTileByID(n);
                            o(t, i), o(i, t)
                        }
                    }

                    function o(t, e) {
                        t.needsHillshadePrepare = !0;
                        var r = e.tileID.canonical.x - t.tileID.canonical.x,
                            n = e.tileID.canonical.y - t.tileID.canonical.y,
                            i = Math.pow(2, t.tileID.canonical.z),
                            o = e.tileID.key;
                        0 === r && 0 === n || Math.abs(n) > 1 || (Math.abs(r) > 1 && (1 === Math.abs(r + i) ? r += i : 1 === Math.abs(r - i) && (r -= i)), e.dem && t.dem && (t.dem.backfillBorder(e.dem, r, n), t.neighboringTiles && t.neighboringTiles[o] && (t.neighboringTiles[o].backfilled = !0)))
                    }
                }, r.prototype.getTile = function(t) {
                    return this.getTileByID(t.key)
                }, r.prototype.getTileByID = function(t) {
                    return this._tiles[t]
                }, r.prototype._retainLoadedChildren = function(t, e, r, n) {
                    for (var i in this._tiles) {
                        var o = this._tiles[i];
                        if (!(n[i] || !o.hasData() || o.tileID.overscaledZ <= e || o.tileID.overscaledZ > r)) {
                            for (var a = o.tileID; o && o.tileID.overscaledZ > e + 1;) {
                                var s = o.tileID.scaledTo(o.tileID.overscaledZ - 1);
                                (o = this._tiles[s.key]) && o.hasData() && (a = s)
                            }
                            for (var u = a; u.overscaledZ > e;)
                                if (t[(u = u.scaledTo(u.overscaledZ - 1)).key]) {
                                    n[a.key] = a;
                                    break
                                }
                        }
                    }
                }, r.prototype.findLoadedParent = function(t, e) {
                    if (t.key in this._loadedParentTiles) {
                        var r = this._loadedParentTiles[t.key];
                        return r && r.tileID.overscaledZ >= e ? r : null
                    }
                    for (var n = t.overscaledZ - 1; n >= e; n--) {
                        var i = t.scaledTo(n),
                            o = this._getLoadedTile(i);
                        if (o) return o
                    }
                }, r.prototype._getLoadedTile = function(t) {
                    var e = this._tiles[t.key];
                    return e && e.hasData() ? e : this._cache.getByKey(t.wrapped().key)
                }, r.prototype.updateCacheSize = function(t) {
                    var e = Math.ceil(t.width / this._source.tileSize) + 1,
                        r = Math.ceil(t.height / this._source.tileSize) + 1,
                        n = Math.floor(e * r * 5),
                        i = "number" == typeof this._maxTileCacheSize ? Math.min(this._maxTileCacheSize, n) : n;
                    this._cache.setMaxSize(i)
                }, r.prototype.handleWrapJump = function(t) {
                    var e = Math.round((t - (void 0 === this._prevLng ? t : this._prevLng)) / 360);
                    if (this._prevLng = t, e) {
                        var r = {};
                        for (var n in this._tiles) {
                            var i = this._tiles[n];
                            i.tileID = i.tileID.unwrapTo(i.tileID.wrap + e), r[i.tileID.key] = i
                        }
                        for (var o in this._tiles = r, this._timers) clearTimeout(this._timers[o]), delete this._timers[o];
                        for (var a in this._tiles) this._setTileReloadTimer(a, this._tiles[a])
                    }
                }, r.prototype.update = function(e) {
                    var n = this;
                    if (this.transform = e, this._sourceLoaded && !this._paused) {
                        var i;
                        this.updateCacheSize(e), this.handleWrapJump(this.transform.center.lng), this._coveredTiles = {}, this.used ? this._source.tileID ? i = e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e) {
                            return new t.OverscaledTileID(e.canonical.z, e.wrap, e.canonical.z, e.canonical.x, e.canonical.y)
                        })) : (i = e.coveringTiles({
                            tileSize: this._source.tileSize,
                            minzoom: this._source.minzoom,
                            maxzoom: this._source.maxzoom,
                            roundZoom: this._source.roundZoom,
                            reparseOverscaled: this._source.reparseOverscaled
                        }), this._source.hasTile && (i = i.filter((function(t) {
                            return n._source.hasTile(t)
                        })))) : i = [];
                        var o = e.coveringZoomLevel(this._source),
                            a = Math.max(o - r.maxOverzooming, this._source.minzoom),
                            s = Math.max(o + r.maxUnderzooming, this._source.minzoom),
                            u = this._updateRetainedTiles(i, o);
                        if (Mt(this._source.type)) {
                            for (var l = {}, c = {}, p = 0, h = Object.keys(u); p < h.length; p += 1) {
                                var f = h[p],
                                    d = u[f],
                                    m = this._tiles[f];
                                if (m && !(m.fadeEndTime && m.fadeEndTime <= t.browser.now())) {
                                    var y = this.findLoadedParent(d, a);
                                    y && (this._addTile(y.tileID), l[y.tileID.key] = y.tileID), c[f] = d
                                }
                            }
                            for (var v in this._retainLoadedChildren(c, o, s, u), l) u[v] || (this._coveredTiles[v] = !0, u[v] = l[v])
                        }
                        for (var g in u) this._tiles[g].clearFadeHold();
                        for (var _ = 0, x = t.keysDifference(this._tiles, u); _ < x.length; _ += 1) {
                            var b = x[_],
                                w = this._tiles[b];
                            w.hasSymbolBuckets && !w.holdingForFade() ? w.setHoldDuration(this.map._fadeDuration) : w.hasSymbolBuckets && !w.symbolFadeFinished() || this._removeTile(b)
                        }
                        this._updateLoadedParentTileCache()
                    }
                }, r.prototype.releaseSymbolFadeTiles = function() {
                    for (var t in this._tiles) this._tiles[t].holdingForFade() && this._removeTile(t)
                }, r.prototype._updateRetainedTiles = function(t, e) {
                    for (var n = {}, i = {}, o = Math.max(e - r.maxOverzooming, this._source.minzoom), a = Math.max(e + r.maxUnderzooming, this._source.minzoom), s = {}, u = 0, l = t; u < l.length; u += 1) {
                        var c = l[u],
                            p = this._addTile(c);
                        n[c.key] = c, p.hasData() || e < this._source.maxzoom && (s[c.key] = c)
                    }
                    this._retainLoadedChildren(s, e, a, n);
                    for (var h = 0, f = t; h < f.length; h += 1) {
                        var d = f[h],
                            m = this._tiles[d.key];
                        if (!m.hasData()) {
                            if (e + 1 > this._source.maxzoom) {
                                var y = d.children(this._source.maxzoom)[0],
                                    v = this.getTile(y);
                                if (v && v.hasData()) {
                                    n[y.key] = y;
                                    continue
                                }
                            } else {
                                var g = d.children(this._source.maxzoom);
                                if (n[g[0].key] && n[g[1].key] && n[g[2].key] && n[g[3].key]) continue
                            }
                            for (var _ = m.wasRequested(), x = d.overscaledZ - 1; x >= o; --x) {
                                var b = d.scaledTo(x);
                                if (i[b.key]) break;
                                if (i[b.key] = !0, !(m = this.getTile(b)) && _ && (m = this._addTile(b)), m && (n[b.key] = b, _ = m.wasRequested(), m.hasData())) break
                            }
                        }
                    }
                    return n
                }, r.prototype._updateLoadedParentTileCache = function() {
                    for (var t in this._loadedParentTiles = {}, this._tiles) {
                        for (var e = [], r = void 0, n = this._tiles[t].tileID; n.overscaledZ > 0;) {
                            if (n.key in this._loadedParentTiles) {
                                r = this._loadedParentTiles[n.key];
                                break
                            }
                            e.push(n.key);
                            var i = n.scaledTo(n.overscaledZ - 1);
                            if (r = this._getLoadedTile(i)) break;
                            n = i
                        }
                        for (var o = 0, a = e; o < a.length; o += 1) this._loadedParentTiles[a[o]] = r
                    }
                }, r.prototype._addTile = function(e) {
                    var r = this._tiles[e.key];
                    if (r) return r;
                    (r = this._cache.getAndRemove(e)) && (this._setTileReloadTimer(e.key, r), r.tileID = e, this._state.initializeTileState(r, this.map ? this.map.painter : null), this._cacheTimers[e.key] && (clearTimeout(this._cacheTimers[e.key]), delete this._cacheTimers[e.key], this._setTileReloadTimer(e.key, r)));
                    var n = Boolean(r);
                    return n || (r = new t.Tile(e, this._source.tileSize * e.overscaleFactor()), this._loadTile(r, this._tileLoaded.bind(this, r, e.key, r.state))), r ? (r.uses++, this._tiles[e.key] = r, n || this._source.fire(new t.Event("dataloading", {
                        tile: r,
                        coord: r.tileID,
                        dataType: "source"
                    })), r) : null
                }, r.prototype._setTileReloadTimer = function(t, e) {
                    var r = this;
                    t in this._timers && (clearTimeout(this._timers[t]), delete this._timers[t]);
                    var n = e.getExpiryTimeout();
                    n && (this._timers[t] = setTimeout((function() {
                        r._reloadTile(t, "expired"), delete r._timers[t]
                    }), n))
                }, r.prototype._removeTile = function(t) {
                    var e = this._tiles[t];
                    e && (e.uses--, delete this._tiles[t], this._timers[t] && (clearTimeout(this._timers[t]), delete this._timers[t]), e.uses > 0 || (e.hasData() && "reloading" !== e.state ? this._cache.add(e.tileID, e, e.getExpiryTimeout()) : (e.aborted = !0, this._abortTile(e), this._unloadTile(e))))
                }, r.prototype.clearTiles = function() {
                    for (var t in this._shouldReloadOnResume = !1, this._paused = !1, this._tiles) this._removeTile(t);
                    this._cache.reset()
                }, r.prototype.tilesIn = function(e, r, n) {
                    var i = this,
                        o = [],
                        a = this.transform;
                    if (!a) return o;
                    for (var s = n ? a.getCameraQueryGeometry(e) : e, u = e.map((function(t) {
                            return a.pointCoordinate(t)
                        })), l = s.map((function(t) {
                            return a.pointCoordinate(t)
                        })), c = this.getIds(), p = 1 / 0, h = 1 / 0, f = -1 / 0, d = -1 / 0, m = 0, y = l; m < y.length; m += 1) {
                        var v = y[m];
                        p = Math.min(p, v.x), h = Math.min(h, v.y), f = Math.max(f, v.x), d = Math.max(d, v.y)
                    }
                    for (var g = function(e) {
                            var n = i._tiles[c[e]];
                            if (!n.holdingForFade()) {
                                var s = n.tileID,
                                    m = Math.pow(2, a.zoom - n.tileID.overscaledZ),
                                    y = r * n.queryPadding * t.EXTENT / n.tileSize / m,
                                    v = [s.getTilePoint(new t.MercatorCoordinate(p, h)), s.getTilePoint(new t.MercatorCoordinate(f, d))];
                                if (v[0].x - y < t.EXTENT && v[0].y - y < t.EXTENT && v[1].x + y >= 0 && v[1].y + y >= 0) {
                                    var g = u.map((function(t) {
                                            return s.getTilePoint(t)
                                        })),
                                        _ = l.map((function(t) {
                                            return s.getTilePoint(t)
                                        }));
                                    o.push({
                                        tile: n,
                                        tileID: s,
                                        queryGeometry: g,
                                        cameraQueryGeometry: _,
                                        scale: m
                                    })
                                }
                            }
                        }, _ = 0; _ < c.length; _++) g(_);
                    return o
                }, r.prototype.getVisibleCoordinates = function(t) {
                    for (var e = this, r = this.getRenderableIds(t).map((function(t) {
                            return e._tiles[t].tileID
                        })), n = 0, i = r; n < i.length; n += 1) {
                        var o = i[n];
                        o.posMatrix = this.transform.calculatePosMatrix(o.toUnwrapped())
                    }
                    return r
                }, r.prototype.hasTransition = function() {
                    if (this._source.hasTransition()) return !0;
                    if (Mt(this._source.type))
                        for (var e in this._tiles) {
                            var r = this._tiles[e];
                            if (void 0 !== r.fadeEndTime && r.fadeEndTime >= t.browser.now()) return !0
                        }
                    return !1
                }, r.prototype.setFeatureState = function(t, e, r) {
                    this._state.updateState(t = t || "_geojsonTileLayer", e, r)
                }, r.prototype.removeFeatureState = function(t, e, r) {
                    this._state.removeFeatureState(t = t || "_geojsonTileLayer", e, r)
                }, r.prototype.getFeatureState = function(t, e) {
                    return this._state.getState(t = t || "_geojsonTileLayer", e)
                }, r.prototype.setDependencies = function(t, e, r) {
                    var n = this._tiles[t];
                    n && n.setDependencies(e, r)
                }, r.prototype.reloadTilesForDependencies = function(t, e) {
                    for (var r in this._tiles) this._tiles[r].hasDependency(t, e) && this._reloadTile(r, "reloading");
                    this._cache.filter((function(r) {
                        return !r.hasDependency(t, e)
                    }))
                }, r
            }(t.Evented);

            function zt(t, e) {
                var r = Math.abs(2 * t.wrap) - +(t.wrap < 0),
                    n = Math.abs(2 * e.wrap) - +(e.wrap < 0);
                return t.overscaledZ - e.overscaledZ || n - r || e.canonical.y - t.canonical.y || e.canonical.x - t.canonical.x
            }

            function Mt(t) {
                return "raster" === t || "image" === t || "video" === t
            }

            function Dt() {
                return new t.window.Worker(Wi.workerUrl)
            }
            Pt.maxOverzooming = 10, Pt.maxUnderzooming = 3;
            var Lt = "mapboxgl_preloaded_worker_pool",
                Ot = function() {
                    this.active = {}
                };
            Ot.prototype.acquire = function(t) {
                if (!this.workers)
                    for (this.workers = []; this.workers.length < Ot.workerCount;) this.workers.push(new Dt);
                return this.active[t] = !0, this.workers.slice()
            }, Ot.prototype.release = function(t) {
                delete this.active[t], 0 === this.numActive() && (this.workers.forEach((function(t) {
                    t.terminate()
                })), this.workers = null)
            }, Ot.prototype.isPreloaded = function() {
                return !!this.active[Lt]
            }, Ot.prototype.numActive = function() {
                return Object.keys(this.active).length
            };
            var Rt, Bt = Math.floor(t.browser.hardwareConcurrency / 2);

            function Ft() {
                return Rt || (Rt = new Ot), Rt
            }

            function Nt(e, r) {
                var n = {};
                for (var i in e) "ref" !== i && (n[i] = e[i]);
                return t.refProperties.forEach((function(t) {
                    t in r && (n[t] = r[t])
                })), n
            }

            function Ut(t) {
                t = t.slice();
                for (var e = Object.create(null), r = 0; r < t.length; r++) e[t[r].id] = t[r];
                for (var n = 0; n < t.length; n++) "ref" in t[n] && (t[n] = Nt(t[n], e[t[n].ref]));
                return t
            }
            Ot.workerCount = Math.max(Math.min(Bt, 6), 1);
            var jt = {
                setStyle: "setStyle",
                addLayer: "addLayer",
                removeLayer: "removeLayer",
                setPaintProperty: "setPaintProperty",
                setLayoutProperty: "setLayoutProperty",
                setFilter: "setFilter",
                addSource: "addSource",
                removeSource: "removeSource",
                setGeoJSONSourceData: "setGeoJSONSourceData",
                setLayerZoomRange: "setLayerZoomRange",
                setLayerProperty: "setLayerProperty",
                setCenter: "setCenter",
                setZoom: "setZoom",
                setBearing: "setBearing",
                setPitch: "setPitch",
                setSprite: "setSprite",
                setGlyphs: "setGlyphs",
                setTransition: "setTransition",
                setLight: "setLight"
            };

            function Vt(t, e, r) {
                r.push({
                    command: jt.addSource,
                    args: [t, e[t]]
                })
            }

            function qt(t, e, r) {
                e.push({
                    command: jt.removeSource,
                    args: [t]
                }), r[t] = !0
            }

            function Zt(t, e, r, n) {
                qt(t, r, n), Vt(t, e, r)
            }

            function $t(e, r, n) {
                var i;
                for (i in e[n])
                    if (e[n].hasOwnProperty(i) && "data" !== i && !t.deepEqual(e[n][i], r[n][i])) return !1;
                for (i in r[n])
                    if (r[n].hasOwnProperty(i) && "data" !== i && !t.deepEqual(e[n][i], r[n][i])) return !1;
                return !0
            }

            function Gt(e, r, n, i, o, a) {
                var s;
                for (s in r = r || {}, e = e || {}) e.hasOwnProperty(s) && (t.deepEqual(e[s], r[s]) || n.push({
                    command: a,
                    args: [i, s, r[s], o]
                }));
                for (s in r) r.hasOwnProperty(s) && !e.hasOwnProperty(s) && (t.deepEqual(e[s], r[s]) || n.push({
                    command: a,
                    args: [i, s, r[s], o]
                }))
            }

            function Ht(t) {
                return t.id
            }

            function Wt(t, e) {
                return t[e.id] = e, t
            }
            var Xt = function(t, e) {
                this.reset(t, e)
            };
            Xt.prototype.reset = function(t, e) {
                this.points = t || [], this._distances = [0];
                for (var r = 1; r < this.points.length; r++) this._distances[r] = this._distances[r - 1] + this.points[r].dist(this.points[r - 1]);
                this.length = this._distances[this._distances.length - 1], this.padding = Math.min(e || 0, .5 * this.length), this.paddedLength = this.length - 2 * this.padding
            }, Xt.prototype.lerp = function(e) {
                if (1 === this.points.length) return this.points[0];
                e = t.clamp(e, 0, 1);
                for (var r = 1, n = this._distances[r], i = e * this.paddedLength + this.padding; n < i && r < this._distances.length;) n = this._distances[++r];
                var o = r - 1,
                    a = this._distances[o],
                    s = n - a,
                    u = s > 0 ? (i - a) / s : 0;
                return this.points[o].mult(1 - u).add(this.points[r].mult(u))
            };
            var Kt = function(t, e, r) {
                var n = this.boxCells = [],
                    i = this.circleCells = [];
                this.xCellCount = Math.ceil(t / r), this.yCellCount = Math.ceil(e / r);
                for (var o = 0; o < this.xCellCount * this.yCellCount; o++) n.push([]), i.push([]);
                this.circleKeys = [], this.boxKeys = [], this.bboxes = [], this.circles = [], this.width = t, this.height = e, this.xScale = this.xCellCount / t, this.yScale = this.yCellCount / e, this.boxUid = 0, this.circleUid = 0
            };

            function Jt(e, r, n, i, o) {
                var a = t.create();
                return r ? (t.scale(a, a, [1 / o, 1 / o, 1]), n || t.rotateZ(a, a, i.angle)) : t.multiply(a, i.labelPlaneMatrix, e), a
            }

            function Yt(e, r, n, i, o) {
                if (r) {
                    var a = t.clone(e);
                    return t.scale(a, a, [o, o, 1]), n || t.rotateZ(a, a, -i.angle), a
                }
                return i.glCoordMatrix
            }

            function Qt(e, r) {
                var n = [e.x, e.y, 0, 1];
                ce(n, n, r);
                var i = n[3];
                return {
                    point: new t.Point(n[0] / i, n[1] / i),
                    signedDistanceFromCamera: i
                }
            }

            function te(t, e) {
                return .5 + t / e * .5
            }

            function ee(t, e) {
                var r = t[0] / t[3],
                    n = t[1] / t[3];
                return r >= -e[0] && r <= e[0] && n >= -e[1] && n <= e[1]
            }

            function re(e, r, n, i, o, a, s, u) {
                var l = i ? e.textSizeData : e.iconSizeData,
                    c = t.evaluateSizeForZoom(l, n.transform.zoom),
                    p = [256 / n.width * 2 + 1, 256 / n.height * 2 + 1],
                    h = i ? e.text.dynamicLayoutVertexArray : e.icon.dynamicLayoutVertexArray;
                h.clear();
                for (var f = e.lineVertexArray, d = i ? e.text.placedSymbolArray : e.icon.placedSymbolArray, m = n.transform.width / n.transform.height, y = !1, v = 0; v < d.length; v++) {
                    var g = d.get(v);
                    if (g.hidden || g.writingMode === t.WritingMode.vertical && !y) le(g.numGlyphs, h);
                    else {
                        y = !1;
                        var _ = [g.anchorX, g.anchorY, 0, 1];
                        if (t.transformMat4(_, _, r), ee(_, p)) {
                            var x = te(n.transform.cameraToCenterDistance, _[3]),
                                b = t.evaluateSizeForFeature(l, c, g),
                                w = s ? b / x : b * x,
                                S = new t.Point(g.anchorX, g.anchorY),
                                T = Qt(S, o).point,
                                E = {},
                                A = oe(g, w, !1, u, r, o, a, e.glyphOffsetArray, f, h, T, S, E, m);
                            y = A.useVertical, (A.notEnoughRoom || y || A.needsFlipping && oe(g, w, !0, u, r, o, a, e.glyphOffsetArray, f, h, T, S, E, m).notEnoughRoom) && le(g.numGlyphs, h)
                        } else le(g.numGlyphs, h)
                    }
                }
                i ? e.text.dynamicLayoutVertexBuffer.updateData(h) : e.icon.dynamicLayoutVertexBuffer.updateData(h)
            }

            function ne(t, e, r, n, i, o, a, s, u, l, c) {
                var p = s.glyphStartIndex + s.numGlyphs,
                    h = s.lineStartIndex,
                    f = s.lineStartIndex + s.lineLength,
                    d = e.getoffsetX(s.glyphStartIndex),
                    m = e.getoffsetX(p - 1),
                    y = se(t * d, r, n, i, o, a, s.segment, h, f, u, l, c);
                if (!y) return null;
                var v = se(t * m, r, n, i, o, a, s.segment, h, f, u, l, c);
                return v ? {
                    first: y,
                    last: v
                } : null
            }

            function ie(e, r, n, i) {
                return e === t.WritingMode.horizontal && Math.abs(n.y - r.y) > Math.abs(n.x - r.x) * i ? {
                    useVertical: !0
                } : (e === t.WritingMode.vertical ? r.y < n.y : r.x > n.x) ? {
                    needsFlipping: !0
                } : null
            }

            function oe(e, r, n, i, o, a, s, u, l, c, p, h, f, d) {
                var m, y = r / 24,
                    v = e.lineOffsetX * y,
                    g = e.lineOffsetY * y;
                if (e.numGlyphs > 1) {
                    var _ = e.glyphStartIndex + e.numGlyphs,
                        x = e.lineStartIndex,
                        b = e.lineStartIndex + e.lineLength,
                        w = ne(y, u, v, g, n, p, h, e, l, a, f);
                    if (!w) return {
                        notEnoughRoom: !0
                    };
                    var S = Qt(w.first.point, s).point,
                        T = Qt(w.last.point, s).point;
                    if (i && !n) {
                        var E = ie(e.writingMode, S, T, d);
                        if (E) return E
                    }
                    m = [w.first];
                    for (var A = e.glyphStartIndex + 1; A < _ - 1; A++) m.push(se(y * u.getoffsetX(A), v, g, n, p, h, e.segment, x, b, l, a, f));
                    m.push(w.last)
                } else {
                    if (i && !n) {
                        var C = Qt(h, o).point,
                            I = e.lineStartIndex + e.segment + 1,
                            k = new t.Point(l.getx(I), l.gety(I)),
                            P = Qt(k, o),
                            z = P.signedDistanceFromCamera > 0 ? P.point : ae(h, k, C, 1, o),
                            M = ie(e.writingMode, C, z, d);
                        if (M) return M
                    }
                    var D = se(y * u.getoffsetX(e.glyphStartIndex), v, g, n, p, h, e.segment, e.lineStartIndex, e.lineStartIndex + e.lineLength, l, a, f);
                    if (!D) return {
                        notEnoughRoom: !0
                    };
                    m = [D]
                }
                for (var L = 0, O = m; L < O.length; L += 1) {
                    var R = O[L];
                    t.addDynamicAttributes(c, R.point, R.angle)
                }
                return {}
            }

            function ae(t, e, r, n, i) {
                var o = Qt(t.add(t.sub(e)._unit()), i).point,
                    a = r.sub(o);
                return r.add(a._mult(n / a.mag()))
            }

            function se(e, r, n, i, o, a, s, u, l, c, p, h) {
                var f = i ? e - r : e + r,
                    d = f > 0 ? 1 : -1,
                    m = 0;
                i && (d *= -1, m = Math.PI), d < 0 && (m += Math.PI);
                for (var y = d > 0 ? u + s : u + s + 1, v = o, g = o, _ = 0, x = 0, b = Math.abs(f), w = []; _ + x <= b;) {
                    if ((y += d) < u || y >= l) return null;
                    if (g = v, w.push(v), void 0 === (v = h[y])) {
                        var S = new t.Point(c.getx(y), c.gety(y)),
                            T = Qt(S, p);
                        if (T.signedDistanceFromCamera > 0) v = h[y] = T.point;
                        else {
                            var E = y - d;
                            v = ae(0 === _ ? a : new t.Point(c.getx(E), c.gety(E)), S, g, b - _ + 1, p)
                        }
                    }
                    _ += x, x = g.dist(v)
                }
                var A = (b - _) / x,
                    C = v.sub(g),
                    I = C.mult(A)._add(g);
                I._add(C._unit()._perp()._mult(n * d));
                var k = m + Math.atan2(v.y - g.y, v.x - g.x);
                return w.push(I), {
                    point: I,
                    angle: k,
                    path: w
                }
            }
            Kt.prototype.keysLength = function() {
                return this.boxKeys.length + this.circleKeys.length
            }, Kt.prototype.insert = function(t, e, r, n, i) {
                this._forEachCell(e, r, n, i, this._insertBoxCell, this.boxUid++), this.boxKeys.push(t), this.bboxes.push(e), this.bboxes.push(r), this.bboxes.push(n), this.bboxes.push(i)
            }, Kt.prototype.insertCircle = function(t, e, r, n) {
                this._forEachCell(e - n, r - n, e + n, r + n, this._insertCircleCell, this.circleUid++), this.circleKeys.push(t), this.circles.push(e), this.circles.push(r), this.circles.push(n)
            }, Kt.prototype._insertBoxCell = function(t, e, r, n, i, o) {
                this.boxCells[i].push(o)
            }, Kt.prototype._insertCircleCell = function(t, e, r, n, i, o) {
                this.circleCells[i].push(o)
            }, Kt.prototype._query = function(t, e, r, n, i, o) {
                if (r < 0 || t > this.width || n < 0 || e > this.height) return !i && [];
                var a = [];
                if (t <= 0 && e <= 0 && this.width <= r && this.height <= n) {
                    if (i) return !0;
                    for (var s = 0; s < this.boxKeys.length; s++) a.push({
                        key: this.boxKeys[s],
                        x1: this.bboxes[4 * s],
                        y1: this.bboxes[4 * s + 1],
                        x2: this.bboxes[4 * s + 2],
                        y2: this.bboxes[4 * s + 3]
                    });
                    for (var u = 0; u < this.circleKeys.length; u++) {
                        var l = this.circles[3 * u],
                            c = this.circles[3 * u + 1],
                            p = this.circles[3 * u + 2];
                        a.push({
                            key: this.circleKeys[u],
                            x1: l - p,
                            y1: c - p,
                            x2: l + p,
                            y2: c + p
                        })
                    }
                    return o ? a.filter(o) : a
                }
                return this._forEachCell(t, e, r, n, this._queryCell, a, {
                    hitTest: i,
                    seenUids: {
                        box: {},
                        circle: {}
                    }
                }, o), i ? a.length > 0 : a
            }, Kt.prototype._queryCircle = function(t, e, r, n, i) {
                var o = t - r,
                    a = t + r,
                    s = e - r,
                    u = e + r;
                if (a < 0 || o > this.width || u < 0 || s > this.height) return !n && [];
                var l = [];
                return this._forEachCell(o, s, a, u, this._queryCellCircle, l, {
                    hitTest: n,
                    circle: {
                        x: t,
                        y: e,
                        radius: r
                    },
                    seenUids: {
                        box: {},
                        circle: {}
                    }
                }, i), n ? l.length > 0 : l
            }, Kt.prototype.query = function(t, e, r, n, i) {
                return this._query(t, e, r, n, !1, i)
            }, Kt.prototype.hitTest = function(t, e, r, n, i) {
                return this._query(t, e, r, n, !0, i)
            }, Kt.prototype.hitTestCircle = function(t, e, r, n) {
                return this._queryCircle(t, e, r, !0, n)
            }, Kt.prototype._queryCell = function(t, e, r, n, i, o, a, s) {
                var u = a.seenUids,
                    l = this.boxCells[i];
                if (null !== l)
                    for (var c = this.bboxes, p = 0, h = l; p < h.length; p += 1) {
                        var f = h[p];
                        if (!u.box[f]) {
                            u.box[f] = !0;
                            var d = 4 * f;
                            if (t <= c[d + 2] && e <= c[d + 3] && r >= c[d + 0] && n >= c[d + 1] && (!s || s(this.boxKeys[f]))) {
                                if (a.hitTest) return o.push(!0), !0;
                                o.push({
                                    key: this.boxKeys[f],
                                    x1: c[d],
                                    y1: c[d + 1],
                                    x2: c[d + 2],
                                    y2: c[d + 3]
                                })
                            }
                        }
                    }
                var m = this.circleCells[i];
                if (null !== m)
                    for (var y = this.circles, v = 0, g = m; v < g.length; v += 1) {
                        var _ = g[v];
                        if (!u.circle[_]) {
                            u.circle[_] = !0;
                            var x = 3 * _;
                            if (this._circleAndRectCollide(y[x], y[x + 1], y[x + 2], t, e, r, n) && (!s || s(this.circleKeys[_]))) {
                                if (a.hitTest) return o.push(!0), !0;
                                var b = y[x],
                                    w = y[x + 1],
                                    S = y[x + 2];
                                o.push({
                                    key: this.circleKeys[_],
                                    x1: b - S,
                                    y1: w - S,
                                    x2: b + S,
                                    y2: w + S
                                })
                            }
                        }
                    }
            }, Kt.prototype._queryCellCircle = function(t, e, r, n, i, o, a, s) {
                var u = a.circle,
                    l = a.seenUids,
                    c = this.boxCells[i];
                if (null !== c)
                    for (var p = this.bboxes, h = 0, f = c; h < f.length; h += 1) {
                        var d = f[h];
                        if (!l.box[d]) {
                            l.box[d] = !0;
                            var m = 4 * d;
                            if (this._circleAndRectCollide(u.x, u.y, u.radius, p[m + 0], p[m + 1], p[m + 2], p[m + 3]) && (!s || s(this.boxKeys[d]))) return o.push(!0), !0
                        }
                    }
                var y = this.circleCells[i];
                if (null !== y)
                    for (var v = this.circles, g = 0, _ = y; g < _.length; g += 1) {
                        var x = _[g];
                        if (!l.circle[x]) {
                            l.circle[x] = !0;
                            var b = 3 * x;
                            if (this._circlesCollide(v[b], v[b + 1], v[b + 2], u.x, u.y, u.radius) && (!s || s(this.circleKeys[x]))) return o.push(!0), !0
                        }
                    }
            }, Kt.prototype._forEachCell = function(t, e, r, n, i, o, a, s) {
                for (var u = this._convertToXCellCoord(t), l = this._convertToYCellCoord(e), c = this._convertToXCellCoord(r), p = this._convertToYCellCoord(n), h = u; h <= c; h++)
                    for (var f = l; f <= p; f++)
                        if (i.call(this, t, e, r, n, this.xCellCount * f + h, o, a, s)) return
            }, Kt.prototype._convertToXCellCoord = function(t) {
                return Math.max(0, Math.min(this.xCellCount - 1, Math.floor(t * this.xScale)))
            }, Kt.prototype._convertToYCellCoord = function(t) {
                return Math.max(0, Math.min(this.yCellCount - 1, Math.floor(t * this.yScale)))
            }, Kt.prototype._circlesCollide = function(t, e, r, n, i, o) {
                var a = n - t,
                    s = i - e,
                    u = r + o;
                return u * u > a * a + s * s
            }, Kt.prototype._circleAndRectCollide = function(t, e, r, n, i, o, a) {
                var s = (o - n) / 2,
                    u = Math.abs(t - (n + s));
                if (u > s + r) return !1;
                var l = (a - i) / 2,
                    c = Math.abs(e - (i + l));
                if (c > l + r) return !1;
                if (u <= s || c <= l) return !0;
                var p = u - s,
                    h = c - l;
                return p * p + h * h <= r * r
            };
            var ue = new Float32Array([-1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0]);

            function le(t, e) {
                for (var r = 0; r < t; r++) {
                    var n = e.length;
                    e.resize(n + 4), e.float32.set(ue, 3 * n)
                }
            }

            function ce(t, e, r) {
                var n = e[0],
                    i = e[1];
                return t[0] = r[0] * n + r[4] * i + r[12], t[1] = r[1] * n + r[5] * i + r[13], t[3] = r[3] * n + r[7] * i + r[15], t
            }
            var pe = function(t, e, r) {
                void 0 === e && (e = new Kt(t.width + 200, t.height + 200, 25)), void 0 === r && (r = new Kt(t.width + 200, t.height + 200, 25)), this.transform = t, this.grid = e, this.ignoredGrid = r, this.pitchfactor = Math.cos(t._pitch) * t.cameraToCenterDistance, this.screenRightBoundary = t.width + 100, this.screenBottomBoundary = t.height + 100, this.gridRightBoundary = t.width + 200, this.gridBottomBoundary = t.height + 200
            };

            function he(e, r, n) {
                return r * (t.EXTENT / (e.tileSize * Math.pow(2, n - e.tileID.overscaledZ)))
            }
            pe.prototype.placeCollisionBox = function(t, e, r, n, i) {
                var o = this.projectAndGetPerspectiveRatio(n, t.anchorPointX, t.anchorPointY),
                    a = r * o.perspectiveRatio,
                    s = t.x1 * a + o.point.x,
                    u = t.y1 * a + o.point.y,
                    l = t.x2 * a + o.point.x,
                    c = t.y2 * a + o.point.y;
                return !this.isInsideGrid(s, u, l, c) || !e && this.grid.hitTest(s, u, l, c, i) ? {
                    box: [],
                    offscreen: !1
                } : {
                    box: [s, u, l, c],
                    offscreen: this.isOffscreen(s, u, l, c)
                }
            }, pe.prototype.placeCollisionCircles = function(e, r, n, i, o, a, s, u, l, c, p, h, f) {
                var d = [],
                    m = new t.Point(r.anchorX, r.anchorY),
                    y = Qt(m, a),
                    v = te(this.transform.cameraToCenterDistance, y.signedDistanceFromCamera),
                    g = (c ? o / v : o * v) / t.ONE_EM,
                    _ = Qt(m, s).point,
                    x = ne(g, i, r.lineOffsetX * g, r.lineOffsetY * g, !1, _, m, r, n, s, {}),
                    b = !1,
                    w = !1,
                    S = !0;
                if (x) {
                    for (var T = .5 * h * v + f, E = new t.Point(-100, -100), A = new t.Point(this.screenRightBoundary, this.screenBottomBoundary), C = new Xt, I = x.first, k = x.last, P = [], z = I.path.length - 1; z >= 1; z--) P.push(I.path[z]);
                    for (var M = 1; M < k.path.length; M++) P.push(k.path[M]);
                    var D = 2.5 * T;
                    if (u) {
                        var L = P.map((function(t) {
                            return Qt(t, u)
                        }));
                        P = L.some((function(t) {
                            return t.signedDistanceFromCamera <= 0
                        })) ? [] : L.map((function(t) {
                            return t.point
                        }))
                    }
                    var O = [];
                    if (P.length > 0) {
                        for (var R = P[0].clone(), B = P[0].clone(), F = 1; F < P.length; F++) R.x = Math.min(R.x, P[F].x), R.y = Math.min(R.y, P[F].y), B.x = Math.max(B.x, P[F].x), B.y = Math.max(B.y, P[F].y);
                        O = R.x >= E.x && B.x <= A.x && R.y >= E.y && B.y <= A.y ? [P] : B.x < E.x || R.x > A.x || B.y < E.y || R.y > A.y ? [] : t.clipLine([P], E.x, E.y, A.x, A.y)
                    }
                    for (var N = 0, U = O; N < U.length; N += 1) {
                        var j;
                        C.reset(U[N], .25 * T), j = C.length <= .5 * T ? 1 : Math.ceil(C.paddedLength / D) + 1;
                        for (var V = 0; V < j; V++) {
                            var q = V / Math.max(j - 1, 1),
                                Z = C.lerp(q),
                                $ = Z.x + 100,
                                G = Z.y + 100;
                            d.push($, G, T, 0);
                            var H = $ - T,
                                W = G - T,
                                X = $ + T,
                                K = G + T;
                            if (S = S && this.isOffscreen(H, W, X, K), w = w || this.isInsideGrid(H, W, X, K), !e && this.grid.hitTestCircle($, G, T, p) && (b = !0, !l)) return {
                                circles: [],
                                offscreen: !1,
                                collisionDetected: b
                            }
                        }
                    }
                }
                return {
                    circles: !l && b || !w ? [] : d,
                    offscreen: S,
                    collisionDetected: b
                }
            }, pe.prototype.queryRenderedSymbols = function(e) {
                if (0 === e.length || 0 === this.grid.keysLength() && 0 === this.ignoredGrid.keysLength()) return {};
                for (var r = [], n = 1 / 0, i = 1 / 0, o = -1 / 0, a = -1 / 0, s = 0, u = e; s < u.length; s += 1) {
                    var l = u[s],
                        c = new t.Point(l.x + 100, l.y + 100);
                    n = Math.min(n, c.x), i = Math.min(i, c.y), o = Math.max(o, c.x), a = Math.max(a, c.y), r.push(c)
                }
                for (var p = {}, h = {}, f = 0, d = this.grid.query(n, i, o, a).concat(this.ignoredGrid.query(n, i, o, a)); f < d.length; f += 1) {
                    var m = d[f],
                        y = m.key;
                    if (void 0 === p[y.bucketInstanceId] && (p[y.bucketInstanceId] = {}), !p[y.bucketInstanceId][y.featureIndex]) {
                        var v = [new t.Point(m.x1, m.y1), new t.Point(m.x2, m.y1), new t.Point(m.x2, m.y2), new t.Point(m.x1, m.y2)];
                        t.polygonIntersectsPolygon(r, v) && (p[y.bucketInstanceId][y.featureIndex] = !0, void 0 === h[y.bucketInstanceId] && (h[y.bucketInstanceId] = []), h[y.bucketInstanceId].push(y.featureIndex))
                    }
                }
                return h
            }, pe.prototype.insertCollisionBox = function(t, e, r, n, i) {
                (e ? this.ignoredGrid : this.grid).insert({
                    bucketInstanceId: r,
                    featureIndex: n,
                    collisionGroupID: i
                }, t[0], t[1], t[2], t[3])
            }, pe.prototype.insertCollisionCircles = function(t, e, r, n, i) {
                for (var o = e ? this.ignoredGrid : this.grid, a = {
                        bucketInstanceId: r,
                        featureIndex: n,
                        collisionGroupID: i
                    }, s = 0; s < t.length; s += 4) o.insertCircle(a, t[s], t[s + 1], t[s + 2])
            }, pe.prototype.projectAndGetPerspectiveRatio = function(e, r, n) {
                var i = [r, n, 0, 1];
                return ce(i, i, e), {
                    point: new t.Point((i[0] / i[3] + 1) / 2 * this.transform.width + 100, (-i[1] / i[3] + 1) / 2 * this.transform.height + 100),
                    perspectiveRatio: .5 + this.transform.cameraToCenterDistance / i[3] * .5
                }
            }, pe.prototype.isOffscreen = function(t, e, r, n) {
                return r < 100 || t >= this.screenRightBoundary || n < 100 || e > this.screenBottomBoundary
            }, pe.prototype.isInsideGrid = function(t, e, r, n) {
                return r >= 0 && t < this.gridRightBoundary && n >= 0 && e < this.gridBottomBoundary
            }, pe.prototype.getViewportMatrix = function() {
                var e = t.identity([]);
                return t.translate(e, e, [-100, -100, 0]), e
            };
            var fe = function(t, e, r, n) {
                this.opacity = t ? Math.max(0, Math.min(1, t.opacity + (t.placed ? e : -e))) : n && r ? 1 : 0, this.placed = r
            };
            fe.prototype.isHidden = function() {
                return 0 === this.opacity && !this.placed
            };
            var de = function(t, e, r, n, i) {
                this.text = new fe(t ? t.text : null, e, r, i), this.icon = new fe(t ? t.icon : null, e, n, i)
            };
            de.prototype.isHidden = function() {
                return this.text.isHidden() && this.icon.isHidden()
            };
            var me = function(t, e, r) {
                    this.text = t, this.icon = e, this.skipFade = r
                },
                ye = function() {
                    this.invProjMatrix = t.create(), this.viewportMatrix = t.create(), this.circles = []
                },
                ve = function(t, e, r, n, i) {
                    this.bucketInstanceId = t, this.featureIndex = e, this.sourceLayerIndex = r, this.bucketIndex = n, this.tileID = i
                },
                ge = function(t) {
                    this.crossSourceCollisions = t, this.maxGroupID = 0, this.collisionGroups = {}
                };

            function _e(e, r, n, i, o) {
                var a = t.getAnchorAlignment(e),
                    s = -(a.horizontalAlign - .5) * r,
                    u = -(a.verticalAlign - .5) * n,
                    l = t.evaluateVariableOffset(e, i);
                return new t.Point(s + l[0] * o, u + l[1] * o)
            }

            function xe(e, r, n, i, o, a) {
                var s = e.x1,
                    u = e.x2,
                    l = e.y1,
                    c = e.y2,
                    p = e.anchorPointX,
                    h = e.anchorPointY,
                    f = new t.Point(r, n);
                return i && f._rotate(o ? a : -a), {
                    x1: s + f.x,
                    y1: l + f.y,
                    x2: u + f.x,
                    y2: c + f.y,
                    anchorPointX: p,
                    anchorPointY: h
                }
            }
            ge.prototype.get = function(t) {
                if (this.crossSourceCollisions) return {
                    ID: 0,
                    predicate: null
                };
                if (!this.collisionGroups[t]) {
                    var e = ++this.maxGroupID;
                    this.collisionGroups[t] = {
                        ID: e,
                        predicate: function(t) {
                            return t.collisionGroupID === e
                        }
                    }
                }
                return this.collisionGroups[t]
            };
            var be = function(t, e, r, n) {
                this.transform = t.clone(), this.collisionIndex = new pe(this.transform), this.placements = {}, this.opacities = {}, this.variableOffsets = {}, this.stale = !1, this.commitTime = 0, this.fadeDuration = e, this.retainedQueryData = {}, this.collisionGroups = new ge(r), this.collisionCircleArrays = {}, this.prevPlacement = n, n && (n.prevPlacement = void 0), this.placedOrientations = {}
            };

            function we(t, e, r, n, i) {
                t.emplaceBack(e ? 1 : 0, r ? 1 : 0, n || 0, i || 0), t.emplaceBack(e ? 1 : 0, r ? 1 : 0, n || 0, i || 0), t.emplaceBack(e ? 1 : 0, r ? 1 : 0, n || 0, i || 0), t.emplaceBack(e ? 1 : 0, r ? 1 : 0, n || 0, i || 0)
            }
            be.prototype.getBucketParts = function(e, r, n, i) {
                var o = n.getBucket(r),
                    a = n.latestFeatureIndex;
                if (o && a && r.id === o.layerIds[0]) {
                    var s = n.collisionBoxArray,
                        u = o.layers[0].layout,
                        l = Math.pow(2, this.transform.zoom - n.tileID.overscaledZ),
                        c = n.tileSize / t.EXTENT,
                        p = this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),
                        h = "map" === u.get("text-pitch-alignment"),
                        f = "map" === u.get("text-rotation-alignment"),
                        d = he(n, 1, this.transform.zoom),
                        m = Jt(p, h, f, this.transform, d),
                        y = null;
                    if (h) {
                        var v = Yt(p, h, f, this.transform, d);
                        y = t.multiply([], this.transform.labelPlaneMatrix, v)
                    }
                    this.retainedQueryData[o.bucketInstanceId] = new ve(o.bucketInstanceId, a, o.sourceLayerIndex, o.index, n.tileID);
                    var g = {
                        bucket: o,
                        layout: u,
                        posMatrix: p,
                        textLabelPlaneMatrix: m,
                        labelToScreenMatrix: y,
                        scale: l,
                        textPixelRatio: c,
                        holdingForFade: n.holdingForFade(),
                        collisionBoxArray: s,
                        partiallyEvaluatedTextSize: t.evaluateSizeForZoom(o.textSizeData, this.transform.zoom),
                        collisionGroup: this.collisionGroups.get(o.sourceID)
                    };
                    if (i)
                        for (var _ = 0, x = o.sortKeyRanges; _ < x.length; _ += 1) {
                            var b = x[_];
                            e.push({
                                sortKey: b.sortKey,
                                symbolInstanceStart: b.symbolInstanceStart,
                                symbolInstanceEnd: b.symbolInstanceEnd,
                                parameters: g
                            })
                        } else e.push({
                            symbolInstanceStart: 0,
                            symbolInstanceEnd: o.symbolInstances.length,
                            parameters: g
                        })
                }
            }, be.prototype.attemptAnchorPlacement = function(t, e, r, n, i, o, a, s, u, l, c, p, h, f, d) {
                var m, y = [p.textOffset0, p.textOffset1],
                    v = _e(t, r, n, y, i),
                    g = this.collisionIndex.placeCollisionBox(xe(e, v.x, v.y, o, a, this.transform.angle), c, s, u, l.predicate);
                if (!d || 0 !== this.collisionIndex.placeCollisionBox(xe(d, v.x, v.y, o, a, this.transform.angle), c, s, u, l.predicate).box.length) return g.box.length > 0 ? (this.prevPlacement && this.prevPlacement.variableOffsets[p.crossTileID] && this.prevPlacement.placements[p.crossTileID] && this.prevPlacement.placements[p.crossTileID].text && (m = this.prevPlacement.variableOffsets[p.crossTileID].anchor), this.variableOffsets[p.crossTileID] = {
                    textOffset: y,
                    width: r,
                    height: n,
                    anchor: t,
                    textBoxScale: i,
                    prevAnchor: m
                }, this.markUsedJustification(h, t, p, f), h.allowVerticalPlacement && (this.markUsedOrientation(h, f, p), this.placedOrientations[p.crossTileID] = f), {
                    shift: v,
                    placedGlyphBoxes: g
                }) : void 0
            }, be.prototype.placeLayerBucketPart = function(e, r, n) {
                var i = this,
                    o = e.parameters,
                    a = o.bucket,
                    s = o.layout,
                    u = o.posMatrix,
                    l = o.textLabelPlaneMatrix,
                    c = o.labelToScreenMatrix,
                    p = o.textPixelRatio,
                    h = o.holdingForFade,
                    f = o.collisionBoxArray,
                    d = o.partiallyEvaluatedTextSize,
                    m = o.collisionGroup,
                    y = s.get("text-optional"),
                    v = s.get("icon-optional"),
                    g = s.get("text-allow-overlap"),
                    _ = s.get("icon-allow-overlap"),
                    x = "map" === s.get("text-rotation-alignment"),
                    b = "map" === s.get("text-pitch-alignment"),
                    w = "none" !== s.get("icon-text-fit"),
                    S = "viewport-y" === s.get("symbol-z-order"),
                    T = g && (_ || !a.hasIconData() || v),
                    E = _ && (g || !a.hasTextData() || y);
                !a.collisionArrays && f && a.deserializeCollisionBoxes(f);
                var A = function(e, o) {
                    if (!r[e.crossTileID])
                        if (h) i.placements[e.crossTileID] = new me(!1, !1, !1);
                        else {
                            var f, S = !1,
                                A = !1,
                                C = !0,
                                I = null,
                                k = {
                                    box: null,
                                    offscreen: null
                                },
                                P = {
                                    box: null,
                                    offscreen: null
                                },
                                z = null,
                                M = null,
                                D = 0,
                                L = 0,
                                O = 0;
                            o.textFeatureIndex ? D = o.textFeatureIndex : e.useRuntimeCollisionCircles && (D = e.featureIndex), o.verticalTextFeatureIndex && (L = o.verticalTextFeatureIndex);
                            var R = o.textBox;
                            if (R) {
                                var B = function(r) {
                                        var n = t.WritingMode.horizontal;
                                        if (a.allowVerticalPlacement && !r && i.prevPlacement) {
                                            var o = i.prevPlacement.placedOrientations[e.crossTileID];
                                            o && (i.placedOrientations[e.crossTileID] = o, i.markUsedOrientation(a, n = o, e))
                                        }
                                        return n
                                    },
                                    F = function(r, n) {
                                        if (a.allowVerticalPlacement && e.numVerticalGlyphVertices > 0 && o.verticalTextBox)
                                            for (var i = 0, s = a.writingModes; i < s.length && (s[i] === t.WritingMode.vertical ? (k = n(), P = k) : k = r(), !(k && k.box && k.box.length)); i += 1);
                                        else k = r()
                                    };
                                if (s.get("text-variable-anchor")) {
                                    var N = s.get("text-variable-anchor");
                                    if (i.prevPlacement && i.prevPlacement.variableOffsets[e.crossTileID]) {
                                        var U = i.prevPlacement.variableOffsets[e.crossTileID];
                                        N.indexOf(U.anchor) > 0 && (N = N.filter((function(t) {
                                            return t !== U.anchor
                                        }))).unshift(U.anchor)
                                    }
                                    var j = function(t, r, n) {
                                        for (var o = t.x2 - t.x1, s = t.y2 - t.y1, l = e.textBoxScale, c = w && !_ ? r : null, h = {
                                                box: [],
                                                offscreen: !1
                                            }, f = g ? 2 * N.length : N.length, d = 0; d < f; ++d) {
                                            var y = i.attemptAnchorPlacement(N[d % N.length], t, o, s, l, x, b, p, u, m, d >= N.length, e, a, n, c);
                                            if (y && (h = y.placedGlyphBoxes) && h.box && h.box.length) {
                                                S = !0, I = y.shift;
                                                break
                                            }
                                        }
                                        return h
                                    };
                                    F((function() {
                                        return j(R, o.iconBox, t.WritingMode.horizontal)
                                    }), (function() {
                                        var r = o.verticalTextBox;
                                        return a.allowVerticalPlacement && !(k && k.box && k.box.length) && e.numVerticalGlyphVertices > 0 && r ? j(r, o.verticalIconBox, t.WritingMode.vertical) : {
                                            box: null,
                                            offscreen: null
                                        }
                                    })), k && (S = k.box, C = k.offscreen);
                                    var V = B(k && k.box);
                                    if (!S && i.prevPlacement) {
                                        var q = i.prevPlacement.variableOffsets[e.crossTileID];
                                        q && (i.variableOffsets[e.crossTileID] = q, i.markUsedJustification(a, q.anchor, e, V))
                                    }
                                } else {
                                    var Z = function(t, r) {
                                        var n = i.collisionIndex.placeCollisionBox(t, g, p, u, m.predicate);
                                        return n && n.box && n.box.length && (i.markUsedOrientation(a, r, e), i.placedOrientations[e.crossTileID] = r), n
                                    };
                                    F((function() {
                                        return Z(R, t.WritingMode.horizontal)
                                    }), (function() {
                                        var r = o.verticalTextBox;
                                        return a.allowVerticalPlacement && e.numVerticalGlyphVertices > 0 && r ? Z(r, t.WritingMode.vertical) : {
                                            box: null,
                                            offscreen: null
                                        }
                                    })), B(k && k.box && k.box.length)
                                }
                            }
                            if (S = (f = k) && f.box && f.box.length > 0, C = f && f.offscreen, e.useRuntimeCollisionCircles) {
                                var $ = a.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),
                                    G = t.evaluateSizeForFeature(a.textSizeData, d, $),
                                    H = s.get("text-padding");
                                z = i.collisionIndex.placeCollisionCircles(g, $, a.lineVertexArray, a.glyphOffsetArray, G, u, l, c, n, b, m.predicate, e.collisionCircleDiameter, H), S = g || z.circles.length > 0 && !z.collisionDetected, C = C && z.offscreen
                            }
                            if (o.iconFeatureIndex && (O = o.iconFeatureIndex), o.iconBox) {
                                var W = function(t) {
                                    var e = w && I ? xe(t, I.x, I.y, x, b, i.transform.angle) : t;
                                    return i.collisionIndex.placeCollisionBox(e, _, p, u, m.predicate)
                                };
                                A = P && P.box && P.box.length && o.verticalIconBox ? (M = W(o.verticalIconBox)).box.length > 0 : (M = W(o.iconBox)).box.length > 0, C = C && M.offscreen
                            }
                            var X = y || 0 === e.numHorizontalGlyphVertices && 0 === e.numVerticalGlyphVertices,
                                K = v || 0 === e.numIconVertices;
                            if (X || K ? K ? X || (A = A && S) : S = A && S : A = S = A && S, S && f && f.box && i.collisionIndex.insertCollisionBox(f.box, s.get("text-ignore-placement"), a.bucketInstanceId, P && P.box && L ? L : D, m.ID), A && M && i.collisionIndex.insertCollisionBox(M.box, s.get("icon-ignore-placement"), a.bucketInstanceId, O, m.ID), z && (S && i.collisionIndex.insertCollisionCircles(z.circles, s.get("text-ignore-placement"), a.bucketInstanceId, D, m.ID), n)) {
                                var J = a.bucketInstanceId,
                                    Y = i.collisionCircleArrays[J];
                                void 0 === Y && (Y = i.collisionCircleArrays[J] = new ye);
                                for (var Q = 0; Q < z.circles.length; Q += 4) Y.circles.push(z.circles[Q + 0]), Y.circles.push(z.circles[Q + 1]), Y.circles.push(z.circles[Q + 2]), Y.circles.push(z.collisionDetected ? 1 : 0)
                            }
                            i.placements[e.crossTileID] = new me(S || T, A || E, C || a.justReloaded), r[e.crossTileID] = !0
                        }
                };
                if (S)
                    for (var C = a.getSortedSymbolIndexes(this.transform.angle), I = C.length - 1; I >= 0; --I) {
                        var k = C[I];
                        A(a.symbolInstances.get(k), a.collisionArrays[k])
                    } else
                        for (var P = e.symbolInstanceStart; P < e.symbolInstanceEnd; P++) A(a.symbolInstances.get(P), a.collisionArrays[P]);
                if (n && a.bucketInstanceId in this.collisionCircleArrays) {
                    var z = this.collisionCircleArrays[a.bucketInstanceId];
                    t.invert(z.invProjMatrix, u), z.viewportMatrix = this.collisionIndex.getViewportMatrix()
                }
                a.justReloaded = !1
            }, be.prototype.markUsedJustification = function(e, r, n, i) {
                var o;
                o = i === t.WritingMode.vertical ? n.verticalPlacedTextSymbolIndex : {
                    left: n.leftJustifiedTextSymbolIndex,
                    center: n.centerJustifiedTextSymbolIndex,
                    right: n.rightJustifiedTextSymbolIndex
                } [t.getAnchorJustification(r)];
                for (var a = 0, s = [n.leftJustifiedTextSymbolIndex, n.centerJustifiedTextSymbolIndex, n.rightJustifiedTextSymbolIndex, n.verticalPlacedTextSymbolIndex]; a < s.length; a += 1) {
                    var u = s[a];
                    u >= 0 && (e.text.placedSymbolArray.get(u).crossTileID = o >= 0 && u !== o ? 0 : n.crossTileID)
                }
            }, be.prototype.markUsedOrientation = function(e, r, n) {
                for (var i = r === t.WritingMode.horizontal || r === t.WritingMode.horizontalOnly ? r : 0, o = r === t.WritingMode.vertical ? r : 0, a = 0, s = [n.leftJustifiedTextSymbolIndex, n.centerJustifiedTextSymbolIndex, n.rightJustifiedTextSymbolIndex]; a < s.length; a += 1) e.text.placedSymbolArray.get(s[a]).placedOrientation = i;
                n.verticalPlacedTextSymbolIndex && (e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation = o)
            }, be.prototype.commit = function(t) {
                this.commitTime = t, this.zoomAtLastRecencyCheck = this.transform.zoom;
                var e = this.prevPlacement,
                    r = !1;
                this.prevZoomAdjustment = e ? e.zoomAdjustment(this.transform.zoom) : 0;
                var n = e ? e.symbolFadeChange(t) : 1,
                    i = e ? e.opacities : {},
                    o = e ? e.variableOffsets : {},
                    a = e ? e.placedOrientations : {};
                for (var s in this.placements) {
                    var u = this.placements[s],
                        l = i[s];
                    l ? (this.opacities[s] = new de(l, n, u.text, u.icon), r = r || u.text !== l.text.placed || u.icon !== l.icon.placed) : (this.opacities[s] = new de(null, n, u.text, u.icon, u.skipFade), r = r || u.text || u.icon)
                }
                for (var c in i) {
                    var p = i[c];
                    if (!this.opacities[c]) {
                        var h = new de(p, n, !1, !1);
                        h.isHidden() || (this.opacities[c] = h, r = r || p.text.placed || p.icon.placed)
                    }
                }
                for (var f in o) this.variableOffsets[f] || !this.opacities[f] || this.opacities[f].isHidden() || (this.variableOffsets[f] = o[f]);
                for (var d in a) this.placedOrientations[d] || !this.opacities[d] || this.opacities[d].isHidden() || (this.placedOrientations[d] = a[d]);
                r ? this.lastPlacementChangeTime = t : "number" != typeof this.lastPlacementChangeTime && (this.lastPlacementChangeTime = e ? e.lastPlacementChangeTime : t)
            }, be.prototype.updateLayerOpacities = function(t, e) {
                for (var r = {}, n = 0, i = e; n < i.length; n += 1) {
                    var o = i[n],
                        a = o.getBucket(t);
                    a && o.latestFeatureIndex && t.id === a.layerIds[0] && this.updateBucketOpacities(a, r, o.collisionBoxArray)
                }
            }, be.prototype.updateBucketOpacities = function(e, r, n) {
                var i = this;
                e.hasTextData() && e.text.opacityVertexArray.clear(), e.hasIconData() && e.icon.opacityVertexArray.clear(), e.hasIconCollisionBoxData() && e.iconCollisionBox.collisionVertexArray.clear(), e.hasTextCollisionBoxData() && e.textCollisionBox.collisionVertexArray.clear();
                var o = e.layers[0].layout,
                    a = new de(null, 0, !1, !1, !0),
                    s = o.get("text-allow-overlap"),
                    u = o.get("icon-allow-overlap"),
                    l = o.get("text-variable-anchor"),
                    c = "map" === o.get("text-rotation-alignment"),
                    p = "map" === o.get("text-pitch-alignment"),
                    h = "none" !== o.get("icon-text-fit"),
                    f = new de(null, 0, s && (u || !e.hasIconData() || o.get("icon-optional")), u && (s || !e.hasTextData() || o.get("text-optional")), !0);
                !e.collisionArrays && n && (e.hasIconCollisionBoxData() || e.hasTextCollisionBoxData()) && e.deserializeCollisionBoxes(n);
                for (var d = function(t, e, r) {
                        for (var n = 0; n < e / 4; n++) t.opacityVertexArray.emplaceBack(r)
                    }, m = function(n) {
                        var o = e.symbolInstances.get(n),
                            s = o.numHorizontalGlyphVertices,
                            u = o.numVerticalGlyphVertices,
                            m = o.crossTileID,
                            y = i.opacities[m];
                        r[m] ? y = a : y || (i.opacities[m] = y = f), r[m] = !0;
                        var v = o.numIconVertices > 0,
                            g = i.placedOrientations[o.crossTileID],
                            _ = g === t.WritingMode.vertical,
                            x = g === t.WritingMode.horizontal || g === t.WritingMode.horizontalOnly;
                        if (s > 0 || u > 0) {
                            var b = Pe(y.text);
                            d(e.text, s, _ ? ze : b), d(e.text, u, x ? ze : b);
                            var w = y.text.isHidden();
                            [o.rightJustifiedTextSymbolIndex, o.centerJustifiedTextSymbolIndex, o.leftJustifiedTextSymbolIndex].forEach((function(t) {
                                t >= 0 && (e.text.placedSymbolArray.get(t).hidden = w || _ ? 1 : 0)
                            })), o.verticalPlacedTextSymbolIndex >= 0 && (e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden = w || x ? 1 : 0);
                            var S = i.variableOffsets[o.crossTileID];
                            S && i.markUsedJustification(e, S.anchor, o, g);
                            var T = i.placedOrientations[o.crossTileID];
                            T && (i.markUsedJustification(e, "left", o, T), i.markUsedOrientation(e, T, o))
                        }
                        if (v) {
                            var E = Pe(y.icon),
                                A = !(h && o.verticalPlacedIconSymbolIndex && _);
                            o.placedIconSymbolIndex >= 0 && (d(e.icon, o.numIconVertices, A ? E : ze), e.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden = y.icon.isHidden()), o.verticalPlacedIconSymbolIndex >= 0 && (d(e.icon, o.numVerticalIconVertices, A ? ze : E), e.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden = y.icon.isHidden())
                        }
                        if (e.hasIconCollisionBoxData() || e.hasTextCollisionBoxData()) {
                            var C = e.collisionArrays[n];
                            if (C) {
                                var I = new t.Point(0, 0);
                                if (C.textBox || C.verticalTextBox) {
                                    var k = !0;
                                    if (l) {
                                        var P = i.variableOffsets[m];
                                        P ? (I = _e(P.anchor, P.width, P.height, P.textOffset, P.textBoxScale), c && I._rotate(p ? i.transform.angle : -i.transform.angle)) : k = !1
                                    }
                                    C.textBox && we(e.textCollisionBox.collisionVertexArray, y.text.placed, !k || _, I.x, I.y), C.verticalTextBox && we(e.textCollisionBox.collisionVertexArray, y.text.placed, !k || x, I.x, I.y)
                                }
                                var z = Boolean(!x && C.verticalIconBox);
                                C.iconBox && we(e.iconCollisionBox.collisionVertexArray, y.icon.placed, z, h ? I.x : 0, h ? I.y : 0), C.verticalIconBox && we(e.iconCollisionBox.collisionVertexArray, y.icon.placed, !z, h ? I.x : 0, h ? I.y : 0)
                            }
                        }
                    }, y = 0; y < e.symbolInstances.length; y++) m(y);
                if (e.sortFeatures(this.transform.angle), this.retainedQueryData[e.bucketInstanceId] && (this.retainedQueryData[e.bucketInstanceId].featureSortOrder = e.featureSortOrder), e.hasTextData() && e.text.opacityVertexBuffer && e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray), e.hasIconData() && e.icon.opacityVertexBuffer && e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray), e.hasIconCollisionBoxData() && e.iconCollisionBox.collisionVertexBuffer && e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray), e.hasTextCollisionBoxData() && e.textCollisionBox.collisionVertexBuffer && e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray), e.bucketInstanceId in this.collisionCircleArrays) {
                    var v = this.collisionCircleArrays[e.bucketInstanceId];
                    e.placementInvProjMatrix = v.invProjMatrix, e.placementViewportMatrix = v.viewportMatrix, e.collisionCircleArray = v.circles, delete this.collisionCircleArrays[e.bucketInstanceId]
                }
            }, be.prototype.symbolFadeChange = function(t) {
                return 0 === this.fadeDuration ? 1 : (t - this.commitTime) / this.fadeDuration + this.prevZoomAdjustment
            }, be.prototype.zoomAdjustment = function(t) {
                return Math.max(0, (this.transform.zoom - t) / 1.5)
            }, be.prototype.hasTransitions = function(t) {
                return this.stale || t - this.lastPlacementChangeTime < this.fadeDuration
            }, be.prototype.stillRecent = function(t, e) {
                var r = this.zoomAtLastRecencyCheck === e ? 1 - this.zoomAdjustment(e) : 1;
                return this.zoomAtLastRecencyCheck = e, this.commitTime + this.fadeDuration * r > t
            }, be.prototype.setStale = function() {
                this.stale = !0
            };
            var Se = Math.pow(2, 25),
                Te = Math.pow(2, 24),
                Ee = Math.pow(2, 17),
                Ae = Math.pow(2, 16),
                Ce = Math.pow(2, 9),
                Ie = Math.pow(2, 8),
                ke = Math.pow(2, 1);

            function Pe(t) {
                if (0 === t.opacity && !t.placed) return 0;
                if (1 === t.opacity && t.placed) return 4294967295;
                var e = t.placed ? 1 : 0,
                    r = Math.floor(127 * t.opacity);
                return r * Se + e * Te + r * Ee + e * Ae + r * Ce + e * Ie + r * ke + e
            }
            var ze = 0,
                Me = function(t) {
                    this._sortAcrossTiles = "viewport-y" !== t.layout.get("symbol-z-order") && void 0 !== t.layout.get("symbol-sort-key").constantOr(1), this._currentTileIndex = 0, this._currentPartIndex = 0, this._seenCrossTileIDs = {}, this._bucketParts = []
                };
            Me.prototype.continuePlacement = function(t, e, r, n, i) {
                for (var o = this._bucketParts; this._currentTileIndex < t.length;)
                    if (e.getBucketParts(o, n, t[this._currentTileIndex], this._sortAcrossTiles), this._currentTileIndex++, i()) return !0;
                for (this._sortAcrossTiles && (this._sortAcrossTiles = !1, o.sort((function(t, e) {
                        return t.sortKey - e.sortKey
                    }))); this._currentPartIndex < o.length;)
                    if (e.placeLayerBucketPart(o[this._currentPartIndex], this._seenCrossTileIDs, r), this._currentPartIndex++, i()) return !0;
                return !1
            };
            var De = function(t, e, r, n, i, o, a) {
                this.placement = new be(t, i, o, a), this._currentPlacementIndex = e.length - 1, this._forceFullPlacement = r, this._showCollisionBoxes = n, this._done = !1
            };
            De.prototype.isDone = function() {
                return this._done
            }, De.prototype.continuePlacement = function(e, r, n) {
                for (var i = this, o = t.browser.now(), a = function() {
                        var e = t.browser.now() - o;
                        return !i._forceFullPlacement && e > 2
                    }; this._currentPlacementIndex >= 0;) {
                    var s = r[e[this._currentPlacementIndex]],
                        u = this.placement.collisionIndex.transform.zoom;
                    if ("symbol" === s.type && (!s.minzoom || s.minzoom <= u) && (!s.maxzoom || s.maxzoom > u)) {
                        if (this._inProgressLayer || (this._inProgressLayer = new Me(s)), this._inProgressLayer.continuePlacement(n[s.source], this.placement, this._showCollisionBoxes, s, a)) return;
                        delete this._inProgressLayer
                    }
                    this._currentPlacementIndex--
                }
                this._done = !0
            }, De.prototype.commit = function(t) {
                return this.placement.commit(t), this.placement
            };
            var Le = 512 / t.EXTENT / 2,
                Oe = function(t, e, r) {
                    this.tileID = t, this.indexedSymbolInstances = {}, this.bucketInstanceId = r;
                    for (var n = 0; n < e.length; n++) {
                        var i = e.get(n),
                            o = i.key;
                        this.indexedSymbolInstances[o] || (this.indexedSymbolInstances[o] = []), this.indexedSymbolInstances[o].push({
                            crossTileID: i.crossTileID,
                            coord: this.getScaledCoordinates(i, t)
                        })
                    }
                };
            Oe.prototype.getScaledCoordinates = function(e, r) {
                var n = Le / Math.pow(2, r.canonical.z - this.tileID.canonical.z);
                return {
                    x: Math.floor((r.canonical.x * t.EXTENT + e.anchorX) * n),
                    y: Math.floor((r.canonical.y * t.EXTENT + e.anchorY) * n)
                }
            }, Oe.prototype.findMatches = function(t, e, r) {
                for (var n = this.tileID.canonical.z < e.canonical.z ? 1 : Math.pow(2, this.tileID.canonical.z - e.canonical.z), i = 0; i < t.length; i++) {
                    var o = t.get(i);
                    if (!o.crossTileID) {
                        var a = this.indexedSymbolInstances[o.key];
                        if (a)
                            for (var s = this.getScaledCoordinates(o, e), u = 0, l = a; u < l.length; u += 1) {
                                var c = l[u];
                                if (Math.abs(c.coord.x - s.x) <= n && Math.abs(c.coord.y - s.y) <= n && !r[c.crossTileID]) {
                                    r[c.crossTileID] = !0, o.crossTileID = c.crossTileID;
                                    break
                                }
                            }
                    }
                }
            };
            var Re = function() {
                this.maxCrossTileID = 0
            };
            Re.prototype.generate = function() {
                return ++this.maxCrossTileID
            };
            var Be = function() {
                this.indexes = {}, this.usedCrossTileIDs = {}, this.lng = 0
            };
            Be.prototype.handleWrapJump = function(t) {
                var e = Math.round((t - this.lng) / 360);
                if (0 !== e)
                    for (var r in this.indexes) {
                        var n = this.indexes[r],
                            i = {};
                        for (var o in n) {
                            var a = n[o];
                            a.tileID = a.tileID.unwrapTo(a.tileID.wrap + e), i[a.tileID.key] = a
                        }
                        this.indexes[r] = i
                    }
                this.lng = t
            }, Be.prototype.addBucket = function(t, e, r) {
                if (this.indexes[t.overscaledZ] && this.indexes[t.overscaledZ][t.key]) {
                    if (this.indexes[t.overscaledZ][t.key].bucketInstanceId === e.bucketInstanceId) return !1;
                    this.removeBucketCrossTileIDs(t.overscaledZ, this.indexes[t.overscaledZ][t.key])
                }
                for (var n = 0; n < e.symbolInstances.length; n++) e.symbolInstances.get(n).crossTileID = 0;
                this.usedCrossTileIDs[t.overscaledZ] || (this.usedCrossTileIDs[t.overscaledZ] = {});
                var i = this.usedCrossTileIDs[t.overscaledZ];
                for (var o in this.indexes) {
                    var a = this.indexes[o];
                    if (Number(o) > t.overscaledZ)
                        for (var s in a) {
                            var u = a[s];
                            u.tileID.isChildOf(t) && u.findMatches(e.symbolInstances, t, i)
                        } else {
                            var l = a[t.scaledTo(Number(o)).key];
                            l && l.findMatches(e.symbolInstances, t, i)
                        }
                }
                for (var c = 0; c < e.symbolInstances.length; c++) {
                    var p = e.symbolInstances.get(c);
                    p.crossTileID || (p.crossTileID = r.generate(), i[p.crossTileID] = !0)
                }
                return void 0 === this.indexes[t.overscaledZ] && (this.indexes[t.overscaledZ] = {}), this.indexes[t.overscaledZ][t.key] = new Oe(t, e.symbolInstances, e.bucketInstanceId), !0
            }, Be.prototype.removeBucketCrossTileIDs = function(t, e) {
                for (var r in e.indexedSymbolInstances)
                    for (var n = 0, i = e.indexedSymbolInstances[r]; n < i.length; n += 1) delete this.usedCrossTileIDs[t][i[n].crossTileID]
            }, Be.prototype.removeStaleBuckets = function(t) {
                var e = !1;
                for (var r in this.indexes) {
                    var n = this.indexes[r];
                    for (var i in n) t[n[i].bucketInstanceId] || (this.removeBucketCrossTileIDs(r, n[i]), delete n[i], e = !0)
                }
                return e
            };
            var Fe = function() {
                this.layerIndexes = {}, this.crossTileIDs = new Re, this.maxBucketInstanceId = 0, this.bucketsInCurrentPlacement = {}
            };
            Fe.prototype.addLayer = function(t, e, r) {
                var n = this.layerIndexes[t.id];
                void 0 === n && (n = this.layerIndexes[t.id] = new Be);
                var i = !1,
                    o = {};
                n.handleWrapJump(r);
                for (var a = 0, s = e; a < s.length; a += 1) {
                    var u = s[a],
                        l = u.getBucket(t);
                    l && t.id === l.layerIds[0] && (l.bucketInstanceId || (l.bucketInstanceId = ++this.maxBucketInstanceId), n.addBucket(u.tileID, l, this.crossTileIDs) && (i = !0), o[l.bucketInstanceId] = !0)
                }
                return n.removeStaleBuckets(o) && (i = !0), i
            }, Fe.prototype.pruneUnusedLayers = function(t) {
                var e = {};
                for (var r in t.forEach((function(t) {
                        e[t] = !0
                    })), this.layerIndexes) e[r] || delete this.layerIndexes[r]
            };
            var Ne = function(e, r) {
                    return t.emitValidationErrors(e, r && r.filter((function(t) {
                        return "source.canvas" !== t.identifier
                    })))
                },
                Ue = t.pick(jt, ["addLayer", "removeLayer", "setPaintProperty", "setLayoutProperty", "setFilter", "addSource", "removeSource", "setLayerZoomRange", "setLight", "setTransition", "setGeoJSONSourceData"]),
                je = t.pick(jt, ["setCenter", "setZoom", "setBearing", "setPitch"]),
                Ve = function() {
                    var e = {},
                        r = t.styleSpec.$version;
                    for (var n in t.styleSpec.$root) {
                        var i, o = t.styleSpec.$root[n];
                        o.required && null != (i = "version" === n ? r : "array" === o.type ? [] : {}) && (e[n] = i)
                    }
                    return e
                }(),
                qe = function(e) {
                    function r(n, i) {
                        var o = this;
                        void 0 === i && (i = {}), e.call(this), this.map = n, this.dispatcher = new T(Ft(), this), this.imageManager = new h, this.imageManager.setEventedParent(this), this.glyphManager = new _(n._requestManager, i.localIdeographFontFamily), this.lineAtlas = new S(256, 512), this.crossTileSymbolIndex = new Fe, this._layers = {}, this._serializedLayers = {}, this._order = [], this.sourceCaches = {}, this.zoomHistory = new t.ZoomHistory, this._loaded = !1, this._availableImages = [], this._resetUpdates(), this.dispatcher.broadcast("setReferrer", t.getReferrer());
                        var a = this;
                        this._rtlTextPluginCallback = r.registerForPluginStateChange((function(e) {
                            a.dispatcher.broadcast("syncRTLPluginState", {
                                pluginStatus: e.pluginStatus,
                                pluginURL: e.pluginURL
                            }, (function(e, r) {
                                if (t.triggerPluginCompletionEvent(e), r && r.every((function(t) {
                                        return t
                                    })))
                                    for (var n in a.sourceCaches) a.sourceCaches[n].reload()
                            }))
                        })), this.on("data", (function(t) {
                            if ("source" === t.dataType && "metadata" === t.sourceDataType) {
                                var e = o.sourceCaches[t.sourceId];
                                if (e) {
                                    var r = e.getSource();
                                    if (r && r.vectorLayerIds)
                                        for (var n in o._layers) {
                                            var i = o._layers[n];
                                            i.source === r.id && o._validateLayer(i)
                                        }
                                }
                            }
                        }))
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.loadURL = function(e, r) {
                        var n = this;
                        void 0 === r && (r = {}), this.fire(new t.Event("dataloading", {
                            dataType: "style"
                        }));
                        var i = "boolean" == typeof r.validate ? r.validate : !t.isMapboxURL(e);
                        e = this.map._requestManager.normalizeStyleURL(e, r.accessToken);
                        var o = this.map._requestManager.transformRequest(e, t.ResourceType.Style);
                        this._request = t.getJSON(o, (function(e, r) {
                            n._request = null, e ? n.fire(new t.ErrorEvent(e)) : r && n._load(r, i)
                        }))
                    }, r.prototype.loadJSON = function(e, r) {
                        var n = this;
                        void 0 === r && (r = {}), this.fire(new t.Event("dataloading", {
                            dataType: "style"
                        })), this._request = t.browser.frame((function() {
                            n._request = null, n._load(e, !1 !== r.validate)
                        }))
                    }, r.prototype.loadEmpty = function() {
                        this.fire(new t.Event("dataloading", {
                            dataType: "style"
                        })), this._load(Ve, !1)
                    }, r.prototype._load = function(e, r) {
                        if (!r || !Ne(this, t.validateStyle(e))) {
                            for (var n in this._loaded = !0, this.stylesheet = e, e.sources) this.addSource(n, e.sources[n], {
                                validate: !1
                            });
                            e.sprite ? this._loadSprite(e.sprite) : this.imageManager.setLoaded(!0), this.glyphManager.setURL(e.glyphs);
                            var i = Ut(this.stylesheet.layers);
                            this._order = i.map((function(t) {
                                return t.id
                            })), this._layers = {}, this._serializedLayers = {};
                            for (var o = 0, a = i; o < a.length; o += 1) {
                                var s = a[o];
                                (s = t.createStyleLayer(s)).setEventedParent(this, {
                                    layer: {
                                        id: s.id
                                    }
                                }), this._layers[s.id] = s, this._serializedLayers[s.id] = s.serialize()
                            }
                            this.dispatcher.broadcast("setLayers", this._serializeLayers(this._order)), this.light = new w(this.stylesheet.light), this.fire(new t.Event("data", {
                                dataType: "style"
                            })), this.fire(new t.Event("style.load"))
                        }
                    }, r.prototype._loadSprite = function(e) {
                        var r = this;
                        this._spriteRequest = function(e, r, n) {
                            var i, o, a, s = t.browser.devicePixelRatio > 1 ? "@2x" : "",
                                u = t.getJSON(r.transformRequest(r.normalizeSpriteURL(e, s, ".json"), t.ResourceType.SpriteJSON), (function(t, e) {
                                    u = null, a || (a = t, i = e, c())
                                })),
                                l = t.getImage(r.transformRequest(r.normalizeSpriteURL(e, s, ".png"), t.ResourceType.SpriteImage), (function(t, e) {
                                    l = null, a || (a = t, o = e, c())
                                }));

                            function c() {
                                if (a) n(a);
                                else if (i && o) {
                                    var e = t.browser.getImageData(o),
                                        r = {};
                                    for (var s in i) {
                                        var u = i[s],
                                            l = u.width,
                                            c = u.height,
                                            p = u.x,
                                            h = u.y,
                                            f = u.sdf,
                                            d = u.pixelRatio,
                                            m = u.stretchX,
                                            y = u.stretchY,
                                            v = u.content,
                                            g = new t.RGBAImage({
                                                width: l,
                                                height: c
                                            });
                                        t.RGBAImage.copy(e, g, {
                                            x: p,
                                            y: h
                                        }, {
                                            x: 0,
                                            y: 0
                                        }, {
                                            width: l,
                                            height: c
                                        }), r[s] = {
                                            data: g,
                                            pixelRatio: d,
                                            sdf: f,
                                            stretchX: m,
                                            stretchY: y,
                                            content: v
                                        }
                                    }
                                    n(null, r)
                                }
                            }
                            return {
                                cancel: function() {
                                    u && (u.cancel(), u = null), l && (l.cancel(), l = null)
                                }
                            }
                        }(e, this.map._requestManager, (function(e, n) {
                            if (r._spriteRequest = null, e) r.fire(new t.ErrorEvent(e));
                            else if (n)
                                for (var i in n) r.imageManager.addImage(i, n[i]);
                            r.imageManager.setLoaded(!0), r._availableImages = r.imageManager.listImages(), r.dispatcher.broadcast("setImages", r._availableImages), r.fire(new t.Event("data", {
                                dataType: "style"
                            }))
                        }))
                    }, r.prototype._validateLayer = function(e) {
                        var r = this.sourceCaches[e.source];
                        if (r) {
                            var n = e.sourceLayer;
                            if (n) {
                                var i = r.getSource();
                                ("geojson" === i.type || i.vectorLayerIds && -1 === i.vectorLayerIds.indexOf(n)) && this.fire(new t.ErrorEvent(new Error('Source layer "' + n + '" does not exist on source "' + i.id + '" as specified by style layer "' + e.id + '"')))
                            }
                        }
                    }, r.prototype.loaded = function() {
                        if (!this._loaded) return !1;
                        if (Object.keys(this._updatedSources).length) return !1;
                        for (var t in this.sourceCaches)
                            if (!this.sourceCaches[t].loaded()) return !1;
                        return !!this.imageManager.isLoaded()
                    }, r.prototype._serializeLayers = function(t) {
                        for (var e = [], r = 0, n = t; r < n.length; r += 1) {
                            var i = this._layers[n[r]];
                            "custom" !== i.type && e.push(i.serialize())
                        }
                        return e
                    }, r.prototype.hasTransitions = function() {
                        if (this.light && this.light.hasTransition()) return !0;
                        for (var t in this.sourceCaches)
                            if (this.sourceCaches[t].hasTransition()) return !0;
                        for (var e in this._layers)
                            if (this._layers[e].hasTransition()) return !0;
                        return !1
                    }, r.prototype._checkLoaded = function() {
                        if (!this._loaded) throw new Error("Style is not done loading")
                    }, r.prototype.update = function(e) {
                        if (this._loaded) {
                            var r = this._changed;
                            if (this._changed) {
                                var n = Object.keys(this._updatedLayers),
                                    i = Object.keys(this._removedLayers);
                                for (var o in (n.length || i.length) && this._updateWorkerLayers(n, i), this._updatedSources) {
                                    var a = this._updatedSources[o];
                                    "reload" === a ? this._reloadSource(o) : "clear" === a && this._clearSource(o)
                                }
                                for (var s in this._updateTilesForChangedImages(), this._updatedPaintProps) this._layers[s].updateTransitions(e);
                                this.light.updateTransitions(e), this._resetUpdates()
                            }
                            for (var u in this.sourceCaches) this.sourceCaches[u].used = !1;
                            for (var l = 0, c = this._order; l < c.length; l += 1) {
                                var p = this._layers[c[l]];
                                p.recalculate(e, this._availableImages), !p.isHidden(e.zoom) && p.source && (this.sourceCaches[p.source].used = !0)
                            }
                            this.light.recalculate(e), this.z = e.zoom, r && this.fire(new t.Event("data", {
                                dataType: "style"
                            }))
                        }
                    }, r.prototype._updateTilesForChangedImages = function() {
                        var t = Object.keys(this._changedImages);
                        if (t.length) {
                            for (var e in this.sourceCaches) this.sourceCaches[e].reloadTilesForDependencies(["icons", "patterns"], t);
                            this._changedImages = {}
                        }
                    }, r.prototype._updateWorkerLayers = function(t, e) {
                        this.dispatcher.broadcast("updateLayers", {
                            layers: this._serializeLayers(t),
                            removedIds: e
                        })
                    }, r.prototype._resetUpdates = function() {
                        this._changed = !1, this._updatedLayers = {}, this._removedLayers = {}, this._updatedSources = {}, this._updatedPaintProps = {}, this._changedImages = {}
                    }, r.prototype.setState = function(e) {
                        var r = this;
                        if (this._checkLoaded(), Ne(this, t.validateStyle(e))) return !1;
                        (e = t.clone$1(e)).layers = Ut(e.layers);
                        var n = function(e, r) {
                            if (!e) return [{
                                command: jt.setStyle,
                                args: [r]
                            }];
                            var n = [];
                            try {
                                if (!t.deepEqual(e.version, r.version)) return [{
                                    command: jt.setStyle,
                                    args: [r]
                                }];
                                t.deepEqual(e.center, r.center) || n.push({
                                    command: jt.setCenter,
                                    args: [r.center]
                                }), t.deepEqual(e.zoom, r.zoom) || n.push({
                                    command: jt.setZoom,
                                    args: [r.zoom]
                                }), t.deepEqual(e.bearing, r.bearing) || n.push({
                                    command: jt.setBearing,
                                    args: [r.bearing]
                                }), t.deepEqual(e.pitch, r.pitch) || n.push({
                                    command: jt.setPitch,
                                    args: [r.pitch]
                                }), t.deepEqual(e.sprite, r.sprite) || n.push({
                                    command: jt.setSprite,
                                    args: [r.sprite]
                                }), t.deepEqual(e.glyphs, r.glyphs) || n.push({
                                    command: jt.setGlyphs,
                                    args: [r.glyphs]
                                }), t.deepEqual(e.transition, r.transition) || n.push({
                                    command: jt.setTransition,
                                    args: [r.transition]
                                }), t.deepEqual(e.light, r.light) || n.push({
                                    command: jt.setLight,
                                    args: [r.light]
                                });
                                var i = {},
                                    o = [];
                                ! function(e, r, n, i) {
                                    var o;
                                    for (o in r = r || {}, e = e || {}) e.hasOwnProperty(o) && (r.hasOwnProperty(o) || qt(o, n, i));
                                    for (o in r) r.hasOwnProperty(o) && (e.hasOwnProperty(o) ? t.deepEqual(e[o], r[o]) || ("geojson" === e[o].type && "geojson" === r[o].type && $t(e, r, o) ? n.push({
                                        command: jt.setGeoJSONSourceData,
                                        args: [o, r[o].data]
                                    }) : Zt(o, r, n, i)) : Vt(o, r, n))
                                }(e.sources, r.sources, o, i);
                                var a = [];
                                e.layers && e.layers.forEach((function(t) {
                                        i[t.source] ? n.push({
                                            command: jt.removeLayer,
                                            args: [t.id]
                                        }) : a.push(t)
                                    })), n = n.concat(o),
                                    function(e, r, n) {
                                        r = r || [];
                                        var i, o, a, s, u, l, c, p = (e = e || []).map(Ht),
                                            h = r.map(Ht),
                                            f = e.reduce(Wt, {}),
                                            d = r.reduce(Wt, {}),
                                            m = p.slice(),
                                            y = Object.create(null);
                                        for (i = 0, o = 0; i < p.length; i++) d.hasOwnProperty(a = p[i]) ? o++ : (n.push({
                                            command: jt.removeLayer,
                                            args: [a]
                                        }), m.splice(m.indexOf(a, o), 1));
                                        for (i = 0, o = 0; i < h.length; i++) m[m.length - 1 - i] !== (a = h[h.length - 1 - i]) && (f.hasOwnProperty(a) ? (n.push({
                                            command: jt.removeLayer,
                                            args: [a]
                                        }), m.splice(m.lastIndexOf(a, m.length - o), 1)) : o++, n.push({
                                            command: jt.addLayer,
                                            args: [d[a], l = m[m.length - i]]
                                        }), m.splice(m.length - i, 0, a), y[a] = !0);
                                        for (i = 0; i < h.length; i++)
                                            if (s = f[a = h[i]], u = d[a], !y[a] && !t.deepEqual(s, u))
                                                if (t.deepEqual(s.source, u.source) && t.deepEqual(s["source-layer"], u["source-layer"]) && t.deepEqual(s.type, u.type)) {
                                                    for (c in Gt(s.layout, u.layout, n, a, null, jt.setLayoutProperty), Gt(s.paint, u.paint, n, a, null, jt.setPaintProperty), t.deepEqual(s.filter, u.filter) || n.push({
                                                            command: jt.setFilter,
                                                            args: [a, u.filter]
                                                        }), t.deepEqual(s.minzoom, u.minzoom) && t.deepEqual(s.maxzoom, u.maxzoom) || n.push({
                                                            command: jt.setLayerZoomRange,
                                                            args: [a, u.minzoom, u.maxzoom]
                                                        }), s) s.hasOwnProperty(c) && "layout" !== c && "paint" !== c && "filter" !== c && "metadata" !== c && "minzoom" !== c && "maxzoom" !== c && (0 === c.indexOf("paint.") ? Gt(s[c], u[c], n, a, c.slice(6), jt.setPaintProperty) : t.deepEqual(s[c], u[c]) || n.push({
                                                        command: jt.setLayerProperty,
                                                        args: [a, c, u[c]]
                                                    }));
                                                    for (c in u) u.hasOwnProperty(c) && !s.hasOwnProperty(c) && "layout" !== c && "paint" !== c && "filter" !== c && "metadata" !== c && "minzoom" !== c && "maxzoom" !== c && (0 === c.indexOf("paint.") ? Gt(s[c], u[c], n, a, c.slice(6), jt.setPaintProperty) : t.deepEqual(s[c], u[c]) || n.push({
                                                        command: jt.setLayerProperty,
                                                        args: [a, c, u[c]]
                                                    }))
                                                } else n.push({
                                                    command: jt.removeLayer,
                                                    args: [a]
                                                }), l = m[m.lastIndexOf(a) + 1], n.push({
                                                    command: jt.addLayer,
                                                    args: [u, l]
                                                })
                                    }(a, r.layers, n)
                            } catch (t) {
                                console.warn("Unable to compute style diff:", t), n = [{
                                    command: jt.setStyle,
                                    args: [r]
                                }]
                            }
                            return n
                        }(this.serialize(), e).filter((function(t) {
                            return !(t.command in je)
                        }));
                        if (0 === n.length) return !1;
                        var i = n.filter((function(t) {
                            return !(t.command in Ue)
                        }));
                        if (i.length > 0) throw new Error("Unimplemented: " + i.map((function(t) {
                            return t.command
                        })).join(", ") + ".");
                        return n.forEach((function(t) {
                            "setTransition" !== t.command && r[t.command].apply(r, t.args)
                        })), this.stylesheet = e, !0
                    }, r.prototype.addImage = function(e, r) {
                        if (this.getImage(e)) return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));
                        this.imageManager.addImage(e, r), this._availableImages = this.imageManager.listImages(), this._changedImages[e] = !0, this._changed = !0, this.fire(new t.Event("data", {
                            dataType: "style"
                        }))
                    }, r.prototype.updateImage = function(t, e) {
                        this.imageManager.updateImage(t, e)
                    }, r.prototype.getImage = function(t) {
                        return this.imageManager.getImage(t)
                    }, r.prototype.removeImage = function(e) {
                        if (!this.getImage(e)) return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));
                        this.imageManager.removeImage(e), this._availableImages = this.imageManager.listImages(), this._changedImages[e] = !0, this._changed = !0, this.fire(new t.Event("data", {
                            dataType: "style"
                        }))
                    }, r.prototype.listImages = function() {
                        return this._checkLoaded(), this.imageManager.listImages()
                    }, r.prototype.addSource = function(e, r, n) {
                        var i = this;
                        if (void 0 === n && (n = {}), this._checkLoaded(), void 0 !== this.sourceCaches[e]) throw new Error("There is already a source with this ID");
                        if (!r.type) throw new Error("The type property must be defined, but the only the following properties were given: " + Object.keys(r).join(", ") + ".");
                        if (!(["vector", "raster", "geojson", "video", "image"].indexOf(r.type) >= 0 && this._validate(t.validateStyle.source, "sources." + e, r, null, n))) {
                            this.map && this.map._collectResourceTiming && (r.collectResourceTiming = !0);
                            var o = this.sourceCaches[e] = new Pt(e, r, this.dispatcher);
                            o.style = this, o.setEventedParent(this, (function() {
                                return {
                                    isSourceLoaded: i.loaded(),
                                    source: o.serialize(),
                                    sourceId: e
                                }
                            })), o.onAdd(this.map), this._changed = !0
                        }
                    }, r.prototype.removeSource = function(e) {
                        if (this._checkLoaded(), void 0 === this.sourceCaches[e]) throw new Error("There is no source with this ID");
                        for (var r in this._layers)
                            if (this._layers[r].source === e) return this.fire(new t.ErrorEvent(new Error('Source "' + e + '" cannot be removed while layer "' + r + '" is using it.')));
                        var n = this.sourceCaches[e];
                        delete this.sourceCaches[e], delete this._updatedSources[e], n.fire(new t.Event("data", {
                            sourceDataType: "metadata",
                            dataType: "source",
                            sourceId: e
                        })), n.setEventedParent(null), n.clearTiles(), n.onRemove && n.onRemove(this.map), this._changed = !0
                    }, r.prototype.setGeoJSONSourceData = function(t, e) {
                        this._checkLoaded(), this.sourceCaches[t].getSource().setData(e), this._changed = !0
                    }, r.prototype.getSource = function(t) {
                        return this.sourceCaches[t] && this.sourceCaches[t].getSource()
                    }, r.prototype.addLayer = function(e, r, n) {
                        void 0 === n && (n = {}), this._checkLoaded();
                        var i = e.id;
                        if (this.getLayer(i)) this.fire(new t.ErrorEvent(new Error('Layer with id "' + i + '" already exists on this map')));
                        else {
                            var o;
                            if ("custom" === e.type) {
                                if (Ne(this, t.validateCustomStyleLayer(e))) return;
                                o = t.createStyleLayer(e)
                            } else {
                                if ("object" == typeof e.source && (this.addSource(i, e.source), e = t.clone$1(e), e = t.extend(e, {
                                        source: i
                                    })), this._validate(t.validateStyle.layer, "layers." + i, e, {
                                        arrayIndex: -1
                                    }, n)) return;
                                o = t.createStyleLayer(e), this._validateLayer(o), o.setEventedParent(this, {
                                    layer: {
                                        id: i
                                    }
                                }), this._serializedLayers[o.id] = o.serialize()
                            }
                            var a = r ? this._order.indexOf(r) : this._order.length;
                            if (r && -1 === a) this.fire(new t.ErrorEvent(new Error('Layer with id "' + r + '" does not exist on this map.')));
                            else {
                                if (this._order.splice(a, 0, i), this._layerOrderChanged = !0, this._layers[i] = o, this._removedLayers[i] && o.source && "custom" !== o.type) {
                                    var s = this._removedLayers[i];
                                    delete this._removedLayers[i], s.type !== o.type ? this._updatedSources[o.source] = "clear" : (this._updatedSources[o.source] = "reload", this.sourceCaches[o.source].pause())
                                }
                                this._updateLayer(o), o.onAdd && o.onAdd(this.map)
                            }
                        }
                    }, r.prototype.moveLayer = function(e, r) {
                        if (this._checkLoaded(), this._changed = !0, this._layers[e]) {
                            if (e !== r) {
                                var n = this._order.indexOf(e);
                                this._order.splice(n, 1);
                                var i = r ? this._order.indexOf(r) : this._order.length;
                                r && -1 === i ? this.fire(new t.ErrorEvent(new Error('Layer with id "' + r + '" does not exist on this map.'))) : (this._order.splice(i, 0, e), this._layerOrderChanged = !0)
                            }
                        } else this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot be moved.")))
                    }, r.prototype.removeLayer = function(e) {
                        this._checkLoaded();
                        var r = this._layers[e];
                        if (r) {
                            r.setEventedParent(null);
                            var n = this._order.indexOf(e);
                            this._order.splice(n, 1), this._layerOrderChanged = !0, this._changed = !0, this._removedLayers[e] = r, delete this._layers[e], delete this._serializedLayers[e], delete this._updatedLayers[e], delete this._updatedPaintProps[e], r.onRemove && r.onRemove(this.map)
                        } else this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot be removed.")))
                    }, r.prototype.getLayer = function(t) {
                        return this._layers[t]
                    }, r.prototype.hasLayer = function(t) {
                        return t in this._layers
                    }, r.prototype.setLayerZoomRange = function(e, r, n) {
                        this._checkLoaded();
                        var i = this.getLayer(e);
                        i ? i.minzoom === r && i.maxzoom === n || (null != r && (i.minzoom = r), null != n && (i.maxzoom = n), this._updateLayer(i)) : this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot have zoom extent.")))
                    }, r.prototype.setFilter = function(e, r, n) {
                        void 0 === n && (n = {}), this._checkLoaded();
                        var i = this.getLayer(e);
                        if (i) {
                            if (!t.deepEqual(i.filter, r)) return null == r ? (i.filter = void 0, void this._updateLayer(i)) : void(this._validate(t.validateStyle.filter, "layers." + i.id + ".filter", r, null, n) || (i.filter = t.clone$1(r), this._updateLayer(i)))
                        } else this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot be filtered.")))
                    }, r.prototype.getFilter = function(e) {
                        return t.clone$1(this.getLayer(e).filter)
                    }, r.prototype.setLayoutProperty = function(e, r, n, i) {
                        void 0 === i && (i = {}), this._checkLoaded();
                        var o = this.getLayer(e);
                        o ? t.deepEqual(o.getLayoutProperty(r), n) || (o.setLayoutProperty(r, n, i), this._updateLayer(o)) : this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot be styled.")))
                    }, r.prototype.getLayoutProperty = function(e, r) {
                        var n = this.getLayer(e);
                        if (n) return n.getLayoutProperty(r);
                        this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style.")))
                    }, r.prototype.setPaintProperty = function(e, r, n, i) {
                        void 0 === i && (i = {}), this._checkLoaded();
                        var o = this.getLayer(e);
                        o ? t.deepEqual(o.getPaintProperty(r), n) || (o.setPaintProperty(r, n, i) && this._updateLayer(o), this._changed = !0, this._updatedPaintProps[e] = !0) : this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot be styled.")))
                    }, r.prototype.getPaintProperty = function(t, e) {
                        return this.getLayer(t).getPaintProperty(e)
                    }, r.prototype.setFeatureState = function(e, r) {
                        this._checkLoaded();
                        var n = e.source,
                            i = e.sourceLayer,
                            o = this.sourceCaches[n];
                        if (void 0 !== o) {
                            var a = o.getSource().type;
                            "geojson" === a && i ? this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))) : "vector" !== a || i ? (void 0 === e.id && this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))), o.setFeatureState(i, e.id, r)) : this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))
                        } else this.fire(new t.ErrorEvent(new Error("The source '" + n + "' does not exist in the map's style.")))
                    }, r.prototype.removeFeatureState = function(e, r) {
                        this._checkLoaded();
                        var n = e.source,
                            i = this.sourceCaches[n];
                        if (void 0 !== i) {
                            var o = i.getSource().type,
                                a = "vector" === o ? e.sourceLayer : void 0;
                            "vector" !== o || a ? r && "string" != typeof e.id && "number" != typeof e.id ? this.fire(new t.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))) : i.removeFeatureState(a, e.id, r) : this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))
                        } else this.fire(new t.ErrorEvent(new Error("The source '" + n + "' does not exist in the map's style.")))
                    }, r.prototype.getFeatureState = function(e) {
                        this._checkLoaded();
                        var r = e.source,
                            n = e.sourceLayer,
                            i = this.sourceCaches[r];
                        if (void 0 !== i) {
                            if ("vector" !== i.getSource().type || n) return void 0 === e.id && this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))), i.getFeatureState(n, e.id);
                            this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))
                        } else this.fire(new t.ErrorEvent(new Error("The source '" + r + "' does not exist in the map's style.")))
                    }, r.prototype.getTransition = function() {
                        return t.extend({
                            duration: 300,
                            delay: 0
                        }, this.stylesheet && this.stylesheet.transition)
                    }, r.prototype.serialize = function() {
                        return t.filterObject({
                            version: this.stylesheet.version,
                            name: this.stylesheet.name,
                            metadata: this.stylesheet.metadata,
                            light: this.stylesheet.light,
                            center: this.stylesheet.center,
                            zoom: this.stylesheet.zoom,
                            bearing: this.stylesheet.bearing,
                            pitch: this.stylesheet.pitch,
                            sprite: this.stylesheet.sprite,
                            glyphs: this.stylesheet.glyphs,
                            transition: this.stylesheet.transition,
                            sources: t.mapObject(this.sourceCaches, (function(t) {
                                return t.serialize()
                            })),
                            layers: this._serializeLayers(this._order)
                        }, (function(t) {
                            return void 0 !== t
                        }))
                    }, r.prototype._updateLayer = function(t) {
                        this._updatedLayers[t.id] = !0, t.source && !this._updatedSources[t.source] && "raster" !== this.sourceCaches[t.source].getSource().type && (this._updatedSources[t.source] = "reload", this.sourceCaches[t.source].pause()), this._changed = !0
                    }, r.prototype._flattenAndSortRenderedFeatures = function(t) {
                        for (var e = this, r = function(t) {
                                return "fill-extrusion" === e._layers[t].type
                            }, n = {}, i = [], o = this._order.length - 1; o >= 0; o--) {
                            var a = this._order[o];
                            if (r(a)) {
                                n[a] = o;
                                for (var s = 0, u = t; s < u.length; s += 1) {
                                    var l = u[s][a];
                                    if (l)
                                        for (var c = 0, p = l; c < p.length; c += 1) i.push(p[c])
                                }
                            }
                        }
                        i.sort((function(t, e) {
                            return e.intersectionZ - t.intersectionZ
                        }));
                        for (var h = [], f = this._order.length - 1; f >= 0; f--) {
                            var d = this._order[f];
                            if (r(d))
                                for (var m = i.length - 1; m >= 0; m--) {
                                    var y = i[m].feature;
                                    if (n[y.layer.id] < f) break;
                                    h.push(y), i.pop()
                                } else
                                    for (var v = 0, g = t; v < g.length; v += 1) {
                                        var _ = g[v][d];
                                        if (_)
                                            for (var x = 0, b = _; x < b.length; x += 1) h.push(b[x].feature)
                                    }
                        }
                        return h
                    }, r.prototype.queryRenderedFeatures = function(e, r, n) {
                        r && r.filter && this._validate(t.validateStyle.filter, "queryRenderedFeatures.filter", r.filter, null, r);
                        var i = {};
                        if (r && r.layers) {
                            if (!Array.isArray(r.layers)) return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))), [];
                            for (var o = 0, a = r.layers; o < a.length; o += 1) {
                                var s = a[o],
                                    u = this._layers[s];
                                if (!u) return this.fire(new t.ErrorEvent(new Error("The layer '" + s + "' does not exist in the map's style and cannot be queried for features."))), [];
                                i[u.source] = !0
                            }
                        }
                        var l = [];
                        for (var c in r.availableImages = this._availableImages, this.sourceCaches) r.layers && !i[c] || l.push(B(this.sourceCaches[c], this._layers, this._serializedLayers, e, r, n));
                        return this.placement && l.push(function(t, e, r, n, i, o, a) {
                            for (var s = {}, u = o.queryRenderedSymbols(n), l = [], c = 0, p = Object.keys(u).map(Number); c < p.length; c += 1) l.push(a[p[c]]);
                            l.sort(F);
                            for (var h = function() {
                                    var r = d[f],
                                        n = r.featureIndex.lookupSymbolFeatures(u[r.bucketInstanceId], e, r.bucketIndex, r.sourceLayerIndex, i.filter, i.layers, i.availableImages, t);
                                    for (var o in n) {
                                        var a = s[o] = s[o] || [],
                                            l = n[o];
                                        l.sort((function(t, e) {
                                            var n = r.featureSortOrder;
                                            if (n) {
                                                var i = n.indexOf(t.featureIndex);
                                                return n.indexOf(e.featureIndex) - i
                                            }
                                            return e.featureIndex - t.featureIndex
                                        }));
                                        for (var c = 0, p = l; c < p.length; c += 1) a.push(p[c])
                                    }
                                }, f = 0, d = l; f < d.length; f += 1) h();
                            var m = function(e) {
                                s[e].forEach((function(n) {
                                    var i = n.feature,
                                        o = r[t[e].source].getFeatureState(i.layer["source-layer"], i.id);
                                    i.source = i.layer.source, i.layer["source-layer"] && (i.sourceLayer = i.layer["source-layer"]), i.state = o
                                }))
                            };
                            for (var y in s) m(y);
                            return s
                        }(this._layers, this._serializedLayers, this.sourceCaches, e, r, this.placement.collisionIndex, this.placement.retainedQueryData)), this._flattenAndSortRenderedFeatures(l)
                    }, r.prototype.querySourceFeatures = function(e, r) {
                        r && r.filter && this._validate(t.validateStyle.filter, "querySourceFeatures.filter", r.filter, null, r);
                        var n = this.sourceCaches[e];
                        return n ? function(t, e) {
                            for (var r = t.getRenderableIds().map((function(e) {
                                    return t.getTileByID(e)
                                })), n = [], i = {}, o = 0; o < r.length; o++) {
                                var a = r[o],
                                    s = a.tileID.canonical.key;
                                i[s] || (i[s] = !0, a.querySourceFeatures(n, e))
                            }
                            return n
                        }(n, r) : []
                    }, r.prototype.addSourceType = function(t, e, n) {
                        return r.getSourceType(t) ? n(new Error('A source type called "' + t + '" already exists.')) : (r.setSourceType(t, e), e.workerSourceURL ? void this.dispatcher.broadcast("loadWorkerSource", {
                            name: t,
                            url: e.workerSourceURL
                        }, n) : n(null, null))
                    }, r.prototype.getLight = function() {
                        return this.light.getLight()
                    }, r.prototype.setLight = function(e, r) {
                        void 0 === r && (r = {}), this._checkLoaded();
                        var n = this.light.getLight(),
                            i = !1;
                        for (var o in e)
                            if (!t.deepEqual(e[o], n[o])) {
                                i = !0;
                                break
                            } if (i) {
                            var a = {
                                now: t.browser.now(),
                                transition: t.extend({
                                    duration: 300,
                                    delay: 0
                                }, this.stylesheet.transition)
                            };
                            this.light.setLight(e, r), this.light.updateTransitions(a)
                        }
                    }, r.prototype._validate = function(e, r, n, i, o) {
                        return void 0 === o && (o = {}), (!o || !1 !== o.validate) && Ne(this, e.call(t.validateStyle, t.extend({
                            key: r,
                            style: this.serialize(),
                            value: n,
                            styleSpec: t.styleSpec
                        }, i)))
                    }, r.prototype._remove = function() {
                        for (var e in this._request && (this._request.cancel(), this._request = null), this._spriteRequest && (this._spriteRequest.cancel(), this._spriteRequest = null), t.evented.off("pluginStateChange", this._rtlTextPluginCallback), this._layers) this._layers[e].setEventedParent(null);
                        for (var r in this.sourceCaches) this.sourceCaches[r].clearTiles(), this.sourceCaches[r].setEventedParent(null);
                        this.imageManager.setEventedParent(null), this.setEventedParent(null), this.dispatcher.remove()
                    }, r.prototype._clearSource = function(t) {
                        this.sourceCaches[t].clearTiles()
                    }, r.prototype._reloadSource = function(t) {
                        this.sourceCaches[t].resume(), this.sourceCaches[t].reload()
                    }, r.prototype._updateSources = function(t) {
                        for (var e in this.sourceCaches) this.sourceCaches[e].update(t)
                    }, r.prototype._generateCollisionBoxes = function() {
                        for (var t in this.sourceCaches) this._reloadSource(t)
                    }, r.prototype._updatePlacement = function(e, r, n, i, o) {
                        void 0 === o && (o = !1);
                        for (var a = !1, s = !1, u = {}, l = 0, c = this._order; l < c.length; l += 1) {
                            var p = this._layers[c[l]];
                            if ("symbol" === p.type) {
                                if (!u[p.source]) {
                                    var h = this.sourceCaches[p.source];
                                    u[p.source] = h.getRenderableIds(!0).map((function(t) {
                                        return h.getTileByID(t)
                                    })).sort((function(t, e) {
                                        return e.tileID.overscaledZ - t.tileID.overscaledZ || (t.tileID.isLessThan(e.tileID) ? -1 : 1)
                                    }))
                                }
                                var f = this.crossTileSymbolIndex.addLayer(p, u[p.source], e.center.lng);
                                a = a || f
                            }
                        }
                        if (this.crossTileSymbolIndex.pruneUnusedLayers(this._order), ((o = o || this._layerOrderChanged || 0 === n) || !this.pauseablePlacement || this.pauseablePlacement.isDone() && !this.placement.stillRecent(t.browser.now(), e.zoom)) && (this.pauseablePlacement = new De(e, this._order, o, r, n, i, this.placement), this._layerOrderChanged = !1), this.pauseablePlacement.isDone() ? this.placement.setStale() : (this.pauseablePlacement.continuePlacement(this._order, this._layers, u), this.pauseablePlacement.isDone() && (this.placement = this.pauseablePlacement.commit(t.browser.now()), s = !0), a && this.pauseablePlacement.placement.setStale()), s || a)
                            for (var d = 0, m = this._order; d < m.length; d += 1) {
                                var y = this._layers[m[d]];
                                "symbol" === y.type && this.placement.updateLayerOpacities(y, u[y.source])
                            }
                        return !this.pauseablePlacement.isDone() || this.placement.hasTransitions(t.browser.now())
                    }, r.prototype._releaseSymbolFadeTiles = function() {
                        for (var t in this.sourceCaches) this.sourceCaches[t].releaseSymbolFadeTiles()
                    }, r.prototype.getImages = function(t, e, r) {
                        this.imageManager.getImages(e.icons, r), this._updateTilesForChangedImages();
                        var n = this.sourceCaches[e.source];
                        n && n.setDependencies(e.tileID.key, e.type, e.icons)
                    }, r.prototype.getGlyphs = function(t, e, r) {
                        this.glyphManager.getGlyphs(e.stacks, r)
                    }, r.prototype.getResource = function(e, r, n) {
                        return t.makeRequest(r, n)
                    }, r
                }(t.Evented);
            qe.getSourceType = function(t) {
                return O[t]
            }, qe.setSourceType = function(t, e) {
                O[t] = e
            }, qe.registerForPluginStateChange = t.registerForPluginStateChange;
            var Ze = t.createLayout([{
                    name: "a_pos",
                    type: "Int16",
                    components: 2
                }]),
                $e = vr("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif", "#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),
                Ge = vr("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),
                He = vr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),
                We = vr("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),
                Xe = vr("void main() {gl_FragColor=vec4(1.0);}", "attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),
                Ke = vr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),
                Je = vr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),
                Ye = vr("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}", "attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),
                Qe = vr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}", "attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),
                tr = vr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}", "attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),
                er = vr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),
                rr = vr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),
                nr = vr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),
                ir = vr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),
                or = vr("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),
                ar = vr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),
                sr = vr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),
                ur = vr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),
                lr = vr("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),
                cr = vr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),
                pr = vr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),
                hr = vr("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),
                fr = vr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),
                dr = vr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),
                mr = vr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),
                yr = vr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");

            function vr(t, e) {
                var r = /#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,
                    n = e.match(/attribute ([\w]+) ([\w]+)/g),
                    i = t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),
                    o = e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),
                    a = o ? o.concat(i) : i,
                    s = {};
                return {
                    fragmentSource: t = t.replace(r, (function(t, e, r, n, i) {
                        return s[i] = !0, "define" === e ? "\n#ifndef HAS_UNIFORM_u_" + i + "\nvarying " + r + " " + n + " " + i + ";\n#else\nuniform " + r + " " + n + " u_" + i + ";\n#endif\n" : "\n#ifdef HAS_UNIFORM_u_" + i + "\n    " + r + " " + n + " " + i + " = u_" + i + ";\n#endif\n"
                    })),
                    vertexSource: e = e.replace(r, (function(t, e, r, n, i) {
                        var o = "float" === n ? "vec2" : "vec4",
                            a = i.match(/color/) ? "color" : o;
                        return s[i] ? "define" === e ? "\n#ifndef HAS_UNIFORM_u_" + i + "\nuniform lowp float u_" + i + "_t;\nattribute " + r + " " + o + " a_" + i + ";\nvarying " + r + " " + n + " " + i + ";\n#else\nuniform " + r + " " + n + " u_" + i + ";\n#endif\n" : "vec4" === a ? "\n#ifndef HAS_UNIFORM_u_" + i + "\n    " + i + " = a_" + i + ";\n#else\n    " + r + " " + n + " " + i + " = u_" + i + ";\n#endif\n" : "\n#ifndef HAS_UNIFORM_u_" + i + "\n    " + i + " = unpack_mix_" + a + "(a_" + i + ", u_" + i + "_t);\n#else\n    " + r + " " + n + " " + i + " = u_" + i + ";\n#endif\n" : "define" === e ? "\n#ifndef HAS_UNIFORM_u_" + i + "\nuniform lowp float u_" + i + "_t;\nattribute " + r + " " + o + " a_" + i + ";\n#else\nuniform " + r + " " + n + " u_" + i + ";\n#endif\n" : "vec4" === a ? "\n#ifndef HAS_UNIFORM_u_" + i + "\n    " + r + " " + n + " " + i + " = a_" + i + ";\n#else\n    " + r + " " + n + " " + i + " = u_" + i + ";\n#endif\n" : "\n#ifndef HAS_UNIFORM_u_" + i + "\n    " + r + " " + n + " " + i + " = unpack_mix_" + a + "(a_" + i + ", u_" + i + "_t);\n#else\n    " + r + " " + n + " " + i + " = u_" + i + ";\n#endif\n"
                    })),
                    staticAttributes: n,
                    staticUniforms: a
                }
            }
            var gr = Object.freeze({
                    __proto__: null,
                    prelude: $e,
                    background: Ge,
                    backgroundPattern: He,
                    circle: We,
                    clippingMask: Xe,
                    heatmap: Ke,
                    heatmapTexture: Je,
                    collisionBox: Ye,
                    collisionCircle: Qe,
                    debug: tr,
                    fill: er,
                    fillOutline: rr,
                    fillOutlinePattern: nr,
                    fillPattern: ir,
                    fillExtrusion: or,
                    fillExtrusionPattern: ar,
                    hillshadePrepare: sr,
                    hillshade: ur,
                    line: lr,
                    lineGradient: cr,
                    linePattern: pr,
                    lineSDF: hr,
                    raster: fr,
                    symbolIcon: dr,
                    symbolSDF: mr,
                    symbolTextAndIcon: yr
                }),
                _r = function() {
                    this.boundProgram = null, this.boundLayoutVertexBuffer = null, this.boundPaintVertexBuffers = [], this.boundIndexBuffer = null, this.boundVertexOffset = null, this.boundDynamicVertexBuffer = null, this.vao = null
                };

            function xr(t) {
                for (var e = [], r = 0; r < t.length; r++)
                    if (null !== t[r]) {
                        var n = t[r].split(" ");
                        e.push(n.pop())
                    } return e
            }
            _r.prototype.bind = function(t, e, r, n, i, o, a, s) {
                this.context = t;
                for (var u = this.boundPaintVertexBuffers.length !== n.length, l = 0; !u && l < n.length; l++) this.boundPaintVertexBuffers[l] !== n[l] && (u = !0);
                t.extVertexArrayObject && this.vao && this.boundProgram === e && this.boundLayoutVertexBuffer === r && !u && this.boundIndexBuffer === i && this.boundVertexOffset === o && this.boundDynamicVertexBuffer === a && this.boundDynamicVertexBuffer2 === s ? (t.bindVertexArrayOES.set(this.vao), a && a.bind(), i && i.dynamicDraw && i.bind(), s && s.bind()) : this.freshBind(e, r, n, i, o, a, s)
            }, _r.prototype.freshBind = function(t, e, r, n, i, o, a) {
                var s, u = t.numAttributes,
                    l = this.context,
                    c = l.gl;
                if (l.extVertexArrayObject) this.vao && this.destroy(), this.vao = l.extVertexArrayObject.createVertexArrayOES(), l.bindVertexArrayOES.set(this.vao), s = 0, this.boundProgram = t, this.boundLayoutVertexBuffer = e, this.boundPaintVertexBuffers = r, this.boundIndexBuffer = n, this.boundVertexOffset = i, this.boundDynamicVertexBuffer = o, this.boundDynamicVertexBuffer2 = a;
                else {
                    s = l.currentNumAttributes || 0;
                    for (var p = u; p < s; p++) c.disableVertexAttribArray(p)
                }
                e.enableAttributes(c, t);
                for (var h = 0, f = r; h < f.length; h += 1) f[h].enableAttributes(c, t);
                o && o.enableAttributes(c, t), a && a.enableAttributes(c, t), e.bind(), e.setVertexAttribPointers(c, t, i);
                for (var d = 0, m = r; d < m.length; d += 1) {
                    var y = m[d];
                    y.bind(), y.setVertexAttribPointers(c, t, i)
                }
                o && (o.bind(), o.setVertexAttribPointers(c, t, i)), n && n.bind(), a && (a.bind(), a.setVertexAttribPointers(c, t, i)), l.currentNumAttributes = u
            }, _r.prototype.destroy = function() {
                this.vao && (this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao), this.vao = null)
            };
            var br = function(t, e, r, n, i, o) {
                var a = t.gl;
                this.program = a.createProgram();
                for (var s = xr(r.staticAttributes), u = n ? n.getBinderAttributes() : [], l = s.concat(u), c = r.staticUniforms ? xr(r.staticUniforms) : [], p = n ? n.getBinderUniforms() : [], h = [], f = 0, d = c.concat(p); f < d.length; f += 1) {
                    var m = d[f];
                    h.indexOf(m) < 0 && h.push(m)
                }
                var y = n ? n.defines() : [];
                o && y.push("#define OVERDRAW_INSPECTOR;");
                var v = y.concat($e.fragmentSource, r.fragmentSource).join("\n"),
                    g = y.concat($e.vertexSource, r.vertexSource).join("\n"),
                    _ = a.createShader(a.FRAGMENT_SHADER);
                if (a.isContextLost()) this.failedToCreate = !0;
                else {
                    a.shaderSource(_, v), a.compileShader(_), a.attachShader(this.program, _);
                    var x = a.createShader(a.VERTEX_SHADER);
                    if (a.isContextLost()) this.failedToCreate = !0;
                    else {
                        a.shaderSource(x, g), a.compileShader(x), a.attachShader(this.program, x), this.attributes = {};
                        var b = {};
                        this.numAttributes = l.length;
                        for (var w = 0; w < this.numAttributes; w++) l[w] && (a.bindAttribLocation(this.program, w, l[w]), this.attributes[l[w]] = w);
                        a.linkProgram(this.program), a.deleteShader(x), a.deleteShader(_);
                        for (var S = 0; S < h.length; S++) {
                            var T = h[S];
                            if (T && !b[T]) {
                                var E = a.getUniformLocation(this.program, T);
                                E && (b[T] = E)
                            }
                        }
                        this.fixedUniforms = i(t, b), this.binderUniforms = n ? n.getUniforms(t, b) : []
                    }
                }
            };

            function wr(t, e, r) {
                var n = 1 / he(r, 1, e.transform.tileZoom),
                    i = Math.pow(2, r.tileID.overscaledZ),
                    o = r.tileSize * Math.pow(2, e.transform.tileZoom) / i,
                    a = o * (r.tileID.canonical.x + r.tileID.wrap * i),
                    s = o * r.tileID.canonical.y;
                return {
                    u_image: 0,
                    u_texsize: r.imageAtlasTexture.size,
                    u_scale: [n, t.fromScale, t.toScale],
                    u_fade: t.t,
                    u_pixel_coord_upper: [a >> 16, s >> 16],
                    u_pixel_coord_lower: [65535 & a, 65535 & s]
                }
            }
            br.prototype.draw = function(t, e, r, n, i, o, a, s, u, l, c, p, h, f, d, m) {
                var y, v = t.gl;
                if (!this.failedToCreate) {
                    for (var g in t.program.set(this.program), t.setDepthMode(r), t.setStencilMode(n), t.setColorMode(i), t.setCullFace(o), this.fixedUniforms) this.fixedUniforms[g].set(a[g]);
                    f && f.setUniforms(t, this.binderUniforms, p, {
                        zoom: h
                    });
                    for (var _ = (y = {}, y[v.LINES] = 2, y[v.TRIANGLES] = 3, y[v.LINE_STRIP] = 1, y)[e], x = 0, b = c.get(); x < b.length; x += 1) {
                        var w = b[x],
                            S = w.vaos || (w.vaos = {});
                        (S[s] || (S[s] = new _r)).bind(t, this, u, f ? f.getPaintVertexBuffers() : [], l, w.vertexOffset, d, m), v.drawElements(e, w.primitiveLength * _, v.UNSIGNED_SHORT, w.primitiveOffset * _ * 2)
                    }
                }
            };
            var Sr = function(e, r, n, i) {
                    var o = r.style.light,
                        a = o.properties.get("position"),
                        s = [a.x, a.y, a.z],
                        u = t.create$1();
                    "viewport" === o.properties.get("anchor") && t.fromRotation(u, -r.transform.angle), t.transformMat3(s, s, u);
                    var l = o.properties.get("color");
                    return {
                        u_matrix: e,
                        u_lightpos: s,
                        u_lightintensity: o.properties.get("intensity"),
                        u_lightcolor: [l.r, l.g, l.b],
                        u_vertical_gradient: +n,
                        u_opacity: i
                    }
                },
                Tr = function(e, r, n, i, o, a, s) {
                    return t.extend(Sr(e, r, n, i), wr(a, r, s), {
                        u_height_factor: -Math.pow(2, o.overscaledZ) / s.tileSize / 8
                    })
                },
                Er = function(t) {
                    return {
                        u_matrix: t
                    }
                },
                Ar = function(e, r, n, i) {
                    return t.extend(Er(e), wr(n, r, i))
                },
                Cr = function(t, e) {
                    return {
                        u_matrix: t,
                        u_world: e
                    }
                },
                Ir = function(e, r, n, i, o) {
                    return t.extend(Ar(e, r, n, i), {
                        u_world: o
                    })
                },
                kr = function(e, r, n, i) {
                    var o, a, s = e.transform;
                    if ("map" === i.paint.get("circle-pitch-alignment")) {
                        var u = he(n, 1, s.zoom);
                        o = !0, a = [u, u]
                    } else o = !1, a = s.pixelsToGLUnits;
                    return {
                        u_camera_to_center_distance: s.cameraToCenterDistance,
                        u_scale_with_map: +("map" === i.paint.get("circle-pitch-scale")),
                        u_matrix: e.translatePosMatrix(r.posMatrix, n, i.paint.get("circle-translate"), i.paint.get("circle-translate-anchor")),
                        u_pitch_with_map: +o,
                        u_device_pixel_ratio: t.browser.devicePixelRatio,
                        u_extrude_scale: a
                    }
                },
                Pr = function(t, e, r) {
                    var n = he(r, 1, e.zoom),
                        i = Math.pow(2, e.zoom - r.tileID.overscaledZ),
                        o = r.tileID.overscaleFactor();
                    return {
                        u_matrix: t,
                        u_camera_to_center_distance: e.cameraToCenterDistance,
                        u_pixels_to_tile_units: n,
                        u_extrude_scale: [e.pixelsToGLUnits[0] / (n * i), e.pixelsToGLUnits[1] / (n * i)],
                        u_overscale_factor: o
                    }
                },
                zr = function(t, e, r) {
                    return {
                        u_matrix: t,
                        u_inv_matrix: e,
                        u_camera_to_center_distance: r.cameraToCenterDistance,
                        u_viewport_size: [r.width, r.height]
                    }
                },
                Mr = function(t, e, r) {
                    return void 0 === r && (r = 1), {
                        u_matrix: t,
                        u_color: e,
                        u_overlay: 0,
                        u_overlay_scale: r
                    }
                },
                Dr = function(t) {
                    return {
                        u_matrix: t
                    }
                },
                Lr = function(t, e, r, n) {
                    return {
                        u_matrix: t,
                        u_extrude_scale: he(e, 1, r),
                        u_intensity: n
                    }
                },
                Or = function(e, r, n) {
                    var i = e.transform;
                    return {
                        u_matrix: Ur(e, r, n),
                        u_ratio: 1 / he(r, 1, i.zoom),
                        u_device_pixel_ratio: t.browser.devicePixelRatio,
                        u_units_to_pixels: [1 / i.pixelsToGLUnits[0], 1 / i.pixelsToGLUnits[1]]
                    }
                },
                Rr = function(e, r, n) {
                    return t.extend(Or(e, r, n), {
                        u_image: 0
                    })
                },
                Br = function(e, r, n, i) {
                    var o = e.transform,
                        a = Nr(r, o);
                    return {
                        u_matrix: Ur(e, r, n),
                        u_texsize: r.imageAtlasTexture.size,
                        u_ratio: 1 / he(r, 1, o.zoom),
                        u_device_pixel_ratio: t.browser.devicePixelRatio,
                        u_image: 0,
                        u_scale: [a, i.fromScale, i.toScale],
                        u_fade: i.t,
                        u_units_to_pixels: [1 / o.pixelsToGLUnits[0], 1 / o.pixelsToGLUnits[1]]
                    }
                },
                Fr = function(e, r, n, i, o) {
                    var a = e.lineAtlas,
                        s = Nr(r, e.transform),
                        u = "round" === n.layout.get("line-cap"),
                        l = a.getDash(i.from, u),
                        c = a.getDash(i.to, u),
                        p = l.width * o.fromScale,
                        h = c.width * o.toScale;
                    return t.extend(Or(e, r, n), {
                        u_patternscale_a: [s / p, -l.height / 2],
                        u_patternscale_b: [s / h, -c.height / 2],
                        u_sdfgamma: a.width / (256 * Math.min(p, h) * t.browser.devicePixelRatio) / 2,
                        u_image: 0,
                        u_tex_y_a: l.y,
                        u_tex_y_b: c.y,
                        u_mix: o.t
                    })
                };

            function Nr(t, e) {
                return 1 / he(t, 1, e.tileZoom)
            }

            function Ur(t, e, r) {
                return t.translatePosMatrix(e.tileID.posMatrix, e, r.paint.get("line-translate"), r.paint.get("line-translate-anchor"))
            }
            var jr = function(t, e, r, n, i) {
                return {
                    u_matrix: t,
                    u_tl_parent: e,
                    u_scale_parent: r,
                    u_buffer_scale: 1,
                    u_fade_t: n.mix,
                    u_opacity: n.opacity * i.paint.get("raster-opacity"),
                    u_image0: 0,
                    u_image1: 1,
                    u_brightness_low: i.paint.get("raster-brightness-min"),
                    u_brightness_high: i.paint.get("raster-brightness-max"),
                    u_saturation_factor: (a = i.paint.get("raster-saturation"), a > 0 ? 1 - 1 / (1.001 - a) : -a),
                    u_contrast_factor: (o = i.paint.get("raster-contrast"), o > 0 ? 1 / (1 - o) : 1 + o),
                    u_spin_weights: Vr(i.paint.get("raster-hue-rotate"))
                };
                var o, a
            };

            function Vr(t) {
                t *= Math.PI / 180;
                var e = Math.sin(t),
                    r = Math.cos(t);
                return [(2 * r + 1) / 3, (-Math.sqrt(3) * e - r + 1) / 3, (Math.sqrt(3) * e - r + 1) / 3]
            }
            var qr, Zr = function(t, e, r, n, i, o, a, s, u, l) {
                    var c = i.transform;
                    return {
                        u_is_size_zoom_constant: +("constant" === t || "source" === t),
                        u_is_size_feature_constant: +("constant" === t || "camera" === t),
                        u_size_t: e ? e.uSizeT : 0,
                        u_size: e ? e.uSize : 0,
                        u_camera_to_center_distance: c.cameraToCenterDistance,
                        u_pitch: c.pitch / 360 * 2 * Math.PI,
                        u_rotate_symbol: +r,
                        u_aspect_ratio: c.width / c.height,
                        u_fade_change: i.options.fadeDuration ? i.symbolFadeChange : 1,
                        u_matrix: o,
                        u_label_plane_matrix: a,
                        u_coord_matrix: s,
                        u_is_text: +u,
                        u_pitch_with_map: +n,
                        u_texsize: l,
                        u_texture: 0
                    }
                },
                $r = function(e, r, n, i, o, a, s, u, l, c, p) {
                    var h = o.transform;
                    return t.extend(Zr(e, r, n, i, o, a, s, u, l, c), {
                        u_gamma_scale: i ? Math.cos(h._pitch) * h.cameraToCenterDistance : 1,
                        u_device_pixel_ratio: t.browser.devicePixelRatio,
                        u_is_halo: +p
                    })
                },
                Gr = function(e, r, n, i, o, a, s, u, l, c) {
                    return t.extend($r(e, r, n, i, o, a, s, u, !0, l, !0), {
                        u_texsize_icon: c,
                        u_texture_icon: 1
                    })
                },
                Hr = function(t, e, r) {
                    return {
                        u_matrix: t,
                        u_opacity: e,
                        u_color: r
                    }
                },
                Wr = function(e, r, n, i, o, a) {
                    return t.extend(function(t, e, r, n) {
                        var i = r.imageManager.getPattern(t.from.toString()),
                            o = r.imageManager.getPattern(t.to.toString()),
                            a = r.imageManager.getPixelSize(),
                            s = a.width,
                            u = a.height,
                            l = Math.pow(2, n.tileID.overscaledZ),
                            c = n.tileSize * Math.pow(2, r.transform.tileZoom) / l,
                            p = c * (n.tileID.canonical.x + n.tileID.wrap * l),
                            h = c * n.tileID.canonical.y;
                        return {
                            u_image: 0,
                            u_pattern_tl_a: i.tl,
                            u_pattern_br_a: i.br,
                            u_pattern_tl_b: o.tl,
                            u_pattern_br_b: o.br,
                            u_texsize: [s, u],
                            u_mix: e.t,
                            u_pattern_size_a: i.displaySize,
                            u_pattern_size_b: o.displaySize,
                            u_scale_a: e.fromScale,
                            u_scale_b: e.toScale,
                            u_tile_units_to_pixels: 1 / he(n, 1, r.transform.tileZoom),
                            u_pixel_coord_upper: [p >> 16, h >> 16],
                            u_pixel_coord_lower: [65535 & p, 65535 & h]
                        }
                    }(i, a, n, o), {
                        u_matrix: e,
                        u_opacity: r
                    })
                },
                Xr = {
                    fillExtrusion: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_lightpos: new t.Uniform3f(e, r.u_lightpos),
                            u_lightintensity: new t.Uniform1f(e, r.u_lightintensity),
                            u_lightcolor: new t.Uniform3f(e, r.u_lightcolor),
                            u_vertical_gradient: new t.Uniform1f(e, r.u_vertical_gradient),
                            u_opacity: new t.Uniform1f(e, r.u_opacity)
                        }
                    },
                    fillExtrusionPattern: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_lightpos: new t.Uniform3f(e, r.u_lightpos),
                            u_lightintensity: new t.Uniform1f(e, r.u_lightintensity),
                            u_lightcolor: new t.Uniform3f(e, r.u_lightcolor),
                            u_vertical_gradient: new t.Uniform1f(e, r.u_vertical_gradient),
                            u_height_factor: new t.Uniform1f(e, r.u_height_factor),
                            u_image: new t.Uniform1i(e, r.u_image),
                            u_texsize: new t.Uniform2f(e, r.u_texsize),
                            u_pixel_coord_upper: new t.Uniform2f(e, r.u_pixel_coord_upper),
                            u_pixel_coord_lower: new t.Uniform2f(e, r.u_pixel_coord_lower),
                            u_scale: new t.Uniform3f(e, r.u_scale),
                            u_fade: new t.Uniform1f(e, r.u_fade),
                            u_opacity: new t.Uniform1f(e, r.u_opacity)
                        }
                    },
                    fill: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix)
                        }
                    },
                    fillPattern: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_image: new t.Uniform1i(e, r.u_image),
                            u_texsize: new t.Uniform2f(e, r.u_texsize),
                            u_pixel_coord_upper: new t.Uniform2f(e, r.u_pixel_coord_upper),
                            u_pixel_coord_lower: new t.Uniform2f(e, r.u_pixel_coord_lower),
                            u_scale: new t.Uniform3f(e, r.u_scale),
                            u_fade: new t.Uniform1f(e, r.u_fade)
                        }
                    },
                    fillOutline: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_world: new t.Uniform2f(e, r.u_world)
                        }
                    },
                    fillOutlinePattern: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_world: new t.Uniform2f(e, r.u_world),
                            u_image: new t.Uniform1i(e, r.u_image),
                            u_texsize: new t.Uniform2f(e, r.u_texsize),
                            u_pixel_coord_upper: new t.Uniform2f(e, r.u_pixel_coord_upper),
                            u_pixel_coord_lower: new t.Uniform2f(e, r.u_pixel_coord_lower),
                            u_scale: new t.Uniform3f(e, r.u_scale),
                            u_fade: new t.Uniform1f(e, r.u_fade)
                        }
                    },
                    circle: function(e, r) {
                        return {
                            u_camera_to_center_distance: new t.Uniform1f(e, r.u_camera_to_center_distance),
                            u_scale_with_map: new t.Uniform1i(e, r.u_scale_with_map),
                            u_pitch_with_map: new t.Uniform1i(e, r.u_pitch_with_map),
                            u_extrude_scale: new t.Uniform2f(e, r.u_extrude_scale),
                            u_device_pixel_ratio: new t.Uniform1f(e, r.u_device_pixel_ratio),
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix)
                        }
                    },
                    collisionBox: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_camera_to_center_distance: new t.Uniform1f(e, r.u_camera_to_center_distance),
                            u_pixels_to_tile_units: new t.Uniform1f(e, r.u_pixels_to_tile_units),
                            u_extrude_scale: new t.Uniform2f(e, r.u_extrude_scale),
                            u_overscale_factor: new t.Uniform1f(e, r.u_overscale_factor)
                        }
                    },
                    collisionCircle: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_inv_matrix: new t.UniformMatrix4f(e, r.u_inv_matrix),
                            u_camera_to_center_distance: new t.Uniform1f(e, r.u_camera_to_center_distance),
                            u_viewport_size: new t.Uniform2f(e, r.u_viewport_size)
                        }
                    },
                    debug: function(e, r) {
                        return {
                            u_color: new t.UniformColor(e, r.u_color),
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_overlay: new t.Uniform1i(e, r.u_overlay),
                            u_overlay_scale: new t.Uniform1f(e, r.u_overlay_scale)
                        }
                    },
                    clippingMask: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix)
                        }
                    },
                    heatmap: function(e, r) {
                        return {
                            u_extrude_scale: new t.Uniform1f(e, r.u_extrude_scale),
                            u_intensity: new t.Uniform1f(e, r.u_intensity),
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix)
                        }
                    },
                    heatmapTexture: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_world: new t.Uniform2f(e, r.u_world),
                            u_image: new t.Uniform1i(e, r.u_image),
                            u_color_ramp: new t.Uniform1i(e, r.u_color_ramp),
                            u_opacity: new t.Uniform1f(e, r.u_opacity)
                        }
                    },
                    hillshade: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_image: new t.Uniform1i(e, r.u_image),
                            u_latrange: new t.Uniform2f(e, r.u_latrange),
                            u_light: new t.Uniform2f(e, r.u_light),
                            u_shadow: new t.UniformColor(e, r.u_shadow),
                            u_highlight: new t.UniformColor(e, r.u_highlight),
                            u_accent: new t.UniformColor(e, r.u_accent)
                        }
                    },
                    hillshadePrepare: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_image: new t.Uniform1i(e, r.u_image),
                            u_dimension: new t.Uniform2f(e, r.u_dimension),
                            u_zoom: new t.Uniform1f(e, r.u_zoom),
                            u_maxzoom: new t.Uniform1f(e, r.u_maxzoom),
                            u_unpack: new t.Uniform4f(e, r.u_unpack)
                        }
                    },
                    line: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_ratio: new t.Uniform1f(e, r.u_ratio),
                            u_device_pixel_ratio: new t.Uniform1f(e, r.u_device_pixel_ratio),
                            u_units_to_pixels: new t.Uniform2f(e, r.u_units_to_pixels)
                        }
                    },
                    lineGradient: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_ratio: new t.Uniform1f(e, r.u_ratio),
                            u_device_pixel_ratio: new t.Uniform1f(e, r.u_device_pixel_ratio),
                            u_units_to_pixels: new t.Uniform2f(e, r.u_units_to_pixels),
                            u_image: new t.Uniform1i(e, r.u_image)
                        }
                    },
                    linePattern: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_texsize: new t.Uniform2f(e, r.u_texsize),
                            u_ratio: new t.Uniform1f(e, r.u_ratio),
                            u_device_pixel_ratio: new t.Uniform1f(e, r.u_device_pixel_ratio),
                            u_image: new t.Uniform1i(e, r.u_image),
                            u_units_to_pixels: new t.Uniform2f(e, r.u_units_to_pixels),
                            u_scale: new t.Uniform3f(e, r.u_scale),
                            u_fade: new t.Uniform1f(e, r.u_fade)
                        }
                    },
                    lineSDF: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_ratio: new t.Uniform1f(e, r.u_ratio),
                            u_device_pixel_ratio: new t.Uniform1f(e, r.u_device_pixel_ratio),
                            u_units_to_pixels: new t.Uniform2f(e, r.u_units_to_pixels),
                            u_patternscale_a: new t.Uniform2f(e, r.u_patternscale_a),
                            u_patternscale_b: new t.Uniform2f(e, r.u_patternscale_b),
                            u_sdfgamma: new t.Uniform1f(e, r.u_sdfgamma),
                            u_image: new t.Uniform1i(e, r.u_image),
                            u_tex_y_a: new t.Uniform1f(e, r.u_tex_y_a),
                            u_tex_y_b: new t.Uniform1f(e, r.u_tex_y_b),
                            u_mix: new t.Uniform1f(e, r.u_mix)
                        }
                    },
                    raster: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_tl_parent: new t.Uniform2f(e, r.u_tl_parent),
                            u_scale_parent: new t.Uniform1f(e, r.u_scale_parent),
                            u_buffer_scale: new t.Uniform1f(e, r.u_buffer_scale),
                            u_fade_t: new t.Uniform1f(e, r.u_fade_t),
                            u_opacity: new t.Uniform1f(e, r.u_opacity),
                            u_image0: new t.Uniform1i(e, r.u_image0),
                            u_image1: new t.Uniform1i(e, r.u_image1),
                            u_brightness_low: new t.Uniform1f(e, r.u_brightness_low),
                            u_brightness_high: new t.Uniform1f(e, r.u_brightness_high),
                            u_saturation_factor: new t.Uniform1f(e, r.u_saturation_factor),
                            u_contrast_factor: new t.Uniform1f(e, r.u_contrast_factor),
                            u_spin_weights: new t.Uniform3f(e, r.u_spin_weights)
                        }
                    },
                    symbolIcon: function(e, r) {
                        return {
                            u_is_size_zoom_constant: new t.Uniform1i(e, r.u_is_size_zoom_constant),
                            u_is_size_feature_constant: new t.Uniform1i(e, r.u_is_size_feature_constant),
                            u_size_t: new t.Uniform1f(e, r.u_size_t),
                            u_size: new t.Uniform1f(e, r.u_size),
                            u_camera_to_center_distance: new t.Uniform1f(e, r.u_camera_to_center_distance),
                            u_pitch: new t.Uniform1f(e, r.u_pitch),
                            u_rotate_symbol: new t.Uniform1i(e, r.u_rotate_symbol),
                            u_aspect_ratio: new t.Uniform1f(e, r.u_aspect_ratio),
                            u_fade_change: new t.Uniform1f(e, r.u_fade_change),
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_label_plane_matrix: new t.UniformMatrix4f(e, r.u_label_plane_matrix),
                            u_coord_matrix: new t.UniformMatrix4f(e, r.u_coord_matrix),
                            u_is_text: new t.Uniform1i(e, r.u_is_text),
                            u_pitch_with_map: new t.Uniform1i(e, r.u_pitch_with_map),
                            u_texsize: new t.Uniform2f(e, r.u_texsize),
                            u_texture: new t.Uniform1i(e, r.u_texture)
                        }
                    },
                    symbolSDF: function(e, r) {
                        return {
                            u_is_size_zoom_constant: new t.Uniform1i(e, r.u_is_size_zoom_constant),
                            u_is_size_feature_constant: new t.Uniform1i(e, r.u_is_size_feature_constant),
                            u_size_t: new t.Uniform1f(e, r.u_size_t),
                            u_size: new t.Uniform1f(e, r.u_size),
                            u_camera_to_center_distance: new t.Uniform1f(e, r.u_camera_to_center_distance),
                            u_pitch: new t.Uniform1f(e, r.u_pitch),
                            u_rotate_symbol: new t.Uniform1i(e, r.u_rotate_symbol),
                            u_aspect_ratio: new t.Uniform1f(e, r.u_aspect_ratio),
                            u_fade_change: new t.Uniform1f(e, r.u_fade_change),
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_label_plane_matrix: new t.UniformMatrix4f(e, r.u_label_plane_matrix),
                            u_coord_matrix: new t.UniformMatrix4f(e, r.u_coord_matrix),
                            u_is_text: new t.Uniform1i(e, r.u_is_text),
                            u_pitch_with_map: new t.Uniform1i(e, r.u_pitch_with_map),
                            u_texsize: new t.Uniform2f(e, r.u_texsize),
                            u_texture: new t.Uniform1i(e, r.u_texture),
                            u_gamma_scale: new t.Uniform1f(e, r.u_gamma_scale),
                            u_device_pixel_ratio: new t.Uniform1f(e, r.u_device_pixel_ratio),
                            u_is_halo: new t.Uniform1i(e, r.u_is_halo)
                        }
                    },
                    symbolTextAndIcon: function(e, r) {
                        return {
                            u_is_size_zoom_constant: new t.Uniform1i(e, r.u_is_size_zoom_constant),
                            u_is_size_feature_constant: new t.Uniform1i(e, r.u_is_size_feature_constant),
                            u_size_t: new t.Uniform1f(e, r.u_size_t),
                            u_size: new t.Uniform1f(e, r.u_size),
                            u_camera_to_center_distance: new t.Uniform1f(e, r.u_camera_to_center_distance),
                            u_pitch: new t.Uniform1f(e, r.u_pitch),
                            u_rotate_symbol: new t.Uniform1i(e, r.u_rotate_symbol),
                            u_aspect_ratio: new t.Uniform1f(e, r.u_aspect_ratio),
                            u_fade_change: new t.Uniform1f(e, r.u_fade_change),
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_label_plane_matrix: new t.UniformMatrix4f(e, r.u_label_plane_matrix),
                            u_coord_matrix: new t.UniformMatrix4f(e, r.u_coord_matrix),
                            u_is_text: new t.Uniform1i(e, r.u_is_text),
                            u_pitch_with_map: new t.Uniform1i(e, r.u_pitch_with_map),
                            u_texsize: new t.Uniform2f(e, r.u_texsize),
                            u_texsize_icon: new t.Uniform2f(e, r.u_texsize_icon),
                            u_texture: new t.Uniform1i(e, r.u_texture),
                            u_texture_icon: new t.Uniform1i(e, r.u_texture_icon),
                            u_gamma_scale: new t.Uniform1f(e, r.u_gamma_scale),
                            u_device_pixel_ratio: new t.Uniform1f(e, r.u_device_pixel_ratio),
                            u_is_halo: new t.Uniform1i(e, r.u_is_halo)
                        }
                    },
                    background: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_opacity: new t.Uniform1f(e, r.u_opacity),
                            u_color: new t.UniformColor(e, r.u_color)
                        }
                    },
                    backgroundPattern: function(e, r) {
                        return {
                            u_matrix: new t.UniformMatrix4f(e, r.u_matrix),
                            u_opacity: new t.Uniform1f(e, r.u_opacity),
                            u_image: new t.Uniform1i(e, r.u_image),
                            u_pattern_tl_a: new t.Uniform2f(e, r.u_pattern_tl_a),
                            u_pattern_br_a: new t.Uniform2f(e, r.u_pattern_br_a),
                            u_pattern_tl_b: new t.Uniform2f(e, r.u_pattern_tl_b),
                            u_pattern_br_b: new t.Uniform2f(e, r.u_pattern_br_b),
                            u_texsize: new t.Uniform2f(e, r.u_texsize),
                            u_mix: new t.Uniform1f(e, r.u_mix),
                            u_pattern_size_a: new t.Uniform2f(e, r.u_pattern_size_a),
                            u_pattern_size_b: new t.Uniform2f(e, r.u_pattern_size_b),
                            u_scale_a: new t.Uniform1f(e, r.u_scale_a),
                            u_scale_b: new t.Uniform1f(e, r.u_scale_b),
                            u_pixel_coord_upper: new t.Uniform2f(e, r.u_pixel_coord_upper),
                            u_pixel_coord_lower: new t.Uniform2f(e, r.u_pixel_coord_lower),
                            u_tile_units_to_pixels: new t.Uniform1f(e, r.u_tile_units_to_pixels)
                        }
                    }
                };

            function Kr(e, r, n, i, o, a, s) {
                for (var u = e.context, l = u.gl, c = e.useProgram("collisionBox"), p = [], h = 0, f = 0, d = 0; d < i.length; d++) {
                    var m = i[d],
                        y = r.getTile(m),
                        v = y.getBucket(n);
                    if (v) {
                        var g = m.posMatrix;
                        0 === o[0] && 0 === o[1] || (g = e.translatePosMatrix(m.posMatrix, y, o, a));
                        var _ = s ? v.textCollisionBox : v.iconCollisionBox,
                            x = v.collisionCircleArray;
                        if (x.length > 0) {
                            var b = t.create(),
                                w = g;
                            t.mul(b, v.placementInvProjMatrix, e.transform.glCoordMatrix), t.mul(b, b, v.placementViewportMatrix), p.push({
                                circleArray: x,
                                circleOffset: f,
                                transform: w,
                                invTransform: b
                            }), f = h += x.length / 4
                        }
                        _ && c.draw(u, l.LINES, Et.disabled, At.disabled, e.colorModeForRenderPass(), It.disabled, Pr(g, e.transform, y), n.id, _.layoutVertexBuffer, _.indexBuffer, _.segments, null, e.transform.zoom, null, null, _.collisionVertexBuffer)
                    }
                }
                if (s && p.length) {
                    var S = e.useProgram("collisionCircle"),
                        T = new t.StructArrayLayout2f1f2i16;
                    T.resize(4 * h), T._trim();
                    for (var E = 0, A = 0, C = p; A < C.length; A += 1)
                        for (var I = C[A], k = 0; k < I.circleArray.length / 4; k++) {
                            var P = 4 * k,
                                z = I.circleArray[P + 0],
                                M = I.circleArray[P + 1],
                                D = I.circleArray[P + 2],
                                L = I.circleArray[P + 3];
                            T.emplace(E++, z, M, D, L, 0), T.emplace(E++, z, M, D, L, 1), T.emplace(E++, z, M, D, L, 2), T.emplace(E++, z, M, D, L, 3)
                        }(!qr || qr.length < 2 * h) && (qr = function(e) {
                            var r = 2 * e,
                                n = new t.StructArrayLayout3ui6;
                            n.resize(r), n._trim();
                            for (var i = 0; i < r; i++) {
                                var o = 6 * i;
                                n.uint16[o + 0] = 4 * i + 0, n.uint16[o + 1] = 4 * i + 1, n.uint16[o + 2] = 4 * i + 2, n.uint16[o + 3] = 4 * i + 2, n.uint16[o + 4] = 4 * i + 3, n.uint16[o + 5] = 4 * i + 0
                            }
                            return n
                        }(h));
                    for (var O = u.createIndexBuffer(qr, !0), R = u.createVertexBuffer(T, t.collisionCircleLayout.members, !0), B = 0, F = p; B < F.length; B += 1) {
                        var N = F[B],
                            U = zr(N.transform, N.invTransform, e.transform);
                        S.draw(u, l.TRIANGLES, Et.disabled, At.disabled, e.colorModeForRenderPass(), It.disabled, U, n.id, R, O, t.SegmentVector.simpleSegment(0, 2 * N.circleOffset, N.circleArray.length, N.circleArray.length / 2), null, e.transform.zoom, null, null, null)
                    }
                    R.destroy(), O.destroy()
                }
            }
            var Jr = t.identity(new Float32Array(16));

            function Yr(e, r, n, i, o, a) {
                var s = t.getAnchorAlignment(e),
                    u = -(s.horizontalAlign - .5) * r,
                    l = -(s.verticalAlign - .5) * n,
                    c = t.evaluateVariableOffset(e, i);
                return new t.Point((u / o + c[0]) * a, (l / o + c[1]) * a)
            }

            function Qr(e, r, n, i, o, a, s, u, l, c, p) {
                var h = e.text.placedSymbolArray,
                    f = e.text.dynamicLayoutVertexArray,
                    d = e.icon.dynamicLayoutVertexArray,
                    m = {};
                f.clear();
                for (var y = 0; y < h.length; y++) {
                    var v = h.get(y),
                        g = v.hidden || !v.crossTileID || e.allowVerticalPlacement && !v.placedOrientation ? null : i[v.crossTileID];
                    if (g) {
                        var _ = new t.Point(v.anchorX, v.anchorY),
                            x = Qt(_, n ? u : s),
                            b = te(a.cameraToCenterDistance, x.signedDistanceFromCamera),
                            w = o.evaluateSizeForFeature(e.textSizeData, c, v) * b / t.ONE_EM;
                        n && (w *= e.tilePixelRatio / l);
                        for (var S = Yr(g.anchor, g.width, g.height, g.textOffset, g.textBoxScale, w), T = n ? Qt(_.add(S), s).point : x.point.add(r ? S.rotate(-a.angle) : S), E = e.allowVerticalPlacement && v.placedOrientation === t.WritingMode.vertical ? Math.PI / 2 : 0, A = 0; A < v.numGlyphs; A++) t.addDynamicAttributes(f, T, E);
                        p && v.associatedIconIndex >= 0 && (m[v.associatedIconIndex] = {
                            shiftedAnchor: T,
                            angle: E
                        })
                    } else le(v.numGlyphs, f)
                }
                if (p) {
                    d.clear();
                    for (var C = e.icon.placedSymbolArray, I = 0; I < C.length; I++) {
                        var k = C.get(I);
                        if (k.hidden) le(k.numGlyphs, d);
                        else {
                            var P = m[I];
                            if (P)
                                for (var z = 0; z < k.numGlyphs; z++) t.addDynamicAttributes(d, P.shiftedAnchor, P.angle);
                            else le(k.numGlyphs, d)
                        }
                    }
                    e.icon.dynamicLayoutVertexBuffer.updateData(d)
                }
                e.text.dynamicLayoutVertexBuffer.updateData(f)
            }

            function tn(t, e, r) {
                return r.iconsInText && e ? "symbolTextAndIcon" : t ? "symbolSDF" : "symbolIcon"
            }

            function en(e, r, n, i, o, a, s, u, l, c, p, h) {
                for (var f = e.context, d = f.gl, m = e.transform, y = "map" === u, v = "map" === l, g = y && "point" !== n.layout.get("symbol-placement"), _ = y && !v && !g, x = void 0 !== n.layout.get("symbol-sort-key").constantOr(1), b = e.depthModeForSublayer(0, Et.ReadOnly), w = n.layout.get("text-variable-anchor"), S = [], T = 0, E = i; T < E.length; T += 1) {
                    var A = E[T],
                        C = r.getTile(A),
                        I = C.getBucket(n);
                    if (I) {
                        var k = o ? I.text : I.icon;
                        if (k && k.segments.get().length) {
                            var P = k.programConfigurations.get(n.id),
                                z = o || I.sdfIcons,
                                M = o ? I.textSizeData : I.iconSizeData,
                                D = v || 0 !== m.pitch,
                                L = e.useProgram(tn(z, o, I), P),
                                O = t.evaluateSizeForZoom(M, m.zoom),
                                R = void 0,
                                B = [0, 0],
                                F = void 0,
                                N = void 0,
                                U = null,
                                j = void 0;
                            if (o) F = C.glyphAtlasTexture, N = d.LINEAR, R = C.glyphAtlasTexture.size, I.iconsInText && (B = C.imageAtlasTexture.size, U = C.imageAtlasTexture, j = D || e.options.rotating || e.options.zooming || "composite" === M.kind || "camera" === M.kind ? d.LINEAR : d.NEAREST);
                            else {
                                var V = 1 !== n.layout.get("icon-size").constantOr(0) || I.iconsNeedLinear;
                                F = C.imageAtlasTexture, N = z || e.options.rotating || e.options.zooming || V || D ? d.LINEAR : d.NEAREST, R = C.imageAtlasTexture.size
                            }
                            var q = he(C, 1, e.transform.zoom),
                                Z = Jt(A.posMatrix, v, y, e.transform, q),
                                $ = Yt(A.posMatrix, v, y, e.transform, q),
                                G = w && I.hasTextData(),
                                H = "none" !== n.layout.get("icon-text-fit") && G && I.hasIconData();
                            g && re(I, A.posMatrix, e, o, Z, $, v, c);
                            var W = e.translatePosMatrix(A.posMatrix, C, a, s),
                                X = g || o && w || H ? Jr : Z,
                                K = e.translatePosMatrix($, C, a, s, !0),
                                J = z && 0 !== n.paint.get(o ? "text-halo-width" : "icon-halo-width").constantOr(1),
                                Y = {
                                    program: L,
                                    buffers: k,
                                    uniformValues: z ? I.iconsInText ? Gr(M.kind, O, _, v, e, W, X, K, R, B) : $r(M.kind, O, _, v, e, W, X, K, o, R, !0) : Zr(M.kind, O, _, v, e, W, X, K, o, R),
                                    atlasTexture: F,
                                    atlasTextureIcon: U,
                                    atlasInterpolation: N,
                                    atlasInterpolationIcon: j,
                                    isSDF: z,
                                    hasHalo: J
                                };
                            if (x)
                                for (var Q = 0, tt = k.segments.get(); Q < tt.length; Q += 1) {
                                    var et = tt[Q];
                                    S.push({
                                        segments: new t.SegmentVector([et]),
                                        sortKey: et.sortKey,
                                        state: Y
                                    })
                                } else S.push({
                                    segments: k.segments,
                                    sortKey: 0,
                                    state: Y
                                })
                        }
                    }
                }
                x && S.sort((function(t, e) {
                    return t.sortKey - e.sortKey
                }));
                for (var rt = 0, nt = S; rt < nt.length; rt += 1) {
                    var it = nt[rt],
                        ot = it.state;
                    if (f.activeTexture.set(d.TEXTURE0), ot.atlasTexture.bind(ot.atlasInterpolation, d.CLAMP_TO_EDGE), ot.atlasTextureIcon && (f.activeTexture.set(d.TEXTURE1), ot.atlasTextureIcon && ot.atlasTextureIcon.bind(ot.atlasInterpolationIcon, d.CLAMP_TO_EDGE)), ot.isSDF) {
                        var at = ot.uniformValues;
                        ot.hasHalo && (at.u_is_halo = 1, rn(ot.buffers, it.segments, n, e, ot.program, b, p, h, at)), at.u_is_halo = 0
                    }
                    rn(ot.buffers, it.segments, n, e, ot.program, b, p, h, ot.uniformValues)
                }
            }

            function rn(t, e, r, n, i, o, a, s, u) {
                var l = n.context;
                i.draw(l, l.gl.TRIANGLES, o, a, s, It.disabled, u, r.id, t.layoutVertexBuffer, t.indexBuffer, e, r.paint, n.transform.zoom, t.programConfigurations.get(r.id), t.dynamicLayoutVertexBuffer, t.opacityVertexBuffer)
            }

            function nn(t, e, r, n, i, o, a) {
                var s, u, l, c, p, h = t.context.gl,
                    f = r.paint.get("fill-pattern"),
                    d = f && f.constantOr(1),
                    m = r.getCrossfadeParameters();
                a ? (u = d && !r.getPaintProperty("fill-outline-color") ? "fillOutlinePattern" : "fillOutline", s = h.LINES) : (u = d ? "fillPattern" : "fill", s = h.TRIANGLES);
                for (var y = 0, v = n; y < v.length; y += 1) {
                    var g = v[y],
                        _ = e.getTile(g);
                    if (!d || _.patternsLoaded()) {
                        var x = _.getBucket(r);
                        if (x) {
                            var b = x.programConfigurations.get(r.id),
                                w = t.useProgram(u, b);
                            d && (t.context.activeTexture.set(h.TEXTURE0), _.imageAtlasTexture.bind(h.LINEAR, h.CLAMP_TO_EDGE), b.updatePaintBuffers(m));
                            var S = f.constantOr(null);
                            if (S && _.imageAtlas) {
                                var T = _.imageAtlas,
                                    E = T.patternPositions[S.to.toString()],
                                    A = T.patternPositions[S.from.toString()];
                                E && A && b.setConstantPatternPositions(E, A)
                            }
                            var C = t.translatePosMatrix(g.posMatrix, _, r.paint.get("fill-translate"), r.paint.get("fill-translate-anchor"));
                            if (a) {
                                c = x.indexBuffer2, p = x.segments2;
                                var I = [h.drawingBufferWidth, h.drawingBufferHeight];
                                l = "fillOutlinePattern" === u && d ? Ir(C, t, m, _, I) : Cr(C, I)
                            } else c = x.indexBuffer, p = x.segments, l = d ? Ar(C, t, m, _) : Er(C);
                            w.draw(t.context, s, i, t.stencilModeForClipping(g), o, It.disabled, l, r.id, x.layoutVertexBuffer, c, p, r.paint, t.transform.zoom, b)
                        }
                    }
                }
            }

            function on(t, e, r, n, i, o, a) {
                for (var s = t.context, u = s.gl, l = r.paint.get("fill-extrusion-pattern"), c = l.constantOr(1), p = r.getCrossfadeParameters(), h = r.paint.get("fill-extrusion-opacity"), f = 0, d = n; f < d.length; f += 1) {
                    var m = d[f],
                        y = e.getTile(m),
                        v = y.getBucket(r);
                    if (v) {
                        var g = v.programConfigurations.get(r.id),
                            _ = t.useProgram(c ? "fillExtrusionPattern" : "fillExtrusion", g);
                        c && (t.context.activeTexture.set(u.TEXTURE0), y.imageAtlasTexture.bind(u.LINEAR, u.CLAMP_TO_EDGE), g.updatePaintBuffers(p));
                        var x = l.constantOr(null);
                        if (x && y.imageAtlas) {
                            var b = y.imageAtlas,
                                w = b.patternPositions[x.to.toString()],
                                S = b.patternPositions[x.from.toString()];
                            w && S && g.setConstantPatternPositions(w, S)
                        }
                        var T = t.translatePosMatrix(m.posMatrix, y, r.paint.get("fill-extrusion-translate"), r.paint.get("fill-extrusion-translate-anchor")),
                            E = r.paint.get("fill-extrusion-vertical-gradient"),
                            A = c ? Tr(T, t, E, h, m, p, y) : Sr(T, t, E, h);
                        _.draw(s, s.gl.TRIANGLES, i, o, a, It.backCCW, A, r.id, v.layoutVertexBuffer, v.indexBuffer, v.segments, r.paint, t.transform.zoom, g)
                    }
                }
            }

            function an(e, r, n, i, o, a) {
                var s = e.context,
                    u = s.gl,
                    l = r.fbo;
                if (l) {
                    var c = e.useProgram("hillshade");
                    s.activeTexture.set(u.TEXTURE0), u.bindTexture(u.TEXTURE_2D, l.colorAttachment.get());
                    var p = function(e, r, n) {
                        var i = n.paint.get("hillshade-shadow-color"),
                            o = n.paint.get("hillshade-highlight-color"),
                            a = n.paint.get("hillshade-accent-color"),
                            s = n.paint.get("hillshade-illumination-direction") * (Math.PI / 180);
                        "viewport" === n.paint.get("hillshade-illumination-anchor") && (s -= e.transform.angle);
                        var u, l, c, p = !e.options.moving;
                        return {
                            u_matrix: e.transform.calculatePosMatrix(r.tileID.toUnwrapped(), p),
                            u_image: 0,
                            u_latrange: (u = r.tileID, l = Math.pow(2, u.canonical.z), c = u.canonical.y, [new t.MercatorCoordinate(0, c / l).toLngLat().lat, new t.MercatorCoordinate(0, (c + 1) / l).toLngLat().lat]),
                            u_light: [n.paint.get("hillshade-exaggeration"), s],
                            u_shadow: i,
                            u_highlight: o,
                            u_accent: a
                        }
                    }(e, r, n);
                    c.draw(s, u.TRIANGLES, i, o, a, It.disabled, p, n.id, e.rasterBoundsBuffer, e.quadTriangleIndexBuffer, e.rasterBoundsSegments)
                }
            }

            function sn(e, r, n, i, o, a, s) {
                var u = e.context,
                    l = u.gl,
                    c = r.dem;
                if (c && c.data) {
                    var p = c.dim,
                        h = c.stride,
                        f = c.getPixels();
                    if (u.activeTexture.set(l.TEXTURE1), u.pixelStoreUnpackPremultiplyAlpha.set(!1), r.demTexture = r.demTexture || e.getTileTexture(h), r.demTexture) {
                        var d = r.demTexture;
                        d.update(f, {
                            premultiply: !1
                        }), d.bind(l.NEAREST, l.CLAMP_TO_EDGE)
                    } else r.demTexture = new t.Texture(u, f, l.RGBA, {
                        premultiply: !1
                    }), r.demTexture.bind(l.NEAREST, l.CLAMP_TO_EDGE);
                    u.activeTexture.set(l.TEXTURE0);
                    var m = r.fbo;
                    if (!m) {
                        var y = new t.Texture(u, {
                            width: p,
                            height: p,
                            data: null
                        }, l.RGBA);
                        y.bind(l.LINEAR, l.CLAMP_TO_EDGE), (m = r.fbo = u.createFramebuffer(p, p, !0)).colorAttachment.set(y.texture)
                    }
                    u.bindFramebuffer.set(m.framebuffer), u.viewport.set([0, 0, p, p]), e.useProgram("hillshadePrepare").draw(u, l.TRIANGLES, o, a, s, It.disabled, function(e, r, n) {
                        var i = r.stride,
                            o = t.create();
                        return t.ortho(o, 0, t.EXTENT, -t.EXTENT, 0, 0, 1), t.translate(o, o, [0, -t.EXTENT, 0]), {
                            u_matrix: o,
                            u_image: 1,
                            u_dimension: [i, i],
                            u_zoom: e.overscaledZ,
                            u_maxzoom: n,
                            u_unpack: r.getUnpackVector()
                        }
                    }(r.tileID, c, i), n.id, e.rasterBoundsBuffer, e.quadTriangleIndexBuffer, e.rasterBoundsSegments), r.needsHillshadePrepare = !1
                }
            }

            function un(e, r, n, i, o) {
                var a = i.paint.get("raster-fade-duration");
                if (a > 0) {
                    var s = t.browser.now(),
                        u = (s - e.timeAdded) / a,
                        l = r ? (s - r.timeAdded) / a : -1,
                        c = n.getSource(),
                        p = o.coveringZoomLevel({
                            tileSize: c.tileSize,
                            roundZoom: c.roundZoom
                        }),
                        h = !r || Math.abs(r.tileID.overscaledZ - p) > Math.abs(e.tileID.overscaledZ - p),
                        f = h && e.refreshedUponExpiration ? 1 : t.clamp(h ? u : 1 - l, 0, 1);
                    return e.refreshedUponExpiration && u >= 1 && (e.refreshedUponExpiration = !1), r ? {
                        opacity: 1,
                        mix: 1 - f
                    } : {
                        opacity: f,
                        mix: 0
                    }
                }
                return {
                    opacity: 1,
                    mix: 0
                }
            }
            var ln = new t.Color(1, 0, 0, 1),
                cn = new t.Color(0, 1, 0, 1),
                pn = new t.Color(0, 0, 1, 1),
                hn = new t.Color(1, 0, 1, 1),
                fn = new t.Color(0, 1, 1, 1);

            function dn(t, e, r, n) {
                yn(t, 0, e + r / 2, t.transform.width, r, n)
            }

            function mn(t, e, r, n) {
                yn(t, e - r / 2, 0, r, t.transform.height, n)
            }

            function yn(e, r, n, i, o, a) {
                var s = e.context,
                    u = s.gl;
                u.enable(u.SCISSOR_TEST), u.scissor(r * t.browser.devicePixelRatio, n * t.browser.devicePixelRatio, i * t.browser.devicePixelRatio, o * t.browser.devicePixelRatio), s.clear({
                    color: a
                }), u.disable(u.SCISSOR_TEST)
            }

            function vn(e, r, n) {
                var i = e.context,
                    o = i.gl,
                    a = n.posMatrix,
                    s = e.useProgram("debug"),
                    u = Et.disabled,
                    l = At.disabled,
                    c = e.colorModeForRenderPass();
                i.activeTexture.set(o.TEXTURE0), e.emptyTexture.bind(o.LINEAR, o.CLAMP_TO_EDGE), s.draw(i, o.LINE_STRIP, u, l, c, It.disabled, Mr(a, t.Color.red), "$debug", e.debugBuffer, e.tileBorderIndexBuffer, e.debugSegments);
                var p = r.getTileByID(n.key).latestRawTileData,
                    h = Math.floor((p && p.byteLength || 0) / 1024),
                    f = r.getTile(n).tileSize,
                    d = 512 / Math.min(f, 512) * (n.overscaledZ / e.transform.zoom) * .5,
                    m = n.canonical.toString();
                n.overscaledZ !== n.canonical.z && (m += " => " + n.overscaledZ),
                    function(t, e) {
                        t.initDebugOverlayCanvas();
                        var r = t.debugOverlayCanvas,
                            n = t.context.gl,
                            i = t.debugOverlayCanvas.getContext("2d");
                        i.clearRect(0, 0, r.width, r.height), i.shadowColor = "white", i.shadowBlur = 2, i.lineWidth = 1.5, i.strokeStyle = "white", i.textBaseline = "top", i.font = "bold 36px Open Sans, sans-serif", i.fillText(e, 5, 5), i.strokeText(e, 5, 5), t.debugOverlayTexture.update(r), t.debugOverlayTexture.bind(n.LINEAR, n.CLAMP_TO_EDGE)
                    }(e, m + " " + h + "kb"), s.draw(i, o.TRIANGLES, u, l, Ct.alphaBlended, It.disabled, Mr(a, t.Color.transparent, d), "$debug", e.debugBuffer, e.quadTriangleIndexBuffer, e.debugSegments)
            }
            var gn = {
                    symbol: function(e, r, n, i, o) {
                        if ("translucent" === e.renderPass) {
                            var a = At.disabled,
                                s = e.colorModeForRenderPass();
                            n.layout.get("text-variable-anchor") && function(e, r, n, i, o, a, s) {
                                for (var u = r.transform, l = "map" === o, c = "map" === a, p = 0, h = e; p < h.length; p += 1) {
                                    var f = h[p],
                                        d = i.getTile(f),
                                        m = d.getBucket(n);
                                    if (m && m.text && m.text.segments.get().length) {
                                        var y = t.evaluateSizeForZoom(m.textSizeData, u.zoom),
                                            v = he(d, 1, r.transform.zoom),
                                            g = Jt(f.posMatrix, c, l, r.transform, v),
                                            _ = "none" !== n.layout.get("icon-text-fit") && m.hasIconData();
                                        if (y) {
                                            var x = Math.pow(2, u.zoom - d.tileID.overscaledZ);
                                            Qr(m, l, c, s, t.symbolSize, u, g, f.posMatrix, x, y, _)
                                        }
                                    }
                                }
                            }(i, e, n, r, n.layout.get("text-rotation-alignment"), n.layout.get("text-pitch-alignment"), o), 0 !== n.paint.get("icon-opacity").constantOr(1) && en(e, r, n, i, !1, n.paint.get("icon-translate"), n.paint.get("icon-translate-anchor"), n.layout.get("icon-rotation-alignment"), n.layout.get("icon-pitch-alignment"), n.layout.get("icon-keep-upright"), a, s), 0 !== n.paint.get("text-opacity").constantOr(1) && en(e, r, n, i, !0, n.paint.get("text-translate"), n.paint.get("text-translate-anchor"), n.layout.get("text-rotation-alignment"), n.layout.get("text-pitch-alignment"), n.layout.get("text-keep-upright"), a, s), r.map.showCollisionBoxes && (Kr(e, r, n, i, n.paint.get("text-translate"), n.paint.get("text-translate-anchor"), !0), Kr(e, r, n, i, n.paint.get("icon-translate"), n.paint.get("icon-translate-anchor"), !1))
                        }
                    },
                    circle: function(e, r, n, i) {
                        if ("translucent" === e.renderPass) {
                            var o = n.paint.get("circle-opacity"),
                                a = n.paint.get("circle-stroke-width"),
                                s = n.paint.get("circle-stroke-opacity"),
                                u = void 0 !== n.layout.get("circle-sort-key").constantOr(1);
                            if (0 !== o.constantOr(1) || 0 !== a.constantOr(1) && 0 !== s.constantOr(1)) {
                                for (var l = e.context, c = l.gl, p = e.depthModeForSublayer(0, Et.ReadOnly), h = At.disabled, f = e.colorModeForRenderPass(), d = [], m = 0; m < i.length; m++) {
                                    var y = i[m],
                                        v = r.getTile(y),
                                        g = v.getBucket(n);
                                    if (g) {
                                        var _ = g.programConfigurations.get(n.id),
                                            x = {
                                                programConfiguration: _,
                                                program: e.useProgram("circle", _),
                                                layoutVertexBuffer: g.layoutVertexBuffer,
                                                indexBuffer: g.indexBuffer,
                                                uniformValues: kr(e, y, v, n)
                                            };
                                        if (u)
                                            for (var b = 0, w = g.segments.get(); b < w.length; b += 1) {
                                                var S = w[b];
                                                d.push({
                                                    segments: new t.SegmentVector([S]),
                                                    sortKey: S.sortKey,
                                                    state: x
                                                })
                                            } else d.push({
                                                segments: g.segments,
                                                sortKey: 0,
                                                state: x
                                            })
                                    }
                                }
                                u && d.sort((function(t, e) {
                                    return t.sortKey - e.sortKey
                                }));
                                for (var T = 0, E = d; T < E.length; T += 1) {
                                    var A = E[T],
                                        C = A.state;
                                    C.program.draw(l, c.TRIANGLES, p, h, f, It.disabled, C.uniformValues, n.id, C.layoutVertexBuffer, C.indexBuffer, A.segments, n.paint, e.transform.zoom, C.programConfiguration)
                                }
                            }
                        }
                    },
                    heatmap: function(e, r, n, i) {
                        if (0 !== n.paint.get("heatmap-opacity"))
                            if ("offscreen" === e.renderPass) {
                                var o = e.context,
                                    a = o.gl,
                                    s = At.disabled,
                                    u = new Ct([a.ONE, a.ONE], t.Color.transparent, [!0, !0, !0, !0]);
                                ! function(t, e, r) {
                                    var n = t.gl;
                                    t.activeTexture.set(n.TEXTURE1), t.viewport.set([0, 0, e.width / 4, e.height / 4]);
                                    var i = r.heatmapFbo;
                                    if (i) n.bindTexture(n.TEXTURE_2D, i.colorAttachment.get()), t.bindFramebuffer.set(i.framebuffer);
                                    else {
                                        var o = n.createTexture();
                                        n.bindTexture(n.TEXTURE_2D, o), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_S, n.CLAMP_TO_EDGE), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_T, n.CLAMP_TO_EDGE), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MIN_FILTER, n.LINEAR), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MAG_FILTER, n.LINEAR), i = r.heatmapFbo = t.createFramebuffer(e.width / 4, e.height / 4, !1),
                                            function(t, e, r, n) {
                                                var i = t.gl;
                                                i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, e.width / 4, e.height / 4, 0, i.RGBA, t.extRenderToTextureHalfFloat ? t.extTextureHalfFloat.HALF_FLOAT_OES : i.UNSIGNED_BYTE, null), n.colorAttachment.set(r)
                                            }(t, e, o, i)
                                    }
                                }(o, e, n), o.clear({
                                    color: t.Color.transparent
                                });
                                for (var l = 0; l < i.length; l++) {
                                    var c = i[l];
                                    if (!r.hasRenderableParent(c)) {
                                        var p = r.getTile(c),
                                            h = p.getBucket(n);
                                        if (h) {
                                            var f = h.programConfigurations.get(n.id);
                                            e.useProgram("heatmap", f).draw(o, a.TRIANGLES, Et.disabled, s, u, It.disabled, Lr(c.posMatrix, p, e.transform.zoom, n.paint.get("heatmap-intensity")), n.id, h.layoutVertexBuffer, h.indexBuffer, h.segments, n.paint, e.transform.zoom, f)
                                        }
                                    }
                                }
                                o.viewport.set([0, 0, e.width, e.height])
                            } else "translucent" === e.renderPass && (e.context.setColorMode(e.colorModeForRenderPass()), function(e, r) {
                                var n = e.context,
                                    i = n.gl,
                                    o = r.heatmapFbo;
                                if (o) {
                                    n.activeTexture.set(i.TEXTURE0), i.bindTexture(i.TEXTURE_2D, o.colorAttachment.get()), n.activeTexture.set(i.TEXTURE1);
                                    var a = r.colorRampTexture;
                                    a || (a = r.colorRampTexture = new t.Texture(n, r.colorRamp, i.RGBA)), a.bind(i.LINEAR, i.CLAMP_TO_EDGE), e.useProgram("heatmapTexture").draw(n, i.TRIANGLES, Et.disabled, At.disabled, e.colorModeForRenderPass(), It.disabled, function(e, r, n, i) {
                                        var o = t.create();
                                        t.ortho(o, 0, e.width, e.height, 0, 0, 1);
                                        var a = e.context.gl;
                                        return {
                                            u_matrix: o,
                                            u_world: [a.drawingBufferWidth, a.drawingBufferHeight],
                                            u_image: 0,
                                            u_color_ramp: 1,
                                            u_opacity: r.paint.get("heatmap-opacity")
                                        }
                                    }(e, r), r.id, e.viewportBuffer, e.quadTriangleIndexBuffer, e.viewportSegments, r.paint, e.transform.zoom)
                                }
                            }(e, n))
                    },
                    line: function(e, r, n, i) {
                        if ("translucent" === e.renderPass) {
                            var o = n.paint.get("line-opacity"),
                                a = n.paint.get("line-width");
                            if (0 !== o.constantOr(1) && 0 !== a.constantOr(1)) {
                                var s = e.depthModeForSublayer(0, Et.ReadOnly),
                                    u = e.colorModeForRenderPass(),
                                    l = n.paint.get("line-dasharray"),
                                    c = n.paint.get("line-pattern"),
                                    p = c.constantOr(1),
                                    h = n.paint.get("line-gradient"),
                                    f = n.getCrossfadeParameters(),
                                    d = p ? "linePattern" : l ? "lineSDF" : h ? "lineGradient" : "line",
                                    m = e.context,
                                    y = m.gl,
                                    v = !0;
                                if (h) {
                                    m.activeTexture.set(y.TEXTURE0);
                                    var g = n.gradientTexture;
                                    if (!n.gradient) return;
                                    g || (g = n.gradientTexture = new t.Texture(m, n.gradient, y.RGBA)), g.bind(y.LINEAR, y.CLAMP_TO_EDGE)
                                }
                                for (var _ = 0, x = i; _ < x.length; _ += 1) {
                                    var b = x[_],
                                        w = r.getTile(b);
                                    if (!p || w.patternsLoaded()) {
                                        var S = w.getBucket(n);
                                        if (S) {
                                            var T = S.programConfigurations.get(n.id),
                                                E = e.context.program.get(),
                                                A = e.useProgram(d, T),
                                                C = v || A.program !== E,
                                                I = c.constantOr(null);
                                            if (I && w.imageAtlas) {
                                                var k = w.imageAtlas,
                                                    P = k.patternPositions[I.to.toString()],
                                                    z = k.patternPositions[I.from.toString()];
                                                P && z && T.setConstantPatternPositions(P, z)
                                            }
                                            var M = p ? Br(e, w, n, f) : l ? Fr(e, w, n, l, f) : h ? Rr(e, w, n) : Or(e, w, n);
                                            p ? (m.activeTexture.set(y.TEXTURE0), w.imageAtlasTexture.bind(y.LINEAR, y.CLAMP_TO_EDGE), T.updatePaintBuffers(f)) : l && (C || e.lineAtlas.dirty) && (m.activeTexture.set(y.TEXTURE0), e.lineAtlas.bind(m)), A.draw(m, y.TRIANGLES, s, e.stencilModeForClipping(b), u, It.disabled, M, n.id, S.layoutVertexBuffer, S.indexBuffer, S.segments, n.paint, e.transform.zoom, T), v = !1
                                        }
                                    }
                                }
                            }
                        }
                    },
                    fill: function(e, r, n, i) {
                        var o = n.paint.get("fill-color"),
                            a = n.paint.get("fill-opacity");
                        if (0 !== a.constantOr(1)) {
                            var s = e.colorModeForRenderPass(),
                                u = n.paint.get("fill-pattern"),
                                l = e.opaquePassEnabledForLayer() && !u.constantOr(1) && 1 === o.constantOr(t.Color.transparent).a && 1 === a.constantOr(0) ? "opaque" : "translucent";
                            if (e.renderPass === l) {
                                var c = e.depthModeForSublayer(1, "opaque" === e.renderPass ? Et.ReadWrite : Et.ReadOnly);
                                nn(e, r, n, i, c, s, !1)
                            }
                            if ("translucent" === e.renderPass && n.paint.get("fill-antialias")) {
                                var p = e.depthModeForSublayer(n.getPaintProperty("fill-outline-color") ? 2 : 0, Et.ReadOnly);
                                nn(e, r, n, i, p, s, !0)
                            }
                        }
                    },
                    "fill-extrusion": function(t, e, r, n) {
                        var i = r.paint.get("fill-extrusion-opacity");
                        if (0 !== i && "translucent" === t.renderPass) {
                            var o = new Et(t.context.gl.LEQUAL, Et.ReadWrite, t.depthRangeFor3D);
                            if (1 !== i || r.paint.get("fill-extrusion-pattern").constantOr(1)) on(t, e, r, n, o, At.disabled, Ct.disabled), on(t, e, r, n, o, t.stencilModeFor3D(), t.colorModeForRenderPass());
                            else {
                                var a = t.colorModeForRenderPass();
                                on(t, e, r, n, o, At.disabled, a)
                            }
                        }
                    },
                    hillshade: function(t, e, r, n) {
                        if ("offscreen" === t.renderPass || "translucent" === t.renderPass) {
                            for (var i = t.context, o = e.getSource().maxzoom, a = t.depthModeForSublayer(0, Et.ReadOnly), s = t.colorModeForRenderPass(), u = "translucent" === t.renderPass ? t.stencilConfigForOverlap(n) : [{}, n], l = u[0], c = 0, p = u[1]; c < p.length; c += 1) {
                                var h = p[c],
                                    f = e.getTile(h);
                                f.needsHillshadePrepare && "offscreen" === t.renderPass ? sn(t, f, r, o, a, At.disabled, s) : "translucent" === t.renderPass && an(t, f, r, a, l[h.overscaledZ], s)
                            }
                            i.viewport.set([0, 0, t.width, t.height])
                        }
                    },
                    raster: function(t, e, r, n) {
                        if ("translucent" === t.renderPass && 0 !== r.paint.get("raster-opacity") && n.length)
                            for (var i = t.context, o = i.gl, a = e.getSource(), s = t.useProgram("raster"), u = t.colorModeForRenderPass(), l = a instanceof M ? [{}, n] : t.stencilConfigForOverlap(n), c = l[0], p = l[1], h = p[p.length - 1].overscaledZ, f = !t.options.moving, d = 0, m = p; d < m.length; d += 1) {
                                var y = m[d],
                                    v = t.depthModeForSublayer(y.overscaledZ - h, 1 === r.paint.get("raster-opacity") ? Et.ReadWrite : Et.ReadOnly, o.LESS),
                                    g = e.getTile(y),
                                    _ = t.transform.calculatePosMatrix(y.toUnwrapped(), f);
                                g.registerFadeDuration(r.paint.get("raster-fade-duration"));
                                var x = e.findLoadedParent(y, 0),
                                    b = un(g, x, e, r, t.transform),
                                    w = void 0,
                                    S = void 0,
                                    T = "nearest" === r.paint.get("raster-resampling") ? o.NEAREST : o.LINEAR;
                                i.activeTexture.set(o.TEXTURE0), g.texture.bind(T, o.CLAMP_TO_EDGE, o.LINEAR_MIPMAP_NEAREST), i.activeTexture.set(o.TEXTURE1), x ? (x.texture.bind(T, o.CLAMP_TO_EDGE, o.LINEAR_MIPMAP_NEAREST), w = Math.pow(2, x.tileID.overscaledZ - g.tileID.overscaledZ), S = [g.tileID.canonical.x * w % 1, g.tileID.canonical.y * w % 1]) : g.texture.bind(T, o.CLAMP_TO_EDGE, o.LINEAR_MIPMAP_NEAREST);
                                var E = jr(_, S || [0, 0], w || 1, b, r);
                                a instanceof M ? s.draw(i, o.TRIANGLES, v, At.disabled, u, It.disabled, E, r.id, a.boundsBuffer, t.quadTriangleIndexBuffer, a.boundsSegments) : s.draw(i, o.TRIANGLES, v, c[y.overscaledZ], u, It.disabled, E, r.id, t.rasterBoundsBuffer, t.quadTriangleIndexBuffer, t.rasterBoundsSegments)
                            }
                    },
                    background: function(t, e, r) {
                        var n = r.paint.get("background-color"),
                            i = r.paint.get("background-opacity");
                        if (0 !== i) {
                            var o = t.context,
                                a = o.gl,
                                s = t.transform,
                                u = s.tileSize,
                                l = r.paint.get("background-pattern");
                            if (!t.isPatternMissing(l)) {
                                var c = !l && 1 === n.a && 1 === i && t.opaquePassEnabledForLayer() ? "opaque" : "translucent";
                                if (t.renderPass === c) {
                                    var p = At.disabled,
                                        h = t.depthModeForSublayer(0, "opaque" === c ? Et.ReadWrite : Et.ReadOnly),
                                        f = t.colorModeForRenderPass(),
                                        d = t.useProgram(l ? "backgroundPattern" : "background"),
                                        m = s.coveringTiles({
                                            tileSize: u
                                        });
                                    l && (o.activeTexture.set(a.TEXTURE0), t.imageManager.bind(t.context));
                                    for (var y = r.getCrossfadeParameters(), v = 0, g = m; v < g.length; v += 1) {
                                        var _ = g[v],
                                            x = t.transform.calculatePosMatrix(_.toUnwrapped()),
                                            b = l ? Wr(x, i, t, l, {
                                                tileID: _,
                                                tileSize: u
                                            }, y) : Hr(x, i, n);
                                        d.draw(o, a.TRIANGLES, h, p, f, It.disabled, b, r.id, t.tileExtentBuffer, t.quadTriangleIndexBuffer, t.tileExtentSegments)
                                    }
                                }
                            }
                        }
                    },
                    debug: function(t, e, r) {
                        for (var n = 0; n < r.length; n++) vn(t, e, r[n])
                    },
                    custom: function(t, e, r) {
                        var n = t.context,
                            i = r.implementation;
                        if ("offscreen" === t.renderPass) {
                            var o = i.prerender;
                            o && (t.setCustomLayerDefaults(), n.setColorMode(t.colorModeForRenderPass()), o.call(i, n.gl, t.transform.customLayerMatrix()), n.setDirty(), t.setBaseState())
                        } else if ("translucent" === t.renderPass) {
                            t.setCustomLayerDefaults(), n.setColorMode(t.colorModeForRenderPass()), n.setStencilMode(At.disabled);
                            var a = "3d" === i.renderingMode ? new Et(t.context.gl.LEQUAL, Et.ReadWrite, t.depthRangeFor3D) : t.depthModeForSublayer(0, Et.ReadOnly);
                            n.setDepthMode(a), i.render(n.gl, t.transform.customLayerMatrix()), n.setDirty(), t.setBaseState(), n.bindFramebuffer.set(null)
                        }
                    }
                },
                _n = function(t, e) {
                    this.context = new kt(t), this.transform = e, this._tileTextures = {}, this.setup(), this.numSublayers = Pt.maxUnderzooming + Pt.maxOverzooming + 1, this.depthEpsilon = 1 / Math.pow(2, 16), this.crossTileSymbolIndex = new Fe, this.gpuTimers = {}
                };
            _n.prototype.resize = function(e, r) {
                if (this.width = e * t.browser.devicePixelRatio, this.height = r * t.browser.devicePixelRatio, this.context.viewport.set([0, 0, this.width, this.height]), this.style)
                    for (var n = 0, i = this.style._order; n < i.length; n += 1) this.style._layers[i[n]].resize()
            }, _n.prototype.setup = function() {
                var e = this.context,
                    r = new t.StructArrayLayout2i4;
                r.emplaceBack(0, 0), r.emplaceBack(t.EXTENT, 0), r.emplaceBack(0, t.EXTENT), r.emplaceBack(t.EXTENT, t.EXTENT), this.tileExtentBuffer = e.createVertexBuffer(r, Ze.members), this.tileExtentSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2);
                var n = new t.StructArrayLayout2i4;
                n.emplaceBack(0, 0), n.emplaceBack(t.EXTENT, 0), n.emplaceBack(0, t.EXTENT), n.emplaceBack(t.EXTENT, t.EXTENT), this.debugBuffer = e.createVertexBuffer(n, Ze.members), this.debugSegments = t.SegmentVector.simpleSegment(0, 0, 4, 5);
                var i = new t.StructArrayLayout4i8;
                i.emplaceBack(0, 0, 0, 0), i.emplaceBack(t.EXTENT, 0, t.EXTENT, 0), i.emplaceBack(0, t.EXTENT, 0, t.EXTENT), i.emplaceBack(t.EXTENT, t.EXTENT, t.EXTENT, t.EXTENT), this.rasterBoundsBuffer = e.createVertexBuffer(i, z.members), this.rasterBoundsSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2);
                var o = new t.StructArrayLayout2i4;
                o.emplaceBack(0, 0), o.emplaceBack(1, 0), o.emplaceBack(0, 1), o.emplaceBack(1, 1), this.viewportBuffer = e.createVertexBuffer(o, Ze.members), this.viewportSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2);
                var a = new t.StructArrayLayout1ui2;
                a.emplaceBack(0), a.emplaceBack(1), a.emplaceBack(3), a.emplaceBack(2), a.emplaceBack(0), this.tileBorderIndexBuffer = e.createIndexBuffer(a);
                var s = new t.StructArrayLayout3ui6;
                s.emplaceBack(0, 1, 2), s.emplaceBack(2, 1, 3), this.quadTriangleIndexBuffer = e.createIndexBuffer(s), this.emptyTexture = new t.Texture(e, {
                    width: 1,
                    height: 1,
                    data: new Uint8Array([0, 0, 0, 0])
                }, e.gl.RGBA);
                var u = this.context.gl;
                this.stencilClearMode = new At({
                    func: u.ALWAYS,
                    mask: 0
                }, 0, 255, u.ZERO, u.ZERO, u.ZERO)
            }, _n.prototype.clearStencil = function() {
                var e = this.context,
                    r = e.gl;
                this.nextStencilID = 1, this.currentStencilSource = void 0;
                var n = t.create();
                t.ortho(n, 0, this.width, this.height, 0, 0, 1), t.scale(n, n, [r.drawingBufferWidth, r.drawingBufferHeight, 0]), this.useProgram("clippingMask").draw(e, r.TRIANGLES, Et.disabled, this.stencilClearMode, Ct.disabled, It.disabled, Dr(n), "$clipping", this.viewportBuffer, this.quadTriangleIndexBuffer, this.viewportSegments)
            }, _n.prototype._renderTileClippingMasks = function(t, e) {
                if (this.currentStencilSource !== t.source && t.isTileClipped() && e && e.length) {
                    this.currentStencilSource = t.source;
                    var r = this.context,
                        n = r.gl;
                    this.nextStencilID + e.length > 256 && this.clearStencil(), r.setColorMode(Ct.disabled), r.setDepthMode(Et.disabled);
                    var i = this.useProgram("clippingMask");
                    this._tileClippingMaskIDs = {};
                    for (var o = 0, a = e; o < a.length; o += 1) {
                        var s = a[o],
                            u = this._tileClippingMaskIDs[s.key] = this.nextStencilID++;
                        i.draw(r, n.TRIANGLES, Et.disabled, new At({
                            func: n.ALWAYS,
                            mask: 0
                        }, u, 255, n.KEEP, n.KEEP, n.REPLACE), Ct.disabled, It.disabled, Dr(s.posMatrix), "$clipping", this.tileExtentBuffer, this.quadTriangleIndexBuffer, this.tileExtentSegments)
                    }
                }
            }, _n.prototype.stencilModeFor3D = function() {
                this.currentStencilSource = void 0, this.nextStencilID + 1 > 256 && this.clearStencil();
                var t = this.nextStencilID++,
                    e = this.context.gl;
                return new At({
                    func: e.NOTEQUAL,
                    mask: 255
                }, t, 255, e.KEEP, e.KEEP, e.REPLACE)
            }, _n.prototype.stencilModeForClipping = function(t) {
                var e = this.context.gl;
                return new At({
                    func: e.EQUAL,
                    mask: 255
                }, this._tileClippingMaskIDs[t.key], 0, e.KEEP, e.KEEP, e.REPLACE)
            }, _n.prototype.stencilConfigForOverlap = function(t) {
                var e, r = this.context.gl,
                    n = t.sort((function(t, e) {
                        return e.overscaledZ - t.overscaledZ
                    })),
                    i = n[n.length - 1].overscaledZ,
                    o = n[0].overscaledZ - i + 1;
                if (o > 1) {
                    this.currentStencilSource = void 0, this.nextStencilID + o > 256 && this.clearStencil();
                    for (var a = {}, s = 0; s < o; s++) a[s + i] = new At({
                        func: r.GEQUAL,
                        mask: 255
                    }, s + this.nextStencilID, 255, r.KEEP, r.KEEP, r.REPLACE);
                    return this.nextStencilID += o, [a, n]
                }
                return [(e = {}, e[i] = At.disabled, e), n]
            }, _n.prototype.colorModeForRenderPass = function() {
                var e = this.context.gl;
                return this._showOverdrawInspector ? new Ct([e.CONSTANT_COLOR, e.ONE], new t.Color(1 / 8, 1 / 8, 1 / 8, 0), [!0, !0, !0, !0]) : "opaque" === this.renderPass ? Ct.unblended : Ct.alphaBlended
            }, _n.prototype.depthModeForSublayer = function(t, e, r) {
                if (!this.opaquePassEnabledForLayer()) return Et.disabled;
                var n = 1 - ((1 + this.currentLayer) * this.numSublayers + t) * this.depthEpsilon;
                return new Et(r || this.context.gl.LEQUAL, e, [n, n])
            }, _n.prototype.opaquePassEnabledForLayer = function() {
                return this.currentLayer < this.opaquePassCutoff
            }, _n.prototype.render = function(e, r) {
                var n = this;
                this.style = e, this.options = r, this.lineAtlas = e.lineAtlas, this.imageManager = e.imageManager, this.glyphManager = e.glyphManager, this.symbolFadeChange = e.placement.symbolFadeChange(t.browser.now()), this.imageManager.beginFrame();
                var i = this.style._order,
                    o = this.style.sourceCaches;
                for (var a in o) {
                    var s = o[a];
                    s.used && s.prepare(this.context)
                }
                var u, l, c = {},
                    p = {},
                    h = {};
                for (var f in o) {
                    var d = o[f];
                    c[f] = d.getVisibleCoordinates(), p[f] = c[f].slice().reverse(), h[f] = d.getVisibleCoordinates(!0).reverse()
                }
                this.opaquePassCutoff = 1 / 0;
                for (var m = 0; m < i.length; m++)
                    if (this.style._layers[i[m]].is3D()) {
                        this.opaquePassCutoff = m;
                        break
                    } this.renderPass = "offscreen";
                for (var y = 0, v = i; y < v.length; y += 1) {
                    var g = this.style._layers[v[y]];
                    if (g.hasOffscreenPass() && !g.isHidden(this.transform.zoom)) {
                        var _ = p[g.source];
                        ("custom" === g.type || _.length) && this.renderLayer(this, o[g.source], g, _)
                    }
                }
                for (this.context.bindFramebuffer.set(null), this.context.clear({
                        color: r.showOverdrawInspector ? t.Color.black : t.Color.transparent,
                        depth: 1
                    }), this.clearStencil(), this._showOverdrawInspector = r.showOverdrawInspector, this.depthRangeFor3D = [0, 1 - (e._order.length + 2) * this.numSublayers * this.depthEpsilon], this.renderPass = "opaque", this.currentLayer = i.length - 1; this.currentLayer >= 0; this.currentLayer--) {
                    var x = this.style._layers[i[this.currentLayer]],
                        b = o[x.source],
                        w = c[x.source];
                    this._renderTileClippingMasks(x, w), this.renderLayer(this, b, x, w)
                }
                for (this.renderPass = "translucent", this.currentLayer = 0; this.currentLayer < i.length; this.currentLayer++) {
                    var S = this.style._layers[i[this.currentLayer]],
                        T = o[S.source],
                        E = ("symbol" === S.type ? h : p)[S.source];
                    this._renderTileClippingMasks(S, c[S.source]), this.renderLayer(this, T, S, E)
                }
                this.options.showTileBoundaries && (t.values(this.style._layers).forEach((function(t) {
                    t.source && !t.isHidden(n.transform.zoom) && (t.source !== (l && l.id) && (l = n.style.sourceCaches[t.source]), (!u || u.getSource().maxzoom < l.getSource().maxzoom) && (u = l))
                })), u && gn.debug(this, u, u.getVisibleCoordinates())), this.options.showPadding && function(t) {
                    var e = t.transform.padding;
                    dn(t, t.transform.height - (e.top || 0), 3, ln), dn(t, e.bottom || 0, 3, cn), mn(t, e.left || 0, 3, pn), mn(t, t.transform.width - (e.right || 0), 3, hn);
                    var r = t.transform.centerPoint;
                    ! function(t, e, r, n) {
                        yn(t, e - 1, r - 10, 2, 20, n), yn(t, e - 10, r - 1, 20, 2, n)
                    }(t, r.x, t.transform.height - r.y, fn)
                }(this), this.context.setDefault()
            }, _n.prototype.renderLayer = function(t, e, r, n) {
                r.isHidden(this.transform.zoom) || ("background" === r.type || "custom" === r.type || n.length) && (this.id = r.id, this.gpuTimingStart(r), gn[r.type](t, e, r, n, this.style.placement.variableOffsets), this.gpuTimingEnd())
            }, _n.prototype.gpuTimingStart = function(t) {
                if (this.options.gpuTiming) {
                    var e = this.context.extTimerQuery,
                        r = this.gpuTimers[t.id];
                    r || (r = this.gpuTimers[t.id] = {
                        calls: 0,
                        cpuTime: 0,
                        query: e.createQueryEXT()
                    }), r.calls++, e.beginQueryEXT(e.TIME_ELAPSED_EXT, r.query)
                }
            }, _n.prototype.gpuTimingEnd = function() {
                if (this.options.gpuTiming) {
                    var t = this.context.extTimerQuery;
                    t.endQueryEXT(t.TIME_ELAPSED_EXT)
                }
            }, _n.prototype.collectGpuTimers = function() {
                var t = this.gpuTimers;
                return this.gpuTimers = {}, t
            }, _n.prototype.queryGpuTimers = function(t) {
                var e = {};
                for (var r in t) {
                    var n = t[r],
                        i = this.context.extTimerQuery,
                        o = i.getQueryObjectEXT(n.query, i.QUERY_RESULT_EXT) / 1e6;
                    i.deleteQueryEXT(n.query), e[r] = o
                }
                return e
            }, _n.prototype.translatePosMatrix = function(e, r, n, i, o) {
                if (!n[0] && !n[1]) return e;
                var a = o ? "map" === i ? this.transform.angle : 0 : "viewport" === i ? -this.transform.angle : 0;
                if (a) {
                    var s = Math.sin(a),
                        u = Math.cos(a);
                    n = [n[0] * u - n[1] * s, n[0] * s + n[1] * u]
                }
                var l = [o ? n[0] : he(r, n[0], this.transform.zoom), o ? n[1] : he(r, n[1], this.transform.zoom), 0],
                    c = new Float32Array(16);
                return t.translate(c, e, l), c
            }, _n.prototype.saveTileTexture = function(t) {
                var e = this._tileTextures[t.size[0]];
                e ? e.push(t) : this._tileTextures[t.size[0]] = [t]
            }, _n.prototype.getTileTexture = function(t) {
                var e = this._tileTextures[t];
                return e && e.length > 0 ? e.pop() : null
            }, _n.prototype.isPatternMissing = function(t) {
                if (!t) return !1;
                if (!t.from || !t.to) return !0;
                var e = this.imageManager.getPattern(t.from.toString()),
                    r = this.imageManager.getPattern(t.to.toString());
                return !e || !r
            }, _n.prototype.useProgram = function(t, e) {
                this.cache = this.cache || {};
                var r = "" + t + (e ? e.cacheKey : "") + (this._showOverdrawInspector ? "/overdraw" : "");
                return this.cache[r] || (this.cache[r] = new br(this.context, t, gr[t], e, Xr[t], this._showOverdrawInspector)), this.cache[r]
            }, _n.prototype.setCustomLayerDefaults = function() {
                this.context.unbindVAO(), this.context.cullFace.setDefault(), this.context.activeTexture.setDefault(), this.context.pixelStoreUnpack.setDefault(), this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(), this.context.pixelStoreUnpackFlipY.setDefault()
            }, _n.prototype.setBaseState = function() {
                var t = this.context.gl;
                this.context.cullFace.set(!1), this.context.viewport.set([0, 0, this.width, this.height]), this.context.blendEquation.set(t.FUNC_ADD)
            }, _n.prototype.initDebugOverlayCanvas = function() {
                null == this.debugOverlayCanvas && (this.debugOverlayCanvas = t.window.document.createElement("canvas"), this.debugOverlayCanvas.width = 512, this.debugOverlayCanvas.height = 512, this.debugOverlayTexture = new t.Texture(this.context, this.debugOverlayCanvas, this.context.gl.RGBA))
            }, _n.prototype.destroy = function() {
                this.emptyTexture.destroy(), this.debugOverlayTexture && this.debugOverlayTexture.destroy()
            };
            var xn = function(t, e) {
                this.points = t, this.planes = e
            };
            xn.fromInvProjectionMatrix = function(e, r, n) {
                var i = Math.pow(2, n),
                    o = [
                        [-1, 1, -1, 1],
                        [1, 1, -1, 1],
                        [1, -1, -1, 1],
                        [-1, -1, -1, 1],
                        [-1, 1, 1, 1],
                        [1, 1, 1, 1],
                        [1, -1, 1, 1],
                        [-1, -1, 1, 1]
                    ].map((function(r) {
                        return t.transformMat4([], r, e)
                    })).map((function(e) {
                        return t.scale$1([], e, 1 / e[3] / r * i)
                    })),
                    a = [
                        [0, 1, 2],
                        [6, 5, 4],
                        [0, 3, 7],
                        [2, 1, 5],
                        [3, 2, 6],
                        [0, 4, 5]
                    ].map((function(e) {
                        var r = t.sub([], o[e[0]], o[e[1]]),
                            n = t.sub([], o[e[2]], o[e[1]]),
                            i = t.normalize([], t.cross([], r, n)),
                            a = -t.dot(i, o[e[1]]);
                        return i.concat(a)
                    }));
                return new xn(o, a)
            };
            var bn = function(e, r) {
                this.min = e, this.max = r, this.center = t.scale$2([], t.add([], this.min, this.max), .5)
            };
            bn.prototype.quadrant = function(e) {
                for (var r = [e % 2 == 0, e < 2], n = t.clone$2(this.min), i = t.clone$2(this.max), o = 0; o < r.length; o++) n[o] = r[o] ? this.min[o] : this.center[o], i[o] = r[o] ? this.center[o] : this.max[o];
                return i[2] = this.max[2], new bn(n, i)
            }, bn.prototype.distanceX = function(t) {
                return Math.max(Math.min(this.max[0], t[0]), this.min[0]) - t[0]
            }, bn.prototype.distanceY = function(t) {
                return Math.max(Math.min(this.max[1], t[1]), this.min[1]) - t[1]
            }, bn.prototype.intersects = function(e) {
                for (var r = [
                        [this.min[0], this.min[1], 0, 1],
                        [this.max[0], this.min[1], 0, 1],
                        [this.max[0], this.max[1], 0, 1],
                        [this.min[0], this.max[1], 0, 1]
                    ], n = !0, i = 0; i < e.planes.length; i++) {
                    for (var o = e.planes[i], a = 0, s = 0; s < r.length; s++) a += t.dot$1(o, r[s]) >= 0;
                    if (0 === a) return 0;
                    a !== r.length && (n = !1)
                }
                if (n) return 2;
                for (var u = 0; u < 3; u++) {
                    for (var l = Number.MAX_VALUE, c = -Number.MAX_VALUE, p = 0; p < e.points.length; p++) {
                        var h = e.points[p][u] - this.min[u];
                        l = Math.min(l, h), c = Math.max(c, h)
                    }
                    if (c < 0 || l > this.max[u] - this.min[u]) return 0
                }
                return 1
            };
            var wn = function(t, e, r, n) {
                if (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === r && (r = 0), void 0 === n && (n = 0), isNaN(t) || t < 0 || isNaN(e) || e < 0 || isNaN(r) || r < 0 || isNaN(n) || n < 0) throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");
                this.top = t, this.bottom = e, this.left = r, this.right = n
            };
            wn.prototype.interpolate = function(e, r, n) {
                return null != r.top && null != e.top && (this.top = t.number(e.top, r.top, n)), null != r.bottom && null != e.bottom && (this.bottom = t.number(e.bottom, r.bottom, n)), null != r.left && null != e.left && (this.left = t.number(e.left, r.left, n)), null != r.right && null != e.right && (this.right = t.number(e.right, r.right, n)), this
            }, wn.prototype.getCenter = function(e, r) {
                var n = t.clamp((this.left + e - this.right) / 2, 0, e),
                    i = t.clamp((this.top + r - this.bottom) / 2, 0, r);
                return new t.Point(n, i)
            }, wn.prototype.equals = function(t) {
                return this.top === t.top && this.bottom === t.bottom && this.left === t.left && this.right === t.right
            }, wn.prototype.clone = function() {
                return new wn(this.top, this.bottom, this.left, this.right)
            }, wn.prototype.toJSON = function() {
                return {
                    top: this.top,
                    bottom: this.bottom,
                    left: this.left,
                    right: this.right
                }
            };
            var Sn = function(e, r, n, i, o) {
                    this.tileSize = 512, this.maxValidLatitude = 85.051129, this._renderWorldCopies = void 0 === o || o, this._minZoom = e || 0, this._maxZoom = r || 22, this._minPitch = null == n ? 0 : n, this._maxPitch = null == i ? 60 : i, this.setMaxBounds(), this.width = 0, this.height = 0, this._center = new t.LngLat(0, 0), this.zoom = 0, this.angle = 0, this._fov = .6435011087932844, this._pitch = 0, this._unmodified = !0, this._edgeInsets = new wn, this._posMatrixCache = {}, this._alignedPosMatrixCache = {}
                },
                Tn = {
                    minZoom: {
                        configurable: !0
                    },
                    maxZoom: {
                        configurable: !0
                    },
                    minPitch: {
                        configurable: !0
                    },
                    maxPitch: {
                        configurable: !0
                    },
                    renderWorldCopies: {
                        configurable: !0
                    },
                    worldSize: {
                        configurable: !0
                    },
                    centerOffset: {
                        configurable: !0
                    },
                    size: {
                        configurable: !0
                    },
                    bearing: {
                        configurable: !0
                    },
                    pitch: {
                        configurable: !0
                    },
                    fov: {
                        configurable: !0
                    },
                    zoom: {
                        configurable: !0
                    },
                    center: {
                        configurable: !0
                    },
                    padding: {
                        configurable: !0
                    },
                    centerPoint: {
                        configurable: !0
                    },
                    unmodified: {
                        configurable: !0
                    },
                    point: {
                        configurable: !0
                    }
                };
            Sn.prototype.clone = function() {
                var t = new Sn(this._minZoom, this._maxZoom, this._minPitch, this.maxPitch, this._renderWorldCopies);
                return t.tileSize = this.tileSize, t.latRange = this.latRange, t.width = this.width, t.height = this.height, t._center = this._center, t.zoom = this.zoom, t.angle = this.angle, t._fov = this._fov, t._pitch = this._pitch, t._unmodified = this._unmodified, t._edgeInsets = this._edgeInsets.clone(), t._calcMatrices(), t
            }, Tn.minZoom.get = function() {
                return this._minZoom
            }, Tn.minZoom.set = function(t) {
                this._minZoom !== t && (this._minZoom = t, this.zoom = Math.max(this.zoom, t))
            }, Tn.maxZoom.get = function() {
                return this._maxZoom
            }, Tn.maxZoom.set = function(t) {
                this._maxZoom !== t && (this._maxZoom = t, this.zoom = Math.min(this.zoom, t))
            }, Tn.minPitch.get = function() {
                return this._minPitch
            }, Tn.minPitch.set = function(t) {
                this._minPitch !== t && (this._minPitch = t, this.pitch = Math.max(this.pitch, t))
            }, Tn.maxPitch.get = function() {
                return this._maxPitch
            }, Tn.maxPitch.set = function(t) {
                this._maxPitch !== t && (this._maxPitch = t, this.pitch = Math.min(this.pitch, t))
            }, Tn.renderWorldCopies.get = function() {
                return this._renderWorldCopies
            }, Tn.renderWorldCopies.set = function(t) {
                void 0 === t ? t = !0 : null === t && (t = !1), this._renderWorldCopies = t
            }, Tn.worldSize.get = function() {
                return this.tileSize * this.scale
            }, Tn.centerOffset.get = function() {
                return this.centerPoint._sub(this.size._div(2))
            }, Tn.size.get = function() {
                return new t.Point(this.width, this.height)
            }, Tn.bearing.get = function() {
                return -this.angle / Math.PI * 180
            }, Tn.bearing.set = function(e) {
                var r = -t.wrap(e, -180, 180) * Math.PI / 180;
                this.angle !== r && (this._unmodified = !1, this.angle = r, this._calcMatrices(), this.rotationMatrix = t.create$2(), t.rotate(this.rotationMatrix, this.rotationMatrix, this.angle))
            }, Tn.pitch.get = function() {
                return this._pitch / Math.PI * 180
            }, Tn.pitch.set = function(e) {
                var r = t.clamp(e, this.minPitch, this.maxPitch) / 180 * Math.PI;
                this._pitch !== r && (this._unmodified = !1, this._pitch = r, this._calcMatrices())
            }, Tn.fov.get = function() {
                return this._fov / Math.PI * 180
            }, Tn.fov.set = function(t) {
                t = Math.max(.01, Math.min(60, t)), this._fov !== t && (this._unmodified = !1, this._fov = t / 180 * Math.PI, this._calcMatrices())
            }, Tn.zoom.get = function() {
                return this._zoom
            }, Tn.zoom.set = function(t) {
                var e = Math.min(Math.max(t, this.minZoom), this.maxZoom);
                this._zoom !== e && (this._unmodified = !1, this._zoom = e, this.scale = this.zoomScale(e), this.tileZoom = Math.floor(e), this.zoomFraction = e - this.tileZoom, this._constrain(), this._calcMatrices())
            }, Tn.center.get = function() {
                return this._center
            }, Tn.center.set = function(t) {
                t.lat === this._center.lat && t.lng === this._center.lng || (this._unmodified = !1, this._center = t, this._constrain(), this._calcMatrices())
            }, Tn.padding.get = function() {
                return this._edgeInsets.toJSON()
            }, Tn.padding.set = function(t) {
                this._edgeInsets.equals(t) || (this._unmodified = !1, this._edgeInsets.interpolate(this._edgeInsets, t, 1), this._calcMatrices())
            }, Tn.centerPoint.get = function() {
                return this._edgeInsets.getCenter(this.width, this.height)
            }, Sn.prototype.isPaddingEqual = function(t) {
                return this._edgeInsets.equals(t)
            }, Sn.prototype.interpolatePadding = function(t, e, r) {
                this._unmodified = !1, this._edgeInsets.interpolate(t, e, r), this._constrain(), this._calcMatrices()
            }, Sn.prototype.coveringZoomLevel = function(t) {
                var e = (t.roundZoom ? Math.round : Math.floor)(this.zoom + this.scaleZoom(this.tileSize / t.tileSize));
                return Math.max(0, e)
            }, Sn.prototype.getVisibleUnwrappedCoordinates = function(e) {
                var r = [new t.UnwrappedTileID(0, e)];
                if (this._renderWorldCopies)
                    for (var n = this.pointCoordinate(new t.Point(0, 0)), i = this.pointCoordinate(new t.Point(this.width, 0)), o = this.pointCoordinate(new t.Point(this.width, this.height)), a = this.pointCoordinate(new t.Point(0, this.height)), s = Math.floor(Math.min(n.x, i.x, o.x, a.x)), u = Math.floor(Math.max(n.x, i.x, o.x, a.x)), l = s - 1; l <= u + 1; l++) 0 !== l && r.push(new t.UnwrappedTileID(l, e));
                return r
            }, Sn.prototype.coveringTiles = function(e) {
                var r = this.coveringZoomLevel(e),
                    n = r;
                if (void 0 !== e.minzoom && r < e.minzoom) return [];
                void 0 !== e.maxzoom && r > e.maxzoom && (r = e.maxzoom);
                var i = t.MercatorCoordinate.fromLngLat(this.center),
                    o = Math.pow(2, r),
                    a = [o * i.x, o * i.y, 0],
                    s = xn.fromInvProjectionMatrix(this.invProjMatrix, this.worldSize, r),
                    u = e.minzoom || 0;
                this.pitch <= 60 && this._edgeInsets.top < .1 && (u = r);
                var l = function(t) {
                        return {
                            aabb: new bn([t * o, 0, 0], [(t + 1) * o, o, 0]),
                            zoom: 0,
                            x: 0,
                            y: 0,
                            wrap: t,
                            fullyVisible: !1
                        }
                    },
                    c = [],
                    p = [],
                    h = r,
                    f = e.reparseOverscaled ? n : r;
                if (this._renderWorldCopies)
                    for (var d = 1; d <= 3; d++) c.push(l(-d)), c.push(l(d));
                for (c.push(l(0)); c.length > 0;) {
                    var m = c.pop(),
                        y = m.x,
                        v = m.y,
                        g = m.fullyVisible;
                    if (!g) {
                        var _ = m.aabb.intersects(s);
                        if (0 === _) continue;
                        g = 2 === _
                    }
                    var x = m.aabb.distanceX(a),
                        b = m.aabb.distanceY(a),
                        w = Math.max(Math.abs(x), Math.abs(b));
                    if (m.zoom === h || w > 3 + (1 << h - m.zoom) - 2 && m.zoom >= u) p.push({
                        tileID: new t.OverscaledTileID(m.zoom === h ? f : m.zoom, m.wrap, m.zoom, y, v),
                        distanceSq: t.sqrLen([a[0] - .5 - y, a[1] - .5 - v])
                    });
                    else
                        for (var S = 0; S < 4; S++) {
                            var T = (y << 1) + S % 2,
                                E = (v << 1) + (S >> 1);
                            c.push({
                                aabb: m.aabb.quadrant(S),
                                zoom: m.zoom + 1,
                                x: T,
                                y: E,
                                wrap: m.wrap,
                                fullyVisible: g
                            })
                        }
                }
                return p.sort((function(t, e) {
                    return t.distanceSq - e.distanceSq
                })).map((function(t) {
                    return t.tileID
                }))
            }, Sn.prototype.resize = function(t, e) {
                this.width = t, this.height = e, this.pixelsToGLUnits = [2 / t, -2 / e], this._constrain(), this._calcMatrices()
            }, Tn.unmodified.get = function() {
                return this._unmodified
            }, Sn.prototype.zoomScale = function(t) {
                return Math.pow(2, t)
            }, Sn.prototype.scaleZoom = function(t) {
                return Math.log(t) / Math.LN2
            }, Sn.prototype.project = function(e) {
                var r = t.clamp(e.lat, -this.maxValidLatitude, this.maxValidLatitude);
                return new t.Point(t.mercatorXfromLng(e.lng) * this.worldSize, t.mercatorYfromLat(r) * this.worldSize)
            }, Sn.prototype.unproject = function(e) {
                return new t.MercatorCoordinate(e.x / this.worldSize, e.y / this.worldSize).toLngLat()
            }, Tn.point.get = function() {
                return this.project(this.center)
            }, Sn.prototype.setLocationAtPoint = function(e, r) {
                var n = this.pointCoordinate(r),
                    i = this.pointCoordinate(this.centerPoint),
                    o = this.locationCoordinate(e),
                    a = new t.MercatorCoordinate(o.x - (n.x - i.x), o.y - (n.y - i.y));
                this.center = this.coordinateLocation(a), this._renderWorldCopies && (this.center = this.center.wrap())
            }, Sn.prototype.locationPoint = function(t) {
                return this.coordinatePoint(this.locationCoordinate(t))
            }, Sn.prototype.pointLocation = function(t) {
                return this.coordinateLocation(this.pointCoordinate(t))
            }, Sn.prototype.locationCoordinate = function(e) {
                return t.MercatorCoordinate.fromLngLat(e)
            }, Sn.prototype.coordinateLocation = function(t) {
                return t.toLngLat()
            }, Sn.prototype.pointCoordinate = function(e) {
                var r = [e.x, e.y, 0, 1],
                    n = [e.x, e.y, 1, 1];
                t.transformMat4(r, r, this.pixelMatrixInverse), t.transformMat4(n, n, this.pixelMatrixInverse);
                var i = r[3],
                    o = n[3],
                    a = r[1] / i,
                    s = n[1] / o,
                    u = r[2] / i,
                    l = n[2] / o,
                    c = u === l ? 0 : (0 - u) / (l - u);
                return new t.MercatorCoordinate(t.number(r[0] / i, n[0] / o, c) / this.worldSize, t.number(a, s, c) / this.worldSize)
            }, Sn.prototype.coordinatePoint = function(e) {
                var r = [e.x * this.worldSize, e.y * this.worldSize, 0, 1];
                return t.transformMat4(r, r, this.pixelMatrix), new t.Point(r[0] / r[3], r[1] / r[3])
            }, Sn.prototype.getBounds = function() {
                return (new t.LngLatBounds).extend(this.pointLocation(new t.Point(0, 0))).extend(this.pointLocation(new t.Point(this.width, 0))).extend(this.pointLocation(new t.Point(this.width, this.height))).extend(this.pointLocation(new t.Point(0, this.height)))
            }, Sn.prototype.getMaxBounds = function() {
                return this.latRange && 2 === this.latRange.length && this.lngRange && 2 === this.lngRange.length ? new t.LngLatBounds([this.lngRange[0], this.latRange[0]], [this.lngRange[1], this.latRange[1]]) : null
            }, Sn.prototype.setMaxBounds = function(t) {
                t ? (this.lngRange = [t.getWest(), t.getEast()], this.latRange = [t.getSouth(), t.getNorth()], this._constrain()) : (this.lngRange = null, this.latRange = [-this.maxValidLatitude, this.maxValidLatitude])
            }, Sn.prototype.calculatePosMatrix = function(e, r) {
                void 0 === r && (r = !1);
                var n = e.key,
                    i = r ? this._alignedPosMatrixCache : this._posMatrixCache;
                if (i[n]) return i[n];
                var o = e.canonical,
                    a = this.worldSize / this.zoomScale(o.z),
                    s = o.x + Math.pow(2, o.z) * e.wrap,
                    u = t.identity(new Float64Array(16));
                return t.translate(u, u, [s * a, o.y * a, 0]), t.scale(u, u, [a / t.EXTENT, a / t.EXTENT, 1]), t.multiply(u, r ? this.alignedProjMatrix : this.projMatrix, u), i[n] = new Float32Array(u), i[n]
            }, Sn.prototype.customLayerMatrix = function() {
                return this.mercatorMatrix.slice()
            }, Sn.prototype._constrain = function() {
                if (this.center && this.width && this.height && !this._constraining) {
                    this._constraining = !0;
                    var e, r, n, i, o = -90,
                        a = 90,
                        s = -180,
                        u = 180,
                        l = this.size,
                        c = this._unmodified;
                    if (this.latRange) {
                        var p = this.latRange;
                        o = t.mercatorYfromLat(p[1]) * this.worldSize, e = (a = t.mercatorYfromLat(p[0]) * this.worldSize) - o < l.y ? l.y / (a - o) : 0
                    }
                    if (this.lngRange) {
                        var h = this.lngRange;
                        s = t.mercatorXfromLng(h[0]) * this.worldSize, r = (u = t.mercatorXfromLng(h[1]) * this.worldSize) - s < l.x ? l.x / (u - s) : 0
                    }
                    var f = this.point,
                        d = Math.max(r || 0, e || 0);
                    if (d) return this.center = this.unproject(new t.Point(r ? (u + s) / 2 : f.x, e ? (a + o) / 2 : f.y)), this.zoom += this.scaleZoom(d), this._unmodified = c, void(this._constraining = !1);
                    if (this.latRange) {
                        var m = f.y,
                            y = l.y / 2;
                        m - y < o && (i = o + y), m + y > a && (i = a - y)
                    }
                    if (this.lngRange) {
                        var v = f.x,
                            g = l.x / 2;
                        v - g < s && (n = s + g), v + g > u && (n = u - g)
                    }
                    void 0 === n && void 0 === i || (this.center = this.unproject(new t.Point(void 0 !== n ? n : f.x, void 0 !== i ? i : f.y))), this._unmodified = c, this._constraining = !1
                }
            }, Sn.prototype._calcMatrices = function() {
                if (this.height) {
                    var e = this.centerOffset;
                    this.cameraToCenterDistance = .5 / Math.tan(this._fov / 2) * this.height;
                    var r = Math.PI / 2 + this._pitch,
                        n = this._fov * (.5 + e.y / this.height),
                        i = Math.sin(n) * this.cameraToCenterDistance / Math.sin(t.clamp(Math.PI - r - n, .01, Math.PI - .01)),
                        o = this.point,
                        a = o.x,
                        s = o.y,
                        u = 1.01 * (Math.cos(Math.PI / 2 - this._pitch) * i + this.cameraToCenterDistance),
                        l = this.height / 50,
                        c = new Float64Array(16);
                    t.perspective(c, this._fov, this.width / this.height, l, u), c[8] = 2 * -e.x / this.width, c[9] = 2 * e.y / this.height, t.scale(c, c, [1, -1, 1]), t.translate(c, c, [0, 0, -this.cameraToCenterDistance]), t.rotateX(c, c, this._pitch), t.rotateZ(c, c, this.angle), t.translate(c, c, [-a, -s, 0]), this.mercatorMatrix = t.scale([], c, [this.worldSize, this.worldSize, this.worldSize]), t.scale(c, c, [1, 1, t.mercatorZfromAltitude(1, this.center.lat) * this.worldSize, 1]), this.projMatrix = c, this.invProjMatrix = t.invert([], this.projMatrix);
                    var p = this.width % 2 / 2,
                        h = this.height % 2 / 2,
                        f = Math.cos(this.angle),
                        d = Math.sin(this.angle),
                        m = a - Math.round(a) + f * p + d * h,
                        y = s - Math.round(s) + f * h + d * p,
                        v = new Float64Array(c);
                    if (t.translate(v, v, [m > .5 ? m - 1 : m, y > .5 ? y - 1 : y, 0]), this.alignedProjMatrix = v, c = t.create(), t.scale(c, c, [this.width / 2, -this.height / 2, 1]), t.translate(c, c, [1, -1, 0]), this.labelPlaneMatrix = c, c = t.create(), t.scale(c, c, [1, -1, 1]), t.translate(c, c, [-1, -1, 0]), t.scale(c, c, [2 / this.width, 2 / this.height, 1]), this.glCoordMatrix = c, this.pixelMatrix = t.multiply(new Float64Array(16), this.labelPlaneMatrix, this.projMatrix), !(c = t.invert(new Float64Array(16), this.pixelMatrix))) throw new Error("failed to invert matrix");
                    this.pixelMatrixInverse = c, this._posMatrixCache = {}, this._alignedPosMatrixCache = {}
                }
            }, Sn.prototype.maxPitchScaleFactor = function() {
                if (!this.pixelMatrixInverse) return 1;
                var e = this.pointCoordinate(new t.Point(0, 0)),
                    r = [e.x * this.worldSize, e.y * this.worldSize, 0, 1];
                return t.transformMat4(r, r, this.pixelMatrix)[3] / this.cameraToCenterDistance
            }, Sn.prototype.getCameraPoint = function() {
                var e = Math.tan(this._pitch) * (this.cameraToCenterDistance || 1);
                return this.centerPoint.add(new t.Point(0, e))
            }, Sn.prototype.getCameraQueryGeometry = function(e) {
                var r = this.getCameraPoint();
                if (1 === e.length) return [e[0], r];
                for (var n = r.x, i = r.y, o = r.x, a = r.y, s = 0, u = e; s < u.length; s += 1) {
                    var l = u[s];
                    n = Math.min(n, l.x), i = Math.min(i, l.y), o = Math.max(o, l.x), a = Math.max(a, l.y)
                }
                return [new t.Point(n, i), new t.Point(o, i), new t.Point(o, a), new t.Point(n, a), new t.Point(n, i)]
            }, Object.defineProperties(Sn.prototype, Tn);
            var En = function(e) {
                var r, n, i, o;
                this._hashName = e && encodeURIComponent(e), t.bindAll(["_getCurrentHash", "_onHashChange", "_updateHash"], this), this._updateHash = (r = this._updateHashUnthrottled.bind(this), n = !1, i = null, o = function() {
                    i = null, n && (r(), i = setTimeout(o, 300), n = !1)
                }, function() {
                    return n = !0, i || o(), i
                })
            };
            En.prototype.addTo = function(e) {
                return this._map = e, t.window.addEventListener("hashchange", this._onHashChange, !1), this._map.on("moveend", this._updateHash), this
            }, En.prototype.remove = function() {
                return t.window.removeEventListener("hashchange", this._onHashChange, !1), this._map.off("moveend", this._updateHash), clearTimeout(this._updateHash()), delete this._map, this
            }, En.prototype.getHashString = function(e) {
                var r = this._map.getCenter(),
                    n = Math.round(100 * this._map.getZoom()) / 100,
                    i = Math.ceil((n * Math.LN2 + Math.log(512 / 360 / .5)) / Math.LN10),
                    o = Math.pow(10, i),
                    a = Math.round(r.lng * o) / o,
                    s = Math.round(r.lat * o) / o,
                    u = this._map.getBearing(),
                    l = this._map.getPitch(),
                    c = "";
                if (c += e ? "/" + a + "/" + s + "/" + n : n + "/" + s + "/" + a, (u || l) && (c += "/" + Math.round(10 * u) / 10), l && (c += "/" + Math.round(l)), this._hashName) {
                    var p = this._hashName,
                        h = !1,
                        f = t.window.location.hash.slice(1).split("&").map((function(t) {
                            var e = t.split("=")[0];
                            return e === p ? (h = !0, e + "=" + c) : t
                        })).filter((function(t) {
                            return t
                        }));
                    return h || f.push(p + "=" + c), "#" + f.join("&")
                }
                return "#" + c
            }, En.prototype._getCurrentHash = function() {
                var e, r = this,
                    n = t.window.location.hash.replace("#", "");
                return this._hashName ? (n.split("&").map((function(t) {
                    return t.split("=")
                })).forEach((function(t) {
                    t[0] === r._hashName && (e = t)
                })), (e && e[1] || "").split("/")) : n.split("/")
            }, En.prototype._onHashChange = function() {
                var t = this._getCurrentHash();
                if (t.length >= 3 && !t.some((function(t) {
                        return isNaN(t)
                    }))) {
                    var e = this._map.dragRotate.isEnabled() && this._map.touchZoomRotate.isEnabled() ? +(t[3] || 0) : this._map.getBearing();
                    return this._map.jumpTo({
                        center: [+t[2], +t[1]],
                        zoom: +t[0],
                        bearing: e,
                        pitch: +(t[4] || 0)
                    }), !0
                }
                return !1
            }, En.prototype._updateHashUnthrottled = function() {
                var e = this.getHashString();
                try {
                    t.window.history.replaceState(t.window.history.state, "", e)
                } catch (t) {}
            };
            var An = {
                    linearity: .3,
                    easing: t.bezier(0, 0, .3, 1)
                },
                Cn = t.extend({
                    deceleration: 2500,
                    maxSpeed: 1400
                }, An),
                In = t.extend({
                    deceleration: 20,
                    maxSpeed: 1400
                }, An),
                kn = t.extend({
                    deceleration: 1e3,
                    maxSpeed: 360
                }, An),
                Pn = t.extend({
                    deceleration: 1e3,
                    maxSpeed: 90
                }, An),
                zn = function(t) {
                    this._map = t, this.clear()
                };

            function Mn(t, e) {
                (!t.duration || t.duration < e.duration) && (t.duration = e.duration, t.easing = e.easing)
            }

            function Dn(e, r, n) {
                var i = n.maxSpeed,
                    o = n.linearity,
                    a = n.deceleration,
                    s = t.clamp(e * o / (r / 1e3), -i, i),
                    u = Math.abs(s) / (a * o);
                return {
                    easing: n.easing,
                    duration: 1e3 * u,
                    amount: s * (u / 2)
                }
            }
            zn.prototype.clear = function() {
                this._inertiaBuffer = []
            }, zn.prototype.record = function(e) {
                this._drainInertiaBuffer(), this._inertiaBuffer.push({
                    time: t.browser.now(),
                    settings: e
                })
            }, zn.prototype._drainInertiaBuffer = function() {
                for (var e = this._inertiaBuffer, r = t.browser.now(); e.length > 0 && r - e[0].time > 160;) e.shift()
            }, zn.prototype._onMoveEnd = function(e) {
                if (this._drainInertiaBuffer(), !(this._inertiaBuffer.length < 2)) {
                    for (var r = {
                            zoom: 0,
                            bearing: 0,
                            pitch: 0,
                            pan: new t.Point(0, 0),
                            pinchAround: void 0,
                            around: void 0
                        }, n = 0, i = this._inertiaBuffer; n < i.length; n += 1) {
                        var o = i[n].settings;
                        r.zoom += o.zoomDelta || 0, r.bearing += o.bearingDelta || 0, r.pitch += o.pitchDelta || 0, o.panDelta && r.pan._add(o.panDelta), o.around && (r.around = o.around), o.pinchAround && (r.pinchAround = o.pinchAround)
                    }
                    var a = this._inertiaBuffer[this._inertiaBuffer.length - 1].time - this._inertiaBuffer[0].time,
                        s = {};
                    if (r.pan.mag()) {
                        var u = Dn(r.pan.mag(), a, t.extend({}, Cn, e || {}));
                        s.offset = r.pan.mult(u.amount / r.pan.mag()), s.center = this._map.transform.center, Mn(s, u)
                    }
                    if (r.zoom) {
                        var l = Dn(r.zoom, a, In);
                        s.zoom = this._map.transform.zoom + l.amount, Mn(s, l)
                    }
                    if (r.bearing) {
                        var c = Dn(r.bearing, a, kn);
                        s.bearing = this._map.transform.bearing + t.clamp(c.amount, -179, 179), Mn(s, c)
                    }
                    if (r.pitch) {
                        var p = Dn(r.pitch, a, Pn);
                        s.pitch = this._map.transform.pitch + p.amount, Mn(s, p)
                    }
                    if (s.zoom || s.bearing) {
                        var h = void 0 === r.pinchAround ? r.around : r.pinchAround;
                        s.around = h ? this._map.unproject(h) : this._map.getCenter()
                    }
                    return this.clear(), t.extend(s, {
                        noMoveStart: !0
                    })
                }
            };
            var Ln = function(e) {
                    function n(n, i, o, a) {
                        void 0 === a && (a = {});
                        var s = r.mousePos(i.getCanvasContainer(), o),
                            u = i.unproject(s);
                        e.call(this, n, t.extend({
                            point: s,
                            lngLat: u,
                            originalEvent: o
                        }, a)), this._defaultPrevented = !1, this.target = i
                    }
                    e && (n.__proto__ = e), (n.prototype = Object.create(e && e.prototype)).constructor = n;
                    var i = {
                        defaultPrevented: {
                            configurable: !0
                        }
                    };
                    return n.prototype.preventDefault = function() {
                        this._defaultPrevented = !0
                    }, i.defaultPrevented.get = function() {
                        return this._defaultPrevented
                    }, Object.defineProperties(n.prototype, i), n
                }(t.Event),
                On = function(e) {
                    function n(n, i, o) {
                        var a = "touchend" === n ? o.changedTouches : o.touches,
                            s = r.touchPos(i.getCanvasContainer(), a),
                            u = s.map((function(t) {
                                return i.unproject(t)
                            })),
                            l = s.reduce((function(t, e, r, n) {
                                return t.add(e.div(n.length))
                            }), new t.Point(0, 0)),
                            c = i.unproject(l);
                        e.call(this, n, {
                            points: s,
                            point: l,
                            lngLats: u,
                            lngLat: c,
                            originalEvent: o
                        }), this._defaultPrevented = !1
                    }
                    e && (n.__proto__ = e), (n.prototype = Object.create(e && e.prototype)).constructor = n;
                    var i = {
                        defaultPrevented: {
                            configurable: !0
                        }
                    };
                    return n.prototype.preventDefault = function() {
                        this._defaultPrevented = !0
                    }, i.defaultPrevented.get = function() {
                        return this._defaultPrevented
                    }, Object.defineProperties(n.prototype, i), n
                }(t.Event),
                Rn = function(t) {
                    function e(e, r, n) {
                        t.call(this, e, {
                            originalEvent: n
                        }), this._defaultPrevented = !1
                    }
                    t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e;
                    var r = {
                        defaultPrevented: {
                            configurable: !0
                        }
                    };
                    return e.prototype.preventDefault = function() {
                        this._defaultPrevented = !0
                    }, r.defaultPrevented.get = function() {
                        return this._defaultPrevented
                    }, Object.defineProperties(e.prototype, r), e
                }(t.Event),
                Bn = function(t, e) {
                    this._map = t, this._clickTolerance = e.clickTolerance
                };
            Bn.prototype.reset = function() {
                delete this._mousedownPos
            }, Bn.prototype.wheel = function(t) {
                return this._firePreventable(new Rn(t.type, this._map, t))
            }, Bn.prototype.mousedown = function(t, e) {
                return this._mousedownPos = e, this._firePreventable(new Ln(t.type, this._map, t))
            }, Bn.prototype.mouseup = function(t) {
                this._map.fire(new Ln(t.type, this._map, t))
            }, Bn.prototype.click = function(t, e) {
                this._mousedownPos && this._mousedownPos.dist(e) >= this._clickTolerance || this._map.fire(new Ln(t.type, this._map, t))
            }, Bn.prototype.dblclick = function(t) {
                return this._firePreventable(new Ln(t.type, this._map, t))
            }, Bn.prototype.mouseover = function(t) {
                this._map.fire(new Ln(t.type, this._map, t))
            }, Bn.prototype.mouseout = function(t) {
                this._map.fire(new Ln(t.type, this._map, t))
            }, Bn.prototype.touchstart = function(t) {
                return this._firePreventable(new On(t.type, this._map, t))
            }, Bn.prototype.touchmove = function(t) {
                this._map.fire(new On(t.type, this._map, t))
            }, Bn.prototype.touchend = function(t) {
                this._map.fire(new On(t.type, this._map, t))
            }, Bn.prototype.touchcancel = function(t) {
                this._map.fire(new On(t.type, this._map, t))
            }, Bn.prototype._firePreventable = function(t) {
                if (this._map.fire(t), t.defaultPrevented) return {}
            }, Bn.prototype.isEnabled = function() {
                return !0
            }, Bn.prototype.isActive = function() {
                return !1
            }, Bn.prototype.enable = function() {}, Bn.prototype.disable = function() {};
            var Fn = function(t) {
                this._map = t
            };
            Fn.prototype.reset = function() {
                this._delayContextMenu = !1, delete this._contextMenuEvent
            }, Fn.prototype.mousemove = function(t) {
                this._map.fire(new Ln(t.type, this._map, t))
            }, Fn.prototype.mousedown = function() {
                this._delayContextMenu = !0
            }, Fn.prototype.mouseup = function() {
                this._delayContextMenu = !1, this._contextMenuEvent && (this._map.fire(new Ln("contextmenu", this._map, this._contextMenuEvent)), delete this._contextMenuEvent)
            }, Fn.prototype.contextmenu = function(t) {
                this._delayContextMenu ? this._contextMenuEvent = t : this._map.fire(new Ln(t.type, this._map, t)), this._map.listens("contextmenu") && t.preventDefault()
            }, Fn.prototype.isEnabled = function() {
                return !0
            }, Fn.prototype.isActive = function() {
                return !1
            }, Fn.prototype.enable = function() {}, Fn.prototype.disable = function() {};
            var Nn = function(t, e) {
                this._map = t, this._el = t.getCanvasContainer(), this._container = t.getContainer(), this._clickTolerance = e.clickTolerance || 1
            };

            function Un(t, e) {
                for (var r = {}, n = 0; n < t.length; n++) r[t[n].identifier] = e[n];
                return r
            }
            Nn.prototype.isEnabled = function() {
                return !!this._enabled
            }, Nn.prototype.isActive = function() {
                return !!this._active
            }, Nn.prototype.enable = function() {
                this.isEnabled() || (this._enabled = !0)
            }, Nn.prototype.disable = function() {
                this.isEnabled() && (this._enabled = !1)
            }, Nn.prototype.mousedown = function(t, e) {
                this.isEnabled() && t.shiftKey && 0 === t.button && (r.disableDrag(), this._startPos = this._lastPos = e, this._active = !0)
            }, Nn.prototype.mousemoveWindow = function(t, e) {
                if (this._active) {
                    var n = e;
                    if (!(this._lastPos.equals(n) || !this._box && n.dist(this._startPos) < this._clickTolerance)) {
                        var i = this._startPos;
                        this._lastPos = n, this._box || (this._box = r.create("div", "mapboxgl-boxzoom", this._container), this._container.classList.add("mapboxgl-crosshair"), this._fireEvent("boxzoomstart", t));
                        var o = Math.min(i.x, n.x),
                            a = Math.max(i.x, n.x),
                            s = Math.min(i.y, n.y),
                            u = Math.max(i.y, n.y);
                        r.setTransform(this._box, "translate(" + o + "px," + s + "px)"), this._box.style.width = a - o + "px", this._box.style.height = u - s + "px"
                    }
                }
            }, Nn.prototype.mouseupWindow = function(e, n) {
                var i = this;
                if (this._active && 0 === e.button) {
                    var o = this._startPos,
                        a = n;
                    if (this.reset(), r.suppressClick(), o.x !== a.x || o.y !== a.y) return this._map.fire(new t.Event("boxzoomend", {
                        originalEvent: e
                    })), {
                        cameraAnimation: function(t) {
                            return t.fitScreenCoordinates(o, a, i._map.getBearing(), {
                                linear: !0
                            })
                        }
                    };
                    this._fireEvent("boxzoomcancel", e)
                }
            }, Nn.prototype.keydown = function(t) {
                this._active && 27 === t.keyCode && (this.reset(), this._fireEvent("boxzoomcancel", t))
            }, Nn.prototype.reset = function() {
                this._active = !1, this._container.classList.remove("mapboxgl-crosshair"), this._box && (r.remove(this._box), this._box = null), r.enableDrag(), delete this._startPos, delete this._lastPos
            }, Nn.prototype._fireEvent = function(e, r) {
                return this._map.fire(new t.Event(e, {
                    originalEvent: r
                }))
            };
            var jn = function(t) {
                this.reset(), this.numTouches = t.numTouches
            };
            jn.prototype.reset = function() {
                delete this.centroid, delete this.startTime, delete this.touches, this.aborted = !1
            }, jn.prototype.touchstart = function(e, r, n) {
                (this.centroid || n.length > this.numTouches) && (this.aborted = !0), this.aborted || (void 0 === this.startTime && (this.startTime = e.timeStamp), n.length === this.numTouches && (this.centroid = function(e) {
                    for (var r = new t.Point(0, 0), n = 0, i = e; n < i.length; n += 1) r._add(i[n]);
                    return r.div(e.length)
                }(r), this.touches = Un(n, r)))
            }, jn.prototype.touchmove = function(t, e, r) {
                if (!this.aborted && this.centroid) {
                    var n = Un(r, e);
                    for (var i in this.touches) {
                        var o = n[i];
                        (!o || o.dist(this.touches[i]) > 30) && (this.aborted = !0)
                    }
                }
            }, jn.prototype.touchend = function(t, e, r) {
                if ((!this.centroid || t.timeStamp - this.startTime > 500) && (this.aborted = !0), 0 === r.length) {
                    var n = !this.aborted && this.centroid;
                    if (this.reset(), n) return n
                }
            };
            var Vn = function(t) {
                this.singleTap = new jn(t), this.numTaps = t.numTaps, this.reset()
            };
            Vn.prototype.reset = function() {
                this.lastTime = 1 / 0, delete this.lastTap, this.count = 0, this.singleTap.reset()
            }, Vn.prototype.touchstart = function(t, e, r) {
                this.singleTap.touchstart(t, e, r)
            }, Vn.prototype.touchmove = function(t, e, r) {
                this.singleTap.touchmove(t, e, r)
            }, Vn.prototype.touchend = function(t, e, r) {
                var n = this.singleTap.touchend(t, e, r);
                if (n) {
                    var i = t.timeStamp - this.lastTime < 500,
                        o = !this.lastTap || this.lastTap.dist(n) < 30;
                    if (i && o || this.reset(), this.count++, this.lastTime = t.timeStamp, this.lastTap = n, this.count === this.numTaps) return this.reset(), n
                }
            };
            var qn = function() {
                this._zoomIn = new Vn({
                    numTouches: 1,
                    numTaps: 2
                }), this._zoomOut = new Vn({
                    numTouches: 2,
                    numTaps: 1
                }), this.reset()
            };
            qn.prototype.reset = function() {
                this._active = !1, this._zoomIn.reset(), this._zoomOut.reset()
            }, qn.prototype.touchstart = function(t, e, r) {
                this._zoomIn.touchstart(t, e, r), this._zoomOut.touchstart(t, e, r)
            }, qn.prototype.touchmove = function(t, e, r) {
                this._zoomIn.touchmove(t, e, r), this._zoomOut.touchmove(t, e, r)
            }, qn.prototype.touchend = function(t, e, r) {
                var n = this,
                    i = this._zoomIn.touchend(t, e, r),
                    o = this._zoomOut.touchend(t, e, r);
                return i ? (this._active = !0, t.preventDefault(), setTimeout((function() {
                    return n.reset()
                }), 0), {
                    cameraAnimation: function(e) {
                        return e.easeTo({
                            duration: 300,
                            zoom: e.getZoom() + 1,
                            around: e.unproject(i)
                        }, {
                            originalEvent: t
                        })
                    }
                }) : o ? (this._active = !0, t.preventDefault(), setTimeout((function() {
                    return n.reset()
                }), 0), {
                    cameraAnimation: function(e) {
                        return e.easeTo({
                            duration: 300,
                            zoom: e.getZoom() - 1,
                            around: e.unproject(o)
                        }, {
                            originalEvent: t
                        })
                    }
                }) : void 0
            }, qn.prototype.touchcancel = function() {
                this.reset()
            }, qn.prototype.enable = function() {
                this._enabled = !0
            }, qn.prototype.disable = function() {
                this._enabled = !1, this.reset()
            }, qn.prototype.isEnabled = function() {
                return this._enabled
            }, qn.prototype.isActive = function() {
                return this._active
            };
            var Zn = {
                    0: 1,
                    2: 2
                },
                $n = function(t) {
                    this.reset(), this._clickTolerance = t.clickTolerance || 1
                };
            $n.prototype.reset = function() {
                this._active = !1, this._moved = !1, delete this._lastPoint, delete this._eventButton
            }, $n.prototype._correctButton = function(t, e) {
                return !1
            }, $n.prototype._move = function(t, e) {
                return {}
            }, $n.prototype.mousedown = function(t, e) {
                if (!this._lastPoint) {
                    var n = r.mouseButton(t);
                    this._correctButton(t, n) && (this._lastPoint = e, this._eventButton = n)
                }
            }, $n.prototype.mousemoveWindow = function(t, e) {
                var r = this._lastPoint;
                if (r)
                    if (t.preventDefault(), function(t, e) {
                            var r = Zn[e];
                            return void 0 === t.buttons || (t.buttons & r) !== r
                        }(t, this._eventButton)) this.reset();
                    else if (this._moved || !(e.dist(r) < this._clickTolerance)) return this._moved = !0, this._lastPoint = e, this._move(r, e)
            }, $n.prototype.mouseupWindow = function(t) {
                this._lastPoint && r.mouseButton(t) === this._eventButton && (this._moved && r.suppressClick(), this.reset())
            }, $n.prototype.enable = function() {
                this._enabled = !0
            }, $n.prototype.disable = function() {
                this._enabled = !1, this.reset()
            }, $n.prototype.isEnabled = function() {
                return this._enabled
            }, $n.prototype.isActive = function() {
                return this._active
            };
            var Gn = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.mousedown = function(e, r) {
                        t.prototype.mousedown.call(this, e, r), this._lastPoint && (this._active = !0)
                    }, e.prototype._correctButton = function(t, e) {
                        return 0 === e && !t.ctrlKey
                    }, e.prototype._move = function(t, e) {
                        return {
                            around: e,
                            panDelta: e.sub(t)
                        }
                    }, e
                }($n),
                Hn = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._correctButton = function(t, e) {
                        return 0 === e && t.ctrlKey || 2 === e
                    }, e.prototype._move = function(t, e) {
                        var r = .8 * (e.x - t.x);
                        if (r) return this._active = !0, {
                            bearingDelta: r
                        }
                    }, e.prototype.contextmenu = function(t) {
                        t.preventDefault()
                    }, e
                }($n),
                Wn = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._correctButton = function(t, e) {
                        return 0 === e && t.ctrlKey || 2 === e
                    }, e.prototype._move = function(t, e) {
                        var r = -.5 * (e.y - t.y);
                        if (r) return this._active = !0, {
                            pitchDelta: r
                        }
                    }, e.prototype.contextmenu = function(t) {
                        t.preventDefault()
                    }, e
                }($n),
                Xn = function(t) {
                    this._minTouches = 1, this._clickTolerance = t.clickTolerance || 1, this.reset()
                };
            Xn.prototype.reset = function() {
                this._active = !1, this._touches = {}, this._sum = new t.Point(0, 0)
            }, Xn.prototype.touchstart = function(t, e, r) {
                return this._calculateTransform(t, e, r)
            }, Xn.prototype.touchmove = function(t, e, r) {
                if (this._active) return t.preventDefault(), this._calculateTransform(t, e, r)
            }, Xn.prototype.touchend = function(t, e, r) {
                this._calculateTransform(t, e, r), this._active && r.length < this._minTouches && this.reset()
            }, Xn.prototype.touchcancel = function() {
                this.reset()
            }, Xn.prototype._calculateTransform = function(e, r, n) {
                n.length > 0 && (this._active = !0);
                var i = Un(n, r),
                    o = new t.Point(0, 0),
                    a = new t.Point(0, 0),
                    s = 0;
                for (var u in i) {
                    var l = i[u],
                        c = this._touches[u];
                    c && (o._add(l), a._add(l.sub(c)), s++, i[u] = l)
                }
                if (this._touches = i, !(s < this._minTouches) && a.mag()) {
                    var p = a.div(s);
                    if (this._sum._add(p), !(this._sum.mag() < this._clickTolerance)) return {
                        around: o.div(s),
                        panDelta: p
                    }
                }
            }, Xn.prototype.enable = function() {
                this._enabled = !0
            }, Xn.prototype.disable = function() {
                this._enabled = !1, this.reset()
            }, Xn.prototype.isEnabled = function() {
                return this._enabled
            }, Xn.prototype.isActive = function() {
                return this._active
            };
            var Kn = function() {
                this.reset()
            };

            function Jn(t, e, r) {
                for (var n = 0; n < t.length; n++)
                    if (t[n].identifier === r) return e[n]
            }

            function Yn(t, e) {
                return Math.log(t / e) / Math.LN2
            }
            Kn.prototype.reset = function() {
                this._active = !1, delete this._firstTwoTouches
            }, Kn.prototype._start = function(t) {}, Kn.prototype._move = function(t, e, r) {
                return {}
            }, Kn.prototype.touchstart = function(t, e, r) {
                this._firstTwoTouches || r.length < 2 || (this._firstTwoTouches = [r[0].identifier, r[1].identifier], this._start([e[0], e[1]]))
            }, Kn.prototype.touchmove = function(t, e, r) {
                if (this._firstTwoTouches) {
                    t.preventDefault();
                    var n = this._firstTwoTouches,
                        i = n[1],
                        o = Jn(r, e, n[0]),
                        a = Jn(r, e, i);
                    if (o && a) {
                        var s = this._aroundCenter ? null : o.add(a).div(2);
                        return this._move([o, a], s, t)
                    }
                }
            }, Kn.prototype.touchend = function(t, e, n) {
                if (this._firstTwoTouches) {
                    var i = this._firstTwoTouches,
                        o = i[1],
                        a = Jn(n, e, i[0]),
                        s = Jn(n, e, o);
                    a && s || (this._active && r.suppressClick(), this.reset())
                }
            }, Kn.prototype.touchcancel = function() {
                this.reset()
            }, Kn.prototype.enable = function(t) {
                this._enabled = !0, this._aroundCenter = !!t && "center" === t.around
            }, Kn.prototype.disable = function() {
                this._enabled = !1, this.reset()
            }, Kn.prototype.isEnabled = function() {
                return this._enabled
            }, Kn.prototype.isActive = function() {
                return this._active
            };
            var Qn = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.reset = function() {
                    t.prototype.reset.call(this), delete this._distance, delete this._startDistance
                }, e.prototype._start = function(t) {
                    this._startDistance = this._distance = t[0].dist(t[1])
                }, e.prototype._move = function(t, e) {
                    var r = this._distance;
                    if (this._distance = t[0].dist(t[1]), this._active || !(Math.abs(Yn(this._distance, this._startDistance)) < .1)) return this._active = !0, {
                        zoomDelta: Yn(this._distance, r),
                        pinchAround: e
                    }
                }, e
            }(Kn);

            function ti(t, e) {
                return 180 * t.angleWith(e) / Math.PI
            }
            var ei = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.reset = function() {
                    t.prototype.reset.call(this), delete this._minDiameter, delete this._startVector, delete this._vector
                }, e.prototype._start = function(t) {
                    this._startVector = this._vector = t[0].sub(t[1]), this._minDiameter = t[0].dist(t[1])
                }, e.prototype._move = function(t, e) {
                    var r = this._vector;
                    if (this._vector = t[0].sub(t[1]), this._active || !this._isBelowThreshold(this._vector)) return this._active = !0, {
                        bearingDelta: ti(this._vector, r),
                        pinchAround: e
                    }
                }, e.prototype._isBelowThreshold = function(t) {
                    this._minDiameter = Math.min(this._minDiameter, t.mag());
                    var e = 25 / (Math.PI * this._minDiameter) * 360,
                        r = ti(t, this._startVector);
                    return Math.abs(r) < e
                }, e
            }(Kn);

            function ri(t) {
                return Math.abs(t.y) > Math.abs(t.x)
            }
            var ni = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.reset = function() {
                        t.prototype.reset.call(this), this._valid = void 0, delete this._firstMove, delete this._lastPoints
                    }, e.prototype._start = function(t) {
                        this._lastPoints = t, ri(t[0].sub(t[1])) && (this._valid = !1)
                    }, e.prototype._move = function(t, e, r) {
                        var n = t[0].sub(this._lastPoints[0]),
                            i = t[1].sub(this._lastPoints[1]);
                        if (this._valid = this.gestureBeginsVertically(n, i, r.timeStamp), this._valid) return this._lastPoints = t, this._active = !0, {
                            pitchDelta: (n.y + i.y) / 2 * -.5
                        }
                    }, e.prototype.gestureBeginsVertically = function(t, e, r) {
                        if (void 0 !== this._valid) return this._valid;
                        var n = t.mag() >= 2,
                            i = e.mag() >= 2;
                        if (n || i) {
                            if (!n || !i) return void 0 === this._firstMove && (this._firstMove = r), r - this._firstMove < 100 && void 0;
                            var o = t.y > 0 == e.y > 0;
                            return ri(t) && ri(e) && o
                        }
                    }, e
                }(Kn),
                ii = {
                    panStep: 100,
                    bearingStep: 15,
                    pitchStep: 10
                },
                oi = function() {
                    var t = ii;
                    this._panStep = t.panStep, this._bearingStep = t.bearingStep, this._pitchStep = t.pitchStep
                };

            function ai(t) {
                return t * (2 - t)
            }
            oi.prototype.reset = function() {
                this._active = !1
            }, oi.prototype.keydown = function(t) {
                var e = this;
                if (!(t.altKey || t.ctrlKey || t.metaKey)) {
                    var r = 0,
                        n = 0,
                        i = 0,
                        o = 0,
                        a = 0;
                    switch (t.keyCode) {
                        case 61:
                        case 107:
                        case 171:
                        case 187:
                            r = 1;
                            break;
                        case 189:
                        case 109:
                        case 173:
                            r = -1;
                            break;
                        case 37:
                            t.shiftKey ? n = -1 : (t.preventDefault(), o = -1);
                            break;
                        case 39:
                            t.shiftKey ? n = 1 : (t.preventDefault(), o = 1);
                            break;
                        case 38:
                            t.shiftKey ? i = 1 : (t.preventDefault(), a = -1);
                            break;
                        case 40:
                            t.shiftKey ? i = -1 : (t.preventDefault(), a = 1);
                            break;
                        default:
                            return
                    }
                    return {
                        cameraAnimation: function(s) {
                            var u = s.getZoom();
                            s.easeTo({
                                duration: 300,
                                easeId: "keyboardHandler",
                                easing: ai,
                                zoom: r ? Math.round(u) + r * (t.shiftKey ? 2 : 1) : u,
                                bearing: s.getBearing() + n * e._bearingStep,
                                pitch: s.getPitch() + i * e._pitchStep,
                                offset: [-o * e._panStep, -a * e._panStep],
                                center: s.getCenter()
                            }, {
                                originalEvent: t
                            })
                        }
                    }
                }
            }, oi.prototype.enable = function() {
                this._enabled = !0
            }, oi.prototype.disable = function() {
                this._enabled = !1, this.reset()
            }, oi.prototype.isEnabled = function() {
                return this._enabled
            }, oi.prototype.isActive = function() {
                return this._active
            };
            var si = function(e, r) {
                this._map = e, this._el = e.getCanvasContainer(), this._handler = r, this._delta = 0, this._defaultZoomRate = .01, this._wheelZoomRate = 1 / 450, t.bindAll(["_onWheel", "_onTimeout", "_onScrollFrame", "_onScrollFinished"], this)
            };
            si.prototype.setZoomRate = function(t) {
                this._defaultZoomRate = t
            }, si.prototype.setWheelZoomRate = function(t) {
                this._wheelZoomRate = t
            }, si.prototype.isEnabled = function() {
                return !!this._enabled
            }, si.prototype.isActive = function() {
                return !!this._active || void 0 !== this._finishTimeout
            }, si.prototype.isZooming = function() {
                return !!this._zooming
            }, si.prototype.enable = function(t) {
                this.isEnabled() || (this._enabled = !0, this._aroundCenter = t && "center" === t.around)
            }, si.prototype.disable = function() {
                this.isEnabled() && (this._enabled = !1)
            }, si.prototype.wheel = function(e) {
                if (this.isEnabled()) {
                    var r = e.deltaMode === t.window.WheelEvent.DOM_DELTA_LINE ? 40 * e.deltaY : e.deltaY,
                        n = t.browser.now(),
                        i = n - (this._lastWheelEventTime || 0);
                    this._lastWheelEventTime = n, 0 !== r && r % 4.000244140625 == 0 ? this._type = "wheel" : 0 !== r && Math.abs(r) < 4 ? this._type = "trackpad" : i > 400 ? (this._type = null, this._lastValue = r, this._timeout = setTimeout(this._onTimeout, 40, e)) : this._type || (this._type = Math.abs(i * r) < 200 ? "trackpad" : "wheel", this._timeout && (clearTimeout(this._timeout), this._timeout = null, r += this._lastValue)), e.shiftKey && r && (r /= 4), this._type && (this._lastWheelEvent = e, this._delta -= r, this._active || this._start(e)), e.preventDefault()
                }
            }, si.prototype._onTimeout = function(t) {
                this._type = "wheel", this._delta -= this._lastValue, this._active || this._start(t)
            }, si.prototype._start = function(e) {
                if (this._delta) {
                    this._frameId && (this._frameId = null), this._active = !0, this.isZooming() || (this._zooming = !0), this._finishTimeout && (clearTimeout(this._finishTimeout), delete this._finishTimeout);
                    var n = r.mousePos(this._el, e);
                    this._around = t.LngLat.convert(this._aroundCenter ? this._map.getCenter() : this._map.unproject(n)), this._aroundPoint = this._map.transform.locationPoint(this._around), this._frameId || (this._frameId = !0, this._handler._triggerRenderFrame())
                }
            }, si.prototype.renderFrame = function() {
                return this._onScrollFrame()
            }, si.prototype._onScrollFrame = function() {
                var e = this;
                if (this._frameId && (this._frameId = null, this.isActive())) {
                    var r = this._map.transform;
                    if (0 !== this._delta) {
                        var n = "wheel" === this._type && Math.abs(this._delta) > 4.000244140625 ? this._wheelZoomRate : this._defaultZoomRate,
                            i = 2 / (1 + Math.exp(-Math.abs(this._delta * n)));
                        this._delta < 0 && 0 !== i && (i = 1 / i);
                        var o = "number" == typeof this._targetZoom ? r.zoomScale(this._targetZoom) : r.scale;
                        this._targetZoom = Math.min(r.maxZoom, Math.max(r.minZoom, r.scaleZoom(o * i))), "wheel" === this._type && (this._startZoom = r.zoom, this._easing = this._smoothOutEasing(200)), this._delta = 0
                    }
                    var a, s = "number" == typeof this._targetZoom ? this._targetZoom : r.zoom,
                        u = this._startZoom,
                        l = this._easing,
                        c = !1;
                    if ("wheel" === this._type && u && l) {
                        var p = Math.min((t.browser.now() - this._lastWheelEventTime) / 200, 1),
                            h = l(p);
                        a = t.number(u, s, h), p < 1 ? this._frameId || (this._frameId = !0) : c = !0
                    } else a = s, c = !0;
                    return this._active = !0, c && (this._active = !1, this._finishTimeout = setTimeout((function() {
                        e._zooming = !1, e._handler._triggerRenderFrame(), delete e._targetZoom, delete e._finishTimeout
                    }), 200)), {
                        noInertia: !0,
                        needsRenderFrame: !c,
                        zoomDelta: a - r.zoom,
                        around: this._aroundPoint,
                        originalEvent: this._lastWheelEvent
                    }
                }
            }, si.prototype._smoothOutEasing = function(e) {
                var r = t.ease;
                if (this._prevEase) {
                    var n = this._prevEase,
                        i = (t.browser.now() - n.start) / n.duration,
                        o = n.easing(i + .01) - n.easing(i),
                        a = .27 / Math.sqrt(o * o + 1e-4) * .01,
                        s = Math.sqrt(.0729 - a * a);
                    r = t.bezier(a, s, .25, 1)
                }
                return this._prevEase = {
                    start: t.browser.now(),
                    duration: e,
                    easing: r
                }, r
            }, si.prototype.reset = function() {
                this._active = !1
            };
            var ui = function(t, e) {
                this._clickZoom = t, this._tapZoom = e
            };
            ui.prototype.enable = function() {
                this._clickZoom.enable(), this._tapZoom.enable()
            }, ui.prototype.disable = function() {
                this._clickZoom.disable(), this._tapZoom.disable()
            }, ui.prototype.isEnabled = function() {
                return this._clickZoom.isEnabled() && this._tapZoom.isEnabled()
            }, ui.prototype.isActive = function() {
                return this._clickZoom.isActive() || this._tapZoom.isActive()
            };
            var li = function() {
                this.reset()
            };
            li.prototype.reset = function() {
                this._active = !1
            }, li.prototype.dblclick = function(t, e) {
                return t.preventDefault(), {
                    cameraAnimation: function(r) {
                        r.easeTo({
                            duration: 300,
                            zoom: r.getZoom() + (t.shiftKey ? -1 : 1),
                            around: r.unproject(e)
                        }, {
                            originalEvent: t
                        })
                    }
                }
            }, li.prototype.enable = function() {
                this._enabled = !0
            }, li.prototype.disable = function() {
                this._enabled = !1, this.reset()
            }, li.prototype.isEnabled = function() {
                return this._enabled
            }, li.prototype.isActive = function() {
                return this._active
            };
            var ci = function() {
                this._tap = new Vn({
                    numTouches: 1,
                    numTaps: 1
                }), this.reset()
            };
            ci.prototype.reset = function() {
                this._active = !1, delete this._swipePoint, delete this._swipeTouch, delete this._tapTime, this._tap.reset()
            }, ci.prototype.touchstart = function(t, e, r) {
                this._swipePoint || (this._tapTime && t.timeStamp - this._tapTime > 500 && this.reset(), this._tapTime ? r.length > 0 && (this._swipePoint = e[0], this._swipeTouch = r[0].identifier) : this._tap.touchstart(t, e, r))
            }, ci.prototype.touchmove = function(t, e, r) {
                if (this._tapTime) {
                    if (this._swipePoint) {
                        if (r[0].identifier !== this._swipeTouch) return;
                        var n = e[0],
                            i = n.y - this._swipePoint.y;
                        return this._swipePoint = n, t.preventDefault(), this._active = !0, {
                            zoomDelta: i / 128
                        }
                    }
                } else this._tap.touchmove(t, e, r)
            }, ci.prototype.touchend = function(t, e, r) {
                this._tapTime ? this._swipePoint && 0 === r.length && this.reset() : this._tap.touchend(t, e, r) && (this._tapTime = t.timeStamp)
            }, ci.prototype.touchcancel = function() {
                this.reset()
            }, ci.prototype.enable = function() {
                this._enabled = !0
            }, ci.prototype.disable = function() {
                this._enabled = !1, this.reset()
            }, ci.prototype.isEnabled = function() {
                return this._enabled
            }, ci.prototype.isActive = function() {
                return this._active
            };
            var pi = function(t, e, r) {
                this._el = t, this._mousePan = e, this._touchPan = r
            };
            pi.prototype.enable = function(t) {
                this._inertiaOptions = t || {}, this._mousePan.enable(), this._touchPan.enable(), this._el.classList.add("mapboxgl-touch-drag-pan")
            }, pi.prototype.disable = function() {
                this._mousePan.disable(), this._touchPan.disable(), this._el.classList.remove("mapboxgl-touch-drag-pan")
            }, pi.prototype.isEnabled = function() {
                return this._mousePan.isEnabled() && this._touchPan.isEnabled()
            }, pi.prototype.isActive = function() {
                return this._mousePan.isActive() || this._touchPan.isActive()
            };
            var hi = function(t, e, r) {
                this._pitchWithRotate = t.pitchWithRotate, this._mouseRotate = e, this._mousePitch = r
            };
            hi.prototype.enable = function() {
                this._mouseRotate.enable(), this._pitchWithRotate && this._mousePitch.enable()
            }, hi.prototype.disable = function() {
                this._mouseRotate.disable(), this._mousePitch.disable()
            }, hi.prototype.isEnabled = function() {
                return this._mouseRotate.isEnabled() && (!this._pitchWithRotate || this._mousePitch.isEnabled())
            }, hi.prototype.isActive = function() {
                return this._mouseRotate.isActive() || this._mousePitch.isActive()
            };
            var fi = function(t, e, r, n) {
                this._el = t, this._touchZoom = e, this._touchRotate = r, this._tapDragZoom = n, this._rotationDisabled = !1, this._enabled = !0
            };
            fi.prototype.enable = function(t) {
                this._touchZoom.enable(t), this._rotationDisabled || this._touchRotate.enable(t), this._tapDragZoom.enable(), this._el.classList.add("mapboxgl-touch-zoom-rotate")
            }, fi.prototype.disable = function() {
                this._touchZoom.disable(), this._touchRotate.disable(), this._tapDragZoom.disable(), this._el.classList.remove("mapboxgl-touch-zoom-rotate")
            }, fi.prototype.isEnabled = function() {
                return this._touchZoom.isEnabled() && (this._rotationDisabled || this._touchRotate.isEnabled()) && this._tapDragZoom.isEnabled()
            }, fi.prototype.isActive = function() {
                return this._touchZoom.isActive() || this._touchRotate.isActive() || this._tapDragZoom.isActive()
            }, fi.prototype.disableRotation = function() {
                this._rotationDisabled = !0, this._touchRotate.disable()
            }, fi.prototype.enableRotation = function() {
                this._rotationDisabled = !1, this._touchZoom.isEnabled() && this._touchRotate.enable()
            };
            var di = function(t) {
                    return t.zoom || t.drag || t.pitch || t.rotate
                },
                mi = function(t) {
                    function e() {
                        t.apply(this, arguments)
                    }
                    return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
                }(t.Event);

            function yi(t) {
                return t.panDelta && t.panDelta.mag() || t.zoomDelta || t.bearingDelta || t.pitchDelta
            }
            var vi = function(e, n) {
                this._map = e, this._el = this._map.getCanvasContainer(), this._handlers = [], this._handlersById = {}, this._changes = [], this._inertia = new zn(e), this._bearingSnap = n.bearingSnap, this._previousActiveHandlers = {}, this._eventsInProgress = {}, this._addDefaultHandlers(n), t.bindAll(["handleEvent", "handleWindowEvent"], this);
                var i = this._el;
                this._listeners = [
                    [i, "touchstart", {
                        passive: !0
                    }],
                    [i, "touchmove", {
                        passive: !1
                    }],
                    [i, "touchend", void 0],
                    [i, "touchcancel", void 0],
                    [i, "mousedown", void 0],
                    [i, "mousemove", void 0],
                    [i, "mouseup", void 0],
                    [t.window.document, "mousemove", {
                        capture: !0
                    }],
                    [t.window.document, "mouseup", void 0],
                    [i, "mouseover", void 0],
                    [i, "mouseout", void 0],
                    [i, "dblclick", void 0],
                    [i, "click", void 0],
                    [i, "keydown", {
                        capture: !1
                    }],
                    [i, "keyup", void 0],
                    [i, "wheel", {
                        passive: !1
                    }],
                    [i, "contextmenu", void 0],
                    [t.window, "blur", void 0]
                ];
                for (var o = 0, a = this._listeners; o < a.length; o += 1) {
                    var s = a[o],
                        u = s[0];
                    r.addEventListener(u, s[1], u === t.window.document ? this.handleWindowEvent : this.handleEvent, s[2])
                }
            };
            vi.prototype.destroy = function() {
                for (var e = 0, n = this._listeners; e < n.length; e += 1) {
                    var i = n[e],
                        o = i[0];
                    r.removeEventListener(o, i[1], o === t.window.document ? this.handleWindowEvent : this.handleEvent, i[2])
                }
            }, vi.prototype._addDefaultHandlers = function(t) {
                var e = this._map,
                    r = e.getCanvasContainer();
                this._add("mapEvent", new Bn(e, t));
                var n = e.boxZoom = new Nn(e, t);
                this._add("boxZoom", n);
                var i = new qn,
                    o = new li;
                e.doubleClickZoom = new ui(o, i), this._add("tapZoom", i), this._add("clickZoom", o);
                var a = new ci;
                this._add("tapDragZoom", a);
                var s = e.touchPitch = new ni;
                this._add("touchPitch", s);
                var u = new Hn(t),
                    l = new Wn(t);
                e.dragRotate = new hi(t, u, l), this._add("mouseRotate", u, ["mousePitch"]), this._add("mousePitch", l, ["mouseRotate"]);
                var c = new Gn(t),
                    p = new Xn(t);
                e.dragPan = new pi(r, c, p), this._add("mousePan", c), this._add("touchPan", p, ["touchZoom", "touchRotate"]);
                var h = new ei,
                    f = new Qn;
                e.touchZoomRotate = new fi(r, f, h, a), this._add("touchRotate", h, ["touchPan", "touchZoom"]), this._add("touchZoom", f, ["touchPan", "touchRotate"]);
                var d = e.scrollZoom = new si(e, this);
                this._add("scrollZoom", d, ["mousePan"]);
                var m = e.keyboard = new oi;
                this._add("keyboard", m), this._add("blockableMapEvent", new Fn(e));
                for (var y = 0, v = ["boxZoom", "doubleClickZoom", "tapDragZoom", "touchPitch", "dragRotate", "dragPan", "touchZoomRotate", "scrollZoom", "keyboard"]; y < v.length; y += 1) {
                    var g = v[y];
                    t.interactive && t[g] && e[g].enable(t[g])
                }
            }, vi.prototype._add = function(t, e, r) {
                this._handlers.push({
                    handlerName: t,
                    handler: e,
                    allowed: r
                }), this._handlersById[t] = e
            }, vi.prototype.stop = function() {
                if (!this._updatingCamera) {
                    for (var t = 0, e = this._handlers; t < e.length; t += 1) e[t].handler.reset();
                    this._inertia.clear(), this._fireEvents({}, {}), this._changes = []
                }
            }, vi.prototype.isActive = function() {
                for (var t = 0, e = this._handlers; t < e.length; t += 1)
                    if (e[t].handler.isActive()) return !0;
                return !1
            }, vi.prototype.isZooming = function() {
                return !!this._eventsInProgress.zoom || this._map.scrollZoom.isZooming()
            }, vi.prototype.isRotating = function() {
                return !!this._eventsInProgress.rotate
            }, vi.prototype.isMoving = function() {
                return Boolean(di(this._eventsInProgress)) || this.isZooming()
            }, vi.prototype._blockedByActive = function(t, e, r) {
                for (var n in t)
                    if (n !== r && (!e || e.indexOf(n) < 0)) return !0;
                return !1
            }, vi.prototype.handleWindowEvent = function(t) {
                this.handleEvent(t, t.type + "Window")
            }, vi.prototype._getMapTouches = function(t) {
                for (var e = [], r = 0, n = t; r < n.length; r += 1) {
                    var i = n[r];
                    this._el.contains(i.target) && e.push(i)
                }
                return e
            }, vi.prototype.handleEvent = function(t, e) {
                if ("blur" !== t.type) {
                    this._updatingCamera = !0;
                    for (var n = "renderFrame" === t.type ? void 0 : t, i = {
                            needsRenderFrame: !1
                        }, o = {}, a = {}, s = t.touches ? this._getMapTouches(t.touches) : void 0, u = s ? r.touchPos(this._el, s) : r.mousePos(this._el, t), l = 0, c = this._handlers; l < c.length; l += 1) {
                        var p = c[l],
                            h = p.handlerName,
                            f = p.handler,
                            d = p.allowed;
                        if (f.isEnabled()) {
                            var m = void 0;
                            this._blockedByActive(a, d, h) ? f.reset() : f[e || t.type] && (m = f[e || t.type](t, u, s), this.mergeHandlerResult(i, o, m, h, n), m && m.needsRenderFrame && this._triggerRenderFrame()), (m || f.isActive()) && (a[h] = f)
                        }
                    }
                    var y = {};
                    for (var v in this._previousActiveHandlers) a[v] || (y[v] = n);
                    this._previousActiveHandlers = a, (Object.keys(y).length || yi(i)) && (this._changes.push([i, o, y]), this._triggerRenderFrame()), (Object.keys(a).length || yi(i)) && this._map._stop(!0), this._updatingCamera = !1;
                    var g = i.cameraAnimation;
                    g && (this._inertia.clear(), this._fireEvents({}, {}), this._changes = [], g(this._map))
                } else this.stop()
            }, vi.prototype.mergeHandlerResult = function(e, r, n, i, o) {
                if (n) {
                    t.extend(e, n);
                    var a = {
                        handlerName: i,
                        originalEvent: n.originalEvent || o
                    };
                    void 0 !== n.zoomDelta && (r.zoom = a), void 0 !== n.panDelta && (r.drag = a), void 0 !== n.pitchDelta && (r.pitch = a), void 0 !== n.bearingDelta && (r.rotate = a)
                }
            }, vi.prototype._applyChanges = function() {
                for (var e = {}, r = {}, n = {}, i = 0, o = this._changes; i < o.length; i += 1) {
                    var a = o[i],
                        s = a[0],
                        u = a[1],
                        l = a[2];
                    s.panDelta && (e.panDelta = (e.panDelta || new t.Point(0, 0))._add(s.panDelta)), s.zoomDelta && (e.zoomDelta = (e.zoomDelta || 0) + s.zoomDelta), s.bearingDelta && (e.bearingDelta = (e.bearingDelta || 0) + s.bearingDelta), s.pitchDelta && (e.pitchDelta = (e.pitchDelta || 0) + s.pitchDelta), void 0 !== s.around && (e.around = s.around), void 0 !== s.pinchAround && (e.pinchAround = s.pinchAround), s.noInertia && (e.noInertia = s.noInertia), t.extend(r, u), t.extend(n, l)
                }
                this._updateMapTransform(e, r, n), this._changes = []
            }, vi.prototype._updateMapTransform = function(t, e, r) {
                var n = this._map,
                    i = n.transform;
                if (!yi(t)) return this._fireEvents(e, r);
                var o = t.panDelta,
                    a = t.zoomDelta,
                    s = t.bearingDelta,
                    u = t.pitchDelta,
                    l = t.around,
                    c = t.pinchAround;
                void 0 !== c && (l = c), n._stop(!0), l = l || n.transform.centerPoint;
                var p = i.pointLocation(o ? l.sub(o) : l);
                s && (i.bearing += s), u && (i.pitch += u), a && (i.zoom += a), i.setLocationAtPoint(p, l), this._map._update(), t.noInertia || this._inertia.record(t), this._fireEvents(e, r)
            }, vi.prototype._fireEvents = function(e, r) {
                var n = this,
                    i = di(this._eventsInProgress),
                    o = di(e),
                    a = {};
                for (var s in e) this._eventsInProgress[s] || (a[s + "start"] = e[s].originalEvent), this._eventsInProgress[s] = e[s];
                for (var u in !i && o && this._fireEvent("movestart", o.originalEvent), a) this._fireEvent(u, a[u]);
                for (var l in e.rotate && (this._bearingChanged = !0), o && this._fireEvent("move", o.originalEvent), e) this._fireEvent(l, e[l].originalEvent);
                var c, p = {};
                for (var h in this._eventsInProgress) {
                    var f = this._eventsInProgress[h],
                        d = f.handlerName,
                        m = f.originalEvent;
                    this._handlersById[d].isActive() || (delete this._eventsInProgress[h], p[h + "end"] = c = r[d] || m)
                }
                for (var y in p) this._fireEvent(y, p[y]);
                var v = di(this._eventsInProgress);
                if ((i || o) && !v) {
                    this._updatingCamera = !0;
                    var g = this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),
                        _ = function(t) {
                            return 0 !== t && -n._bearingSnap < t && t < n._bearingSnap
                        };
                    g ? (_(g.bearing || this._map.getBearing()) && (g.bearing = 0), this._map.easeTo(g, {
                        originalEvent: c
                    })) : (this._map.fire(new t.Event("moveend", {
                        originalEvent: c
                    })), _(this._map.getBearing()) && this._map.resetNorth()), this._bearingChanged = !1, this._updatingCamera = !1
                }
            }, vi.prototype._fireEvent = function(e, r) {
                this._map.fire(new t.Event(e, r ? {
                    originalEvent: r
                } : {}))
            }, vi.prototype._triggerRenderFrame = function() {
                var t = this;
                void 0 === this._frameId && (this._frameId = this._map._requestRenderFrame((function(e) {
                    delete t._frameId, t.handleEvent(new mi("renderFrame", {
                        timeStamp: e
                    })), t._applyChanges()
                })))
            };
            var gi = function(e) {
                    function r(r, n) {
                        e.call(this), this._moving = !1, this._zooming = !1, this.transform = r, this._bearingSnap = n.bearingSnap, t.bindAll(["_renderFrameCallback"], this)
                    }
                    return e && (r.__proto__ = e), (r.prototype = Object.create(e && e.prototype)).constructor = r, r.prototype.getCenter = function() {
                        return new t.LngLat(this.transform.center.lng, this.transform.center.lat)
                    }, r.prototype.setCenter = function(t, e) {
                        return this.jumpTo({
                            center: t
                        }, e)
                    }, r.prototype.panBy = function(e, r, n) {
                        return e = t.Point.convert(e).mult(-1), this.panTo(this.transform.center, t.extend({
                            offset: e
                        }, r), n)
                    }, r.prototype.panTo = function(e, r, n) {
                        return this.easeTo(t.extend({
                            center: e
                        }, r), n)
                    }, r.prototype.getZoom = function() {
                        return this.transform.zoom
                    }, r.prototype.setZoom = function(t, e) {
                        return this.jumpTo({
                            zoom: t
                        }, e), this
                    }, r.prototype.zoomTo = function(e, r, n) {
                        return this.easeTo(t.extend({
                            zoom: e
                        }, r), n)
                    }, r.prototype.zoomIn = function(t, e) {
                        return this.zoomTo(this.getZoom() + 1, t, e), this
                    }, r.prototype.zoomOut = function(t, e) {
                        return this.zoomTo(this.getZoom() - 1, t, e), this
                    }, r.prototype.getBearing = function() {
                        return this.transform.bearing
                    }, r.prototype.setBearing = function(t, e) {
                        return this.jumpTo({
                            bearing: t
                        }, e), this
                    }, r.prototype.getPadding = function() {
                        return this.transform.padding
                    }, r.prototype.setPadding = function(t, e) {
                        return this.jumpTo({
                            padding: t
                        }, e), this
                    }, r.prototype.rotateTo = function(e, r, n) {
                        return this.easeTo(t.extend({
                            bearing: e
                        }, r), n)
                    }, r.prototype.resetNorth = function(e, r) {
                        return this.rotateTo(0, t.extend({
                            duration: 1e3
                        }, e), r), this
                    }, r.prototype.resetNorthPitch = function(e, r) {
                        return this.easeTo(t.extend({
                            bearing: 0,
                            pitch: 0,
                            duration: 1e3
                        }, e), r), this
                    }, r.prototype.snapToNorth = function(t, e) {
                        return Math.abs(this.getBearing()) < this._bearingSnap ? this.resetNorth(t, e) : this
                    }, r.prototype.getPitch = function() {
                        return this.transform.pitch
                    }, r.prototype.setPitch = function(t, e) {
                        return this.jumpTo({
                            pitch: t
                        }, e), this
                    }, r.prototype.cameraForBounds = function(e, r) {
                        return e = t.LngLatBounds.convert(e), this._cameraForBoxAndBearing(e.getNorthWest(), e.getSouthEast(), 0, r)
                    }, r.prototype._cameraForBoxAndBearing = function(e, r, n, i) {
                        var o = {
                            top: 0,
                            bottom: 0,
                            right: 0,
                            left: 0
                        };
                        if ("number" == typeof(i = t.extend({
                                padding: o,
                                offset: [0, 0],
                                maxZoom: this.transform.maxZoom
                            }, i)).padding) {
                            var a = i.padding;
                            i.padding = {
                                top: a,
                                bottom: a,
                                right: a,
                                left: a
                            }
                        }
                        i.padding = t.extend(o, i.padding);
                        var s = this.transform,
                            u = s.padding,
                            l = s.project(t.LngLat.convert(e)),
                            c = s.project(t.LngLat.convert(r)),
                            p = l.rotate(-n * Math.PI / 180),
                            h = c.rotate(-n * Math.PI / 180),
                            f = new t.Point(Math.max(p.x, h.x), Math.max(p.y, h.y)),
                            d = new t.Point(Math.min(p.x, h.x), Math.min(p.y, h.y)),
                            m = f.sub(d),
                            y = (s.width - (u.left + u.right + i.padding.left + i.padding.right)) / m.x,
                            v = (s.height - (u.top + u.bottom + i.padding.top + i.padding.bottom)) / m.y;
                        if (!(v < 0 || y < 0)) {
                            var g = Math.min(s.scaleZoom(s.scale * Math.min(y, v)), i.maxZoom),
                                _ = t.Point.convert(i.offset),
                                x = new t.Point(_.x + (i.padding.left - i.padding.right) / 2, _.y + (i.padding.top - i.padding.bottom) / 2).mult(s.scale / s.zoomScale(g));
                            return {
                                center: s.unproject(l.add(c).div(2).sub(x)),
                                zoom: g,
                                bearing: n
                            }
                        }
                        t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")
                    }, r.prototype.fitBounds = function(t, e, r) {
                        return this._fitInternal(this.cameraForBounds(t, e), e, r)
                    }, r.prototype.fitScreenCoordinates = function(e, r, n, i, o) {
                        return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)), this.transform.pointLocation(t.Point.convert(r)), n, i), i, o)
                    }, r.prototype._fitInternal = function(e, r, n) {
                        return e ? (delete(r = t.extend(e, r)).padding, r.linear ? this.easeTo(r, n) : this.flyTo(r, n)) : this
                    }, r.prototype.jumpTo = function(e, r) {
                        this.stop();
                        var n = this.transform,
                            i = !1,
                            o = !1,
                            a = !1;
                        return "zoom" in e && n.zoom !== +e.zoom && (i = !0, n.zoom = +e.zoom), void 0 !== e.center && (n.center = t.LngLat.convert(e.center)), "bearing" in e && n.bearing !== +e.bearing && (o = !0, n.bearing = +e.bearing), "pitch" in e && n.pitch !== +e.pitch && (a = !0, n.pitch = +e.pitch), null == e.padding || n.isPaddingEqual(e.padding) || (n.padding = e.padding), this.fire(new t.Event("movestart", r)).fire(new t.Event("move", r)), i && this.fire(new t.Event("zoomstart", r)).fire(new t.Event("zoom", r)).fire(new t.Event("zoomend", r)), o && this.fire(new t.Event("rotatestart", r)).fire(new t.Event("rotate", r)).fire(new t.Event("rotateend", r)), a && this.fire(new t.Event("pitchstart", r)).fire(new t.Event("pitch", r)).fire(new t.Event("pitchend", r)), this.fire(new t.Event("moveend", r))
                    }, r.prototype.easeTo = function(e, r) {
                        var n = this;
                        this._stop(!1, e.easeId), (!1 === (e = t.extend({
                            offset: [0, 0],
                            duration: 500,
                            easing: t.ease
                        }, e)).animate || !e.essential && t.browser.prefersReducedMotion) && (e.duration = 0);
                        var i = this.transform,
                            o = this.getZoom(),
                            a = this.getBearing(),
                            s = this.getPitch(),
                            u = this.getPadding(),
                            l = "zoom" in e ? +e.zoom : o,
                            c = "bearing" in e ? this._normalizeBearing(e.bearing, a) : a,
                            p = "pitch" in e ? +e.pitch : s,
                            h = "padding" in e ? e.padding : i.padding,
                            f = t.Point.convert(e.offset),
                            d = i.centerPoint.add(f),
                            m = i.pointLocation(d),
                            y = t.LngLat.convert(e.center || m);
                        this._normalizeCenter(y);
                        var v, g, _ = i.project(m),
                            x = i.project(y).sub(_),
                            b = i.zoomScale(l - o);
                        e.around && (v = t.LngLat.convert(e.around), g = i.locationPoint(v));
                        var w = {
                            moving: this._moving,
                            zooming: this._zooming,
                            rotating: this._rotating,
                            pitching: this._pitching
                        };
                        return this._zooming = this._zooming || l !== o, this._rotating = this._rotating || a !== c, this._pitching = this._pitching || p !== s, this._padding = !i.isPaddingEqual(h), this._easeId = e.easeId, this._prepareEase(r, e.noMoveStart, w), clearTimeout(this._easeEndTimeoutID), this._ease((function(e) {
                            if (n._zooming && (i.zoom = t.number(o, l, e)), n._rotating && (i.bearing = t.number(a, c, e)), n._pitching && (i.pitch = t.number(s, p, e)), n._padding && (i.interpolatePadding(u, h, e), d = i.centerPoint.add(f)), v) i.setLocationAtPoint(v, g);
                            else {
                                var m = i.zoomScale(i.zoom - o),
                                    y = l > o ? Math.min(2, b) : Math.max(.5, b),
                                    w = Math.pow(y, 1 - e),
                                    S = i.unproject(_.add(x.mult(e * w)).mult(m));
                                i.setLocationAtPoint(i.renderWorldCopies ? S.wrap() : S, d)
                            }
                            n._fireMoveEvents(r)
                        }), (function(t) {
                            n._afterEase(r, t)
                        }), e), this
                    }, r.prototype._prepareEase = function(e, r, n) {
                        void 0 === n && (n = {}), this._moving = !0, r || n.moving || this.fire(new t.Event("movestart", e)), this._zooming && !n.zooming && this.fire(new t.Event("zoomstart", e)), this._rotating && !n.rotating && this.fire(new t.Event("rotatestart", e)), this._pitching && !n.pitching && this.fire(new t.Event("pitchstart", e))
                    }, r.prototype._fireMoveEvents = function(e) {
                        this.fire(new t.Event("move", e)), this._zooming && this.fire(new t.Event("zoom", e)), this._rotating && this.fire(new t.Event("rotate", e)), this._pitching && this.fire(new t.Event("pitch", e))
                    }, r.prototype._afterEase = function(e, r) {
                        if (!this._easeId || !r || this._easeId !== r) {
                            delete this._easeId;
                            var n = this._zooming,
                                i = this._rotating,
                                o = this._pitching;
                            this._moving = !1, this._zooming = !1, this._rotating = !1, this._pitching = !1, this._padding = !1, n && this.fire(new t.Event("zoomend", e)), i && this.fire(new t.Event("rotateend", e)), o && this.fire(new t.Event("pitchend", e)), this.fire(new t.Event("moveend", e))
                        }
                    }, r.prototype.flyTo = function(e, r) {
                        var n = this;
                        if (!e.essential && t.browser.prefersReducedMotion) {
                            var i = t.pick(e, ["center", "zoom", "bearing", "pitch", "around"]);
                            return this.jumpTo(i, r)
                        }
                        this.stop(), e = t.extend({
                            offset: [0, 0],
                            speed: 1.2,
                            curve: 1.42,
                            easing: t.ease
                        }, e);
                        var o = this.transform,
                            a = this.getZoom(),
                            s = this.getBearing(),
                            u = this.getPitch(),
                            l = this.getPadding(),
                            c = "zoom" in e ? t.clamp(+e.zoom, o.minZoom, o.maxZoom) : a,
                            p = "bearing" in e ? this._normalizeBearing(e.bearing, s) : s,
                            h = "pitch" in e ? +e.pitch : u,
                            f = "padding" in e ? e.padding : o.padding,
                            d = o.zoomScale(c - a),
                            m = t.Point.convert(e.offset),
                            y = o.centerPoint.add(m),
                            v = o.pointLocation(y),
                            g = t.LngLat.convert(e.center || v);
                        this._normalizeCenter(g);
                        var _ = o.project(v),
                            x = o.project(g).sub(_),
                            b = e.curve,
                            w = Math.max(o.width, o.height),
                            S = w / d,
                            T = x.mag();
                        if ("minZoom" in e) {
                            var E = t.clamp(Math.min(e.minZoom, a, c), o.minZoom, o.maxZoom),
                                A = w / o.zoomScale(E - a);
                            b = Math.sqrt(A / T * 2)
                        }
                        var C = b * b;

                        function I(t) {
                            var e = (S * S - w * w + (t ? -1 : 1) * C * C * T * T) / (2 * (t ? S : w) * C * T);
                            return Math.log(Math.sqrt(e * e + 1) - e)
                        }

                        function k(t) {
                            return (Math.exp(t) - Math.exp(-t)) / 2
                        }

                        function P(t) {
                            return (Math.exp(t) + Math.exp(-t)) / 2
                        }
                        var z = I(0),
                            M = function(t) {
                                return P(z) / P(z + b * t)
                            },
                            D = function(t) {
                                return w * ((P(z) * (k(e = z + b * t) / P(e)) - k(z)) / C) / T;
                                var e
                            },
                            L = (I(1) - z) / b;
                        if (Math.abs(T) < 1e-6 || !isFinite(L)) {
                            if (Math.abs(w - S) < 1e-6) return this.easeTo(e, r);
                            var O = S < w ? -1 : 1;
                            L = Math.abs(Math.log(S / w)) / b, D = function() {
                                return 0
                            }, M = function(t) {
                                return Math.exp(O * b * t)
                            }
                        }
                        return e.duration = "duration" in e ? +e.duration : 1e3 * L / ("screenSpeed" in e ? +e.screenSpeed / b : +e.speed), e.maxDuration && e.duration > e.maxDuration && (e.duration = 0), this._zooming = !0, this._rotating = s !== p, this._pitching = h !== u, this._padding = !o.isPaddingEqual(f), this._prepareEase(r, !1), this._ease((function(e) {
                            var i = e * L,
                                d = 1 / M(i);
                            o.zoom = 1 === e ? c : a + o.scaleZoom(d), n._rotating && (o.bearing = t.number(s, p, e)), n._pitching && (o.pitch = t.number(u, h, e)), n._padding && (o.interpolatePadding(l, f, e), y = o.centerPoint.add(m));
                            var v = 1 === e ? g : o.unproject(_.add(x.mult(D(i))).mult(d));
                            o.setLocationAtPoint(o.renderWorldCopies ? v.wrap() : v, y), n._fireMoveEvents(r)
                        }), (function() {
                            return n._afterEase(r)
                        }), e), this
                    }, r.prototype.isEasing = function() {
                        return !!this._easeFrameId
                    }, r.prototype.stop = function() {
                        return this._stop()
                    }, r.prototype._stop = function(t, e) {
                        if (this._easeFrameId && (this._cancelRenderFrame(this._easeFrameId), delete this._easeFrameId, delete this._onEaseFrame), this._onEaseEnd) {
                            var r = this._onEaseEnd;
                            delete this._onEaseEnd, r.call(this, e)
                        }
                        if (!t) {
                            var n = this.handlers;
                            n && n.stop()
                        }
                        return this
                    }, r.prototype._ease = function(e, r, n) {
                        !1 === n.animate || 0 === n.duration ? (e(1), r()) : (this._easeStart = t.browser.now(), this._easeOptions = n, this._onEaseFrame = e, this._onEaseEnd = r, this._easeFrameId = this._requestRenderFrame(this._renderFrameCallback))
                    }, r.prototype._renderFrameCallback = function() {
                        var e = Math.min((t.browser.now() - this._easeStart) / this._easeOptions.duration, 1);
                        this._onEaseFrame(this._easeOptions.easing(e)), e < 1 ? this._easeFrameId = this._requestRenderFrame(this._renderFrameCallback) : this.stop()
                    }, r.prototype._normalizeBearing = function(e, r) {
                        e = t.wrap(e, -180, 180);
                        var n = Math.abs(e - r);
                        return Math.abs(e - 360 - r) < n && (e -= 360), Math.abs(e + 360 - r) < n && (e += 360), e
                    }, r.prototype._normalizeCenter = function(t) {
                        var e = this.transform;
                        if (e.renderWorldCopies && !e.lngRange) {
                            var r = t.lng - e.center.lng;
                            t.lng += r > 180 ? -360 : r < -180 ? 360 : 0
                        }
                    }, r
                }(t.Evented),
                _i = function(e) {
                    void 0 === e && (e = {}), this.options = e, t.bindAll(["_updateEditLink", "_updateData", "_updateCompact"], this)
                };
            _i.prototype.getDefaultPosition = function() {
                return "bottom-right"
            }, _i.prototype.onAdd = function(t) {
                var e = this.options && this.options.compact;
                return this._map = t, this._container = r.create("div", "mapboxgl-ctrl mapboxgl-ctrl-attrib"), this._innerContainer = r.create("div", "mapboxgl-ctrl-attrib-inner", this._container), e && this._container.classList.add("mapboxgl-compact"), this._updateAttributions(), this._updateEditLink(), this._map.on("styledata", this._updateData), this._map.on("sourcedata", this._updateData), this._map.on("moveend", this._updateEditLink), void 0 === e && (this._map.on("resize", this._updateCompact), this._updateCompact()), this._container
            }, _i.prototype.onRemove = function() {
                r.remove(this._container), this._map.off("styledata", this._updateData), this._map.off("sourcedata", this._updateData), this._map.off("moveend", this._updateEditLink), this._map.off("resize", this._updateCompact), this._map = void 0, this._attribHTML = void 0
            }, _i.prototype._updateEditLink = function() {
                var e = this._editLink;
                e || (e = this._editLink = this._container.querySelector(".mapbox-improve-map"));
                var r = [{
                    key: "owner",
                    value: this.styleOwner
                }, {
                    key: "id",
                    value: this.styleId
                }, {
                    key: "access_token",
                    value: this._map._requestManager._customAccessToken || t.config.ACCESS_TOKEN
                }];
                if (e) {
                    var n = r.reduce((function(t, e, n) {
                        return e.value && (t += e.key + "=" + e.value + (n < r.length - 1 ? "&" : "")), t
                    }), "?");
                    e.href = t.config.FEEDBACK_URL + "/" + n + (this._map._hash ? this._map._hash.getHashString(!0) : ""), e.rel = "noopener nofollow"
                }
            }, _i.prototype._updateData = function(t) {
                !t || "metadata" !== t.sourceDataType && "style" !== t.dataType || (this._updateAttributions(), this._updateEditLink())
            }, _i.prototype._updateAttributions = function() {
                if (this._map.style) {
                    var t = [];
                    if (this.options.customAttribution && (Array.isArray(this.options.customAttribution) ? t = t.concat(this.options.customAttribution.map((function(t) {
                            return "string" != typeof t ? "" : t
                        }))) : "string" == typeof this.options.customAttribution && t.push(this.options.customAttribution)), this._map.style.stylesheet) {
                        var e = this._map.style.stylesheet;
                        this.styleOwner = e.owner, this.styleId = e.id
                    }
                    var r = this._map.style.sourceCaches;
                    for (var n in r) {
                        var i = r[n];
                        if (i.used) {
                            var o = i.getSource();
                            o.attribution && t.indexOf(o.attribution) < 0 && t.push(o.attribution)
                        }
                    }
                    t.sort((function(t, e) {
                        return t.length - e.length
                    }));
                    var a = (t = t.filter((function(e, r) {
                        for (var n = r + 1; n < t.length; n++)
                            if (t[n].indexOf(e) >= 0) return !1;
                        return !0
                    }))).join(" | ");
                    a !== this._attribHTML && (this._attribHTML = a, t.length ? (this._innerContainer.innerHTML = a, this._container.classList.remove("mapboxgl-attrib-empty")) : this._container.classList.add("mapboxgl-attrib-empty"), this._editLink = null)
                }
            }, _i.prototype._updateCompact = function() {
                this._map.getCanvasContainer().offsetWidth <= 640 ? this._container.classList.add("mapboxgl-compact") : this._container.classList.remove("mapboxgl-compact")
            };
            var xi = function() {
                t.bindAll(["_updateLogo"], this), t.bindAll(["_updateCompact"], this)
            };
            xi.prototype.onAdd = function(t) {
                this._map = t, this._container = r.create("div", "mapboxgl-ctrl");
                var e = r.create("a", "mapboxgl-ctrl-logo");
                return e.target = "_blank", e.rel = "noopener nofollow", e.href = "https://www.mapbox.com/", e.setAttribute("aria-label", this._map._getUIString("LogoControl.Title")), e.setAttribute("rel", "noopener nofollow"), this._container.appendChild(e), this._container.style.display = "none", this._map.on("sourcedata", this._updateLogo), this._updateLogo(), this._map.on("resize", this._updateCompact), this._updateCompact(), this._container
            }, xi.prototype.onRemove = function() {
                r.remove(this._container), this._map.off("sourcedata", this._updateLogo), this._map.off("resize", this._updateCompact)
            }, xi.prototype.getDefaultPosition = function() {
                return "bottom-left"
            }, xi.prototype._updateLogo = function(t) {
                t && "metadata" !== t.sourceDataType || (this._container.style.display = this._logoRequired() ? "block" : "none")
            }, xi.prototype._logoRequired = function() {
                if (this._map.style) {
                    var t = this._map.style.sourceCaches;
                    for (var e in t)
                        if (t[e].getSource().mapbox_logo) return !0;
                    return !1
                }
            }, xi.prototype._updateCompact = function() {
                var t = this._container.children;
                if (t.length) {
                    var e = t[0];
                    this._map.getCanvasContainer().offsetWidth < 250 ? e.classList.add("mapboxgl-compact") : e.classList.remove("mapboxgl-compact")
                }
            };
            var bi = function() {
                this._queue = [], this._id = 0, this._cleared = !1, this._currentlyRunning = !1
            };
            bi.prototype.add = function(t) {
                var e = ++this._id;
                return this._queue.push({
                    callback: t,
                    id: e,
                    cancelled: !1
                }), e
            }, bi.prototype.remove = function(t) {
                for (var e = this._currentlyRunning, r = 0, n = e ? this._queue.concat(e) : this._queue; r < n.length; r += 1) {
                    var i = n[r];
                    if (i.id === t) return void(i.cancelled = !0)
                }
            }, bi.prototype.run = function(t) {
                void 0 === t && (t = 0);
                var e = this._currentlyRunning = this._queue;
                this._queue = [];
                for (var r = 0, n = e; r < n.length; r += 1) {
                    var i = n[r];
                    if (!i.cancelled && (i.callback(t), this._cleared)) break
                }
                this._cleared = !1, this._currentlyRunning = !1
            }, bi.prototype.clear = function() {
                this._currentlyRunning && (this._cleared = !0), this._queue = []
            };
            var wi = {
                    "FullscreenControl.Enter": "Enter fullscreen",
                    "FullscreenControl.Exit": "Exit fullscreen",
                    "GeolocateControl.FindMyLocation": "Find my location",
                    "GeolocateControl.LocationNotAvailable": "Location not available",
                    "LogoControl.Title": "Mapbox logo",
                    "NavigationControl.ResetBearing": "Reset bearing to north",
                    "NavigationControl.ZoomIn": "Zoom in",
                    "NavigationControl.ZoomOut": "Zoom out",
                    "ScaleControl.Feet": "ft",
                    "ScaleControl.Meters": "m",
                    "ScaleControl.Kilometers": "km",
                    "ScaleControl.Miles": "mi",
                    "ScaleControl.NauticalMiles": "nm"
                },
                Si = t.window.HTMLImageElement,
                Ti = t.window.HTMLElement,
                Ei = t.window.ImageBitmap,
                Ai = {
                    center: [0, 0],
                    zoom: 0,
                    bearing: 0,
                    pitch: 0,
                    minZoom: -2,
                    maxZoom: 22,
                    minPitch: 0,
                    maxPitch: 60,
                    interactive: !0,
                    scrollZoom: !0,
                    boxZoom: !0,
                    dragRotate: !0,
                    dragPan: !0,
                    keyboard: !0,
                    doubleClickZoom: !0,
                    touchZoomRotate: !0,
                    touchPitch: !0,
                    bearingSnap: 7,
                    clickTolerance: 3,
                    pitchWithRotate: !0,
                    hash: !1,
                    attributionControl: !0,
                    failIfMajorPerformanceCaveat: !1,
                    preserveDrawingBuffer: !1,
                    trackResize: !0,
                    renderWorldCopies: !0,
                    refreshExpiredTiles: !0,
                    maxTileCacheSize: null,
                    localIdeographFontFamily: "sans-serif",
                    transformRequest: null,
                    accessToken: null,
                    fadeDuration: 300,
                    crossSourceCollisions: !0
                },
                Ci = function(n) {
                    function i(e) {
                        var r = this;
                        if (null != (e = t.extend({}, Ai, e)).minZoom && null != e.maxZoom && e.minZoom > e.maxZoom) throw new Error("maxZoom must be greater than or equal to minZoom");
                        if (null != e.minPitch && null != e.maxPitch && e.minPitch > e.maxPitch) throw new Error("maxPitch must be greater than or equal to minPitch");
                        if (null != e.minPitch && e.minPitch < 0) throw new Error("minPitch must be greater than or equal to 0");
                        if (null != e.maxPitch && e.maxPitch > 60) throw new Error("maxPitch must be less than or equal to 60");
                        var i = new Sn(e.minZoom, e.maxZoom, e.minPitch, e.maxPitch, e.renderWorldCopies);
                        if (n.call(this, i, e), this._interactive = e.interactive, this._maxTileCacheSize = e.maxTileCacheSize, this._failIfMajorPerformanceCaveat = e.failIfMajorPerformanceCaveat, this._preserveDrawingBuffer = e.preserveDrawingBuffer, this._antialias = e.antialias, this._trackResize = e.trackResize, this._bearingSnap = e.bearingSnap, this._refreshExpiredTiles = e.refreshExpiredTiles, this._fadeDuration = e.fadeDuration, this._crossSourceCollisions = e.crossSourceCollisions, this._crossFadingFactor = 1, this._collectResourceTiming = e.collectResourceTiming, this._renderTaskQueue = new bi, this._controls = [], this._mapId = t.uniqueId(), this._locale = t.extend({}, wi, e.locale), this._requestManager = new t.RequestManager(e.transformRequest, e.accessToken), "string" == typeof e.container) {
                            if (this._container = t.window.document.getElementById(e.container), !this._container) throw new Error("Container '" + e.container + "' not found.")
                        } else {
                            if (!(e.container instanceof Ti)) throw new Error("Invalid type: 'container' must be a String or HTMLElement.");
                            this._container = e.container
                        }
                        if (e.maxBounds && this.setMaxBounds(e.maxBounds), t.bindAll(["_onWindowOnline", "_onWindowResize", "_contextLost", "_contextRestored"], this), this._setupContainer(), this._setupPainter(), void 0 === this.painter) throw new Error("Failed to initialize WebGL.");
                        this.on("move", (function() {
                            return r._update(!1)
                        })), this.on("moveend", (function() {
                            return r._update(!1)
                        })), this.on("zoom", (function() {
                            return r._update(!0)
                        })), void 0 !== t.window && (t.window.addEventListener("online", this._onWindowOnline, !1), t.window.addEventListener("resize", this._onWindowResize, !1)), this.handlers = new vi(this, e), this._hash = e.hash && new En("string" == typeof e.hash && e.hash || void 0).addTo(this), this._hash && this._hash._onHashChange() || (this.jumpTo({
                            center: e.center,
                            zoom: e.zoom,
                            bearing: e.bearing,
                            pitch: e.pitch
                        }), e.bounds && (this.resize(), this.fitBounds(e.bounds, t.extend({}, e.fitBoundsOptions, {
                            duration: 0
                        })))), this.resize(), this._localIdeographFontFamily = e.localIdeographFontFamily, e.style && this.setStyle(e.style, {
                            localIdeographFontFamily: e.localIdeographFontFamily
                        }), e.attributionControl && this.addControl(new _i({
                            customAttribution: e.customAttribution
                        })), this.addControl(new xi, e.logoPosition), this.on("style.load", (function() {
                            r.transform.unmodified && r.jumpTo(r.style.stylesheet)
                        })), this.on("data", (function(e) {
                            r._update("style" === e.dataType), r.fire(new t.Event(e.dataType + "data", e))
                        })), this.on("dataloading", (function(e) {
                            r.fire(new t.Event(e.dataType + "dataloading", e))
                        }))
                    }
                    n && (i.__proto__ = n), (i.prototype = Object.create(n && n.prototype)).constructor = i;
                    var o = {
                        showTileBoundaries: {
                            configurable: !0
                        },
                        showPadding: {
                            configurable: !0
                        },
                        showCollisionBoxes: {
                            configurable: !0
                        },
                        showOverdrawInspector: {
                            configurable: !0
                        },
                        repaint: {
                            configurable: !0
                        },
                        vertices: {
                            configurable: !0
                        },
                        version: {
                            configurable: !0
                        }
                    };
                    return i.prototype._getMapId = function() {
                        return this._mapId
                    }, i.prototype.addControl = function(e, r) {
                        if (void 0 === r && e.getDefaultPosition && (r = e.getDefaultPosition()), void 0 === r && (r = "top-right"), !e || !e.onAdd) return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));
                        var n = e.onAdd(this);
                        this._controls.push(e);
                        var i = this._controlPositions[r];
                        return -1 !== r.indexOf("bottom") ? i.insertBefore(n, i.firstChild) : i.appendChild(n), this
                    }, i.prototype.removeControl = function(e) {
                        if (!e || !e.onRemove) return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));
                        var r = this._controls.indexOf(e);
                        return r > -1 && this._controls.splice(r, 1), e.onRemove(this), this
                    }, i.prototype.resize = function(e) {
                        var r = this._containerDimensions(),
                            n = r[0],
                            i = r[1];
                        this._resizeCanvas(n, i), this.transform.resize(n, i), this.painter.resize(n, i);
                        var o = !this._moving;
                        return o && (this.stop(), this.fire(new t.Event("movestart", e)).fire(new t.Event("move", e))), this.fire(new t.Event("resize", e)), o && this.fire(new t.Event("moveend", e)), this
                    }, i.prototype.getBounds = function() {
                        return this.transform.getBounds()
                    }, i.prototype.getMaxBounds = function() {
                        return this.transform.getMaxBounds()
                    }, i.prototype.setMaxBounds = function(e) {
                        return this.transform.setMaxBounds(t.LngLatBounds.convert(e)), this._update()
                    }, i.prototype.setMinZoom = function(t) {
                        if ((t = null == t ? -2 : t) >= -2 && t <= this.transform.maxZoom) return this.transform.minZoom = t, this._update(), this.getZoom() < t && this.setZoom(t), this;
                        throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")
                    }, i.prototype.getMinZoom = function() {
                        return this.transform.minZoom
                    }, i.prototype.setMaxZoom = function(t) {
                        if ((t = null == t ? 22 : t) >= this.transform.minZoom) return this.transform.maxZoom = t, this._update(), this.getZoom() > t && this.setZoom(t), this;
                        throw new Error("maxZoom must be greater than the current minZoom")
                    }, i.prototype.getMaxZoom = function() {
                        return this.transform.maxZoom
                    }, i.prototype.setMinPitch = function(t) {
                        if ((t = null == t ? 0 : t) < 0) throw new Error("minPitch must be greater than or equal to 0");
                        if (t >= 0 && t <= this.transform.maxPitch) return this.transform.minPitch = t, this._update(), this.getPitch() < t && this.setPitch(t), this;
                        throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")
                    }, i.prototype.getMinPitch = function() {
                        return this.transform.minPitch
                    }, i.prototype.setMaxPitch = function(t) {
                        if ((t = null == t ? 60 : t) > 60) throw new Error("maxPitch must be less than or equal to 60");
                        if (t >= this.transform.minPitch) return this.transform.maxPitch = t, this._update(), this.getPitch() > t && this.setPitch(t), this;
                        throw new Error("maxPitch must be greater than the current minPitch")
                    }, i.prototype.getMaxPitch = function() {
                        return this.transform.maxPitch
                    }, i.prototype.getRenderWorldCopies = function() {
                        return this.transform.renderWorldCopies
                    }, i.prototype.setRenderWorldCopies = function(t) {
                        return this.transform.renderWorldCopies = t, this._update()
                    }, i.prototype.project = function(e) {
                        return this.transform.locationPoint(t.LngLat.convert(e))
                    }, i.prototype.unproject = function(e) {
                        return this.transform.pointLocation(t.Point.convert(e))
                    }, i.prototype.isMoving = function() {
                        return this._moving || this.handlers.isMoving()
                    }, i.prototype.isZooming = function() {
                        return this._zooming || this.handlers.isZooming()
                    }, i.prototype.isRotating = function() {
                        return this._rotating || this.handlers.isRotating()
                    }, i.prototype._createDelegatedListener = function(t, e, r) {
                        var n, i = this;
                        if ("mouseenter" === t || "mouseover" === t) {
                            var o = !1;
                            return {
                                layer: e,
                                listener: r,
                                delegates: {
                                    mousemove: function(n) {
                                        var a = i.getLayer(e) ? i.queryRenderedFeatures(n.point, {
                                            layers: [e]
                                        }) : [];
                                        a.length ? o || (o = !0, r.call(i, new Ln(t, i, n.originalEvent, {
                                            features: a
                                        }))) : o = !1
                                    },
                                    mouseout: function() {
                                        o = !1
                                    }
                                }
                            }
                        }
                        if ("mouseleave" === t || "mouseout" === t) {
                            var a = !1;
                            return {
                                layer: e,
                                listener: r,
                                delegates: {
                                    mousemove: function(n) {
                                        (i.getLayer(e) ? i.queryRenderedFeatures(n.point, {
                                            layers: [e]
                                        }) : []).length ? a = !0 : a && (a = !1, r.call(i, new Ln(t, i, n.originalEvent)))
                                    },
                                    mouseout: function(e) {
                                        a && (a = !1, r.call(i, new Ln(t, i, e.originalEvent)))
                                    }
                                }
                            }
                        }
                        return {
                            layer: e,
                            listener: r,
                            delegates: (n = {}, n[t] = function(t) {
                                var n = i.getLayer(e) ? i.queryRenderedFeatures(t.point, {
                                    layers: [e]
                                }) : [];
                                n.length && (t.features = n, r.call(i, t), delete t.features)
                            }, n)
                        }
                    }, i.prototype.on = function(t, e, r) {
                        if (void 0 === r) return n.prototype.on.call(this, t, e);
                        var i = this._createDelegatedListener(t, e, r);
                        for (var o in this._delegatedListeners = this._delegatedListeners || {}, this._delegatedListeners[t] = this._delegatedListeners[t] || [], this._delegatedListeners[t].push(i), i.delegates) this.on(o, i.delegates[o]);
                        return this
                    }, i.prototype.once = function(t, e, r) {
                        if (void 0 === r) return n.prototype.once.call(this, t, e);
                        var i = this._createDelegatedListener(t, e, r);
                        for (var o in i.delegates) this.once(o, i.delegates[o]);
                        return this
                    }, i.prototype.off = function(t, e, r) {
                        var i = this;
                        return void 0 === r ? n.prototype.off.call(this, t, e) : (this._delegatedListeners && this._delegatedListeners[t] && function(n) {
                            for (var o = n[t], a = 0; a < o.length; a++) {
                                var s = o[a];
                                if (s.layer === e && s.listener === r) {
                                    for (var u in s.delegates) i.off(u, s.delegates[u]);
                                    return o.splice(a, 1), i
                                }
                            }
                        }(this._delegatedListeners), this)
                    }, i.prototype.queryRenderedFeatures = function(e, r) {
                        if (!this.style) return [];
                        var n;
                        if (void 0 !== r || void 0 === e || e instanceof t.Point || Array.isArray(e) || (r = e, e = void 0), r = r || {}, (e = e || [
                                [0, 0],
                                [this.transform.width, this.transform.height]
                            ]) instanceof t.Point || "number" == typeof e[0]) n = [t.Point.convert(e)];
                        else {
                            var i = t.Point.convert(e[0]),
                                o = t.Point.convert(e[1]);
                            n = [i, new t.Point(o.x, i.y), o, new t.Point(i.x, o.y), i]
                        }
                        return this.style.queryRenderedFeatures(n, r, this.transform)
                    }, i.prototype.querySourceFeatures = function(t, e) {
                        return this.style.querySourceFeatures(t, e)
                    }, i.prototype.setStyle = function(e, r) {
                        return !1 !== (r = t.extend({}, {
                            localIdeographFontFamily: this._localIdeographFontFamily
                        }, r)).diff && r.localIdeographFontFamily === this._localIdeographFontFamily && this.style && e ? (this._diffStyle(e, r), this) : (this._localIdeographFontFamily = r.localIdeographFontFamily, this._updateStyle(e, r))
                    }, i.prototype._getUIString = function(t) {
                        var e = this._locale[t];
                        if (null == e) throw new Error("Missing UI string '" + t + "'");
                        return e
                    }, i.prototype._updateStyle = function(t, e) {
                        return this.style && (this.style.setEventedParent(null), this.style._remove()), t ? (this.style = new qe(this, e || {}), this.style.setEventedParent(this, {
                            style: this.style
                        }), "string" == typeof t ? this.style.loadURL(t) : this.style.loadJSON(t), this) : (delete this.style, this)
                    }, i.prototype._lazyInitEmptyStyle = function() {
                        this.style || (this.style = new qe(this, {}), this.style.setEventedParent(this, {
                            style: this.style
                        }), this.style.loadEmpty())
                    }, i.prototype._diffStyle = function(e, r) {
                        var n = this;
                        if ("string" == typeof e) {
                            var i = this._requestManager.normalizeStyleURL(e),
                                o = this._requestManager.transformRequest(i, t.ResourceType.Style);
                            t.getJSON(o, (function(e, i) {
                                e ? n.fire(new t.ErrorEvent(e)) : i && n._updateDiff(i, r)
                            }))
                        } else "object" == typeof e && this._updateDiff(e, r)
                    }, i.prototype._updateDiff = function(e, r) {
                        try {
                            this.style.setState(e) && this._update(!0)
                        } catch (n) {
                            t.warnOnce("Unable to perform style diff: " + (n.message || n.error || n) + ".  Rebuilding the style from scratch."), this._updateStyle(e, r)
                        }
                    }, i.prototype.getStyle = function() {
                        if (this.style) return this.style.serialize()
                    }, i.prototype.isStyleLoaded = function() {
                        return this.style ? this.style.loaded() : t.warnOnce("There is no style added to the map.")
                    }, i.prototype.addSource = function(t, e) {
                        return this._lazyInitEmptyStyle(), this.style.addSource(t, e), this._update(!0)
                    }, i.prototype.isSourceLoaded = function(e) {
                        var r = this.style && this.style.sourceCaches[e];
                        if (void 0 !== r) return r.loaded();
                        this.fire(new t.ErrorEvent(new Error("There is no source with ID '" + e + "'")))
                    }, i.prototype.areTilesLoaded = function() {
                        var t = this.style && this.style.sourceCaches;
                        for (var e in t) {
                            var r = t[e]._tiles;
                            for (var n in r) {
                                var i = r[n];
                                if ("loaded" !== i.state && "errored" !== i.state) return !1
                            }
                        }
                        return !0
                    }, i.prototype.addSourceType = function(t, e, r) {
                        return this._lazyInitEmptyStyle(), this.style.addSourceType(t, e, r)
                    }, i.prototype.removeSource = function(t) {
                        return this.style.removeSource(t), this._update(!0)
                    }, i.prototype.getSource = function(t) {
                        return this.style.getSource(t)
                    }, i.prototype.addImage = function(e, r, n) {
                        void 0 === n && (n = {});
                        var i = n.pixelRatio;
                        void 0 === i && (i = 1);
                        var o = n.sdf;
                        void 0 === o && (o = !1);
                        var a = n.stretchX,
                            s = n.stretchY,
                            u = n.content;
                        if (this._lazyInitEmptyStyle(), r instanceof Si || Ei && r instanceof Ei) {
                            var l = t.browser.getImageData(r);
                            this.style.addImage(e, {
                                data: new t.RGBAImage({
                                    width: l.width,
                                    height: l.height
                                }, l.data),
                                pixelRatio: i,
                                stretchX: a,
                                stretchY: s,
                                content: u,
                                sdf: o,
                                version: 0
                            })
                        } else {
                            if (void 0 === r.width || void 0 === r.height) return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));
                            var c = r;
                            this.style.addImage(e, {
                                data: new t.RGBAImage({
                                    width: r.width,
                                    height: r.height
                                }, new Uint8Array(r.data)),
                                pixelRatio: i,
                                stretchX: a,
                                stretchY: s,
                                content: u,
                                sdf: o,
                                version: 0,
                                userImage: c
                            }), c.onAdd && c.onAdd(this, e)
                        }
                    }, i.prototype.updateImage = function(e, r) {
                        var n = this.style.getImage(e);
                        if (!n) return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));
                        var i = r instanceof Si || Ei && r instanceof Ei ? t.browser.getImageData(r) : r,
                            o = i.width,
                            a = i.height,
                            s = i.data;
                        return void 0 === o || void 0 === a ? this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))) : o !== n.data.width || a !== n.data.height ? this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))) : (n.data.replace(s, !(r instanceof Si || Ei && r instanceof Ei)), void this.style.updateImage(e, n))
                    }, i.prototype.hasImage = function(e) {
                        return e ? !!this.style.getImage(e) : (this.fire(new t.ErrorEvent(new Error("Missing required image id"))), !1)
                    }, i.prototype.removeImage = function(t) {
                        this.style.removeImage(t)
                    }, i.prototype.loadImage = function(e, r) {
                        t.getImage(this._requestManager.transformRequest(e, t.ResourceType.Image), r)
                    }, i.prototype.listImages = function() {
                        return this.style.listImages()
                    }, i.prototype.addLayer = function(t, e) {
                        return this._lazyInitEmptyStyle(), this.style.addLayer(t, e), this._update(!0)
                    }, i.prototype.moveLayer = function(t, e) {
                        return this.style.moveLayer(t, e), this._update(!0)
                    }, i.prototype.removeLayer = function(t) {
                        return this.style.removeLayer(t), this._update(!0)
                    }, i.prototype.getLayer = function(t) {
                        return this.style.getLayer(t)
                    }, i.prototype.setLayerZoomRange = function(t, e, r) {
                        return this.style.setLayerZoomRange(t, e, r), this._update(!0)
                    }, i.prototype.setFilter = function(t, e, r) {
                        return void 0 === r && (r = {}), this.style.setFilter(t, e, r), this._update(!0)
                    }, i.prototype.getFilter = function(t) {
                        return this.style.getFilter(t)
                    }, i.prototype.setPaintProperty = function(t, e, r, n) {
                        return void 0 === n && (n = {}), this.style.setPaintProperty(t, e, r, n), this._update(!0)
                    }, i.prototype.getPaintProperty = function(t, e) {
                        return this.style.getPaintProperty(t, e)
                    }, i.prototype.setLayoutProperty = function(t, e, r, n) {
                        return void 0 === n && (n = {}), this.style.setLayoutProperty(t, e, r, n), this._update(!0)
                    }, i.prototype.getLayoutProperty = function(t, e) {
                        return this.style.getLayoutProperty(t, e)
                    }, i.prototype.setLight = function(t, e) {
                        return void 0 === e && (e = {}), this._lazyInitEmptyStyle(), this.style.setLight(t, e), this._update(!0)
                    }, i.prototype.getLight = function() {
                        return this.style.getLight()
                    }, i.prototype.setFeatureState = function(t, e) {
                        return this.style.setFeatureState(t, e), this._update()
                    }, i.prototype.removeFeatureState = function(t, e) {
                        return this.style.removeFeatureState(t, e), this._update()
                    }, i.prototype.getFeatureState = function(t) {
                        return this.style.getFeatureState(t)
                    }, i.prototype.getContainer = function() {
                        return this._container
                    }, i.prototype.getCanvasContainer = function() {
                        return this._canvasContainer
                    }, i.prototype.getCanvas = function() {
                        return this._canvas
                    }, i.prototype._containerDimensions = function() {
                        var t = 0,
                            e = 0;
                        return this._container && (t = this._container.clientWidth || 400, e = this._container.clientHeight || 300), [t, e]
                    }, i.prototype._detectMissingCSS = function() {
                        "rgb(250, 128, 114)" !== t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color") && t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")
                    }, i.prototype._setupContainer = function() {
                        var t = this._container;
                        t.classList.add("mapboxgl-map"), (this._missingCSSCanary = r.create("div", "mapboxgl-canary", t)).style.visibility = "hidden", this._detectMissingCSS();
                        var e = this._canvasContainer = r.create("div", "mapboxgl-canvas-container", t);
                        this._interactive && e.classList.add("mapboxgl-interactive"), this._canvas = r.create("canvas", "mapboxgl-canvas", e), this._canvas.addEventListener("webglcontextlost", this._contextLost, !1), this._canvas.addEventListener("webglcontextrestored", this._contextRestored, !1), this._canvas.setAttribute("tabindex", "0"), this._canvas.setAttribute("aria-label", "Map");
                        var n = this._containerDimensions();
                        this._resizeCanvas(n[0], n[1]);
                        var i = this._controlContainer = r.create("div", "mapboxgl-control-container", t),
                            o = this._controlPositions = {};
                        ["top-left", "top-right", "bottom-left", "bottom-right"].forEach((function(t) {
                            o[t] = r.create("div", "mapboxgl-ctrl-" + t, i)
                        }))
                    }, i.prototype._resizeCanvas = function(e, r) {
                        var n = t.browser.devicePixelRatio || 1;
                        this._canvas.width = n * e, this._canvas.height = n * r, this._canvas.style.width = e + "px", this._canvas.style.height = r + "px"
                    }, i.prototype._setupPainter = function() {
                        var r = t.extend({}, e.webGLContextAttributes, {
                                failIfMajorPerformanceCaveat: this._failIfMajorPerformanceCaveat,
                                preserveDrawingBuffer: this._preserveDrawingBuffer,
                                antialias: this._antialias || !1
                            }),
                            n = this._canvas.getContext("webgl", r) || this._canvas.getContext("experimental-webgl", r);
                        n ? (this.painter = new _n(n, this.transform), t.webpSupported.testSupport(n)) : this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))
                    }, i.prototype._contextLost = function(e) {
                        e.preventDefault(), this._frame && (this._frame.cancel(), this._frame = null), this.fire(new t.Event("webglcontextlost", {
                            originalEvent: e
                        }))
                    }, i.prototype._contextRestored = function(e) {
                        this._setupPainter(), this.resize(), this._update(), this.fire(new t.Event("webglcontextrestored", {
                            originalEvent: e
                        }))
                    }, i.prototype.loaded = function() {
                        return !this._styleDirty && !this._sourcesDirty && !!this.style && this.style.loaded()
                    }, i.prototype._update = function(t) {
                        return this.style ? (this._styleDirty = this._styleDirty || t, this._sourcesDirty = !0, this.triggerRepaint(), this) : this
                    }, i.prototype._requestRenderFrame = function(t) {
                        return this._update(), this._renderTaskQueue.add(t)
                    }, i.prototype._cancelRenderFrame = function(t) {
                        this._renderTaskQueue.remove(t)
                    }, i.prototype._render = function(e) {
                        var r, n = this,
                            i = 0,
                            o = this.painter.context.extTimerQuery;
                        if (this.listens("gpu-timing-frame") && (r = o.createQueryEXT(), o.beginQueryEXT(o.TIME_ELAPSED_EXT, r), i = t.browser.now()), this.painter.context.setDirty(), this.painter.setBaseState(), this._renderTaskQueue.run(e), !this._removed) {
                            var a = !1;
                            if (this.style && this._styleDirty) {
                                this._styleDirty = !1;
                                var s = this.transform.zoom,
                                    u = t.browser.now();
                                this.style.zoomHistory.update(s, u);
                                var l = new t.EvaluationParameters(s, {
                                        now: u,
                                        fadeDuration: this._fadeDuration,
                                        zoomHistory: this.style.zoomHistory,
                                        transition: this.style.getTransition()
                                    }),
                                    c = l.crossFadingFactor();
                                1 === c && c === this._crossFadingFactor || (a = !0, this._crossFadingFactor = c), this.style.update(l)
                            }
                            if (this.style && this._sourcesDirty && (this._sourcesDirty = !1, this.style._updateSources(this.transform)), this._placementDirty = this.style && this.style._updatePlacement(this.painter.transform, this.showCollisionBoxes, this._fadeDuration, this._crossSourceCollisions), this.painter.render(this.style, {
                                    showTileBoundaries: this.showTileBoundaries,
                                    showOverdrawInspector: this._showOverdrawInspector,
                                    rotating: this.isRotating(),
                                    zooming: this.isZooming(),
                                    moving: this.isMoving(),
                                    fadeDuration: this._fadeDuration,
                                    showPadding: this.showPadding,
                                    gpuTiming: !!this.listens("gpu-timing-layer")
                                }), this.fire(new t.Event("render")), this.loaded() && !this._loaded && (this._loaded = !0, this.fire(new t.Event("load"))), this.style && (this.style.hasTransitions() || a) && (this._styleDirty = !0), this.style && !this._placementDirty && this.style._releaseSymbolFadeTiles(), this.listens("gpu-timing-frame")) {
                                var p = t.browser.now() - i;
                                o.endQueryEXT(o.TIME_ELAPSED_EXT, r), setTimeout((function() {
                                    var e = o.getQueryObjectEXT(r, o.QUERY_RESULT_EXT) / 1e6;
                                    o.deleteQueryEXT(r), n.fire(new t.Event("gpu-timing-frame", {
                                        cpuTime: p,
                                        gpuTime: e
                                    }))
                                }), 50)
                            }
                            if (this.listens("gpu-timing-layer")) {
                                var h = this.painter.collectGpuTimers();
                                setTimeout((function() {
                                    var e = n.painter.queryGpuTimers(h);
                                    n.fire(new t.Event("gpu-timing-layer", {
                                        layerTimes: e
                                    }))
                                }), 50)
                            }
                            var f = this._sourcesDirty || this._styleDirty || this._placementDirty;
                            return f || this._repaint ? this.triggerRepaint() : !this.isMoving() && this.loaded() && this.fire(new t.Event("idle")), !this._loaded || this._fullyLoaded || f || (this._fullyLoaded = !0), this
                        }
                    }, i.prototype.remove = function() {
                        this._hash && this._hash.remove();
                        for (var e = 0, r = this._controls; e < r.length; e += 1) r[e].onRemove(this);
                        this._controls = [], this._frame && (this._frame.cancel(), this._frame = null), this._renderTaskQueue.clear(), this.painter.destroy(), this.handlers.destroy(), delete this.handlers, this.setStyle(null), void 0 !== t.window && (t.window.removeEventListener("resize", this._onWindowResize, !1), t.window.removeEventListener("online", this._onWindowOnline, !1));
                        var n = this.painter.context.gl.getExtension("WEBGL_lose_context");
                        n && n.loseContext(), Ii(this._canvasContainer), Ii(this._controlContainer), Ii(this._missingCSSCanary), this._container.classList.remove("mapboxgl-map"), this._removed = !0, this.fire(new t.Event("remove"))
                    }, i.prototype.triggerRepaint = function() {
                        var e = this;
                        this.style && !this._frame && (this._frame = t.browser.frame((function(t) {
                            e._frame = null, e._render(t)
                        })))
                    }, i.prototype._onWindowOnline = function() {
                        this._update()
                    }, i.prototype._onWindowResize = function(t) {
                        this._trackResize && this.resize({
                            originalEvent: t
                        })._update()
                    }, o.showTileBoundaries.get = function() {
                        return !!this._showTileBoundaries
                    }, o.showTileBoundaries.set = function(t) {
                        this._showTileBoundaries !== t && (this._showTileBoundaries = t, this._update())
                    }, o.showPadding.get = function() {
                        return !!this._showPadding
                    }, o.showPadding.set = function(t) {
                        this._showPadding !== t && (this._showPadding = t, this._update())
                    }, o.showCollisionBoxes.get = function() {
                        return !!this._showCollisionBoxes
                    }, o.showCollisionBoxes.set = function(t) {
                        this._showCollisionBoxes !== t && (this._showCollisionBoxes = t, t ? this.style._generateCollisionBoxes() : this._update())
                    }, o.showOverdrawInspector.get = function() {
                        return !!this._showOverdrawInspector
                    }, o.showOverdrawInspector.set = function(t) {
                        this._showOverdrawInspector !== t && (this._showOverdrawInspector = t, this._update())
                    }, o.repaint.get = function() {
                        return !!this._repaint
                    }, o.repaint.set = function(t) {
                        this._repaint !== t && (this._repaint = t, this.triggerRepaint())
                    }, o.vertices.get = function() {
                        return !!this._vertices
                    }, o.vertices.set = function(t) {
                        this._vertices = t, this._update()
                    }, i.prototype._setCacheLimits = function(e, r) {
                        t.setCacheLimits(e, r)
                    }, o.version.get = function() {
                        return t.version
                    }, Object.defineProperties(i.prototype, o), i
                }(gi);

            function Ii(t) {
                t.parentNode && t.parentNode.removeChild(t)
            }
            var ki = {
                    showCompass: !0,
                    showZoom: !0,
                    visualizePitch: !1
                },
                Pi = function(e) {
                    var n = this;
                    this.options = t.extend({}, ki, e), this._container = r.create("div", "mapboxgl-ctrl mapboxgl-ctrl-group"), this._container.addEventListener("contextmenu", (function(t) {
                        return t.preventDefault()
                    })), this.options.showZoom && (t.bindAll(["_setButtonTitle", "_updateZoomButtons"], this), this._zoomInButton = this._createButton("mapboxgl-ctrl-zoom-in", (function(t) {
                        return n._map.zoomIn({}, {
                            originalEvent: t
                        })
                    })), r.create("span", "mapboxgl-ctrl-icon", this._zoomInButton).setAttribute("aria-hidden", !0), this._zoomOutButton = this._createButton("mapboxgl-ctrl-zoom-out", (function(t) {
                        return n._map.zoomOut({}, {
                            originalEvent: t
                        })
                    })), r.create("span", "mapboxgl-ctrl-icon", this._zoomOutButton).setAttribute("aria-hidden", !0)), this.options.showCompass && (t.bindAll(["_rotateCompassArrow"], this), this._compass = this._createButton("mapboxgl-ctrl-compass", (function(t) {
                        n.options.visualizePitch ? n._map.resetNorthPitch({}, {
                            originalEvent: t
                        }) : n._map.resetNorth({}, {
                            originalEvent: t
                        })
                    })), this._compassIcon = r.create("span", "mapboxgl-ctrl-icon", this._compass), this._compassIcon.setAttribute("aria-hidden", !0))
                };
            Pi.prototype._updateZoomButtons = function() {
                var t = this._map.getZoom();
                this._zoomInButton.disabled = t === this._map.getMaxZoom(), this._zoomOutButton.disabled = t === this._map.getMinZoom()
            }, Pi.prototype._rotateCompassArrow = function() {
                var t = this.options.visualizePitch ? "scale(" + 1 / Math.pow(Math.cos(this._map.transform.pitch * (Math.PI / 180)), .5) + ") rotateX(" + this._map.transform.pitch + "deg) rotateZ(" + this._map.transform.angle * (180 / Math.PI) + "deg)" : "rotate(" + this._map.transform.angle * (180 / Math.PI) + "deg)";
                this._compassIcon.style.transform = t
            }, Pi.prototype.onAdd = function(t) {
                return this._map = t, this.options.showZoom && (this._setButtonTitle(this._zoomInButton, "ZoomIn"), this._setButtonTitle(this._zoomOutButton, "ZoomOut"), this._map.on("zoom", this._updateZoomButtons), this._updateZoomButtons()), this.options.showCompass && (this._setButtonTitle(this._compass, "ResetBearing"), this.options.visualizePitch && this._map.on("pitch", this._rotateCompassArrow), this._map.on("rotate", this._rotateCompassArrow), this._rotateCompassArrow(), this._handler = new zi(this._map, this._compass, this.options.visualizePitch)), this._container
            }, Pi.prototype.onRemove = function() {
                r.remove(this._container), this.options.showZoom && this._map.off("zoom", this._updateZoomButtons), this.options.showCompass && (this.options.visualizePitch && this._map.off("pitch", this._rotateCompassArrow), this._map.off("rotate", this._rotateCompassArrow), this._handler.off(), delete this._handler), delete this._map
            }, Pi.prototype._createButton = function(t, e) {
                var n = r.create("button", t, this._container);
                return n.type = "button", n.addEventListener("click", e), n
            }, Pi.prototype._setButtonTitle = function(t, e) {
                var r = this._map._getUIString("NavigationControl." + e);
                t.title = r, t.setAttribute("aria-label", r)
            };
            var zi = function(e, n, i) {
                void 0 === i && (i = !1), this._clickTolerance = 10, this.element = n, this.mouseRotate = new Hn({
                    clickTolerance: e.dragRotate._mouseRotate._clickTolerance
                }), this.map = e, i && (this.mousePitch = new Wn({
                    clickTolerance: e.dragRotate._mousePitch._clickTolerance
                })), t.bindAll(["mousedown", "mousemove", "mouseup", "touchstart", "touchmove", "touchend", "reset"], this), r.addEventListener(n, "mousedown", this.mousedown), r.addEventListener(n, "touchstart", this.touchstart, {
                    passive: !1
                }), r.addEventListener(n, "touchmove", this.touchmove), r.addEventListener(n, "touchend", this.touchend), r.addEventListener(n, "touchcancel", this.reset)
            };

            function Mi(e, r, n) {
                if (e = new t.LngLat(e.lng, e.lat), r) {
                    var i = new t.LngLat(e.lng - 360, e.lat),
                        o = new t.LngLat(e.lng + 360, e.lat),
                        a = n.locationPoint(e).distSqr(r);
                    n.locationPoint(i).distSqr(r) < a ? e = i : n.locationPoint(o).distSqr(r) < a && (e = o)
                }
                for (; Math.abs(e.lng - n.center.lng) > 180;) {
                    var s = n.locationPoint(e);
                    if (s.x >= 0 && s.y >= 0 && s.x <= n.width && s.y <= n.height) break;
                    e.lng > n.center.lng ? e.lng -= 360 : e.lng += 360
                }
                return e
            }
            zi.prototype.down = function(t, e) {
                this.mouseRotate.mousedown(t, e), this.mousePitch && this.mousePitch.mousedown(t, e), r.disableDrag()
            }, zi.prototype.move = function(t, e) {
                var r = this.map,
                    n = this.mouseRotate.mousemoveWindow(t, e);
                if (n && n.bearingDelta && r.setBearing(r.getBearing() + n.bearingDelta), this.mousePitch) {
                    var i = this.mousePitch.mousemoveWindow(t, e);
                    i && i.pitchDelta && r.setPitch(r.getPitch() + i.pitchDelta)
                }
            }, zi.prototype.off = function() {
                var t = this.element;
                r.removeEventListener(t, "mousedown", this.mousedown), r.removeEventListener(t, "touchstart", this.touchstart, {
                    passive: !1
                }), r.removeEventListener(t, "touchmove", this.touchmove), r.removeEventListener(t, "touchend", this.touchend), r.removeEventListener(t, "touchcancel", this.reset), this.offTemp()
            }, zi.prototype.offTemp = function() {
                r.enableDrag(), r.removeEventListener(t.window, "mousemove", this.mousemove), r.removeEventListener(t.window, "mouseup", this.mouseup)
            }, zi.prototype.mousedown = function(e) {
                this.down(t.extend({}, e, {
                    ctrlKey: !0,
                    preventDefault: function() {
                        return e.preventDefault()
                    }
                }), r.mousePos(this.element, e)), r.addEventListener(t.window, "mousemove", this.mousemove), r.addEventListener(t.window, "mouseup", this.mouseup)
            }, zi.prototype.mousemove = function(t) {
                this.move(t, r.mousePos(this.element, t))
            }, zi.prototype.mouseup = function(t) {
                this.mouseRotate.mouseupWindow(t), this.mousePitch && this.mousePitch.mouseupWindow(t), this.offTemp()
            }, zi.prototype.touchstart = function(t) {
                1 !== t.targetTouches.length ? this.reset() : (this._startPos = this._lastPos = r.touchPos(this.element, t.targetTouches)[0], this.down({
                    type: "mousedown",
                    button: 0,
                    ctrlKey: !0,
                    preventDefault: function() {
                        return t.preventDefault()
                    }
                }, this._startPos))
            }, zi.prototype.touchmove = function(t) {
                1 !== t.targetTouches.length ? this.reset() : (this._lastPos = r.touchPos(this.element, t.targetTouches)[0], this.move({
                    preventDefault: function() {
                        return t.preventDefault()
                    }
                }, this._lastPos))
            }, zi.prototype.touchend = function(t) {
                0 === t.targetTouches.length && this._startPos && this._lastPos && this._startPos.dist(this._lastPos) < this._clickTolerance && this.element.click(), this.reset()
            }, zi.prototype.reset = function() {
                this.mouseRotate.reset(), this.mousePitch && this.mousePitch.reset(), delete this._startPos, delete this._lastPos, this.offTemp()
            };
            var Di = {
                center: "translate(-50%,-50%)",
                top: "translate(-50%,0)",
                "top-left": "translate(0,0)",
                "top-right": "translate(-100%,0)",
                bottom: "translate(-50%,-100%)",
                "bottom-left": "translate(0,-100%)",
                "bottom-right": "translate(-100%,-100%)",
                left: "translate(0,-50%)",
                right: "translate(-100%,-50%)"
            };

            function Li(t, e, r) {
                var n = t.classList;
                for (var i in Di) n.remove("mapboxgl-" + r + "-anchor-" + i);
                n.add("mapboxgl-" + r + "-anchor-" + e)
            }
            var Oi, Ri = function(e) {
                    function n(n, i) {
                        var o = this;
                        if (e.call(this), (n instanceof t.window.HTMLElement || i) && (n = t.extend({
                                element: n
                            }, i)), t.bindAll(["_update", "_onMove", "_onUp", "_addDragHandler", "_onMapClick", "_onKeyPress"], this), this._anchor = n && n.anchor || "center", this._color = n && n.color || "#3FB1CE", this._scale = n && n.scale || 1, this._draggable = n && n.draggable || !1, this._state = "inactive", this._rotation = n && n.rotation || 0, this._rotationAlignment = n && n.rotationAlignment || "auto", this._pitchAlignment = n && n.pitchAlignment && "auto" !== n.pitchAlignment ? n.pitchAlignment : this._rotationAlignment, n && n.element) this._element = n.element, this._offset = t.Point.convert(n && n.offset || [0, 0]);
                        else {
                            this._defaultMarker = !0, this._element = r.create("div"), this._element.setAttribute("aria-label", "Map marker");
                            var a = r.createNS("http://www.w3.org/2000/svg", "svg");
                            a.setAttributeNS(null, "display", "block"), a.setAttributeNS(null, "height", "41px"), a.setAttributeNS(null, "width", "27px"), a.setAttributeNS(null, "viewBox", "0 0 27 41");
                            var s = r.createNS("http://www.w3.org/2000/svg", "g");
                            s.setAttributeNS(null, "stroke", "none"), s.setAttributeNS(null, "stroke-width", "1"), s.setAttributeNS(null, "fill", "none"), s.setAttributeNS(null, "fill-rule", "evenodd");
                            var u = r.createNS("http://www.w3.org/2000/svg", "g");
                            u.setAttributeNS(null, "fill-rule", "nonzero");
                            var l = r.createNS("http://www.w3.org/2000/svg", "g");
                            l.setAttributeNS(null, "transform", "translate(3.0, 29.0)"), l.setAttributeNS(null, "fill", "#000000");
                            for (var c = 0, p = [{
                                    rx: "10.5",
                                    ry: "5.25002273"
                                }, {
                                    rx: "10.5",
                                    ry: "5.25002273"
                                }, {
                                    rx: "9.5",
                                    ry: "4.77275007"
                                }, {
                                    rx: "8.5",
                                    ry: "4.29549936"
                                }, {
                                    rx: "7.5",
                                    ry: "3.81822308"
                                }, {
                                    rx: "6.5",
                                    ry: "3.34094679"
                                }, {
                                    rx: "5.5",
                                    ry: "2.86367051"
                                }, {
                                    rx: "4.5",
                                    ry: "2.38636864"
                                }]; c < p.length; c += 1) {
                                var h = p[c],
                                    f = r.createNS("http://www.w3.org/2000/svg", "ellipse");
                                f.setAttributeNS(null, "opacity", "0.04"), f.setAttributeNS(null, "cx", "10.5"), f.setAttributeNS(null, "cy", "5.80029008"), f.setAttributeNS(null, "rx", h.rx), f.setAttributeNS(null, "ry", h.ry), l.appendChild(f)
                            }
                            var d = r.createNS("http://www.w3.org/2000/svg", "g");
                            d.setAttributeNS(null, "fill", this._color);
                            var m = r.createNS("http://www.w3.org/2000/svg", "path");
                            m.setAttributeNS(null, "d", "M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"), d.appendChild(m);
                            var y = r.createNS("http://www.w3.org/2000/svg", "g");
                            y.setAttributeNS(null, "opacity", "0.25"), y.setAttributeNS(null, "fill", "#000000");
                            var v = r.createNS("http://www.w3.org/2000/svg", "path");
                            v.setAttributeNS(null, "d", "M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"), y.appendChild(v);
                            var g = r.createNS("http://www.w3.org/2000/svg", "g");
                            g.setAttributeNS(null, "transform", "translate(6.0, 7.0)"), g.setAttributeNS(null, "fill", "#FFFFFF");
                            var _ = r.createNS("http://www.w3.org/2000/svg", "g");
                            _.setAttributeNS(null, "transform", "translate(8.0, 8.0)");
                            var x = r.createNS("http://www.w3.org/2000/svg", "circle");
                            x.setAttributeNS(null, "fill", "#000000"), x.setAttributeNS(null, "opacity", "0.25"), x.setAttributeNS(null, "cx", "5.5"), x.setAttributeNS(null, "cy", "5.5"), x.setAttributeNS(null, "r", "5.4999962");
                            var b = r.createNS("http://www.w3.org/2000/svg", "circle");
                            b.setAttributeNS(null, "fill", "#FFFFFF"), b.setAttributeNS(null, "cx", "5.5"), b.setAttributeNS(null, "cy", "5.5"), b.setAttributeNS(null, "r", "5.4999962"), _.appendChild(x), _.appendChild(b), u.appendChild(l), u.appendChild(d), u.appendChild(y), u.appendChild(g), u.appendChild(_), a.appendChild(u), a.setAttributeNS(null, "height", 41 * this._scale + "px"), a.setAttributeNS(null, "width", 27 * this._scale + "px"), this._element.appendChild(a), this._offset = t.Point.convert(n && n.offset || [0, -14])
                        }
                        this._element.classList.add("mapboxgl-marker"), this._element.addEventListener("dragstart", (function(t) {
                            t.preventDefault()
                        })), this._element.addEventListener("mousedown", (function(t) {
                            t.preventDefault()
                        })), this._element.addEventListener("focus", (function() {
                            var t = o._map.getContainer();
                            t.scrollTop = 0, t.scrollLeft = 0
                        })), Li(this._element, this._anchor, "marker"), this._popup = null
                    }
                    return e && (n.__proto__ = e), (n.prototype = Object.create(e && e.prototype)).constructor = n, n.prototype.addTo = function(t) {
                        return this.remove(), this._map = t, t.getCanvasContainer().appendChild(this._element), t.on("move", this._update), t.on("moveend", this._update), this.setDraggable(this._draggable), this._update(), this._map.on("click", this._onMapClick), this
                    }, n.prototype.remove = function() {
                        return this._map && (this._map.off("click", this._onMapClick), this._map.off("move", this._update), this._map.off("moveend", this._update), this._map.off("mousedown", this._addDragHandler), this._map.off("touchstart", this._addDragHandler), this._map.off("mouseup", this._onUp), this._map.off("touchend", this._onUp), this._map.off("mousemove", this._onMove), this._map.off("touchmove", this._onMove), delete this._map), r.remove(this._element), this._popup && this._popup.remove(), this
                    }, n.prototype.getLngLat = function() {
                        return this._lngLat
                    }, n.prototype.setLngLat = function(e) {
                        return this._lngLat = t.LngLat.convert(e), this._pos = null, this._popup && this._popup.setLngLat(this._lngLat), this._update(), this
                    }, n.prototype.getElement = function() {
                        return this._element
                    }, n.prototype.setPopup = function(t) {
                        if (this._popup && (this._popup.remove(), this._popup = null, this._element.removeEventListener("keypress", this._onKeyPress), this._originalTabIndex || this._element.removeAttribute("tabindex")), t) {
                            if (!("offset" in t.options)) {
                                var e = Math.sqrt(Math.pow(13.5, 2) / 2);
                                t.options.offset = this._defaultMarker ? {
                                    top: [0, 0],
                                    "top-left": [0, 0],
                                    "top-right": [0, 0],
                                    bottom: [0, -38.1],
                                    "bottom-left": [e, -1 * (24.6 + e)],
                                    "bottom-right": [-e, -1 * (24.6 + e)],
                                    left: [13.5, -24.6],
                                    right: [-13.5, -24.6]
                                } : this._offset
                            }
                            this._popup = t, this._lngLat && this._popup.setLngLat(this._lngLat), this._originalTabIndex = this._element.getAttribute("tabindex"), this._originalTabIndex || this._element.setAttribute("tabindex", "0"), this._element.addEventListener("keypress", this._onKeyPress)
                        }
                        return this
                    }, n.prototype._onKeyPress = function(t) {
                        var e = t.code,
                            r = t.charCode || t.keyCode;
                        "Space" !== e && "Enter" !== e && 32 !== r && 13 !== r || this.togglePopup()
                    }, n.prototype._onMapClick = function(t) {
                        var e = t.originalEvent.target,
                            r = this._element;
                        this._popup && (e === r || r.contains(e)) && this.togglePopup()
                    }, n.prototype.getPopup = function() {
                        return this._popup
                    }, n.prototype.togglePopup = function() {
                        var t = this._popup;
                        return t ? (t.isOpen() ? t.remove() : t.addTo(this._map), this) : this
                    }, n.prototype._update = function(t) {
                        if (this._map) {
                            this._map.transform.renderWorldCopies && (this._lngLat = Mi(this._lngLat, this._pos, this._map.transform)), this._pos = this._map.project(this._lngLat)._add(this._offset);
                            var e = "";
                            "viewport" === this._rotationAlignment || "auto" === this._rotationAlignment ? e = "rotateZ(" + this._rotation + "deg)" : "map" === this._rotationAlignment && (e = "rotateZ(" + (this._rotation - this._map.getBearing()) + "deg)");
                            var n = "";
                            "viewport" === this._pitchAlignment || "auto" === this._pitchAlignment ? n = "rotateX(0deg)" : "map" === this._pitchAlignment && (n = "rotateX(" + this._map.getPitch() + "deg)"), t && "moveend" !== t.type || (this._pos = this._pos.round()), r.setTransform(this._element, Di[this._anchor] + " translate(" + this._pos.x + "px, " + this._pos.y + "px) " + n + " " + e)
                        }
                    }, n.prototype.getOffset = function() {
                        return this._offset
                    }, n.prototype.setOffset = function(e) {
                        return this._offset = t.Point.convert(e), this._update(), this
                    }, n.prototype._onMove = function(e) {
                        this._pos = e.point.sub(this._positionDelta), this._lngLat = this._map.unproject(this._pos), this.setLngLat(this._lngLat), this._element.style.pointerEvents = "none", "pending" === this._state && (this._state = "active", this.fire(new t.Event("dragstart"))), this.fire(new t.Event("drag"))
                    }, n.prototype._onUp = function() {
                        this._element.style.pointerEvents = "auto", this._positionDelta = null, this._map.off("mousemove", this._onMove), this._map.off("touchmove", this._onMove), "active" === this._state && this.fire(new t.Event("dragend")), this._state = "inactive"
                    }, n.prototype._addDragHandler = function(t) {
                        this._element.contains(t.originalEvent.target) && (t.preventDefault(), this._positionDelta = t.point.sub(this._pos).add(this._offset), this._state = "pending", this._map.on("mousemove", this._onMove), this._map.on("touchmove", this._onMove), this._map.once("mouseup", this._onUp), this._map.once("touchend", this._onUp))
                    }, n.prototype.setDraggable = function(t) {
                        return this._draggable = !!t, this._map && (t ? (this._map.on("mousedown", this._addDragHandler), this._map.on("touchstart", this._addDragHandler)) : (this._map.off("mousedown", this._addDragHandler), this._map.off("touchstart", this._addDragHandler))), this
                    }, n.prototype.isDraggable = function() {
                        return this._draggable
                    }, n.prototype.setRotation = function(t) {
                        return this._rotation = t || 0, this._update(), this
                    }, n.prototype.getRotation = function() {
                        return this._rotation
                    }, n.prototype.setRotationAlignment = function(t) {
                        return this._rotationAlignment = t || "auto", this._update(), this
                    }, n.prototype.getRotationAlignment = function() {
                        return this._rotationAlignment
                    }, n.prototype.setPitchAlignment = function(t) {
                        return this._pitchAlignment = t && "auto" !== t ? t : this._rotationAlignment, this._update(), this
                    }, n.prototype.getPitchAlignment = function() {
                        return this._pitchAlignment
                    }, n
                }(t.Evented),
                Bi = {
                    positionOptions: {
                        enableHighAccuracy: !1,
                        maximumAge: 0,
                        timeout: 6e3
                    },
                    fitBoundsOptions: {
                        maxZoom: 15
                    },
                    trackUserLocation: !1,
                    showAccuracyCircle: !0,
                    showUserLocation: !0
                },
                Fi = 0,
                Ni = !1,
                Ui = function(e) {
                    function n(r) {
                        e.call(this), this.options = t.extend({}, Bi, r), t.bindAll(["_onSuccess", "_onError", "_onZoom", "_finish", "_setupUI", "_updateCamera", "_updateMarker"], this)
                    }
                    return e && (n.__proto__ = e), (n.prototype = Object.create(e && e.prototype)).constructor = n, n.prototype.onAdd = function(e) {
                        var n;
                        return this._map = e, this._container = r.create("div", "mapboxgl-ctrl mapboxgl-ctrl-group"), n = this._setupUI, void 0 !== Oi ? n(Oi) : void 0 !== t.window.navigator.permissions ? t.window.navigator.permissions.query({
                            name: "geolocation"
                        }).then((function(t) {
                            n(Oi = "denied" !== t.state)
                        })) : n(Oi = !!t.window.navigator.geolocation), this._container
                    }, n.prototype.onRemove = function() {
                        void 0 !== this._geolocationWatchID && (t.window.navigator.geolocation.clearWatch(this._geolocationWatchID), this._geolocationWatchID = void 0), this.options.showUserLocation && this._userLocationDotMarker && this._userLocationDotMarker.remove(), this.options.showAccuracyCircle && this._accuracyCircleMarker && this._accuracyCircleMarker.remove(), r.remove(this._container), this._map.off("zoom", this._onZoom), this._map = void 0, Fi = 0, Ni = !1
                    }, n.prototype._isOutOfMapMaxBounds = function(t) {
                        var e = this._map.getMaxBounds(),
                            r = t.coords;
                        return e && (r.longitude < e.getWest() || r.longitude > e.getEast() || r.latitude < e.getSouth() || r.latitude > e.getNorth())
                    }, n.prototype._setErrorState = function() {
                        switch (this._watchState) {
                            case "WAITING_ACTIVE":
                                this._watchState = "ACTIVE_ERROR", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");
                                break;
                            case "ACTIVE_LOCK":
                                this._watchState = "ACTIVE_ERROR", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");
                                break;
                            case "BACKGROUND":
                                this._watchState = "BACKGROUND_ERROR", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")
                        }
                    }, n.prototype._onSuccess = function(e) {
                        if (this._map) {
                            if (this._isOutOfMapMaxBounds(e)) return this._setErrorState(), this.fire(new t.Event("outofmaxbounds", e)), this._updateMarker(), void this._finish();
                            if (this.options.trackUserLocation) switch (this._lastKnownPosition = e, this._watchState) {
                                case "WAITING_ACTIVE":
                                case "ACTIVE_LOCK":
                                case "ACTIVE_ERROR":
                                    this._watchState = "ACTIVE_LOCK", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");
                                    break;
                                case "BACKGROUND":
                                case "BACKGROUND_ERROR":
                                    this._watchState = "BACKGROUND", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")
                            }
                            this.options.showUserLocation && "OFF" !== this._watchState && this._updateMarker(e), this.options.trackUserLocation && "ACTIVE_LOCK" !== this._watchState || this._updateCamera(e), this.options.showUserLocation && this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"), this.fire(new t.Event("geolocate", e)), this._finish()
                        }
                    }, n.prototype._updateCamera = function(e) {
                        var r = new t.LngLat(e.coords.longitude, e.coords.latitude),
                            n = e.coords.accuracy,
                            i = this._map.getBearing(),
                            o = t.extend({
                                bearing: i
                            }, this.options.fitBoundsOptions);
                        this._map.fitBounds(r.toBounds(n), o, {
                            geolocateSource: !0
                        })
                    }, n.prototype._updateMarker = function(e) {
                        if (e) {
                            var r = new t.LngLat(e.coords.longitude, e.coords.latitude);
                            this._accuracyCircleMarker.setLngLat(r).addTo(this._map), this._userLocationDotMarker.setLngLat(r).addTo(this._map), this._accuracy = e.coords.accuracy, this.options.showUserLocation && this.options.showAccuracyCircle && this._updateCircleRadius()
                        } else this._userLocationDotMarker.remove(), this._accuracyCircleMarker.remove()
                    }, n.prototype._updateCircleRadius = function() {
                        var t = this._map._container.clientHeight / 2,
                            e = this._map.unproject([0, t]),
                            r = this._map.unproject([1, t]),
                            n = e.distanceTo(r),
                            i = Math.ceil(2 * this._accuracy / n);
                        this._circleElement.style.width = i + "px", this._circleElement.style.height = i + "px"
                    }, n.prototype._onZoom = function() {
                        this.options.showUserLocation && this.options.showAccuracyCircle && this._updateCircleRadius()
                    }, n.prototype._onError = function(e) {
                        if (this._map) {
                            if (this.options.trackUserLocation)
                                if (1 === e.code) {
                                    this._watchState = "OFF", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.disabled = !0;
                                    var r = this._map._getUIString("GeolocateControl.LocationNotAvailable");
                                    this._geolocateButton.title = r, this._geolocateButton.setAttribute("aria-label", r), void 0 !== this._geolocationWatchID && this._clearWatch()
                                } else {
                                    if (3 === e.code && Ni) return;
                                    this._setErrorState()
                                }
                            "OFF" !== this._watchState && this.options.showUserLocation && this._dotElement.classList.add("mapboxgl-user-location-dot-stale"), this.fire(new t.Event("error", e)), this._finish()
                        }
                    }, n.prototype._finish = function() {
                        this._timeoutId && clearTimeout(this._timeoutId), this._timeoutId = void 0
                    }, n.prototype._setupUI = function(e) {
                        var n = this;
                        if (this._container.addEventListener("contextmenu", (function(t) {
                                return t.preventDefault()
                            })), this._geolocateButton = r.create("button", "mapboxgl-ctrl-geolocate", this._container), r.create("span", "mapboxgl-ctrl-icon", this._geolocateButton).setAttribute("aria-hidden", !0), this._geolocateButton.type = "button", !1 === e) {
                            t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");
                            var i = this._map._getUIString("GeolocateControl.LocationNotAvailable");
                            this._geolocateButton.disabled = !0, this._geolocateButton.title = i, this._geolocateButton.setAttribute("aria-label", i)
                        } else {
                            var o = this._map._getUIString("GeolocateControl.FindMyLocation");
                            this._geolocateButton.title = o, this._geolocateButton.setAttribute("aria-label", o)
                        }
                        this.options.trackUserLocation && (this._geolocateButton.setAttribute("aria-pressed", "false"), this._watchState = "OFF"), this.options.showUserLocation && (this._dotElement = r.create("div", "mapboxgl-user-location-dot"), this._userLocationDotMarker = new Ri(this._dotElement), this._circleElement = r.create("div", "mapboxgl-user-location-accuracy-circle"), this._accuracyCircleMarker = new Ri({
                            element: this._circleElement,
                            pitchAlignment: "map"
                        }), this.options.trackUserLocation && (this._watchState = "OFF"), this._map.on("zoom", this._onZoom)), this._geolocateButton.addEventListener("click", this.trigger.bind(this)), this._setup = !0, this.options.trackUserLocation && this._map.on("movestart", (function(e) {
                            e.geolocateSource || "ACTIVE_LOCK" !== n._watchState || e.originalEvent && "resize" === e.originalEvent.type || (n._watchState = "BACKGROUND", n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"), n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"), n.fire(new t.Event("trackuserlocationend")))
                        }))
                    }, n.prototype.trigger = function() {
                        if (!this._setup) return t.warnOnce("Geolocate control triggered before added to a map"), !1;
                        if (this.options.trackUserLocation) {
                            switch (this._watchState) {
                                case "OFF":
                                    this._watchState = "WAITING_ACTIVE", this.fire(new t.Event("trackuserlocationstart"));
                                    break;
                                case "WAITING_ACTIVE":
                                case "ACTIVE_LOCK":
                                case "ACTIVE_ERROR":
                                case "BACKGROUND_ERROR":
                                    Fi--, Ni = !1, this._watchState = "OFF", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"), this.fire(new t.Event("trackuserlocationend"));
                                    break;
                                case "BACKGROUND":
                                    this._watchState = "ACTIVE_LOCK", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"), this._lastKnownPosition && this._updateCamera(this._lastKnownPosition), this.fire(new t.Event("trackuserlocationstart"))
                            }
                            switch (this._watchState) {
                                case "WAITING_ACTIVE":
                                    this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");
                                    break;
                                case "ACTIVE_LOCK":
                                    this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");
                                    break;
                                case "ACTIVE_ERROR":
                                    this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");
                                    break;
                                case "BACKGROUND":
                                    this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");
                                    break;
                                case "BACKGROUND_ERROR":
                                    this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")
                            }
                            if ("OFF" === this._watchState && void 0 !== this._geolocationWatchID) this._clearWatch();
                            else if (void 0 === this._geolocationWatchID) {
                                var e;
                                this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.setAttribute("aria-pressed", "true"), ++Fi > 1 ? (e = {
                                    maximumAge: 6e5,
                                    timeout: 0
                                }, Ni = !0) : (e = this.options.positionOptions, Ni = !1), this._geolocationWatchID = t.window.navigator.geolocation.watchPosition(this._onSuccess, this._onError, e)
                            }
                        } else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess, this._onError, this.options.positionOptions), this._timeoutId = setTimeout(this._finish, 1e4);
                        return !0
                    }, n.prototype._clearWatch = function() {
                        t.window.navigator.geolocation.clearWatch(this._geolocationWatchID), this._geolocationWatchID = void 0, this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.setAttribute("aria-pressed", "false"), this.options.showUserLocation && this._updateMarker(null)
                    }, n
                }(t.Evented),
                ji = {
                    maxWidth: 100,
                    unit: "metric"
                },
                Vi = function(e) {
                    this.options = t.extend({}, ji, e), t.bindAll(["_onMove", "setUnit"], this)
                };

            function qi(t, e, r) {
                var n = r && r.maxWidth || 100,
                    i = t._container.clientHeight / 2,
                    o = t.unproject([0, i]),
                    a = t.unproject([n, i]),
                    s = o.distanceTo(a);
                if (r && "imperial" === r.unit) {
                    var u = 3.2808 * s;
                    u > 5280 ? Zi(e, n, u / 5280, t._getUIString("ScaleControl.Miles")) : Zi(e, n, u, t._getUIString("ScaleControl.Feet"))
                } else r && "nautical" === r.unit ? Zi(e, n, s / 1852, t._getUIString("ScaleControl.NauticalMiles")) : s >= 1e3 ? Zi(e, n, s / 1e3, t._getUIString("ScaleControl.Kilometers")) : Zi(e, n, s, t._getUIString("ScaleControl.Meters"))
            }

            function Zi(t, e, r, n) {
                var i, o, a, s = (i = r, (o = Math.pow(10, ("" + Math.floor(i)).length - 1)) * (a = (a = i / o) >= 10 ? 10 : a >= 5 ? 5 : a >= 3 ? 3 : a >= 2 ? 2 : a >= 1 ? 1 : function(t) {
                    var e = Math.pow(10, Math.ceil(-Math.log(t) / Math.LN10));
                    return Math.round(t * e) / e
                }(a)));
                t.style.width = e * (s / r) + "px", t.innerHTML = s + "&nbsp;" + n
            }
            Vi.prototype.getDefaultPosition = function() {
                return "bottom-left"
            }, Vi.prototype._onMove = function() {
                qi(this._map, this._container, this.options)
            }, Vi.prototype.onAdd = function(t) {
                return this._map = t, this._container = r.create("div", "mapboxgl-ctrl mapboxgl-ctrl-scale", t.getContainer()), this._map.on("move", this._onMove), this._onMove(), this._container
            }, Vi.prototype.onRemove = function() {
                r.remove(this._container), this._map.off("move", this._onMove), this._map = void 0
            }, Vi.prototype.setUnit = function(t) {
                this.options.unit = t, qi(this._map, this._container, this.options)
            };
            var $i = function(e) {
                this._fullscreen = !1, e && e.container && (e.container instanceof t.window.HTMLElement ? this._container = e.container : t.warnOnce("Full screen control 'container' must be a DOM element.")), t.bindAll(["_onClickFullscreen", "_changeIcon"], this), "onfullscreenchange" in t.window.document ? this._fullscreenchange = "fullscreenchange" : "onmozfullscreenchange" in t.window.document ? this._fullscreenchange = "mozfullscreenchange" : "onwebkitfullscreenchange" in t.window.document ? this._fullscreenchange = "webkitfullscreenchange" : "onmsfullscreenchange" in t.window.document && (this._fullscreenchange = "MSFullscreenChange")
            };
            $i.prototype.onAdd = function(e) {
                return this._map = e, this._container || (this._container = this._map.getContainer()), this._controlContainer = r.create("div", "mapboxgl-ctrl mapboxgl-ctrl-group"), this._checkFullscreenSupport() ? this._setupUI() : (this._controlContainer.style.display = "none", t.warnOnce("This device does not support fullscreen mode.")), this._controlContainer
            }, $i.prototype.onRemove = function() {
                r.remove(this._controlContainer), this._map = null, t.window.document.removeEventListener(this._fullscreenchange, this._changeIcon)
            }, $i.prototype._checkFullscreenSupport = function() {
                return !!(t.window.document.fullscreenEnabled || t.window.document.mozFullScreenEnabled || t.window.document.msFullscreenEnabled || t.window.document.webkitFullscreenEnabled)
            }, $i.prototype._setupUI = function() {
                var e = this._fullscreenButton = r.create("button", "mapboxgl-ctrl-fullscreen", this._controlContainer);
                r.create("span", "mapboxgl-ctrl-icon", e).setAttribute("aria-hidden", !0), e.type = "button", this._updateTitle(), this._fullscreenButton.addEventListener("click", this._onClickFullscreen), t.window.document.addEventListener(this._fullscreenchange, this._changeIcon)
            }, $i.prototype._updateTitle = function() {
                var t = this._getTitle();
                this._fullscreenButton.setAttribute("aria-label", t), this._fullscreenButton.title = t
            }, $i.prototype._getTitle = function() {
                return this._map._getUIString(this._isFullscreen() ? "FullscreenControl.Exit" : "FullscreenControl.Enter")
            }, $i.prototype._isFullscreen = function() {
                return this._fullscreen
            }, $i.prototype._changeIcon = function() {
                (t.window.document.fullscreenElement || t.window.document.mozFullScreenElement || t.window.document.webkitFullscreenElement || t.window.document.msFullscreenElement) === this._container !== this._fullscreen && (this._fullscreen = !this._fullscreen, this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"), this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"), this._updateTitle())
            }, $i.prototype._onClickFullscreen = function() {
                this._isFullscreen() ? t.window.document.exitFullscreen ? t.window.document.exitFullscreen() : t.window.document.mozCancelFullScreen ? t.window.document.mozCancelFullScreen() : t.window.document.msExitFullscreen ? t.window.document.msExitFullscreen() : t.window.document.webkitCancelFullScreen && t.window.document.webkitCancelFullScreen() : this._container.requestFullscreen ? this._container.requestFullscreen() : this._container.mozRequestFullScreen ? this._container.mozRequestFullScreen() : this._container.msRequestFullscreen ? this._container.msRequestFullscreen() : this._container.webkitRequestFullscreen && this._container.webkitRequestFullscreen()
            };
            var Gi = {
                    closeButton: !0,
                    closeOnClick: !0,
                    className: "",
                    maxWidth: "240px"
                },
                Hi = function(e) {
                    function n(r) {
                        e.call(this), this.options = t.extend(Object.create(Gi), r), t.bindAll(["_update", "_onClose", "remove", "_onMouseMove", "_onMouseUp", "_onDrag"], this)
                    }
                    return e && (n.__proto__ = e), (n.prototype = Object.create(e && e.prototype)).constructor = n, n.prototype.addTo = function(e) {
                        return this._map && this.remove(), this._map = e, this.options.closeOnClick && this._map.on("click", this._onClose), this.options.closeOnMove && this._map.on("move", this._onClose), this._map.on("remove", this.remove), this._update(), this._trackPointer ? (this._map.on("mousemove", this._onMouseMove), this._map.on("mouseup", this._onMouseUp), this._container && this._container.classList.add("mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.add("mapboxgl-track-pointer")) : this._map.on("move", this._update), this.fire(new t.Event("open")), this
                    }, n.prototype.isOpen = function() {
                        return !!this._map
                    }, n.prototype.remove = function() {
                        return this._content && r.remove(this._content), this._container && (r.remove(this._container), delete this._container), this._map && (this._map.off("move", this._update), this._map.off("move", this._onClose), this._map.off("click", this._onClose), this._map.off("remove", this.remove), this._map.off("mousemove", this._onMouseMove), this._map.off("mouseup", this._onMouseUp), this._map.off("drag", this._onDrag), delete this._map), this.fire(new t.Event("close")), this
                    }, n.prototype.getLngLat = function() {
                        return this._lngLat
                    }, n.prototype.setLngLat = function(e) {
                        return this._lngLat = t.LngLat.convert(e), this._pos = null, this._trackPointer = !1, this._update(), this._map && (this._map.on("move", this._update), this._map.off("mousemove", this._onMouseMove), this._container && this._container.classList.remove("mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")), this
                    }, n.prototype.trackPointer = function() {
                        return this._trackPointer = !0, this._pos = null, this._update(), this._map && (this._map.off("move", this._update), this._map.on("mousemove", this._onMouseMove), this._map.on("drag", this._onDrag), this._container && this._container.classList.add("mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.add("mapboxgl-track-pointer")), this
                    }, n.prototype.getElement = function() {
                        return this._container
                    }, n.prototype.setText = function(e) {
                        return this.setDOMContent(t.window.document.createTextNode(e))
                    }, n.prototype.setHTML = function(e) {
                        var r, n = t.window.document.createDocumentFragment(),
                            i = t.window.document.createElement("body");
                        for (i.innerHTML = e; r = i.firstChild;) n.appendChild(r);
                        return this.setDOMContent(n)
                    }, n.prototype.getMaxWidth = function() {
                        return this._container && this._container.style.maxWidth
                    }, n.prototype.setMaxWidth = function(t) {
                        return this.options.maxWidth = t, this._update(), this
                    }, n.prototype.setDOMContent = function(t) {
                        return this._createContent(), this._content.appendChild(t), this._update(), this
                    }, n.prototype.addClassName = function(t) {
                        this._container && this._container.classList.add(t)
                    }, n.prototype.removeClassName = function(t) {
                        this._container && this._container.classList.remove(t)
                    }, n.prototype.toggleClassName = function(t) {
                        if (this._container) return this._container.classList.toggle(t)
                    }, n.prototype._createContent = function() {
                        this._content && r.remove(this._content), this._content = r.create("div", "mapboxgl-popup-content", this._container), this.options.closeButton && (this._closeButton = r.create("button", "mapboxgl-popup-close-button", this._content), this._closeButton.type = "button", this._closeButton.setAttribute("aria-label", "Close popup"), this._closeButton.innerHTML = "&#215;", this._closeButton.addEventListener("click", this._onClose))
                    }, n.prototype._onMouseUp = function(t) {
                        this._update(t.point)
                    }, n.prototype._onMouseMove = function(t) {
                        this._update(t.point)
                    }, n.prototype._onDrag = function(t) {
                        this._update(t.point)
                    }, n.prototype._update = function(e) {
                        var n = this;
                        if (this._map && (this._lngLat || this._trackPointer) && this._content && (this._container || (this._container = r.create("div", "mapboxgl-popup", this._map.getContainer()), this._tip = r.create("div", "mapboxgl-popup-tip", this._container), this._container.appendChild(this._content), this.options.className && this.options.className.split(" ").forEach((function(t) {
                                return n._container.classList.add(t)
                            })), this._trackPointer && this._container.classList.add("mapboxgl-popup-track-pointer")), this.options.maxWidth && this._container.style.maxWidth !== this.options.maxWidth && (this._container.style.maxWidth = this.options.maxWidth), this._map.transform.renderWorldCopies && !this._trackPointer && (this._lngLat = Mi(this._lngLat, this._pos, this._map.transform)), !this._trackPointer || e)) {
                            var i = this._pos = this._trackPointer && e ? e : this._map.project(this._lngLat),
                                o = this.options.anchor,
                                a = function e(r) {
                                    if (r) {
                                        if ("number" == typeof r) {
                                            var n = Math.round(Math.sqrt(.5 * Math.pow(r, 2)));
                                            return {
                                                center: new t.Point(0, 0),
                                                top: new t.Point(0, r),
                                                "top-left": new t.Point(n, n),
                                                "top-right": new t.Point(-n, n),
                                                bottom: new t.Point(0, -r),
                                                "bottom-left": new t.Point(n, -n),
                                                "bottom-right": new t.Point(-n, -n),
                                                left: new t.Point(r, 0),
                                                right: new t.Point(-r, 0)
                                            }
                                        }
                                        if (r instanceof t.Point || Array.isArray(r)) {
                                            var i = t.Point.convert(r);
                                            return {
                                                center: i,
                                                top: i,
                                                "top-left": i,
                                                "top-right": i,
                                                bottom: i,
                                                "bottom-left": i,
                                                "bottom-right": i,
                                                left: i,
                                                right: i
                                            }
                                        }
                                        return {
                                            center: t.Point.convert(r.center || [0, 0]),
                                            top: t.Point.convert(r.top || [0, 0]),
                                            "top-left": t.Point.convert(r["top-left"] || [0, 0]),
                                            "top-right": t.Point.convert(r["top-right"] || [0, 0]),
                                            bottom: t.Point.convert(r.bottom || [0, 0]),
                                            "bottom-left": t.Point.convert(r["bottom-left"] || [0, 0]),
                                            "bottom-right": t.Point.convert(r["bottom-right"] || [0, 0]),
                                            left: t.Point.convert(r.left || [0, 0]),
                                            right: t.Point.convert(r.right || [0, 0])
                                        }
                                    }
                                    return e(new t.Point(0, 0))
                                }(this.options.offset);
                            if (!o) {
                                var s, u = this._container.offsetWidth,
                                    l = this._container.offsetHeight;
                                s = i.y + a.bottom.y < l ? ["top"] : i.y > this._map.transform.height - l ? ["bottom"] : [], i.x < u / 2 ? s.push("left") : i.x > this._map.transform.width - u / 2 && s.push("right"), o = 0 === s.length ? "bottom" : s.join("-")
                            }
                            var c = i.add(a[o]).round();
                            r.setTransform(this._container, Di[o] + " translate(" + c.x + "px," + c.y + "px)"), Li(this._container, o, "popup")
                        }
                    }, n.prototype._onClose = function() {
                        this.remove()
                    }, n
                }(t.Evented),
                Wi = {
                    version: t.version,
                    supported: e,
                    setRTLTextPlugin: t.setRTLTextPlugin,
                    getRTLTextPluginStatus: t.getRTLTextPluginStatus,
                    Map: Ci,
                    NavigationControl: Pi,
                    GeolocateControl: Ui,
                    AttributionControl: _i,
                    ScaleControl: Vi,
                    FullscreenControl: $i,
                    Popup: Hi,
                    Marker: Ri,
                    Style: qe,
                    LngLat: t.LngLat,
                    LngLatBounds: t.LngLatBounds,
                    Point: t.Point,
                    MercatorCoordinate: t.MercatorCoordinate,
                    Evented: t.Evented,
                    config: t.config,
                    prewarm: function() {
                        Ft().acquire(Lt)
                    },
                    clearPrewarmedResources: function() {
                        var t = Rt;
                        t && (t.isPreloaded() && 1 === t.numActive() ? (t.release(Lt), Rt = null) : console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))
                    },
                    get accessToken() {
                        return t.config.ACCESS_TOKEN
                    },
                    set accessToken(e) {
                        t.config.ACCESS_TOKEN = e
                    },
                    get baseApiUrl() {
                        return t.config.API_URL
                    },
                    set baseApiUrl(e) {
                        t.config.API_URL = e
                    },
                    get workerCount() {
                        return Ot.workerCount
                    },
                    set workerCount(t) {
                        Ot.workerCount = t
                    },
                    get maxParallelImageRequests() {
                        return t.config.MAX_PARALLEL_IMAGE_REQUESTS
                    },
                    set maxParallelImageRequests(e) {
                        t.config.MAX_PARALLEL_IMAGE_REQUESTS = e
                    },
                    clearStorage: function(e) {
                        t.clearTileCache(e)
                    },
                    workerUrl: ""
                };
            return Wi
        })), r
    }()
}, function(t, e, r) {
    "use strict";
    r.d(e, "d", (function() {
        return n
    })), r.d(e, "c", (function() {
        return i
    })), r.d(e, "a", (function() {
        return o
    })), r.d(e, "b", (function() {
        return a
    }));
    var n = function(t) {
            if (!t) return "Unknown location, anonymous proxy";
            var e = t,
                r = [];
            if (e.city && e.city.name && r.push(e.city.name), e.subdivisions && e.subdivisions.length > 0)
                for (var n = 0; n < e.subdivisions.length; n++) {
                    var i = e.subdivisions[n];
                    i && i.name && r.push(i.name)
                }
            e.country && e.country.name && r.push(e.country.name), e.postalCode && r.push(e.postalCode);
            var o = r.join(", ");
            return e.latitude && e.longitude && (o += " (" + e.latitude + ", " + e.longitude + ")"), "" === o && (o = "Unknown location, anonymous proxy"), o
        },
        i = function(t) {
            var e = t.browserName;
            return (t.browserVersion || t.browserFullVersion) && (e += " " + (t.browserVersion || t.browserFullVersion)), t.os && (e += " on " + t.os), t.osVersion && (e += " (" + t.osVersion + ")"), t.device && "Unknown" != t.device && "Other" != t.device && (e += ", " + t.device), e
        },
        o = function(t) {
            return t ? "YES" : "NO"
        },
        a = function(t) {
            return t < .6 ? "NO" : t < .8 ? "Probably" : "YES"
        }
}, function(t, e, r) {
    "use strict";
    r.d(e, "a", (function() {
        return n
    }));
    var n = function(t) {
            var e = ((new Date).getTime() - t.getTime()) / 1e3;
            return e < 5 ? "just now" : e < 50 ? i(e, "second") : e < 80 ? "about a minute ago" : e < 3300 ? i(e / 60, "minute") : e < 3900 ? "about one hour ago" : e < 82800 ? i(e / 60 / 60, "hour") : e < 9e4 ? "about a day ago" : e < 561600 ? i(e / 60 / 60 / 24, "day") : e < 691200 ? "about a week ago" : i(e / 60 / 60 / 24, "day")
        },
        i = function(t, e) {
            var r = Math.round(t);
            return r.toString() + " " + o(r, e) + " ago"
        },
        o = function(t, e) {
            return 1 === t ? e : e + "s"
        }
}, , , , function(t, e, r) {
    "use strict";
    r.r(e),
        function(t) {
            var e = r(1),
                n = r(2),
                i = r(7),
                o = r(8),
                a = r(9),
                s = r(6);

            window.FingerprintHack = {
                e, n, i, o, a, s
            };

            console.log('s:', s);

            /*!
             * fingerprintjs.com demo.ts
             * Copyright 2020 https://fingerprintjs.com
             */
            s.FP.load({
                client: "1IZEt20622",
                endpoint: "https://f.fingerprintjs.com",
                region: "us"
            }).then((function(r) {
                r.send({
                    ip: "full",
                    callbackData: !0,
                    timeout: 3e4
                }).then((function(r) {
                    ! function(r) {
                        var o = new u(0, r),
                            a = new n.a({
                                el: "#demo",
                                data: {
                                    currentVisit: o,
                                    visits: [],
                                    leadMode: !1,
                                    leadSubmitting: !1,
                                    lead: {}
                                },
                                methods: {
                                    showHistory: function() {
                                        return this.visits.length > 0
                                    },
                                    refresh: function() {
                                        location.reload()
                                    },
                                    emailFormSubmit: function() {
                                        this.leadMode = !0, gtag("event", "lead-submit", {
                                            event_category: "lead",
                                            event_label: "attempt"
                                        })
                                    },
                                    fullFormSubmit: function() {
                                        var r = this,
                                            n = {
                                                email: this.lead.email,
                                                website: this.lead.website,
                                                name: this.lead.email
                                            };
                                        this.leadSubmitting = !0, e.ajax({
                                            url: "https://admin.fingerprintjs.com/create-lead",
                                            type: "post",
                                            dataType: "json",
                                            contentType: "application/json",
                                            data: JSON.stringify(n)
                                        }).then((function(e) {
                                            r.leadSubmitting = !1, r.leadMode = !1, e.errors && e.errors.length > 0 ? gtag("event", "lead-submit", {
                                                event_category: "lead",
                                                event_label: "validation-fail",
                                                branch: t.env.BRANCH
                                            }) : (alert("ðŸš€Thanks, we received your request,\nwe'll get back to you soon."), r.lead = {}, gtag("event", "lead-submit", {
                                                event_category: "lead",
                                                event_label: "success",
                                                branch: t.env.BRANCH
                                            }))
                                        })).catch((function() {
                                            r.leadSubmitting = !1, r.leadMode = !1, gtag("event", "lead-submit", {
                                                event_category: "lead",
                                                event_label: "error",
                                                branch: t.env.BRANCH
                                            }), alert("ðŸ›‘\nError occurred, contact us at: support@fingerprintjs.com")
                                        }))
                                    }
                                }
                            });
                        if (r.visitorFound) {
                            var s = "https://f.fingerprintjs.com/visitors/";
                            s += r.visitorId, s += "/?token=Mvd6yiC30AsocC2G8fsY", s += "&limit=20", e.getJSON(s, (function(t) {
                                for (var e = 1; e < t.visits.length; e++) {
                                    var r = new u(e, t.visits[e]);
                                    a.visits.push(r)
                                }
                            }))
                        }
                        o.lat && o.lng && (c = (l = o).incognito ? "dark-v10" : "streets-v11", p = new i.Map({
                            container: "current-visit-map-container",
                            style: "mapbox://styles/mapbox/" + c,
                            center: [l.lng, l.lat],
                            zoom: 3
                        }), h = {
                            width: 150,
                            height: 150,
                            data: new Uint8Array(9e4),
                            onAdd: function() {
                                var t = document.createElement("canvas");
                                t.width = this.width, t.height = this.height, this.context = t.getContext("2d")
                            },
                            render: function() {
                                var t = performance.now() % 1e3 / 1e3,
                                    e = 52.5 * t + 22.5,
                                    r = this.context;
                                return r.clearRect(0, 0, this.width, this.height), r.beginPath(), r.arc(this.width / 2, this.height / 2, e, 0, 2 * Math.PI), r.fillStyle = "rgba(255, 200, 200," + (1 - t) + ")", r.fill(), r.beginPath(), r.arc(this.width / 2, this.height / 2, 22.5, 0, 2 * Math.PI), r.fillStyle = "rgba(255, 100, 100, 1)", r.strokeStyle = "white", r.lineWidth = 2 + 4 * (1 - t), r.fill(), r.stroke(), this.data = r.getImageData(0, 0, this.width, this.height).data, !0
                            }
                        }, p.on("load", (function() {
                            p.fitBounds([
                                [l.lng - 1, l.lat - 1],
                                [l.lng + 1, l.lat + 1]
                            ]), p.addImage("pulsing-dot", h, {
                                pixelRatio: 2
                            }), p.addLayer({
                                id: "points",
                                type: "symbol",
                                source: {
                                    type: "geojson",
                                    data: {
                                        type: "FeatureCollection",
                                        features: [{
                                            type: "Feature",
                                            geometry: {
                                                type: "Point",
                                                coordinates: [l.lng, l.lat]
                                            }
                                        }]
                                    }
                                },
                                layout: {
                                    "icon-image": "pulsing-dot"
                                }
                            })
                        })));
                        var l, c, p, h
                    }(r)
                })).catch((function(t) {
                    return window.console && console.log("Timeout: ", t)
                }))
            })), i.accessToken = "pk.eyJ1IjoidmFsdmUxIiwiYSI6ImNqeXUwdHlnejA5YzMzaHBnN3R4OXF1czEifQ.4-Wne3WDiafdfFGLSTkFiQ";
            var u = function() {
                function t(t, e) {
                    this.collapsed = !0, this.mapInitialized = !1, this.index = t, this.response = e, this.visitorId = e.visitorId, this.incognito = e.incognito, this.botProbability = e.botProbability, this.ip = e.ip, this.ipLocation = e.ipLocation, this.ipLocation && (this.lng = this.ipLocation.longitude, this.lat = this.ipLocation.latitude), this.browserDetails = e.browserDetails, this.time = new Date(e.time), this.visitorFound = e.visitorFound, this.mapContainerId = "map-container-" + t
                }
                return t.prototype.formattedIncognito = function() {
                    return o.a(this.incognito)
                }, t.prototype.formattedBot = function() {
                    return o.b(this.botProbability)
                }, t.prototype.formattedLocation = function() {
                    return o.d(this.ipLocation)
                }, t.prototype.formattedBrowser = function() {
                    return o.c(this.browserDetails || this.response)
                }, t.prototype.formattedTimeAgo = function() {
                    return Object(a.a)(this.time)
                }, t.prototype.formattedDateTime = function() {
                    return this.time.toLocaleDateString() + " " + this.time.toLocaleTimeString()
                }, t.prototype.onArrowClick = function() {
                    if (this.collapsed = !this.collapsed, !this.mapInitialized && this.lat && this.lng) {
                        var t = this;
                        setTimeout((function() {
                            t.initMap()
                        }), 100)
                    }
                }, t.prototype.initMap = function() {
                    var t = this.incognito ? "dark-v10" : "streets-v11",
                        e = new i.Map({
                            container: this.mapContainerId,
                            style: "mapbox://styles/mapbox/" + t,
                            center: [this.lng, this.lat],
                            zoom: 5
                        }),
                        r = document.createElement("img");
                    r.src = "img/reddot.svg", r.width = 20, r.height = 20, new i.Marker(r).setLngLat([this.lng, this.lat]).addTo(e), this.mapInitialized = !0
                }, t
            }()

            console.log('u: ', u);
        }.call(this, r(3))
}]);